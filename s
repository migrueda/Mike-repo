[33mcommit 419ec0613de58c9ab614726e35bc74d3fecd3792[m[33m ([m[1;36mHEAD -> [m[1;32mmaster[m[33m)[m
Author: Miguel Angel Rueda <migrueda@gmail.com>
Date:   Sat Jan 21 18:56:19 2023 -0600

    corrigiendo el nombre de titulo doker

[1mdiff --git a/index.html b/index.html[m
[1mindex e57e32f..e699c65 100644[m
[1m--- a/index.html[m
[1m+++ b/index.html[m
[36m@@ -7,7 +7,7 @@[m
 <body>[m
      <ul>[m
          <li> Vagrant </li>[m
[31m-         <li> Docker </li>[m
[32m+[m[32m         <li> Docker: creando containers sin dolor de cabeza </li>[m
          <li> Ansible </li>[m
          <li> Integraciokn continua </li>[m
      </ul>[m

[33mcommit df857ece6992f5343290be0f9d0009c5e5c1beac[m[33m ([m[1;32mtitulo[m[33m)[m
Author: Miguel Angel Rueda <migrueda@gmail.com>
Date:   Sat Jan 21 19:40:19 2023 -0600

    cursos con la letra mayuscula

[1mdiff --git a/index.html b/index.html[m
[1mindex 8b86897..e57e32f 100644[m
[1m--- a/index.html[m
[1m+++ b/index.html[m
[36m@@ -2,7 +2,7 @@[m
 <html lang = "en">[m
 <head>[m
      <meta charset = "UTF-8">[m
[31m-     <title> lista de cursos Devops de Alura </title>[m
[32m+[m[32m     <title> lista de Cursos Devops de Alura </title>[m
 </head>[m
 <body>[m
      <ul>[m

[33mcommit 32fe189d1d66a0f62def478c8eb787b468bc9841[m
Author: Miguel Angel Rueda <migrueda@gmail.com>
Date:   Sat Jan 21 18:33:13 2023 -0600

    cambio de titulo por lista de cursos Devops

[1mdiff --git a/index.html b/index.html[m
[1mindex 60d438f..8b86897 100644[m
[1m--- a/index.html[m
[1m+++ b/index.html[m
[36m@@ -2,7 +2,7 @@[m
 <html lang = "en">[m
 <head>[m
      <meta charset = "UTF-8">[m
[31m-     <title> Cursos de Alura </title>[m
[32m+[m[32m     <title> lista de cursos Devops de Alura </title>[m
 </head>[m
 <body>[m
      <ul>[m

[33mcommit 25f35cf47d75ee0d1c28453ff69e987fd47e7240[m
Author: Miguel Angel Rueda <migrueda@gmail.com>
Date:   Sat Jan 21 18:30:29 2023 -0600

    Modificando el titulo

[1mdiff --git a/index.html b/index.html[m
[1mindex fd533f2..60d438f 100644[m
[1m--- a/index.html[m
[1m+++ b/index.html[m
[36m@@ -9,7 +9,7 @@[m
          <li> Vagrant </li>[m
          <li> Docker </li>[m
          <li> Ansible </li>[m
[31m-         <li> Integracion continua </li>[m
[32m+[m[32m         <li> Integraciokn continua </li>[m
      </ul>[m
 </body>[m
 </html>[m
\ No newline at end of file[m

[33mcommit e01ea3935fd9d22352fdad3e0c7709bfa9586508[m[33m ([m[1;31morigin/master[m[33m)[m
Author: Miguel <migrueda@gmail.com>
Date:   Wed Jan 18 22:19:58 2023 -0600

    cambio de acento

[1mdiff --git a/index.html b/index.html[m
[1mindex 0993728..fd533f2 100644[m
[1m--- a/index.html[m
[1m+++ b/index.html[m
[36m@@ -9,7 +9,7 @@[m
          <li> Vagrant </li>[m
          <li> Docker </li>[m
          <li> Ansible </li>[m
[31m-         <li> IntegraciÃ³n continua </li>[m
[32m+[m[32m         <li> Integracion continua </li>[m
      </ul>[m
 </body>[m
 </html>[m
\ No newline at end of file[m

[33mcommit 6eb1f491f6a13b219c4ad448a78e5698612a4739[m
Author: Miguel <migrueda@gmail.com>
Date:   Wed Jan 18 22:16:36 2023 -0600

    Creando archivo index.html con lista de cursos

[1mdiff --git a/Anho_mundial.html b/Anho_mundial.html[m
[1mnew file mode 100644[m
[1mindex 0000000..00fe9fb[m
[1m--- /dev/null[m
[1m+++ b/Anho_mundial.html[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>Mundial FIFA.</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar anhoMundial = 1930;[m
[32m+[m	[32mvar limite = parseInt(prompt("Ingrese el aÃ±o para calcular: "))[m
[32m+[m[41m	[m
[32m+[m	[32mwhile (anhoMundial <= limite){[m
[32m+[m
[32m+[m		[32mimprimir ("Hubo mundial de la FIFA en el aÃ±o " + anhoMundial);[m
[32m+[m		[32manhoMundial = anhoMundial + 4;[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mimprimir("fin");[m
[32m+[m[41m	[m
[32m+[m[32m</script>[m
[1mdiff --git a/Eloquent JavaScript.pdf b/Eloquent JavaScript.pdf[m
[1mnew file mode 100644[m
[1mindex 0000000..6c97259[m
[1m--- /dev/null[m
[1m+++ b/Eloquent JavaScript.pdf[m	
[36m@@ -0,0 +1,10423 @@[m
[32m+[m[32mby Marijn Haverbeke[m
[32m+[m[32mEloquent JavaScript is a digital book providing a comprehensive introduction[m
[32m+[m[32m(tutorial) to the JavaScript programming language. Apart from a bookful of text,[m
[32m+[m[32mit contains plenty of example programs, and an environment to try them out and[m
[32m+[m[32mplay with them.[m
[32m+[m
[32m+[m[32mThe book is aimed at the beginning programmer â€• people with prior[m
[32m+[m[32mprogramming experience might also get something out of it, but they should not[m
[32m+[m[32mread chapters 2 to 5 too closely, because most of the concepts discussed there[m
[32m+[m[32mwill probably be nothing new to them. Do make sure you read the end of the[m
[32m+[m[32mfirst chapter, which has some essential information about the book itself.[m
[32m+[m
[32m+[m[32mThe book is freely available, and may be used (as a whole or in parts) in any[m
[32m+[m[32mway you see fit, as long as I am credited as the original author.[m
[32m+[m[32mChapter 1:[m
[32m+[m
[32m+[m[32m       When personal computers were first introduced, most of them came equipped[m
[32m+[m[32m       with a simple programming language, usually a variant of BASIC. Interacting[m
[32m+[m[32m       with the computer was closely integrated with this language, and thus every[m
[32m+[m[32m       computer-user, whether he wanted to or not, would get a taste of it. Now[m
[32m+[m[32m       that computers have become plentiful and cheap, typical users don't get much[m
[32m+[m[32m       further than clicking things with a mouse. For most people, this works very[m
[32m+[m[32m       well. But for those of us with a natural inclination towards technological[m
[32m+[m[32m       tinkering, the removal of programming from every-day computer use presents[m
[32m+[m[32m       something of a barrier.[m
[32m+[m
[32m+[m[32m       Fortunately, as an effect of developments in the World Wide Web, it so[m
[32m+[m[32m       happens that every computer equipped with a modern web-browser also has[m
[32m+[m[32m       an environment for programming JavaScript. In today's spirit of not bothering[m
[32m+[m[32m       the user with technical details, it is kept well hidden, but a web-page can[m
[32m+[m[32m       make it accessible, and use it as a platform for learning to program.[m
[32m+[m
[32m+[m[32m       That is what this (hyper-)book tries to do.[m
[32m+[m
[32m+[m[32m              I do not enlighten those who are not eager to learn, nor arouse[m
[32m+[m[32m              those who are not anxious to give an explanation themselves. If I[m
[32m+[m[32m              have presented one corner of the square and they cannot come[m
[32m+[m[32m              back to me with the other three, I should not go over the points[m
[32m+[m[32m              again.[m
[32m+[m
[32m+[m[32m              â€• Confucius[m
[32m+[m
[32m+[m[32m       Besides explaining JavaScript, this book tries to be an introduction to the basic[m
[32m+[m[32m       principles of programming. Programming, it turns out, is hard. The[m
[32m+[m[32m       fundamental rules are, most of the time, simple and clear. But programs,[m
[32m+[m[32m       while built on top of these basic rules, tend to become complex enough to[m
[32m+[m[32m       introduce their own rules, their own complexity. Because of this, programming[m
[32m+[m[32m       is rarely simple or predictable. As Donald Knuth, who is something of a[m
[32m+[m[32m       founding father of the field, says, it is an art.[m
[32m+[m
[32m+[m[32m       To get something out of this book, more than just passive reading is required.[m
[32m+[m[32m       Try to stay sharp, make an effort to solve the exercises, and only continue on[m
[32m+[m[32m       when you are reasonably sure you understand the material that came before.[m
[32m+[m
[32m+[m[32m              The computer programmer is a creator of universes for which he[m
[32m+[m[32m              alone is responsible. Universes of virtually unlimited complexity can[m
[32m+[m[32m              be created in the form of computer programs.[m
[32m+[m
[32m+[m[32m              â€• Joseph Weizenbaum, Computer Power and Human Reason[m
[32m+[m
[32m+[m[32m       A program is many things. It is a piece of text typed by a programmer, it is[m
[32m+[m[32m       the directing force that makes the computer do what it does, it is data in the[m
[32m+[m[32mcomputer's memory, yet it controls the actions performed on this same[m
[32m+[m[32mmemory. Analogies that try to compare programs to objects we are familiar[m
[32m+[m[32mwith tend to fall short, but a superficially fitting one is that of a machine. The[m
[32m+[m[32mgears of a mechanical watch fit together ingeniously, and if the watchmaker[m
[32m+[m[32mwas any good, it will accurately show the time for many years. The elements[m
[32m+[m[32mof a program fit together in a similar way, and if the programmer knows what[m
[32m+[m[32mhe is doing, the program will run without crashing.[m
[32m+[m
[32m+[m[32mA computer is a machine built to act as a host for these immaterial machines.[m
[32m+[m[32mComputers themselves can only do stupidly straightforward things. The reason[m
[32m+[m[32mthey are so useful is that they do these things at an incredibly high speed. A[m
[32m+[m[32mprogram can, by ingeniously combining many of these simple actions, do very[m
[32m+[m[32mcomplicated things.[m
[32m+[m
[32m+[m[32mTo some of us, writing computer programs is a fascinating game. A program[m
[32m+[m[32mis a building of thought. It is costless to build, weightless, growing easily under[m
[32m+[m[32mour typing hands. If we get carried away, its size and complexity will grow out[m
[32m+[m[32mof control, confusing even the one who created it. This is the main problem of[m
[32m+[m[32mprogramming. It is why so much of today's software tends to crash, fail,[m
[32m+[m[32mscrew up.[m
[32m+[m
[32m+[m[32mWhen a program works, it is beautiful. The art of programming is the skill of[m
[32m+[m[32mcontrolling complexity. The great program is subdued, made simple in its[m
[32m+[m[32mcomplexity.[m
[32m+[m
[32m+[m[32mToday, many programmers believe that this complexity is best managed by[m
[32m+[m[32musing only a small set of well-understood techniques in their programs. They[m
[32m+[m[32mhave composed strict rules about the form programs should have, and the[m
[32m+[m[32mmore zealous among them will denounce those who break these rules as bad[m
[32m+[m[32mprogrammers.[m
[32m+[m
[32m+[m[32mWhat hostility to the richness of programming! To try to reduce it to[m
[32m+[m[32msomething straightforward and predictable, to place a taboo on all the weird[m
[32m+[m[32mand beautiful programs. The landscape of programming techniques is[m
[32m+[m[32menormous, fascinating in its diversity, still largely unexplored. It is certainly[m
[32m+[m[32mlittered with traps and snares, luring the inexperienced programmer into all[m
[32m+[m[32mkinds of horrible mistakes, but that only means you should proceed with[m
[32m+[m[32mcaution, keep your wits about you. As you learn, there will always be new[m
[32m+[m[32mchallenges, new territory to explore. The programmer who refuses to keep[m
[32m+[m[32mexploring will surely stagnate, forget his joy, lose the will to program (and[m
[32m+[m[32mbecome a manager).[m
[32m+[m
[32m+[m[32mAs far as I am concerned, the definite criterion for a program is whether it is[m
[32m+[m[32mcorrect. Efficiency, clarity, and size are also important, but how to balance[m
[32m+[m[32mthese against each other is always a matter of judgement, a judgement that[m
[32m+[m[32meach programmer must make for himself. Rules of thumb are useful, but one[m
[32m+[m[32mshould never be afraid to break them.[m
[32m+[m
[32m+[m[32mIn the beginning, at the birth of computing, there were no programming[m
[32m+[m[32mlanguages. Programs looked something like this:[m
[32m+[m
[32m+[m[32m   00110001 00000000 00000000[m
[32m+[m[32m   00110001 00000001 00000001[m
[32m+[m[32m   00110011 00000001 00000010[m
[32m+[m[32m   01010001 00001011 00000010[m
[32m+[m[32m   00100010 00000010 00001000[m
[32m+[m[32m   01000011 00000001 00000000[m
[32m+[m[32m   01000001 00000001 00000001[m
[32m+[m[32m   00010000 00000010 00000000[m
[32m+[m[32m   01100010 00000000 00000000[m
[32m+[m
[32m+[m[32mThat is a program to add the numbers from one to ten together, and print out[m
[32m+[m[32mthe result (1 + 2 + ... + 10 = 55). It could run on a very simple kind of[m
[32m+[m[32mcomputer. To program early computers, it was necessary to set large arrays[m
[32m+[m[32mof switches in the right position, or punch holes in strips of cardboard and[m
[32m+[m[32mfeed them to the computer. You can imagine how this was a tedious,[m
[32m+[m[32merror-prone procedure. Even the writing of simple programs required much[m
[32m+[m[32mcleverness and discipline, complex ones were nearly inconceivable.[m
[32m+[m
[32m+[m[32mOf course, manually entering these arcane patterns of bits (which is what the[m
[32m+[m[32m1s and 0s above are generally called) did give the programmer a profound[m
[32m+[m[32msense of being a mighty wizard. And that has to be worth something, in terms[m
[32m+[m[32mof job satisfaction.[m
[32m+[m
[32m+[m[32mEach line of the program contains a single instruction. It could be written in[m
[32m+[m[32mEnglish like this:[m
[32m+[m
[32m+[m[32m   1. Store the number 0 in memory location 0[m
[32m+[m[32m   2. Store the number 1 in memory location 1[m
[32m+[m[32m   3. Store the value of memory location 1 in memory location 2[m
[32m+[m[32m   4. Subtract the number 11 from the value in memory location 2[m
[32m+[m[32m   5. If the value in memory location 2 is the number 0, continue with[m
[32m+[m
[32m+[m[32m       instruction 9[m
[32m+[m[32m   6. Add the value of memory location 1 to memory location 0[m
[32m+[m[32m   7. Add the number 1 to the value of memory location 1[m
[32m+[m[32m   8. Continue with instruction 3[m
[32m+[m[32m   9. Output the value of memory location 0[m
[32m+[m
[32m+[m[32mWhile that is more readable than the binary soup, it is still rather unpleasant.[m
[32m+[m[32mIt might help to use names instead of numbers for the instructions and[m
[32m+[m[32mmemory locations:[m
[32m+[m
[32m+[m[32m     Set 'total' to 0[m
[32m+[m[32m     Set 'count' to 1[m
[32m+[m[32m   [loop][m
[32m+[m[32m     Set 'compare' to 'count'[m
[32m+[m[32m     Subtract 11 from 'compare'[m
[32m+[m[32m     If 'compare' is zero, continue at [end][m
[32m+[m[32m     Add 'count' to 'total'[m
[32m+[m[32m     Add 1 to 'count'[m
[32m+[m[32m     Continue at [loop][m
[32m+[m[32m   [end][m
[32m+[m[32m     Output 'total'[m
[32m+[m
[32m+[m[32mAt this point it is not too hard to see how the program works. Can you? The[m
[32m+[m[32mfirst two lines give two memory locations their starting values: total will be[m
[32m+[m[32mused to build up the result of the program, and count keeps track of the[m
[32m+[m[32mnumber that we are currently looking at. The lines using compare are probably[m
[32m+[m[32mthe weirdest ones. What the program wants to do is see if count is equal to[m
[32m+[m[32m11, in order to decide whether it can stop yet. Because the machine is so[m
[32m+[m[32mprimitive, it can only test whether a number is zero, and make a decision[m
[32m+[m[32m(jump) based on that. So it uses the memory location labelled compare to[m
[32m+[m[32mcompute the value of count - 11, and makes a decision based on that value.[m
[32m+[m[32mThe next two lines add the value of count to the result, and increment count[m
[32m+[m[32mby one every time the program has decided that it is not 11 yet.[m
[32m+[m
[32m+[m[32mHere is the same program in JavaScript:[m
[32m+[m
[32m+[m[32m   var total = 0, count = 1;[m
[32m+[m[32m   while (count <= 10) {[m
[32m+[m
[32m+[m[32m       total += count;[m
[32m+[m[32m       count += 1;[m
[32m+[m[32m   }[m
[32m+[m[32m   print(total);[m
[32m+[m
[32m+[m[32mThis gives us a few more improvements. Most importantly, there is no need[m
[32m+[m[32mto specify the way we want the program to jump back and forth anymore.[m
[32m+[m[32mThe magic word while takes care of that. It continues executing the lines[m
[32m+[m[32mbelow it as long as the condition it was given holds: count <= 10, which means[m
[32m+[m[32m'count is less than or equal to 10'. Apparently, there is no need anymore to[m
[32m+[m[32mcreate a temporary value and compare that to zero. This was a stupid little[m
[32m+[m[32mdetail, and the power of programming languages is that they take care of[m
[32m+[m[32mstupid little details for us.[m
[32m+[m
[32m+[m[32mFinally, here is what the program could look like if we happened to have the[m
[32m+[m[32mconvenient operations range and sum available, which respectively create a[m
[32m+[m[32mcollection of numbers within a range and compute the sum of a collection of[m
[32m+[m[32mnumbers:[m
[32m+[m
[32m+[m[32m   print(sum(range(1, 10)));[m
[32m+[m
[32m+[m[32mThe moral of this story, then, is that the same program can be expressed in[m
[32m+[m[32mlong and short, unreadable and readable ways. The first version of the[m
[32m+[m[32mprogram was extremely obscure, while this last one is almost English: print[m
[32m+[m[32mthe sum of the range of numbers from 1 to 10. (We will see in later chapters[m
[32m+[m[32mhow to build things like sum and range.)[m
[32m+[m
[32m+[m[32mA good programming language helps the programmer by providing a more[m
[32m+[m[32mabstract way to express himself. It hides uninteresting details, provides[m
[32m+[m[32mconvenient building blocks (such as the while construct), and, most of the[m
[32m+[m[32mtime, allows the programmer to add building blocks himself (such as the sum[m
[32m+[m[32mand range operations).[m
[32m+[m
[32m+[m[32mJavaScript is the language that is, at the moment, mostly being used to do all[m
[32m+[m[32mkinds of clever and horrible things with pages on the World Wide Web. Some[m
[32m+[m[32mpeople claim that the next version of JavaScript will become an important[m
[32m+[m[32mlanguage for other tasks too. I am unsure whether that will happen, but if you[m
[32m+[m[32mare interested in programming, JavaScript is definitely a useful language to[m
[32m+[m[32mlearn. Even if you do not end up doing much web programming, the[m
[32m+[m[32mmind-bending programs I will show you in this book will always stay with you,[m
[32m+[m[32mhaunt you, and influence the programs you write in other languages.[m
[32m+[m
[32m+[m[32mThere are those who will say terrible things about JavaScript. Many of these[m
[32m+[m[32mthings are true. When I was for the first time required to write something in[m
[32m+[m[32mJavaScript, I quickly came to despise the language. It would accept almost[m
[32m+[m[32manything I typed, but interpret it in a way that was completely different from[m
[32m+[m[32mwhat I meant. This had a lot to do with the fact that I did not have a clue[m
[32m+[m[32mwhat I was doing, but there is also a real issue here: JavaScript is ridiculously[m
[32m+[m[32mliberal in what it allows. The idea behind this design was that it would make[m
[32m+[m[32mprogramming in JavaScript easier for beginners. In actuality, it mostly makes[m
[32m+[m[32mfinding problems in your programs harder, because the system will not point[m
[32m+[m[32mthem out to you.[m
[32m+[m
[32m+[m[32mHowever, the flexibility of the language is also an advantage. It leaves space[m
[32m+[m[32mfor a lot of techniques that are impossible in more rigid languages, and it can[m
[32m+[m[32mbe used to overcome some of JavaScript's shortcomings. After learning it[m
[32m+[m[32mproperly, and working with it for a while, I have really learned to like this[m
[32m+[m[32mlanguage.[m
[32m+[m
[32m+[m[32mContrary to what the name suggests, JavaScript has very little to do with the[m
[32m+[m[32mprogramming language named Java. The similar name was inspired by[m
[32m+[m[32mmarketing considerations, rather than good judgement. In 1995, when[m
[32m+[m[32mJavaScript was introduced by Netscape, the Java language was being heavily[m
[32m+[m[32mmarketed and gaining in popularity. Apparently, someone thought it a good[m
[32m+[m[32midea to try and ride along on this marketing. Now we are stuck with the[m
[32m+[m[32mname.[m
[32m+[m
[32m+[m[32mRelated to JavaScript is a thing called ECMAScript. When browsers other than[m
[32m+[m[32mNetscape started to support JavaScript, or something that looked like it, a[m
[32m+[m[32mdocument was written to describe precisely how the language should work.[m
[32m+[m[32mThe language described in this document is called ECMAScript, after the[m
[32m+[m[32morganisation that standardised it.[m
[32m+[m
[32m+[m[32mECMAScript describes a general-purpose programming language, and does not[m
[32m+[m[32msay anything about the integration of this language in an Internet browser.[m
[32m+[m[32mJavaScript is ECMAScript plus extra tools for dealing with Internet pages and[m
[32m+[m[32mbrowser windows.[m
[32m+[m
[32m+[m[32mA few other pieces of software use the language described in the ECMAScript[m
[32m+[m[32mdocument. Most importantly, the ActionScript language used by Flash is based[m
[32m+[m[32mon ECMAScript (though it does not precisely follow the standard). Flash is a[m
[32m+[m[32msystem for adding things that move and make lots of noise to web-pages.[m
[32m+[m[32mKnowing JavaScript won't hurt if you ever find yourself learning to build Flash[m
[32m+[m[32mmovies.[m
[32m+[m
[32m+[m[32mAt the time I am writing this, people are working on a thing called ECMAScript[m
[32m+[m[32m4. This is a new version of the ECMAScript language, which adds a number of[m
[32m+[m[32mnew features. You should not worry too much about this new version making[m
[32m+[m[32mthe things you learn from this book obsolete. For one thing, ECMAScript 4 will[m
[32m+[m[32mmostly be an extension of the language we have now, so almost everything[m
[32m+[m[32mwritten in this book will still hold. On top of that, it will most likely take quite a[m
[32m+[m[32mwhile before all major browsers add these new features to their JavaScript[m
[32m+[m[32msystems, and until they do, ECMAScript 4 won't be very practical for web[m
[32m+[m[32mprogramming.[m
[32m+[m[32mMost chapters in this book contain quite a lot of code1. In my experience,[m
[32m+[m[32mreading and writing code is an important part of learning to program. Try to[m
[32m+[m[32mnot just glance over these examples, but read them attentively and[m
[32m+[m[32munderstand them. This can be slow and confusing at first, but you will quickly[m
[32m+[m[32mget the hang of it. The same goes for the exercises. Don't assume you[m
[32m+[m[32munderstand them until you've actually written a working solution.[m
[32m+[m
[32m+[m[32mBecause of the way the web works, it is always possible to look at the[m
[32m+[m[32mJavaScript programs that people put in their web-pages. This can be a good[m
[32m+[m[32mway to learn how some things are done. Because most web programmers are[m
[32m+[m[32mnot 'professional' programmers, or consider JavaScript programming so[m
[32m+[m[32muninteresting that they never properly learned it, a lot of the code you can[m
[32m+[m[32mfind like this is of a very bad quality. When learning from ugly or incorrect[m
[32m+[m[32mcode, the ugliness and confusion will propagate into your own code, so be[m
[32m+[m[32mcareful who you learn from.[m
[32m+[m
[32m+[m[32mTo allow you to try out programs, both the examples and the code you write[m
[32m+[m[32myourself, this book makes use of something called a console. If you are using[m
[32m+[m[32ma modern graphical browser (Internet Explorer version 6 or higher, Firefox 1.5[m
[32m+[m[32mor higher, Opera 9 or higher, Safari 3 or higher), the pages in this book will[m
[32m+[m[32mshow a bar at the bottom of your screen. You can open the console by[m
[32m+[m[32mclicking on the little arrow on the far right of this bar.[m
[32m+[m
[32m+[m[32mThe console contains three important elements. There is the output window,[m
[32m+[m[32mwhich is used to show error messages and things that programs print out.[m
[32m+[m[32mBelow that, there is a line where you can type in a piece of JavaScript. Try[m
[32m+[m[32mtyping in a number, and pressing the enter key to run what you typed. If the[m
[32m+[m[32mtext you typed produced something meaningful, it will be shown in the output[m
[32m+[m[32mwindow. Now try typing wrong!, and press enter again. The output window will[m
[32m+[m[32mshow an error message. You can use the arrow-up and arrow-down keys to[m
[32m+[m[32mgo back to previous commands that you typed.[m
[32m+[m
[32m+[m[32mFor bigger pieces of code, those that span multiple lines and which you want[m
[32m+[m[32mto keep around for a while, the field on the right can be used. The 'Run'[m
[32m+[m[32mbutton is used to execute programs written in this field. It is possible to have[m
[32m+[m[32mmultiple programs open at the same time. Use the 'New' and 'Load' buttons to[m
[32m+[m[32madd a new program (empty or from a file on the web). When there is more[m
[32m+[m[32mthan one open program, the menu next to the 'Run' button can be used to[m
[32m+[m[32mchoose which one is being shown. The 'Close' button, as you might expect,[m
[32m+[m[32mcloses a program.[m
[32m+[m
[32m+[m[32mExample programs in this book always have a small button with an arrow in[m
[32m+[m[32mtheir top-right corner, which can be used to run them. The example we saw[m
[32m+[m[32mearlier looked like this:[m
[32m+[m
[32m+[m[32m   var total = 0, count = 1;[m
[32m+[m[32m   while (count <= 10) {[m
[32m+[m
[32m+[m[32m       total += count;[m
[32m+[m[32m       count += 1;[m
[32m+[m[32m   }[m
[32m+[m[32m   print(total);[m
[32m+[m
[32m+[m[32mRun it by clicking the arrow. There is also another button, which is used to[m
[32m+[m[32mload the program into the console. Do not hesitate to modify it and try out the[m
[32m+[m[32mresult. The worst that could happen is that you create an endless loop. An[m
[32m+[m[32mendless loop is what you get when the condition of the while never becomes[m
[32m+[m[32mfalse, for example if you choose to add 0 instead of 1 to the count variable.[m
[32m+[m[32mNow the program will run forever.[m
[32m+[m
[32m+[m[32mFortunately, browsers keep an eye on the programs running inside them.[m
[32m+[m[32mWhenever one of them is taking suspiciously long to finish, they will ask you if[m
[32m+[m[32myou want to cut it off.[m
[32m+[m
[32m+[m[32mIn some later chapters, we will build example programs that consist of many[m
[32m+[m[32mblocks of code. Often, you have to run every one of them for the program to[m
[32m+[m[32mwork. As you may have noticed, the arrow in a block of code turns purple[m
[32m+[m[32mafter the block has been run. When reading a chapter, try to run every block[m
[32m+[m[32mof code you come across, especially those that 'define' something new (you[m
[32m+[m[32mwill see what that means in the next chapter).[m
[32m+[m
[32m+[m[32mIt is, of course, possible that you can not read a chapter in one sitting. This[m
[32m+[m[32mmeans you will have to start halfway when you continue reading, but if you[m
[32m+[m[32mdon't run all the code starting from the top of the chapter, some things might[m
[32m+[m[32mnot work. By holding the shift key while pressing the 'run' arrow on a block of[m
[32m+[m[32mcode, all blocks before that one will be run as well, so when you start in the[m
[32m+[m[32mmiddle of a chapter, hold shift the first time you run a piece of code, and[m
[32m+[m[32meverything should work as expected.[m
[32m+[m
[32m+[m[32mFinally, the little face in the top-left corner of your screen can be used to send[m
[32m+[m[32mme, the author, a message. If you have a comment, or you find a passage[m
[32m+[m[32mridiculously confusing, or you just spot a spelling error, tell me about it.[m
[32m+[m[32mSending a message can be done without leaving the page, so it won't[m
[32m+[m[32minterrupt your reading.[m
[32m+[m
[32m+[m[32m1. 'Code' is the substance that programs are made of. Every piece of a program, whether it is a single line or the[m
[32m+[m[32m    whole thing, can be referred to as 'code'.[m
[32m+[m[32mChapter 2:[m
[32m+[m
[32m+[m[32m       Inside the computer's world, there is only data. That which is not data, does[m
[32m+[m[32m       not exist. Although all data is in essence just a sequence of bits1, and is thus[m
[32m+[m[32m       fundamentally alike, every piece of data plays its own role. In JavaScript's[m
[32m+[m[32m       system, most of this data is neatly separated into things called values. Every[m
[32m+[m[32m       value has a type, which determines the kind of role it can play. There are six[m
[32m+[m[32m       basic types of values: Numbers, strings, booleans, objects, functions, and[m
[32m+[m[32m       undefined values.[m
[32m+[m
[32m+[m[32m       To create a value, one must merely invoke its name. This is very convenient.[m
[32m+[m[32m       You don't have to gather building material for your values, or pay for them,[m
[32m+[m[32m       you just call for one and woosh, you have it. They are not created from thin[m
[32m+[m[32m       air, of course. Every value has to be stored somewhere, and if you want to[m
[32m+[m[32m       use a gigantic amount of them at the same time you might run out of[m
[32m+[m[32m       computer memory. Fortunately, this is only a problem if you need them all[m
[32m+[m[32m       simultaneously. As soon as you no longer use a value, it will dissipate, leaving[m
[32m+[m[32m       behind only a few bits. These bits are recycled to make the next generation[m
[32m+[m[32m       of values.[m
[32m+[m
[32m+[m[32m       Values of the type number are, as you might have deduced, numeric values.[m
[32m+[m[32m       They are written as numbers usually are:[m
[32m+[m
[32m+[m[32m            144[m
[32m+[m
[32m+[m[32m       Enter that in the console, and the same thing is printed in the output window.[m
[32m+[m[32m       The text you typed in gave rise to a number value, and the console took this[m
[32m+[m[32m       number and wrote it out to the screen again. In a case like this, that was a[m
[32m+[m[32m       rather pointless exercise, but soon we will be producing values in less[m
[32m+[m[32m       straightforward ways, and it can be useful to 'try them out' on the console to[m
[32m+[m[32m       see what they produce.[m
[32m+[m
[32m+[m[32m       This is what 144 looks like in bits2:[m
[32m+[m
[32m+[m[32m            0100000001100010000000000000000000000000000000000000000000000000[m
[32m+[m
[32m+[m[32m       The number above has 64 bits. Numbers in JavaScript always do. This has[m
[32m+[m[32m       one important repercussion: There is a limited amount of different numbers[m
[32m+[m[32m       that can be expressed. With three decimal digits, only the numbers 0 to 999[m
[32m+[m[32m       can be written, which is 103 = 1000 different numbers. With 64 binary digits,[m
[32m+[m[32m       264 different numbers can be written. This is a lot, more than 1019 (a one with[m
[32m+[m[32m       nineteen zeroes).[m
[32m+[m
[32m+[m[32m       Not all whole numbers below 1019 fit in a JavaScript number though. For one,[m
[32m+[m[32m       there are also negative numbers, so one of the bits has to be used to store[m
[32m+[m[32m       the sign of the number. A bigger issue is that non-whole numbers must also[m
[32m+[m[32mbe represented. To do this, 11 bits are used to store the position of the[m
[32m+[m[32mdecimal dot within the number.[m
[32m+[m
[32m+[m[32mThat leaves 52 bits3. Any whole number less than 252, which is over 1015, will[m
[32m+[m[32msafely fit in a JavaScript number. In most cases, the numbers we are using[m
[32m+[m[32mstay well below that, so we do not have to concern ourselves with bits at all.[m
[32m+[m[32mWhich is good. I have nothing in particular against bits, but you do need a[m
[32m+[m[32mterrible lot of them to get anything done. When at all possible, it is more[m
[32m+[m[32mpleasant to deal with bigger things.[m
[32m+[m
[32m+[m[32mFractional numbers are written by using a dot.[m
[32m+[m
[32m+[m[32m   9.81[m
[32m+[m
[32m+[m[32mFor very big or very small numbers, one can also use 'scientific' notation by[m
[32m+[m[32madding an e, followed by the exponent of the number:[m
[32m+[m
[32m+[m[32m   2.998e8[m
[32m+[m
[32m+[m[32mWhich is 2.998 * 108 = 299800000.[m
[32m+[m
[32m+[m[32mCalculations with whole numbers (also called integers) that fit in 52 bits are[m
[32m+[m[32mguaranteed to always be precise. Unfortunately, calculations with fractional[m
[32m+[m[32mnumbers are generally not. Like Ï€ (pi) can not be precisely expressed by a[m
[32m+[m[32mfinite amount of decimal digits, many numbers lose some precision when only[m
[32m+[m[32m64 bits are available to store them. This is a shame, but it only causes[m
[32m+[m[32mpractical problems in very specific situations. The important thing is to be[m
[32m+[m[32maware of it, and treat fractional digital numbers as approximations, not as[m
[32m+[m[32mprecise values.[m
[32m+[m
[32m+[m[32mThe main thing to do with numbers is arithmetic. Arithmetic operations such[m
[32m+[m[32mas addition or multiplication take two number values and produce a new[m
[32m+[m[32mnumber from them. Here is what they look like in JavaScript:[m
[32m+[m
[32m+[m[32m   100 + 4 * 11[m
[32m+[m
[32m+[m[32mThe + and * symbols are called operators. The first stands for addition, and[m
[32m+[m[32mthe second for multiplication. Putting an operator between two values will[m
[32m+[m[32mapply it to those values, and produce a new value.[m
[32m+[m
[32m+[m[32mDoes the example mean 'add 4 and 100, and multiply the result by 11', or is[m
[32m+[m[32mthe multiplication done before the adding? As you might have guessed, the[m
[32m+[m[32mmultiplication happens first. But, as in mathematics, this can be changed by[m
[32m+[m[32mwrapping the addition in parentheses:[m
[32m+[m
[32m+[m[32m   (100 + 4) * 11[m
[32m+[m
[32m+[m[32mFor subtraction, there is the - operator, and division can be done with /.[m
[32m+[m[32mWhen operators appear together without parentheses, the order in which[m
[32m+[m[32mthey are applied is determined by the precedence of the operators. The first[m
[32m+[m[32mexample shows that multiplication has a higher precedence than addition. The[m
[32m+[m[32mfull ordering of the arithmetic operators is: first division, then multiplication,[m
[32m+[m[32mthen subtraction, and finally addition.[m
[32m+[m[32mTry to figure out what value this produces, and then run it to see if you were[m
[32m+[m[32mcorrect...[m
[32m+[m
[32m+[m[32m   115 * 4 - 4 + 88 / 2[m
[32m+[m
[32m+[m[32mThese rules of precedence are not something you should worry about. When[m
[32m+[m[32min doubt, just add parentheses.[m
[32m+[m
[32m+[m[32mThere is one more arithmetic operator which is probably less familiar to you.[m
[32m+[m[32mThe % symbol is used to represent the modulo operation. X modulo Y is the[m
[32m+[m[32mremainder of dividing X by Y. For example 314 % 100 is 14, 10 % 3 is 1, and 144[m
[32m+[m[32m% 12 is 0. Modulo's precedence lies between that of multiplication and[m
[32m+[m[32msubtraction.[m
[32m+[m
[32m+[m[32mThe next data type is the string. Its use is not as evident from its name as[m
[32m+[m[32mwith numbers, but it also fulfills a very basic role. Strings are used to[m
[32m+[m[32mrepresent text, the name supposedly derives from the fact that it strings[m
[32m+[m[32mtogether a bunch of characters. Strings are written by enclosing their content[m
[32m+[m[32min quotes:[m
[32m+[m
[32m+[m[32m   "Patch my boat with chewing gum."[m
[32m+[m
[32m+[m[32mAlmost anything can be put between double quotes, and JavaScript will make[m
[32m+[m[32ma string value out of it. But a few characters are tricky. You can imagine how[m
[32m+[m[32mputting quotes between quotes might be hard. Newlines, the things you get[m
[32m+[m[32mwhen you press enter, can also not be put between quotes, the string has to[m
[32m+[m[32mstay on a single line.[m
[32m+[m
[32m+[m[32mTo be able to have such characters in a string, the following trick is used:[m
[32m+[m[32mWhenever a backslash ('\') is found inside quoted text, it indicates that the[m
[32m+[m[32mcharacter after it has a special meaning. A quote that is preceded by a[m
[32m+[m[32mbackslash will not end the string, but be part of it. When an 'n' character[m
[32m+[m[32moccurs after a backslash, it is interpreted as a newline. Similarly, a 't' after a[m
[32m+[m[32mbackslash means a tab character4.[m
[32m+[m
[32m+[m[32m   "This is the first line\nAnd this is the second"[m
[32m+[m
[32m+[m[32mThere are of course situations where you want a backslash in a string to be[m
[32m+[m[32mjust a backslash, not a special code. If two backslashes follow each other,[m
[32m+[m[32mthey will collapse right into each other, and only one will be left in the[m
[32m+[m[32mresulting string value:[m
[32m+[m
[32m+[m[32m   "A newline character is written like \"\\n\"."[m
[32m+[m
[32m+[m[32mStrings can not be divided, multiplied, or subtracted. The + operator can be[m
[32m+[m[32mused on them. It does not add, but it concatenates, it glues two strings[m
[32m+[m[32mtogether.[m
[32m+[m
[32m+[m[32m   "con" + "cat" + "e" + "nate"[m
[32m+[m
[32m+[m[32mThere are more ways of manipulating strings, but these are discussed later.[m
[32m+[m[32mNot all operators are symbols, some are written as words. For example, the[m
[32m+[m[32mtypeof operator, which produces a string value naming the type of the value[m
[32m+[m[32myou give it.[m
[32m+[m
[32m+[m[32m   typeof 4.5[m
[32m+[m
[32m+[m[32mThe other operators we saw all operated on two values, typeof takes only[m
[32m+[m[32mone. Operators that use two values are called binary operators, while those[m
[32m+[m[32mthat take one are called unary operators. The minus operator can be used[m
[32m+[m[32mboth as a binary and a unary operator:[m
[32m+[m
[32m+[m[32m   - (10 - 2)[m
[32m+[m
[32m+[m[32mThen there are values of the boolean type. There are only two of these: true[m
[32m+[m[32mand false. Here is one way to produce a true value:[m
[32m+[m
[32m+[m[32m   3>2[m
[32m+[m
[32m+[m[32mAnd false can be produced like this:[m
[32m+[m
[32m+[m[32m   3<2[m
[32m+[m
[32m+[m[32mI hope you have seen the > and < signs before. They mean, respectively, 'is[m
[32m+[m[32mgreater than' and 'is less than'. They are binary operators, and the result of[m
[32m+[m[32mapplying them is a boolean value that indicates whether they hold in this case.[m
[32m+[m[32mStrings can be compared in the same way:[m
[32m+[m
[32m+[m[32m   "Aardvark" < "Zoroaster"[m
[32m+[m
[32m+[m[32mThe way strings are ordered is more or less alphabetic. More or less...[m
[32m+[m[32mUppercase letters are always 'less' than lowercase ones, so "Z" < "a" is true,[m
[32m+[m[32mand non-alphabetic characters ('!', '@', etc) are also included in the ordering.[m
[32m+[m[32mThe actual way in which the comparison is done is based on the Unicode[m
[32m+[m[32mstandard. This standard assigns a number to virtually every character one[m
[32m+[m[32mwould ever need, including characters from Greek, Arabic, Japanese, Tamil,[m
[32m+[m[32mand so on. Having such numbers is practical for storing strings inside a[m
[32m+[m[32mcomputer â€• you can represent them as a list of numbers. When comparing[m
[32m+[m[32mstrings, JavaScript just compares the numbers of the characters inside the[m
[32m+[m[32mstring, from left to right.[m
[32m+[m[32mOther similar operators are >= ('is greater than or equal to'), <= (is less than[m
[32m+[m[32mor equal to), == ('is equal to'), and != ('is not equal to').[m
[32m+[m
[32m+[m[32m   "Itchy" != "Scratchy"[m
[32m+[m
[32m+[m[32mThere are also some useful operations that can be applied to boolean values[m
[32m+[m[32mthemselves. JavaScript supports three logical operators: and, or, and not.[m
[32m+[m[32mThese can be used to 'reason' about booleans.[m
[32m+[m[32m         The && operator represents logical and. It is a binary operator, and its result is[m
[32m+[m[32m         only true if both of the values given to it are true.[m
[32m+[m
[32m+[m[32m            true && false[m
[32m+[m
[32m+[m[32m         || is the logical or, it is true if either of the values given to it is true:[m
[32m+[m
[32m+[m[32m            true || false[m
[32m+[m
[32m+[m[32m         Not is written as an exclamation mark, !, it is a unary operator that flips the[m
[32m+[m[32m         value given to it, !true is false, and !false is true.[m
[32m+[m
[32m+[m[32mEx. 2.1  ((4 >= 6) || ("grass" != "green")) &&[m
[32m+[m[32m              !(((12 * 2) == 144) && true)[m
[32m+[m
[32m+[m[32m         Is this true? For readability, there are a lot of unnecessary parentheses in[m
[32m+[m[32m         there. This simple version means the same thing:[m
[32m+[m
[32m+[m[32m            (4 >= 6 || "grass" != "green") &&[m
[32m+[m[32m                  !(12 * 2 == 144 && true)[m
[32m+[m
[32m+[m[32m         Yes, it is true. You can reduce it step by step like this:[m
[32m+[m
[32m+[m[32m         (false || true) && !(false && true)[m
[32m+[m
[32m+[m[32m         true && !false[m
[32m+[m
[32m+[m[32m            true[m
[32m+[m
[32m+[m[32m         I hope you noticed that "grass" != "green" is true. Grass may be green, but it[m
[32m+[m[32m         is not equal to green.[m
[32m+[m
[32m+[m[32m         It is not always obvious when parentheses are needed. In practice, one can[m
[32m+[m[32m         usually get by with knowing that of the operators we have seen so far, || has[m
[32m+[m[32m         the lowest precedence, then comes &&, then the comparison operators (>, ==,[m
[32m+[m[32m         etcetera), and then the rest. This has been chosen in such a way that, in[m
[32m+[m[32m         simple cases, as few parentheses as possible are necessary.[m
[32m+[m
[32m+[m[32m         All the examples so far have used the language like you would use a pocket[m
[32m+[m[32m         calculator. Make some values and apply operators to them to get new values.[m
[32m+[m[32m         Creating values like this is an essential part of every JavaScript program, but[m
[32m+[m[32m         it is only a part. A piece of code that produces a value is called an expression.[m
[32m+[m[32m         Every value that is written directly (such as 22 or "psychoanalysis") is an[m
[32m+[m[32m         expression. An expression between parentheses is also an expression. And a[m
[32m+[m[32m         binary operator applied to two expressions, or a unary operator applied to[m
[32m+[m[32m         one, is also an expression.[m
[32m+[m
[32m+[m[32m         There are a few more ways of building expressions, which will be revealed[m
[32m+[m[32m         when the time is ripe.[m
[32m+[m[32mThere exists a unit that is bigger than an expression. It is called a statement.[m
[32m+[m[32mA program is built as a list of statements. Most statements end with a[m
[32m+[m[32msemicolon (;). The simplest kind of statement is an expression with a[m
[32m+[m[32msemicolon after it. This is a program:[m
[32m+[m
[32m+[m[32m   1;[m
[32m+[m[32m   !false;[m
[32m+[m
[32m+[m[32mIt is a useless program. An expression can be content to just produce a value,[m
[32m+[m[32mbut a statement only amounts to something if it somehow changes the world.[m
[32m+[m[32mIt could print something to the screen â€• that counts as changing the world â€•[m
[32m+[m[32mor it could change the internal state of the program in a way that will affect[m
[32m+[m[32mthe statements that come after it. These changes are called 'side effects'. The[m
[32m+[m[32mstatements in the example above just produce the values 1 and true, and[m
[32m+[m[32mthen immediately throw them into the bit bucket5. This leaves no impression[m
[32m+[m[32mon the world at all, and is not a side effect.[m
[32m+[m
[32m+[m[32mHow does a program keep an internal state? How does it remember things?[m
[32m+[m[32mWe have seen how to produce new values from old values, but this does not[m
[32m+[m[32mchange the old values, and the new value has to be immediately used or it[m
[32m+[m[32mwill dissipate again. To catch and hold values, JavaScript provides a thing[m
[32m+[m[32mcalled a variable.[m
[32m+[m
[32m+[m[32m   var caught = 5 * 5;[m
[32m+[m
[32m+[m[32mA variable always has a name, and it can point at a value, holding on to it.[m
[32m+[m[32mThe statement above creates a variable called caught and uses it to grab hold[m
[32m+[m[32mof the number that is produced by multiplying 5 by 5.[m
[32m+[m
[32m+[m[32mAfter running the above program, you can type the word caught into the[m
[32m+[m[32mconsole, and it will retrieve the value 25 for you. The name of a variable is[m
[32m+[m[32mused to fetch its value. caught + 1 also works. A variable name can be used[m
[32m+[m[32mas an expression, and thus can be part of bigger expressions.[m
[32m+[m
[32m+[m[32mThe word var is used to create a new variable. After var, the name of the[m
[32m+[m[32mvariable follows. Variable names can be almost every word, but they may not[m
[32m+[m[32minclude spaces. Digits can be part of variable names, catch22 is a valid name,[m
[32m+[m[32mbut the name must not start with one. The characters '$' and '_' can be used[m
[32m+[m[32min names as if they were letters, so $_$ is a correct variable name.[m
[32m+[m
[32m+[m[32mIf you want the new variable to immediately capture a value, which is often[m
[32m+[m[32mthe case, the = operator can be used to give it the value of some expression.[m
[32m+[m
[32m+[m[32mWhen a variable points at a value, that does not mean it is tied to that value[m
[32m+[m[32mforever. At any time, the = operator can be used on existing variables to yank[m
[32m+[m[32mthem away from their current value and make them point to a new one.[m
[32m+[m
[32m+[m[32m   caught = 4 * 4;[m
[32m+[m
[32m+[m[32mYou should imagine variables as tentacles, rather than boxes. They do not[m
[32m+[m[32mcontain values, they grasp them â€• two variables can refer to the same value.[m
[32m+[m[32mOnly the values that the program still has a hold on can be accessed by it.[m
[32m+[m[32mWhen you need to remember something, you grow a tentacle to hold on to it,[m
[32m+[m[32mor re-attach one of your existing tentacles to a new value: To remember the[m
[32m+[m[32mamount of dollars that Luigi still owes you, you could do...[m
[32m+[m
[32m+[m[32m   var luigiDebt = 140;[m
[32m+[m
[32m+[m[32mThen, every time Luigi pays something back, this amount can be decremented[m
[32m+[m[32mby giving the variable a new number:[m
[32m+[m
[32m+[m[32m   luigiDebt = luigiDebt - 35;[m
[32m+[m
[32m+[m[32mThe collection of variables and their values that exist at a given time is called[m
[32m+[m[32mthe environment. When a program starts up, this environment is not empty. It[m
[32m+[m[32malways contains a number of standard variables. When your browser loads a[m
[32m+[m[32mpage, it creates a new environment and attaches these standard values to it.[m
[32m+[m[32mThe variables created and modified by programs on that page survive until[m
[32m+[m[32mthe browser goes to a new page.[m
[32m+[m
[32m+[m[32mA lot of the values provided by the standard environment have the type[m
[32m+[m[32m'function'. A function is a piece of program wrapped in a value. Generally, this[m
[32m+[m[32mpiece of program does something useful, which can be evoked using the[m
[32m+[m[32mfunction value that contains it. In a browser environment, the variable alert[m
[32m+[m[32mholds a function that shows a little dialog window with a message. It is used[m
[32m+[m[32mlike this:[m
[32m+[m
[32m+[m[32m   alert("Also, your hair is on fire.");[m
[32m+[m
[32m+[m[32mExecuting the code in a function is called invoking or applying it. The notation[m
[32m+[m[32mfor doing this uses parentheses. Every expression that produces a function[m
[32m+[m[32mvalue can be invoked by putting parentheses after it. The string value[m
[32m+[m[32mbetween the parentheses is given to the function, which uses it as the text to[m
[32m+[m[32mshow in the dialog window. Values given to functions are called parameters or[m
[32m+[m[32marguments. alert needs only one of them, but other functions might need a[m
[32m+[m[32mdifferent number.[m
[32m+[m
[32m+[m[32mShowing a dialog window is a side effect. A lot of functions are useful because[m
[32m+[m[32mof the side effects they produce. It is also possible for a function to produce a[m
[32m+[m[32mvalue, in which case it does not need to have a side effect to be useful. For[m
[32m+[m[32mexample, there is a function Math.max, which takes two arguments and gives[m
[32m+[m[32mback the biggest of the two:[m
[32m+[m
[32m+[m[32m   alert(Math.max(2, 4));[m
[32m+[m
[32m+[m[32mWhen a function produces a value, it is said to return it. Because things that[m
[32m+[m[32mproduce values are always expressions in JavaScript, function calls can be[m
[32m+[m[32mused as a part of bigger expressions:[m
[32m+[m
[32m+[m[32m   alert(Math.min(2, 4) + 100);[m
[32m+[m
[32m+[m[32mChapter 3 discusses writing your own functions.[m
[32m+[m[32mAs the previous examples show, alert can be useful for showing the result of[m
[32m+[m[32msome expression. Clicking away all those little windows can get on one's[m
[32m+[m[32mnerves though, so from now on we will prefer to use a similar function, called[m
[32m+[m[32mprint, which does not pop up a window, but just writes a value to the output[m
[32m+[m[32marea of the console. print is not a standard JavaScript function, browsers do[m
[32m+[m[32mnot provide it for you, but it is made available by this book, so you can use it[m
[32m+[m[32mon these pages.[m
[32m+[m
[32m+[m[32m   print("N");[m
[32m+[m
[32m+[m[32mA similar function, also provided on these pages, is show. While print will[m
[32m+[m[32mdisplay its argument as flat text, show tries to display it the way it would look[m
[32m+[m[32min a program, which can give more information about the type of the value.[m
[32m+[m[32mFor example, string values keep their quotes when given to show:[m
[32m+[m
[32m+[m[32m   show("N");[m
[32m+[m
[32m+[m[32mThe standard environment provided by browsers contains a few more[m
[32m+[m[32mfunctions for popping up windows. You can ask the user an OK/Cancel[m
[32m+[m[32mquestion using confirm. This returns a boolean, true if the user presses 'OK',[m
[32m+[m[32mand false if he presses 'Cancel'.[m
[32m+[m
[32m+[m[32m   show(confirm("Shall we, then?"));[m
[32m+[m
[32m+[m[32mprompt can be used to ask an 'open' question. The first argument is the[m
[32m+[m[32mquestion, the second one is the text that the user starts with. A line of text[m
[32m+[m[32mcan be typed into the window, and the function will return this as a string.[m
[32m+[m
[32m+[m[32m   show(prompt("Tell us everything you know.", "..."));[m
[32m+[m
[32m+[m[32mIt is possible to give almost every variable in the environment a new value.[m
[32m+[m[32mThis can be useful, but also dangerous. If you give print the value 8, you[m
[32m+[m[32mwon't be able to print things anymore. Fortunately, there is a big 'Reset'[m
[32m+[m[32mbutton on the console, which will reset the environment to its original state.[m
[32m+[m
[32m+[m[32mOne-line programs are not very interesting. When you put more than one[m
[32m+[m[32mstatement into a program, the statements are, predictably, executed one at a[m
[32m+[m[32mtime, from top to bottom.[m
[32m+[m
[32m+[m[32m   var theNumber = Number(prompt("Pick a number", ""));[m
[32m+[m[32m   print("Your number is the square root of " +[m
[32m+[m
[32m+[m[32m              (theNumber * theNumber));[m
[32m+[m
[32m+[m[32mThe function Number converts a value to a number, which is needed in this[m
[32m+[m[32mcase because the result of prompt is a string value. There are similar functions[m
[32m+[m[32mcalled String and Boolean which convert values to those types.[m
[32m+[m
[32m+[m[32mConsider a program that prints out all even numbers from 0 to 12. One way[m
[32m+[m[32m          to write this is:[m
[32m+[m
[32m+[m[32m               print(0);[m
[32m+[m[32m               print(2);[m
[32m+[m[32m               print(4);[m
[32m+[m[32m               print(6);[m
[32m+[m[32m               print(8);[m
[32m+[m[32m               print(10);[m
[32m+[m[32m               print(12);[m
[32m+[m
[32m+[m[32m         That works, but the idea of writing a program is to make something less[m
[32m+[m[32m          work, not more. If we needed all even numbers below 1000, the above would[m
[32m+[m[32m          be unworkable. What we need is a way to automatically repeat some code.[m
[32m+[m
[32m+[m[32m               var currentNumber = 0;[m
[32m+[m[32m               while (currentNumber <= 12) {[m
[32m+[m
[32m+[m[32m                  print(currentNumber);[m
[32m+[m[32m                  currentNumber = currentNumber + 2;[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m          You may have seen while in the introduction chapter. A statement starting[m
[32m+[m[32m          with the word while creates a loop. A loop is a disturbance in the sequence of[m
[32m+[m[32m          statements, it may cause the program to repeat some statements multiple[m
[32m+[m[32m          times. In this case, the word while is followed by an expression in[m
[32m+[m[32m          parentheses (the parentheses are compulsory here), which is used to[m
[32m+[m[32m          determine whether the loop will loop or finish. As long as the boolean value[m
[32m+[m[32m          produced by this expression is true, the code in the loop is repeated. As soon[m
[32m+[m[32m          as it is false, the program goes to the bottom of the loop and continues as[m
[32m+[m[32m          normal.[m
[32m+[m
[32m+[m[32m          The variable currentNumber demonstrates the way a variable can track the[m
[32m+[m[32m          progress of a program. Every time the loop repeats, it is incremented by 2,[m
[32m+[m[32m          and at the beginning of every repetition, it is compared with the number 12 to[m
[32m+[m[32m          decide whether to keep on looping.[m
[32m+[m
[32m+[m[32m          The third part of a while statement is another statement. This is the body of[m
[32m+[m[32m          the loop, the action or actions that must take place multiple times. If we did[m
[32m+[m[32m          not have to print the numbers, the program could have been:[m
[32m+[m
[32m+[m[32m               var currentNumber = 0;[m
[32m+[m[32m               while (currentNumber <= 12)[m
[32m+[m
[32m+[m[32m                  currentNumber = currentNumber + 2;[m
[32m+[m
[32m+[m[32m          Here, currentNumber = currentNumber + 2; is the statement that forms the[m
[32m+[m[32m          body of the loop. We must also print the number, though, so the loop[m
[32m+[m[32m          statement must consist of more than one statement. Braces ({ and }) are[m
[32m+[m[32m          used to group statements into blocks. To the world outside the block, a block[m
[32m+[m[32m          counts as a single statement. In the earlier example, this is used to include in[m
[32m+[m[32m          the loop both the call to print and the statement that updates currentNumber.[m
[32m+[m
[32m+[m[32mEx. 2.2 Use the techniques shown so far to write a program that calculates and[m
[32m+[m[32m          shows the value of 210 (2 to the 10th power). You are, obviously, not allowed[m
[32m+[m[32m          to use a cheap trick like just writing 2 * 2 * ....[m
[32m+[m
[32m+[m[32m          If you are having trouble with this, try to see it in terms of the even-numbers[m
[32m+[m[32m          example. The program must perform an action a certain amount of times. A[m
[32m+[m[32m          counter variable with a while loop can be used for that. Instead of printing the[m
[32m+[m[32m          counter, the program must multiply something by 2. This something should be[m
[32m+[m[32m          another variable, in which the result value is built up.[m
[32m+[m
[32m+[m[32m          Don't worry if you don't quite see how this would work yet. Even if you[m
[32m+[m[32m          perfectly understand all the techniques this chapter covers, it can be hard to[m
[32m+[m[32m          apply them to a specific problem. Reading and writing code will help develop a[m
[32m+[m[32m          feeling for this, so study the solution, and try the next exercise.[m
[32m+[m
[32m+[m[32m              var result = 1;[m
[32m+[m[32m              var counter = 0;[m
[32m+[m[32m              while (counter < 10) {[m
[32m+[m
[32m+[m[32m                  result = result * 2;[m
[32m+[m[32m                  counter = counter + 1;[m
[32m+[m[32m              }[m
[32m+[m[32m              show(result);[m
[32m+[m
[32m+[m[32m          The counter could also start at 1 and check for <= 10, but, for reasons that[m
[32m+[m[32m          will become apparent later on, it is a good idea to get used to counting from[m
[32m+[m[32m          0.[m
[32m+[m
[32m+[m[32m          Obviously, your own solutions aren't required to be precisely the same as[m
[32m+[m[32m          mine. They should work. And if they are very different, make sure you also[m
[32m+[m[32m          understand my solution.[m
[32m+[m
[32m+[m[32mEx. 2.3 With some slight modifications, the solution to the previous exercise can be[m
[32m+[m[32m          made to draw a triangle. And when I say 'draw a triangle' I mean 'print out[m
[32m+[m[32m          some text that almost looks like a triangle when you squint'.[m
[32m+[m
[32m+[m[32m          Print out ten lines. On the first line there is one '#' character. On the second[m
[32m+[m[32m          there are two. And so on.[m
[32m+[m
[32m+[m[32m          How does one get a string with X '#' characters in it? One way is to build it[m
[32m+[m[32m          every time it is needed with an 'inner loop' â€• a loop inside a loop. A simpler[m
[32m+[m[32m          way is to reuse the string that the previous iteration of the loop used, and[m
[32m+[m[32m          add one character to it.[m
[32m+[m
[32m+[m[32m              var line = "";[m
[32m+[m[32m              var counter = 0;[m
[32m+[m[32m              while (counter < 10) {[m
[32m+[m
[32m+[m[32m                  line = line + "#";[m
[32m+[m[32m                  print(line);[m
[32m+[m[32m                  counter = counter + 1;[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m          You will have noticed the spaces I put in front of some statements. These are[m
[32m+[m[32m          not required: The computer will accept the program just fine without them. In[m
[32m+[m[32m          fact, even the line breaks in programs are optional. You could write them as a[m
[32m+[m[32m          single long line if you felt like it. The role of the indentation inside blocks is to[m
[32m+[m[32m          make the structure of the code clearer to a reader. Because new blocks can[m
[32m+[m[32m          be opened inside other blocks, it can become hard to see where one block[m
[32m+[m[32m          ends and another begins in a complex piece of code. When lines are indented,[m
[32m+[m[32m          the visual shape of a program corresponds to the shape of the blocks inside[m
[32m+[m[32mit. I like to use two spaces for every open block, but tastes differ.[m
[32m+[m
[32m+[m[32mOn browsers other than Opera, the field in the console where you can type[m
[32m+[m[32mprograms will help you by automatically adding these spaces. This may seem[m
[32m+[m[32mannoying at first, but when you write a lot of code it becomes a huge[m
[32m+[m[32mtime-saver. Pressing the tab key will re-indent the line your cursor is currently[m
[32m+[m[32mon.[m
[32m+[m
[32m+[m[32mIn some cases, JavaScript allows you to omit the semicolon at the end of a[m
[32m+[m[32mstatement. In other cases, it has to be there or strange things will happen.[m
[32m+[m[32mThe rules for when it can be safely omitted are complex and weird. In this[m
[32m+[m[32mbook, every statement that needs a semicolon will always be terminated by[m
[32m+[m[32mone, and I strongly urge you to do the same with your own statements.[m
[32m+[m
[32m+[m[32mThe uses of while we have seen so far all show the same pattern. First, a[m
[32m+[m[32m'counter' variable is created. This variable tracks the progress of the loop. The[m
[32m+[m[32mwhile itself contains a check, usually to see whether the counter has reached[m
[32m+[m[32msome boundary yet. Then, at the end of the loop body, the counter is[m
[32m+[m[32mupdated.[m
[32m+[m
[32m+[m[32mA lot of loops fall into this pattern. For this reason, JavaScript, and similar[m
[32m+[m[32mlanguages, also provide a slightly shorter and more comprehensive form:[m
[32m+[m
[32m+[m[32m   for (var number = 0; number <= 12; number = number + 2)[m
[32m+[m[32m       show(number);[m
[32m+[m
[32m+[m[32mThis program is exactly equivalent to the earlier even-number-printing[m
[32m+[m[32mexample. The only change is that all the statements that are related to the[m
[32m+[m[32m'state' of the loop are now on one line. The parentheses after the for should[m
[32m+[m[32mcontain two semicolons. The part before the first semicolon initialises the loop,[m
[32m+[m[32musually by defining a variable. The second part is the expression that checks[m
[32m+[m[32mwhether the loop must still continue. The final part updates the state of the[m
[32m+[m[32mloop. In most cases this is shorter and clearer than a while construction.[m
[32m+[m
[32m+[m[32mI have been using some rather odd capitalisation in some variable names.[m
[32m+[m[32mBecause you can not have spaces in these names â€• the computer would read[m
[32m+[m[32mthem as two separate variables â€• your choices for a name that is made of[m
[32m+[m[32mseveral words are more or less limited to the following: fuzzylittleturtle,[m
[32m+[m[32mfuzzy_little_turtle, FuzzyLittleTurtle, or fuzzyLittleTurtle. The first one is[m
[32m+[m[32mhard to read. Personally, I like the one with the underscores, though it is a[m
[32m+[m[32mlittle painful to type. However, the standard JavaScript functions, and most[m
[32m+[m[32mJavaScript programmers, follow the last one. It is not hard to get used to little[m
[32m+[m[32mthings like that, so I will just follow the crowd and capitalise the first letter of[m
[32m+[m[32mevery word after the first.[m
[32m+[m
[32m+[m[32mIn a few cases, such as the Number function, the first letter of a variable is[m
[32m+[m[32malso capitalised. This was done to mark this function as a constructor. What a[m
[32m+[m[32mconstructor is will become clear in chapter 8. For now, the important thing is[m
[32m+[m[32mnot to be bothered by this apparent lack of consistency.[m
[32m+[m
[32m+[m[32mNote that names that have a special meaning, such as var, while, and for[m
[32m+[m[32mmay not be used as variable names. These are called keywords. There are[m
[32m+[m[32m          also a number of words which are 'reserved for use' in future versions of[m
[32m+[m[32m          JavaScript. These are also officially not allowed to be used as variable names,[m
[32m+[m[32m          though some browsers do allow them. The full list is rather long:[m
[32m+[m
[32m+[m[32m               abstract boolean break byte case catch char class const continue[m
[32m+[m[32m               debugger default delete do double else enum export extends false[m
[32m+[m[32m               final finally float for function goto if implements import in[m
[32m+[m[32m               instanceof int interface long native new null package private[m
[32m+[m[32m               protected public return short static super switch synchronized[m
[32m+[m[32m               this throw throws transient true try typeof var void volatile[m
[32m+[m[32m               while with[m
[32m+[m
[32m+[m[32m          Don't worry about memorising these for now, but remember that this might[m
[32m+[m[32m          be the problem when something does not work as expected. In my[m
[32m+[m[32m          experience, char (to store a one-character string) and class are the most[m
[32m+[m[32m          common names to accidentally use.[m
[32m+[m
[32m+[m[32mEx. 2.4 Rewrite the solutions of the previous two exercises to use for instead of[m
[32m+[m[32m          while.[m
[32m+[m
[32m+[m[32m              var result = 1;[m
[32m+[m[32m              for (var counter = 0; counter < 10; counter = counter + 1)[m
[32m+[m
[32m+[m[32m                  result = result * 2;[m
[32m+[m[32m              show(result);[m
[32m+[m
[32m+[m[32m          Note that even if no block is opened with a '{', the statement in the loop is[m
[32m+[m[32m          still indented two spaces to make it clear that it 'belongs' to the line above it.[m
[32m+[m
[32m+[m[32m              var line = "";[m
[32m+[m[32m              for (var counter = 0; counter < 10; counter = counter + 1) {[m
[32m+[m
[32m+[m[32m                  line = line + "#";[m
[32m+[m[32m                  print(line);[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m          A program often needs to 'update' a variable with a value that is based on its[m
[32m+[m[32m          previous value. For example counter = counter + 1. JavaScript provides a[m
[32m+[m[32m          shortcut for this: counter += 1. This also works for many other operators, for[m
[32m+[m[32m          example result *= 2 to double the value of result, or counter -= 1 to count[m
[32m+[m[32m          downwards.[m
[32m+[m
[32m+[m[32m          For counter += 1 and counter -= 1 there are even shorter versions: counter++[m
[32m+[m[32m          and counter--.[m
[32m+[m
[32m+[m[32m          Loops are said to affect the control flow of a program. They change the order[m
[32m+[m[32m          in which statements are executed. In many cases, another kind of flow is[m
[32m+[m[32m          useful: skipping statements.[m
[32m+[m
[32m+[m[32m          We want to show all numbers between 0 and 20 which are divisible both by 3[m
[32m+[m[32m          and by 4.[m
[32m+[m
[32m+[m[32m               for (var counter = 0; counter < 20; counter++) {[m
[32m+[m[32m                  if (counter % 3 == 0 && counter % 4 == 0)[m
[32m+[m[32m                      show(counter);[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m          The keyword if is not too different from the keyword while: It checks the[m
[32m+[m[32m          condition it is given (between parentheses), and executes the statement after[m
[32m+[m[32m          it based on this condition. But it does this only once, so that the statement is[m
[32m+[m[32m          executed zero or one time.[m
[32m+[m
[32m+[m[32m          The trick with the modulo (%) operator is an easy way to test whether a[m
[32m+[m[32m          number is divisible by another number. If it is, the remainder of their division,[m
[32m+[m[32m          which is what modulo gives you, is zero.[m
[32m+[m
[32m+[m[32m          If we wanted to print all of the numbers between 0 and 20, but put[m
[32m+[m[32m          parentheses around the ones that are not divisible by 4, we can do it like this:[m
[32m+[m
[32m+[m[32m               for (var counter = 0; counter < 20; counter++) {[m
[32m+[m[32m                  if (counter % 4 == 0)[m
[32m+[m[32m                      print(counter);[m
[32m+[m[32m                  if (counter % 4 != 0)[m
[32m+[m[32m                      print("(" + counter + ")");[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m          But now the program has to determine whether counter is divisible by 4 two[m
[32m+[m[32m          times. The same effect can be gotten by appending an else part after an if[m
[32m+[m[32m          statement. The else statement is executed only when the if's condition is[m
[32m+[m[32m          false.[m
[32m+[m
[32m+[m[32m               for (var counter = 0; counter < 20; counter++) {[m
[32m+[m[32m                  if (counter % 4 == 0)[m
[32m+[m[32m                      print(counter);[m
[32m+[m[32m                  else[m
[32m+[m[32m                      print("(" + counter + ")");[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m          To stretch this trivial example a bit further, we now want to print these same[m
[32m+[m[32m          numbers, but add two stars after them when they are greater than 15, one[m
[32m+[m[32m          star when they are greater than 10 (but not greater than 15), and no stars[m
[32m+[m[32m          otherwise.[m
[32m+[m
[32m+[m[32m               for (var counter = 0; counter < 20; counter++) {[m
[32m+[m[32m                  if (counter > 15)[m
[32m+[m[32m                      print(counter + "**");[m
[32m+[m[32m                  else if (counter > 10)[m
[32m+[m[32m                      print(counter + "*");[m
[32m+[m[32m                  else[m
[32m+[m[32m                      print(counter);[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m          This demonstrates that you can chain if statements together. In this case,[m
[32m+[m[32m          the program first looks if counter is greater than 15. If it is, the two stars are[m
[32m+[m[32m          printed and the other tests are skipped. If it is not, we continue to check if[m
[32m+[m[32m          counter is greater than 10. Only if counter is also not greater than 10 does it[m
[32m+[m[32m          arrive at the last print statement.[m
[32m+[m
[32m+[m[32mEx. 2.5 Write a program to ask yourself, using prompt, what the value of 2 + 2 is. If[m
[32m+[m[32m          the answer is "4", use alert to say something praising. If it is "3" or "5", say[m
[32m+[m[32m          "Almost!". In other cases, say something mean.[m
[32m+[m
[32m+[m[32m              var answer = prompt("You! What is the value of 2 + 2?", "");[m
[32m+[m[32m              if (answer == "4")[m
[32m+[m
[32m+[m[32m                  alert("You must be a genius or something.");[m
[32m+[m[32m              else if (answer == "3" || answer == "5")[m
[32m+[m
[32m+[m[32m                  alert("Almost!");[m
[32m+[m[32m              else[m
[32m+[m
[32m+[m[32m                  alert("You're an embarrassment.");[m
[32m+[m
[32m+[m[32m          When a loop does not always have to go all the way through to its end, the[m
[32m+[m[32m          break keyword can be useful. It immediately jumps out of the current loop,[m
[32m+[m[32m          continuing after it. This program finds the first number that is greater than 20[m
[32m+[m[32m          and divisible by 7:[m
[32m+[m
[32m+[m[32m               for (var current = 20; ; current++) {[m
[32m+[m[32m                  if (current % 7 == 0)[m
[32m+[m[32m                      break;[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m[32m               print(current);[m
[32m+[m
[32m+[m[32m          The for construct does not have a part that checks for the end of the loop.[m
[32m+[m[32m          This means that it is dependant on the break statement inside it to ever stop.[m
[32m+[m[32m          The same program could also have been written as simply...[m
[32m+[m
[32m+[m[32m               for (var current = 20; current % 7 != 0; current++)[m
[32m+[m[32m                  ;[m
[32m+[m
[32m+[m[32m               print(current);[m
[32m+[m
[32m+[m[32m          In this case, the body of the loop is empty. A lone semicolon can be used to[m
[32m+[m[32m          produce an empty statement. Here, the only effect of the loop is to increment[m
[32m+[m[32m          the variable current to its desired value. But I needed an example that uses[m
[32m+[m[32m          break, so pay attention to the first version too.[m
[32m+[m
[32m+[m[32mEx. 2.6 Add a while and optionally a break to your solution for the previous exercise,[m
[32m+[m[32m          so that it keeps repeating the question until a correct answer is given.[m
[32m+[m
[32m+[m[32m          Note that while (true) ... can be used to create a loop that does not end on[m
[32m+[m[32m          its own account. This is a bit silly, you ask the program to loop as long as true[m
[32m+[m[32m          is true, but it is a useful trick.[m
[32m+[m
[32m+[m[32m              var answer;[m
[32m+[m[32m              while (true) {[m
[32m+[m
[32m+[m[32m                  answer = prompt("You! What is the value of 2 + 2?", "");[m
[32m+[m[32m                  if (answer == "4") {[m
[32m+[m
[32m+[m[32m                      alert("You must be a genius or something.");[m
[32m+[m[32m                      break;[m
[32m+[m[32m                  }[m
[32m+[m[32m                  else if (answer == "3" || answer == "5") {[m
[32m+[m[32m                      alert("Almost!");[m
[32m+[m[32m                  }[m
[32m+[m[32m                  else {[m
[32m+[m[32m                      alert("You're an embarrassment.");[m
[32m+[m[32m                  }[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mBecause the first if's body now has two statements, I added braces around[m
[32m+[m[32mall the bodies. This is a matter of taste. Having an if/else chain where some[m
[32m+[m[32mof the bodies are blocks and others are single statements looks a bit lopsided[m
[32m+[m[32mto me, but you can make up your own mind about that.[m
[32m+[m
[32m+[m[32mAnother solution, arguably nicer, but without break:[m
[32m+[m
[32m+[m[32m   var value = null;[m
[32m+[m[32m   while (value != "4") {[m
[32m+[m
[32m+[m[32m       value = prompt("You! What is the value of 2 + 2?", "");[m
[32m+[m[32m       if (value == "4")[m
[32m+[m
[32m+[m[32m          alert("You must be a genius or something.");[m
[32m+[m[32m       else if (value == "3" || value == "5")[m
[32m+[m
[32m+[m[32m          alert("Almost!");[m
[32m+[m[32m       else[m
[32m+[m
[32m+[m[32m          alert("You're an embarrassment.");[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mIn the solution to the previous exercise there is a statement var answer;. This[m
[32m+[m[32mcreates a variable named answer, but does not give it a value. What happens[m
[32m+[m[32mwhen you take the value of this variable?[m
[32m+[m
[32m+[m[32m   var mysteryVariable;[m
[32m+[m[32m   show(mysteryVariable);[m
[32m+[m
[32m+[m[32mIn terms of tentacles, this variable ends in thin air, it has nothing to grasp.[m
[32m+[m[32mWhen you ask for the value of an empty place, you get a special value named[m
[32m+[m[32mundefined. Functions which do not return an interesting value, such as print[m
[32m+[m[32mand alert, also return an undefined value.[m
[32m+[m
[32m+[m[32m   show(alert("I am a side effect."));[m
[32m+[m
[32m+[m[32mThere is also a similar value, null, whose meaning is 'this value is defined, but[m
[32m+[m[32mit does not have a value'. The difference in meaning between undefined and[m
[32m+[m[32mnull is mostly academic, and usually not very interesting. In practical[m
[32m+[m[32mprograms, it is often necessary to check whether something 'has a value'. In[m
[32m+[m[32mthese cases, the expression something == undefined may be used, because,[m
[32m+[m[32meven though they are not exactly the same value, null == undefined will[m
[32m+[m[32mproduce true.[m
[32m+[m
[32m+[m[32mWhich brings us to another tricky subject...[m
[32m+[m
[32m+[m[32m   show(false == 0);[m
[32m+[m[32m   show("" == 0);[m
[32m+[m[32m   show("5" == 5);[m
[32m+[m
[32m+[m[32mAll these give the value true. When comparing values that have different[m
[32m+[m[32mtypes, JavaScript uses a complicated and confusing set of rules. I am not[m
[32m+[m[32mgoing to try to explain them precisely, but in most cases it just tries to convert[m
[32m+[m[32mone of the values to the type of the other value. However, when null or[m
[32m+[m[32mundefined occur, it only produces true if both sides are null or undefined.[m
[32m+[m[32mWhat if you want to test whether a variable refers to the value false? The[m
[32m+[m[32mrules for converting strings and numbers to boolean values state that 0 and[m
[32m+[m[32mthe empty string count as false, while all the other values count as true.[m
[32m+[m[32mBecause of this, the expression variable == false is also true when variable[m
[32m+[m[32mrefers to 0 or "". For cases like this, where you do not want any automatic[m
[32m+[m[32mtype conversions to happen, there are two extra operators: === and !==. The[m
[32m+[m[32mfirst tests whether a value is precisely equal to the other, and the second[m
[32m+[m[32mtests whether it is not precisely equal.[m
[32m+[m
[32m+[m[32m   show(null === undefined);[m
[32m+[m[32m   show(false === 0);[m
[32m+[m[32m   show("" === 0);[m
[32m+[m[32m   show("5" === 5);[m
[32m+[m
[32m+[m[32mAll these are false.[m
[32m+[m
[32m+[m[32mValues given as the condition in an if, while, or for statement do not have to[m
[32m+[m[32mbe booleans. They will be automatically converted to booleans before they are[m
[32m+[m[32mchecked. This means that the number 0, the empty string "", null, undefined,[m
[32m+[m[32mand of course false, will all count as false.[m
[32m+[m
[32m+[m[32mThe fact that all other values are converted to true in this case makes it[m
[32m+[m[32mpossible to leave out explicit comparisons in many situations. If a variable is[m
[32m+[m[32mknown to contain either a string or null, one could check for this very[m
[32m+[m[32msimply...[m
[32m+[m
[32m+[m[32m   var maybeNull = null;[m
[32m+[m[32m   // ... mystery code that might put a string into maybeNull ...[m
[32m+[m[32m   if (maybeNull)[m
[32m+[m
[32m+[m[32m       print("maybeNull has a value");[m
[32m+[m
[32m+[m[32mExcept in the case where the mystery code gives maybeNull the value "". An[m
[32m+[m[32mempty string is false, so nothing is printed. Depending on what you are trying[m
[32m+[m[32mto do, this might be wrong. It is often a good idea to add an explicit === null[m
[32m+[m[32mor === false in cases like this to prevent subtle mistakes. The same occurs[m
[32m+[m[32mwith number values that might be 0.[m
[32m+[m
[32m+[m[32mThe line that talks about 'mystery code' in the previous example might have[m
[32m+[m[32mlooked a bit suspicious to you. It is often useful to include extra text in a[m
[32m+[m[32mprogram. The most common use for this is adding some explanations in[m
[32m+[m[32mhuman language to a program.[m
[32m+[m
[32m+[m[32m   // The variable counter, which is about to be defined, is going[m
[32m+[m[32m   // to start with a value of 0, which is zero.[m
[32m+[m[32m   var counter = 0;[m
[32m+[m[32m   // Now, we are going to loop, hold on to your hat.[m
[32m+[m[32m   while (counter < 100 /* counter is less than one hundred */)[m
[32m+[m[32m   /* Every time we loop, we INCREMENT the value of counter,[m
[32m+[m
[32m+[m[32m         Seriously, we just add one to it. */[m
[32m+[m[32m       counter++;[m
[32m+[m[32m   // And then, we are done.[m
[32m+[m
[32m+[m[32mThis kind of text is called a comment. The rules are like this: '/*' starts a[m
[32m+[m[32mcomment that goes on until a '*/' is found. '//' starts another kind of[m
[32m+[m[32mcomment, which goes on until the end of the line.[m
[32m+[m
[32m+[m[32mAs you can see, even the simplest programs can be made to look big, ugly,[m
[32m+[m[32mand complicated by simply adding a lot of comments to them.[m
[32m+[m
[32m+[m[32mThere are some other situations that cause automatic type conversions to[m
[32m+[m[32mhappen. If you add a non-string value to a string, the value is automatically[m
[32m+[m[32mconverted to a string before it is concatenated. If you multiply a number and[m
[32m+[m[32ma string, JavaScript tries to make a number out of the string.[m
[32m+[m
[32m+[m[32m   show("Apollo" + 5);[m
[32m+[m[32m   show(null + "ify");[m
[32m+[m[32m   show("5" * 5);[m
[32m+[m[32m   show("strawberry" * 5);[m
[32m+[m
[32m+[m[32mThe last statement prints NaN, which is a special value. It stands for 'not a[m
[32m+[m[32mnumber', and is of type number (which might sound a little contradictory). In[m
[32m+[m[32mthis case, it refers to the fact that a strawberry is not a number. All arithmetic[m
[32m+[m[32moperations on the value NaN result in NaN, which is why multiplying it by 5, as in[m
[32m+[m[32mthe example, still gives a NaN value. Also, and this can be disorienting at times,[m
[32m+[m[32mNaN == NaN equals false, checking whether a value is NaN can be done with the[m
[32m+[m[32misNaN function.[m
[32m+[m
[32m+[m[32mThese automatic conversions can be very convenient, but they are also rather[m
[32m+[m[32mweird and error prone. Even though + and * are both arithmetic operators,[m
[32m+[m[32mthey behave completely different in the example. In my own code, I use + on[m
[32m+[m[32mnon-strings a lot, but make it a point not to use * and the other numeric[m
[32m+[m[32moperators on string values. Converting a number to a string is always possible[m
[32m+[m[32mand straightforward, but converting a string to a number may not even work[m
[32m+[m[32m(as in the last line of the example). We can use Number to explicitly convert the[m
[32m+[m[32mstring to a number, making it clear that we might run the risk of getting a NaN[m
[32m+[m[32mvalue.[m
[32m+[m
[32m+[m[32m   show(Number("5") * 5);[m
[32m+[m
[32m+[m[32mWhen we discussed the boolean operators && and || earlier, I claimed they[m
[32m+[m[32mproduced boolean values. This turns out to be a bit of an oversimplification. If[m
[32m+[m[32myou apply them to boolean values, they will indeed return booleans. But they[m
[32m+[m[32mcan also be applied to other kinds of values, in which case they will return one[m
[32m+[m[32mof their arguments.[m
[32m+[m
[32m+[m[32mWhat || really does is this: It looks at the value to the left of it first. If[m
[32m+[m[32mconverting this value to a boolean would produce true, it returns this left[m
[32m+[m[32mvalue, and otherwise it returns the one on its right. Check for yourself that[m
[32m+[m[32mthis does the correct thing when the arguments are booleans. Why does it[m
[32m+[m[32mwork like that? It turns out this is very practical. Consider this example:[m
[32m+[m
[32m+[m[32m   var input = prompt("What is your name?", "Kilgore Trout");[m
[32m+[m[32m   print("Well hello " + (input || "dear"));[m
[32m+[m
[32m+[m[32mIf the user presses 'Cancel' or closes the prompt dialog in some other way[m
[32m+[m[32mwithout giving a name, the variable input will hold the value null or "". Both[m
[32m+[m[32mof these would give false when converted to a boolean. The expression input[m
[32m+[m[32m|| "dear" can in this case be read as 'the value of the variable input, or else[m
[32m+[m[32mthe string "dear"'. It is an easy way to provide a 'fallback' value.[m
[32m+[m
[32m+[m[32mThe && operator works similarly, but the other way around. When the value to[m
[32m+[m[32mits left is something that would give false when converted to a boolean, it[m
[32m+[m[32mreturns that value, and otherwise it returns the value on its right.[m
[32m+[m
[32m+[m[32mAnother property of these two operators is that the expression to their right is[m
[32m+[m[32monly evaluated when necessary. In the case of true || X, no matter what X is,[m
[32m+[m[32mthe result will be true, so X is never evaluated, and if it has side effects they[m
[32m+[m[32mnever happen. The same goes for false && X.[m
[32m+[m
[32m+[m[32m    false || alert("I'm happening!");[m
[32m+[m[32m    true || alert("Not me.");[m
[32m+[m
[32m+[m[32m1. Bits are any kinds of two-valued things, usually described as 0s and 1s. Inside the computer, they take forms[m
[32m+[m[32m    like a high or low electrical charge, a strong or weak signal, a shiny or dull spot on the surface of a CD.[m
[32m+[m
[32m+[m[32m2. If you were expecting something like 10010000 here â€• good call, but read on. JavaScript's numbers are not[m
[32m+[m[32m    stored as integers.[m
[32m+[m
[32m+[m[32m3. Actually, 53, because of a trick that can be used to get one bit for free. Look up the 'IEEE 754' format if you are[m
[32m+[m[32m    curious about the details.[m
[32m+[m
[32m+[m[32m4. When you type string values at the console, you'll notice that they will come back with the quotes and[m
[32m+[m[32m    backslashes the way you typed them. To get special characters to show properly, you can do print("a\nb") â€•[m
[32m+[m[32m    why this works, we will see in a moment.[m
[32m+[m
[32m+[m[32m5. The bit bucket is supposedly the place where old bits are kept. On some systems, the programmer has to[m
[32m+[m[32m    manually empty it now and then. Fortunately, JavaScript comes with a fully-automatic bit-recycling system.[m
[32m+[m[32mChapter 3:[m
[32m+[m
[32m+[m[32m       A program often needs to do the same thing in different places. Repeating all[m
[32m+[m[32m       the necessary statements every time is tedious and error-prone. It would be[m
[32m+[m[32m       better to put them in one place, and have the program take a detour through[m
[32m+[m[32m       there whenever necessary. This is what functions were invented for: They are[m
[32m+[m[32m       canned code that a program can go through whenever it wants. Putting a[m
[32m+[m[32m       string on the screen requires quite a few statements, but when we have a[m
[32m+[m[32m       print function we can just write print("Aleph") and be done with it.[m
[32m+[m
[32m+[m[32m       To view functions merely as canned chunks of code doesn't do them justice[m
[32m+[m[32m       though. When needed, they can play the role of pure functions, algorithms,[m
[32m+[m[32m       indirections, abstractions, decisions, modules, continuations, data structures,[m
[32m+[m[32m       and more. Being able to effectively use functions is a necessary skill for any[m
[32m+[m[32m       kind of serious programming. This chapter provides an introduction into the[m
[32m+[m[32m       subject, chapter 6 discusses the subtleties of functions in more depth.[m
[32m+[m
[32m+[m[32m       Pure functions, for a start, are the things that were called functions in the[m
[32m+[m[32m       mathematics classes that I hope you have been subjected to at some point in[m
[32m+[m[32m       your life. Taking the cosine or the absolute value of a number is a pure[m
[32m+[m[32m       function of one argument. Addition is a pure function of two arguments.[m
[32m+[m
[32m+[m[32m       The defining properties of pure functions are that they always return the[m
[32m+[m[32m       same value when given the same arguments, and never have side effects.[m
[32m+[m[32m       They take some arguments, return a value based on these arguments, and[m
[32m+[m[32m       do not monkey around with anything else.[m
[32m+[m
[32m+[m[32m       In JavaScript, addition is an operator, but it could be wrapped in a function[m
[32m+[m[32m       like this (and as pointless as this looks, we will come across situations where[m
[32m+[m[32m       it is actually useful):[m
[32m+[m
[32m+[m[32m            function add(a, b) {[m
[32m+[m[32m               return a + b;[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            show(add(2, 2));[m
[32m+[m
[32m+[m[32m       add is the name of the function. a and b are the names of the two arguments.[m
[32m+[m[32m       return a + b; is the body of the function.[m
[32m+[m
[32m+[m[32m       The keyword function is always used when creating a new function. When it[m
[32m+[m[32m       is followed by a variable name, the resulting function will be stored under this[m
[32m+[m[32m       name. After the name comes a list of argument names, and then finally the[m
[32m+[m[32m       body of the function. Unlike those around the body of while loops or if[m
[32m+[m[32m       statements, the braces around a function body are obligatory1.[m
[32m+[m
[32m+[m[32m       The keyword return, followed by an expression, is used to determine the[m
[32m+[m[32m       value the function returns. When control comes across a return statement, it[m
[32m+[m[32m       immediately jumps out of the current function and gives the returned value to[m
[32m+[m[32m          the code that called the function. A return statement without an expression[m
[32m+[m[32m          after it will cause the function to return undefined.[m
[32m+[m
[32m+[m[32m          A body can, of course, have more than one statement in it. Here is a function[m
[32m+[m[32m          for computing powers (with positive, integer exponents):[m
[32m+[m
[32m+[m[32m               function power(base, exponent) {[m
[32m+[m[32m                  var result = 1;[m
[32m+[m[32m                  for (var count = 0; count < exponent; count++)[m
[32m+[m[32m                      result *= base;[m
[32m+[m[32m                  return result;[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               show(power(2, 10));[m
[32m+[m
[32m+[m[32m          If you solved exercise 2.2, this technique for computing a power should look[m
[32m+[m[32m          familiar.[m
[32m+[m
[32m+[m[32m          Creating a variable (result) and updating it are side effects. Didn't I just say[m
[32m+[m[32m          pure functions had no side effects?[m
[32m+[m
[32m+[m[32m          A variable created inside a function exists only inside the function. This is[m
[32m+[m[32m          fortunate, or a programmer would have to come up with a different name for[m
[32m+[m[32m          every variable he needs throughout a program. Because result only exists[m
[32m+[m[32m          inside power, the changes to it only last until the function returns, and from[m
[32m+[m[32m          the perspective of code that calls it there are no side effects.[m
[32m+[m
[32m+[m[32mEx. 3.1 Write a function called absolute, which returns the absolute value of the[m
[32m+[m[32m          number it is given as its argument. The absolute value of a negative number[m
[32m+[m[32m          is the positive version of that same number, and the absolute value of a[m
[32m+[m[32m          positive number (or zero) is that number itself.[m
[32m+[m
[32m+[m[32m              function absolute(number) {[m
[32m+[m[32m                  if (number < 0)[m
[32m+[m[32m                      return -number;[m
[32m+[m[32m                  else[m
[32m+[m[32m                      return number;[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              show(absolute(-144));[m
[32m+[m
[32m+[m[32m          Pure functions have two very nice properties. They are easy to think about,[m
[32m+[m[32m          and they are easy to re-use.[m
[32m+[m
[32m+[m[32m          If a function is pure, a call to it can be seen as a thing in itself. When you are[m
[32m+[m[32m          not sure that it is working correctly, you can test it by calling it directly from[m
[32m+[m[32m          the console, which is simple because it does not depend on any context2. It is[m
[32m+[m[32m          easy to make these tests automatic â€• to write a program that tests a specific[m
[32m+[m[32m          function. Non-pure functions might return different values based on all kinds[m
[32m+[m[32m          of factors, and have side effects that might be hard to test and think about.[m
[32m+[m
[32m+[m[32m          Because pure functions are self-sufficient, they are likely to be useful and[m
[32m+[m[32m          relevant in a wider range of situations than non-pure ones. Take show, for[m
[32m+[m[32m          example. This function's usefulness depends on the presence of a special[m
[32m+[m[32mplace on the screen for printing output. If that place is not there, the function[m
[32m+[m[32mis useless. We can imagine a related function, let's call it format, that takes a[m
[32m+[m[32mvalue as an argument and returns a string that represents this value. This[m
[32m+[m[32mfunction is useful in more situations than show.[m
[32m+[m
[32m+[m[32mOf course, format does not solve the same problem as show, and no pure[m
[32m+[m[32mfunction is going to be able to solve that problem, because it requires a side[m
[32m+[m[32meffect. In many cases, non-pure functions are precisely what you need. In[m
[32m+[m[32mother cases, a problem can be solved with a pure function but the non-pure[m
[32m+[m[32mvariant is much more convenient or efficient.[m
[32m+[m
[32m+[m[32mThus, when something can easily be expressed as a pure function, write it[m
[32m+[m[32mthat way. But never feel dirty for writing non-pure functions.[m
[32m+[m
[32m+[m[32mFunctions with side effects do not have to contain a return statement. If no[m
[32m+[m[32mreturn statement is encountered, the function returns undefined.[m
[32m+[m
[32m+[m[32m   function yell(message) {[m
[32m+[m[32m       alert(message + "!!");[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   yell("Yow");[m
[32m+[m
[32m+[m[32mThe names of the arguments of a function are available as variables inside it.[m
[32m+[m[32mThey will refer to the values of the arguments the function is being called[m
[32m+[m[32mwith, and like normal variables created inside a function, they do not exist[m
[32m+[m[32moutside it. Aside from the top-level environment, there are smaller, local[m
[32m+[m[32menvironments created by function calls. When looking up a variable inside a[m
[32m+[m[32mfunction, the local environment is checked first, and only if the variable does[m
[32m+[m[32mnot exist there is it looked up in the top-level environment. This makes it[m
[32m+[m[32mpossible for variables inside a function to 'shadow' top-level variables that[m
[32m+[m[32mhave the same name.[m
[32m+[m
[32m+[m[32m   function alertIsPrint(value) {[m
[32m+[m[32m       var alert = print;[m
[32m+[m[32m       alert(value);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   alertIsPrint("Troglodites");[m
[32m+[m
[32m+[m[32mThe variables in this local environment are only visible to the code inside the[m
[32m+[m[32mfunction. If this function calls another function, the newly called function does[m
[32m+[m[32mnot see the variables inside the first function:[m
[32m+[m
[32m+[m[32m   var variable = "top-level";[m
[32m+[m
[32m+[m[32m   function printVariable() {[m
[32m+[m[32m       print("inside printVariable, the variable holds '" +[m
[32m+[m[32m                  variable + "'.");[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function test() {[m
[32m+[m[32m       var variable = "local";[m
[32m+[m[32m       print("inside test, the variable holds '" + variable + "'.");[m
[32m+[m[32m       printVariable();[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   test();[m
[32m+[m
[32m+[m[32mHowever, and this is a subtle but extremely useful phenomenon, when a[m
[32m+[m[32mfunction is defined inside another function, its local environment will be based[m
[32m+[m[32mon the local environment that surrounds it instead of the top-level[m
[32m+[m[32menvironment.[m
[32m+[m
[32m+[m[32m   var variable = "top-level";[m
[32m+[m[32m   function parentFunction() {[m
[32m+[m
[32m+[m[32m       var variable = "local";[m
[32m+[m[32m       function childFunction() {[m
[32m+[m
[32m+[m[32m          print(variable);[m
[32m+[m[32m       }[m
[32m+[m[32m       childFunction();[m
[32m+[m[32m   }[m
[32m+[m[32m   parentFunction();[m
[32m+[m
[32m+[m[32mWhat this comes down to is that which variables are visible inside a function is[m
[32m+[m[32mdetermined by the place of that function in the program text. All variables that[m
[32m+[m[32mwere defined 'above' a function's definition are visible, which means both[m
[32m+[m[32mthose in function bodies that enclose it, and those at the top-level of the[m
[32m+[m[32mprogram. This approach to variable visibility is called lexical scoping.[m
[32m+[m
[32m+[m[32mPeople who have experience with other programming languages might expect[m
[32m+[m[32mthat a block of code (between braces) also produces a new local environment.[m
[32m+[m[32mNot in JavaScript. Functions are the only things that create a new scope. You[m
[32m+[m[32mare allowed to use free-standing blocks like this...[m
[32m+[m
[32m+[m[32m   var something = 1;[m
[32m+[m[32m   {[m
[32m+[m
[32m+[m[32m       var something = 2;[m
[32m+[m[32m       print("Inside: " + something);[m
[32m+[m[32m   }[m
[32m+[m[32m   print("Outside: " + something);[m
[32m+[m
[32m+[m[32m... but the something inside the block refers to the same variable as the one[m
[32m+[m[32moutside the block. In fact, although blocks like this are allowed, they are[m
[32m+[m[32mutterly pointless. Most people agree that this is a bit of a design blunder by[m
[32m+[m[32mthe designers of JavaScript, and ECMAScript 4 is expected to add some way[m
[32m+[m[32mto define variables that stay inside blocks.[m
[32m+[m
[32m+[m[32mHere is a case that might surprise you:[m
[32m+[m
[32m+[m[32m   var variable = "top-level";[m
[32m+[m[32m   function parentFunction() {[m
[32m+[m
[32m+[m[32m       var variable = "local";[m
[32m+[m[32m       function childFunction() {[m
[32m+[m
[32m+[m[32m          print(variable);[m
[32m+[m[32m       }[m
[32m+[m[32m       return childFunction;[m
[32m+[m[32m   }[m
[32m+[m[32m   var child = parentFunction();[m
[32m+[m[32m   child();[m
[32m+[m
[32m+[m[32mparentFunction returns its internal function, and the code at the bottom calls[m
[32m+[m[32mthis function. Even though parentFunction has finished executing at this point,[m
[32m+[m[32mthe local environment where variable has the value "local" still exists, and[m
[32m+[m[32mchildFunction still uses it. This phenomenon is called closure.[m
[32m+[m
[32m+[m[32mApart from making it very easy to quickly see in which part of a program a[m
[32m+[m[32mvariable will be available by looking at the shape of the program text, lexical[m
[32m+[m[32mscoping also allows us to 'synthesise' functions. By using some of the variables[m
[32m+[m[32mfrom an enclosing function, an inner function can be made to do different[m
[32m+[m[32mthings. Imagine we need a few different but similar functions, one that adds 2[m
[32m+[m[32mto its argument, one that adds 5, and so on.[m
[32m+[m
[32m+[m[32m   function makeAddFunction(amount) {[m
[32m+[m[32m       function add(number) {[m
[32m+[m[32m          return number + amount;[m
[32m+[m[32m       }[m
[32m+[m[32m       return add;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var addTwo = makeAddFunction(2);[m
[32m+[m[32m   var addFive = makeAddFunction(5);[m
[32m+[m[32m   show(addTwo(1) + addFive(1));[m
[32m+[m
[32m+[m[32mOn top of the fact that different functions can contain variables of the same[m
[32m+[m[32mname without getting tangled up, these scoping rules also allow functions to[m
[32m+[m[32mcall themselves without running into problems. A function that calls itself is[m
[32m+[m[32mcalled recursive. Recursion allows for some interesting definitions. Look at this[m
[32m+[m[32mimplementation of power:[m
[32m+[m
[32m+[m[32m   function power(base, exponent) {[m
[32m+[m[32m       if (exponent == 0)[m
[32m+[m[32m          return 1;[m
[32m+[m[32m       else[m
[32m+[m[32m          return base * power(base, exponent - 1);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThis is rather close to the way mathematicians define exponentiation, and to[m
[32m+[m[32mme it looks a lot nicer than the earlier version. It sort of loops, but there is no[m
[32m+[m[32mwhile, for, or even a local side effect to be seen. By calling itself, the function[m
[32m+[m[32mproduces the same effect.[m
[32m+[m
[32m+[m[32mThere is one important problem though: In most browsers, this second[m
[32m+[m[32mversion is about ten times slower than the first one. In JavaScript, running[m
[32m+[m[32mthrough a simple loop is a lot cheaper than calling a function multiple times.[m
[32m+[m
[32m+[m[32mThe dilemma of speed versus elegance is an interesting one. It not only[m
[32m+[m[32moccurs when deciding for or against recursion. In many situations, an elegant,[m
[32m+[m[32mintuitive, and often short solution can be replaced by a more convoluted but[m
[32m+[m[32mfaster solution.[m
[32m+[m[32mIn the case of the power function above the un-elegant version is still[m
[32m+[m[32msufficiently simple and easy to read. It doesn't make very much sense to[m
[32m+[m[32mreplace it with the recursive version. Often, though, the concepts a program is[m
[32m+[m[32mdealing with get so complex that giving up some efficiency in order to make[m
[32m+[m[32mthe program more straightforward becomes an attractive choice.[m
[32m+[m
[32m+[m[32mThe basic rule, which has been repeated by many programmers and with[m
[32m+[m[32mwhich I wholeheartedly agree, is to not worry about efficiency until your[m
[32m+[m[32mprogram is provably too slow. When it is, find out which parts are too slow,[m
[32m+[m[32mand start exchanging elegance for efficiency in those parts.[m
[32m+[m
[32m+[m[32mOf course, the above rule doesn't mean one should start ignoring[m
[32m+[m[32mperformance altogether. In many cases, like the power function, not much[m
[32m+[m[32msimplicity is gained by the 'elegant' approach. In other cases, an experienced[m
[32m+[m[32mprogrammer can see right away that a simple approach is never going to be[m
[32m+[m[32mfast enough.[m
[32m+[m
[32m+[m[32mThe reason I am making a big deal out of this is that surprisingly many[m
[32m+[m[32mprogrammers focus fanatically on efficiency, even in the smallest details. The[m
[32m+[m[32mresult is bigger, more complicated, and often less correct programs, which[m
[32m+[m[32mtake longer to write than their more straightforward equivalents and often run[m
[32m+[m[32monly marginally faster.[m
[32m+[m
[32m+[m[32mBut I was talking about recursion. A concept closely related to recursion is a[m
[32m+[m[32mthing called the stack. When a function is called, control is given to the body[m
[32m+[m[32mof that function. When that body returns, the code that called the function is[m
[32m+[m[32mresumed. While the body is running, the computer must remember the[m
[32m+[m[32mcontext from which the function was called, so that it knows where to[m
[32m+[m[32mcontinue afterwards. The place where this context is stored is called the[m
[32m+[m[32mstack.[m
[32m+[m
[32m+[m[32mThe fact that it is called 'stack' has to do with the fact that, as we saw, a[m
[32m+[m[32mfunction body can again call a function. Every time a function is called,[m
[32m+[m[32manother context has to be stored. One can visualise this as a stack of[m
[32m+[m[32mcontexts. Every time a function is called, the current context is thrown on top[m
[32m+[m[32mof the stack. When a function returns, the context on top is taken off the[m
[32m+[m[32mstack and resumed.[m
[32m+[m
[32m+[m[32mThis stack requires space in the computer's memory to be stored. When the[m
[32m+[m[32mstack grows too big, the computer will give up with a message like "out of[m
[32m+[m[32mstack space" or "too much recursion". This is something that has to be kept in[m
[32m+[m[32mmind when writing recursive functions.[m
[32m+[m
[32m+[m[32m   function chicken() {[m
[32m+[m[32m       return egg();[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   function egg() {[m
[32m+[m
[32m+[m[32m       return chicken();[m
[32m+[m[32m   }[m
[32m+[m[32m   print(chicken() + " came first.");[m
[32m+[m
[32m+[m[32mIn addition to demonstrating a very interesting way of writing a broken[m
[32m+[m[32mprogram, this example shows that a function does not have to call itself[m
[32m+[m[32mdirectly to be recursive. If it calls another function which (directly or indirectly)[m
[32m+[m[32mcalls the first function again, it is still recursive.[m
[32m+[m
[32m+[m[32mRecursion is not always just a less-efficient alternative to looping. Some[m
[32m+[m[32mproblems are much easier to solve with recursion than with loops. Most often[m
[32m+[m[32mthese are problems that require exploring or processing several 'branches',[m
[32m+[m[32meach of which might branch out again into more branches.[m
[32m+[m
[32m+[m[32mConsider this puzzle: By starting from the number 1 and repeatedly either[m
[32m+[m[32madding 5 or multiplying by 3, an infinite amount of new numbers can be[m
[32m+[m[32mproduced. How would you write a function that, given a number, tries to find[m
[32m+[m[32ma sequence of additions and multiplications that produce that number?[m
[32m+[m
[32m+[m[32mFor example, the number 13 could be reached by first multiplying 1 by 3, and[m
[32m+[m[32mthen adding 5 twice. The number 15 can not be reached at all.[m
[32m+[m
[32m+[m[32mHere is the solution:[m
[32m+[m
[32m+[m[32m   function findSequence(goal) {[m
[32m+[m[32m       function find(start, history) {[m
[32m+[m[32m          if (start == goal)[m
[32m+[m[32m              return history;[m
[32m+[m[32m          else if (start > goal)[m
[32m+[m[32m              return null;[m
[32m+[m[32m          else[m
[32m+[m[32m              return find(start + 5, "(" + history + " + 5)") ||[m
[32m+[m[32m                           find(start * 3, "(" + history + " * 3)");[m
[32m+[m[32m       }[m
[32m+[m[32m       return find(1, "1");[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   print(findSequence(24));[m
[32m+[m
[32m+[m[32mNote that it doesn't necessarily find the shortest sequence of operations, it is[m
[32m+[m[32msatisfied when it finds any sequence at all.[m
[32m+[m
[32m+[m[32mThe inner find function, by calling itself in two different ways, explores both[m
[32m+[m[32mthe possibility of adding 5 to the current number and of multiplying it by 3.[m
[32m+[m[32mWhen it finds the number, it returns the history string, which is used to[m
[32m+[m[32mrecord all the operators that were performed to get to this number. It also[m
[32m+[m[32mchecks whether the current number is bigger than goal, because if it is, we[m
[32m+[m[32mshould stop exploring this branch, it is not going to give us our number.[m
[32m+[m
[32m+[m[32mThe use of the || operator in the example can be read as 'return the solution[m
[32m+[m[32mfound by adding 5 to start, and if that fails, return the solution found by[m
[32m+[m[32mmultiplying start by 3'. It could also have been written in a more wordy way[m
[32m+[m[32mlike this:[m
[32m+[m
[32m+[m[32m   else {[m
[32m+[m[32m       var found = find(start + 5, "(" + history + " + 5)");[m
[32m+[m[32m       if (found == null)[m
[32m+[m[32m          found = find(start * 3, history + " * 3");[m
[32m+[m[32m       return found;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mEven though function definitions occur as statements between the rest of the[m
[32m+[m[32m         program, they are not part of the same time-line:[m
[32m+[m
[32m+[m[32m            print("The future says: ", future());[m
[32m+[m
[32m+[m[32m            function future() {[m
[32m+[m[32m                return "We STILL have no flying cars.";[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m         What is happening is that the computer looks up all function definitions, and[m
[32m+[m[32m         stores the associated functions, before it starts executing the rest of the[m
[32m+[m[32m         program. The same happens with functions that are defined inside other[m
[32m+[m[32m         functions. When the outer function is called, the first thing that happens is[m
[32m+[m[32m         that all inner functions are added to the new environment.[m
[32m+[m
[32m+[m[32m         There is another way to define function values, which more closely resembles[m
[32m+[m[32m         the way other values are created. When the function keyword is used in a[m
[32m+[m[32m         place where an expression is expected, it is treated as an expression[m
[32m+[m[32m         producing a function value. Functions created in this way do not have to be[m
[32m+[m[32m         given a name (though it is allowed to give them one).[m
[32m+[m
[32m+[m[32m            var add = function(a, b) {[m
[32m+[m[32m                return a + b;[m
[32m+[m
[32m+[m[32m            };[m
[32m+[m[32m            show(add(5, 5));[m
[32m+[m
[32m+[m[32m         Note the semicolon after the definition of add. Normal function definitions do[m
[32m+[m[32m         not need these, but this statement has the same general structure as var add[m
[32m+[m[32m         = 22;, and thus requires the semicolon.[m
[32m+[m
[32m+[m[32m         This kind of function value is called an anonymous function, because it does[m
[32m+[m[32m         not have a name. Sometimes it is useless to give a function a name, like in[m
[32m+[m[32m         the makeAddFunction example we saw earlier:[m
[32m+[m
[32m+[m[32m            function makeAddFunction(amount) {[m
[32m+[m[32m                return function (number) {[m
[32m+[m[32m                   return number + amount;[m
[32m+[m[32m                };[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m         Since the function named add in the first version of makeAddFunction was[m
[32m+[m[32m         referred to only once, the name does not serve any purpose and we might as[m
[32m+[m[32m         well directly return the function value.[m
[32m+[m
[32m+[m[32mEx. 3.2  Write a function greaterThan, which takes one argument, a number, and[m
[32m+[m[32m         returns a function that represents a test. When this returned function is called[m
[32m+[m[32m         with a single number as argument, it returns a boolean: true if the given[m
[32m+[m[32m         number is greater than the number that was used to create the test function,[m
[32m+[m[32m         and false otherwise.[m
[32m+[m
[32m+[m[32m         function greaterThan(x) {[m
[32m+[m[32m            return function(y) {[m
[32m+[m[32m                return y > x;[m
[32m+[m[32m            };[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    var greaterThanTen = greaterThan(10);[m
[32m+[m[32m    show(greaterThanTen(9));[m
[32m+[m
[32m+[m[32mTry the following:[m
[32m+[m
[32m+[m[32m    alert("Hello", "Good Evening", "How do you do?", "Goodbye");[m
[32m+[m
[32m+[m[32mThe function alert officially only accepts one argument. Yet when you call it[m
[32m+[m[32mlike this, the computer does not complain at all, but just ignores the other[m
[32m+[m[32marguments.[m
[32m+[m
[32m+[m[32m    show();[m
[32m+[m
[32m+[m[32mYou can, apparently, even get away with passing too few arguments. When[m
[32m+[m[32man argument is not passed, its value inside the function is undefined.[m
[32m+[m
[32m+[m[32mIn the next chapter, we will see a way in which a function body can get at the[m
[32m+[m[32mexact list of arguments that were passed to it. This can be useful, as it makes[m
[32m+[m[32mit possible to have a function accept any number of arguments. print makes[m
[32m+[m[32muse of this:[m
[32m+[m
[32m+[m[32m    print("R", 2, "D", 2);[m
[32m+[m
[32m+[m[32mOf course, the downside of this is that it is also possible to accidentally pass[m
[32m+[m[32mthe wrong number of arguments to functions that expect a fixed amount of[m
[32m+[m[32mthem, like alert, and never be told about it.[m
[32m+[m
[32m+[m[32m1. Technically, this wouldn't have been necessary, but I suppose the designers of JavaScript felt it would clarify[m
[32m+[m[32m    things if function bodies always had braces.[m
[32m+[m
[32m+[m[32m2. Technically, a pure function can not use the value of any external variables. These values might change, and[m
[32m+[m[32m    this could make the function return a different value for the same arguments. In practice, the programmer may[m
[32m+[m[32m    consider some variables 'constant' â€• they are not expected to change â€• and consider functions that use only[m
[32m+[m[32m    constant variables pure. Variables that contain a function value are often good examples of constant variables.[m
[32m+[m[32mChapter 4:[m
[32m+[m
[32m+[m[32m       This chapter will be devoted to solving a few simple problems. In the process,[m
[32m+[m[32m       we will discuss two new types of values, arrays and objects, and look at some[m
[32m+[m[32m       techniques related to them.[m
[32m+[m
[32m+[m[32m       Consider the following situation: Your crazy aunt Emily, who is rumoured to[m
[32m+[m[32m       have over fifty cats living with her (you never managed to count them),[m
[32m+[m[32m       regularly sends you e-mails to keep you up to date on her exploits. They[m
[32m+[m[32m       usually look like this:[m
[32m+[m
[32m+[m[32m              Dear nephew,[m
[32m+[m
[32m+[m[32m              Your mother told me you have taken up skydiving. Is this true?[m
[32m+[m[32m              You watch yourself, young man! Remember what happened to my[m
[32m+[m[32m              husband? And that was only from the second floor![m
[32m+[m
[32m+[m[32m              Anyway, things are very exciting here. I have spent all week trying[m
[32m+[m[32m              to get the attention of Mr. Drake, the nice gentleman who moved[m
[32m+[m[32m              in next door, but I think he is afraid of cats. Or allergic to them? I[m
[32m+[m[32m              am going to try putting Fat Igor on his shoulder next time I see[m
[32m+[m[32m              him, very curious what will happen.[m
[32m+[m
[32m+[m[32m              Also, the scam I told you about is going better than expected. I[m
[32m+[m[32m              have already gotten back five 'payments', and only one complaint.[m
[32m+[m[32m              It is starting to make me feel a bit bad though. And you are right[m
[32m+[m[32m              that it is probably illegal in some way.[m
[32m+[m
[32m+[m[32m              (... etc ...)[m
[32m+[m
[32m+[m[32m              Much love, Aunt Emily[m
[32m+[m
[32m+[m[32m              died 27/04/2006: Black LeclÃ¨re[m
[32m+[m
[32m+[m[32m              born 05/04/2006 (mother Lady Penelope): Red Lion, Doctor[m
[32m+[m[32m              Hobbles the 3rd, Little Iroquois[m
[32m+[m
[32m+[m[32m       To humour the old dear, you would like to keep track of the genealogy of her[m
[32m+[m[32m       cats, so you can add things like "P.S. I hope Doctor Hobbles the 2nd enjoyed[m
[32m+[m[32m       his birthday this Saturday!", or "How is old Lady Penelope doing? She's five[m
[32m+[m[32m       years old now, isn't she?", preferably without accidentally asking about dead[m
[32m+[m[32m       cats. You are in the possession of a large quantity of old e-mails from your[m
[32m+[m[32m       aunt, and fortunately she is very consistent in always putting information[m
[32m+[m[32m       about the cats' births and deaths at the end of her mails in precisely the same[m
[32m+[m[32m       format.[m
[32m+[m
[32m+[m[32m       You are hardly inclined to go through all those mails by hand. Fortunately, we[m
[32m+[m[32m       were just in need of an example problem, so we will try to work out a[m
[32m+[m[32m       program that does the work for us. For a start, we write a program that gives[m
[32m+[m[32m       us a list of cats that are still alive after the last e-mail.[m
[32m+[m[32mBefore you ask, at the start of the correspondence, aunt Emily had only a[m
[32m+[m[32msingle cat: Spot. (She was still rather conventional in those days.)[m
[32m+[m
[32m+[m[32mIt usually pays to have some kind of clue what one's program is going to do[m
[32m+[m[32mbefore starting to type. Here's a plan:[m
[32m+[m
[32m+[m[32m   1. Start with a set of cat names that has only "Spot" in it.[m
[32m+[m[32m   2. Go over every e-mail in our archive, in chronological order.[m
[32m+[m[32m   3. Look for paragraphs that start with "born" or "died".[m
[32m+[m[32m   4. Add the names from paragraphs that start with "born" to our set of[m
[32m+[m
[32m+[m[32m       names.[m
[32m+[m[32m   5. Remove the names from paragraphs that start with "died" from our set.[m
[32m+[m[32mWhere taking the names from a paragraph goes like this:[m
[32m+[m[32m   1. Find the colon in the paragraph.[m
[32m+[m[32m   2. Take the part after this colon.[m
[32m+[m[32m   3. Split this part into separate names by looking for commas.[m
[32m+[m[32mIt may require some suspension of disbelief to accept that aunt Emily always[m
[32m+[m[32mused this exact format, and that she never forgot or misspelled a name, but[m
[32m+[m[32mthat is just how your aunt is.[m
[32m+[m
[32m+[m[32mFirst, let me tell you about properties. A lot of JavaScript values have other[m
[32m+[m[32mvalues associated with them. These associations are called properties. Every[m
[32m+[m[32mstring has a property called length, which refers to a number, the amount of[m
[32m+[m[32mcharacters in that string.[m
[32m+[m[32mProperties can be accessed in two ways:[m
[32m+[m
[32m+[m[32m   var text = "purple haze";[m
[32m+[m[32m   show(text["length"]);[m
[32m+[m[32m   show(text.length);[m
[32m+[m
[32m+[m[32mThe second way is a shorthand for the first, and it only works when the name[m
[32m+[m[32mof the property would be a valid variable name â€• when it doesn't have any[m
[32m+[m[32mspaces or symbols in it and does not start with a digit character.[m
[32m+[m[32mNumbers, booleans, the value null, and the value undefined do not have any[m
[32m+[m[32mproperties. Trying to read properties from such a value produces an error. Try[m
[32m+[m[32mthe following code, if only to get an idea about the kind of error-message[m
[32m+[m[32myour browser produces in such a case (which, for some browsers, can be[m
[32m+[m[32mrather cryptic).[m
[32m+[m
[32m+[m[32m   var nothing = null;[m
[32m+[m[32m   show(nothing.length);[m
[32m+[m[32mThe properties of a string value can not be changed. There are quite a few[m
[32m+[m[32mmore than just length, as we will see, but you are not allowed to add or[m
[32m+[m[32mremove any.[m
[32m+[m
[32m+[m[32mThis is different with values of the type object. Their main role is to hold other[m
[32m+[m[32mvalues. They have, you could say, their own set of tentacles in the form of[m
[32m+[m[32mproperties. You are free to modify these, remove them, or add new ones.[m
[32m+[m
[32m+[m[32mAn object can be written like this:[m
[32m+[m
[32m+[m[32m   var cat = {colour: "grey", name: "Spot", size: 46};[m
[32m+[m[32m   cat.size = 47;[m
[32m+[m[32m   show(cat.size);[m
[32m+[m[32m   delete cat.size;[m
[32m+[m[32m   show(cat.size);[m
[32m+[m[32m   show(cat);[m
[32m+[m
[32m+[m[32mLike variables, each property attached to an object is labelled by a string. The[m
[32m+[m[32mfirst statement creates an object in which the property "colour" holds the[m
[32m+[m[32mstring "grey", the property "name" is attached to the string "Spot", and the[m
[32m+[m[32mproperty "size" refers to the number 46. The second statement gives the[m
[32m+[m[32mproperty named size a new value, which is done in the same way as[m
[32m+[m[32mmodifying a variable.[m
[32m+[m
[32m+[m[32mThe keyword delete cuts off properties. Trying to read a non-existent[m
[32m+[m[32mproperty gives the value undefined.[m
[32m+[m
[32m+[m[32mIf a property that does not yet exist is set with the = operator, it is added to[m
[32m+[m[32mthe object.[m
[32m+[m
[32m+[m[32m   var empty = {};[m
[32m+[m[32m   empty.notReally = 1000;[m
[32m+[m[32m   show(empty.notReally);[m
[32m+[m
[32m+[m[32mProperties whose names are not valid variable names have to be quoted[m
[32m+[m[32mwhen creating the object, and approached using brackets:[m
[32m+[m
[32m+[m[32m   var thing = {"gabba gabba": "hey", "5": 10};[m
[32m+[m[32m   show(thing["5"]);[m
[32m+[m[32m   thing["5"] = 20;[m
[32m+[m[32m   show(thing[2 + 3]);[m
[32m+[m[32m   delete thing["gabba gabba"];[m
[32m+[m
[32m+[m[32mAs you can see, the part between the brackets can be any expression. It is[m
[32m+[m[32mconverted to a string to determine the property name it refers to. One can[m
[32m+[m[32meven use variables to name properties:[m
[32m+[m
[32m+[m[32m   var propertyName = "length";[m
[32m+[m[32m   var text = "mainline";[m
[32m+[m[32m   show(text[propertyName]);[m
[32m+[m
[32m+[m[32mThe operator in can be used to test whether an object has a certain property.[m
[32m+[m[32mIt produces a boolean.[m
[32m+[m
[32m+[m[32m   var chineseBox = {};[m
[32m+[m[32m               chineseBox.content = chineseBox;[m
[32m+[m[32m               show("content" in chineseBox);[m
[32m+[m[32m               show("content" in chineseBox.content);[m
[32m+[m
[32m+[m[32m          When object values are shown on the console, they can be clicked to inspect[m
[32m+[m[32m          their properties. This changes the output window to an 'inspect' window. The[m
[32m+[m[32m          little 'x' at the top-right can be used to return to the output window, and the[m
[32m+[m[32m          left-arrow can be used to go back to the properties of the previously[m
[32m+[m[32m          inspected object.[m
[32m+[m
[32m+[m[32m               show(chineseBox);[m
[32m+[m
[32m+[m[32mEx. 4.1 The solution for the cat problem talks about a 'set' of names. A set is a[m
[32m+[m[32m          collection of values in which no value may occur more than once. If names[m
[32m+[m[32m          are strings, can you think of a way to use an object to represent a set of[m
[32m+[m[32m          names?[m
[32m+[m
[32m+[m[32m          Show how a name can be added to this set, how one can be removed, and[m
[32m+[m[32m          how you can check whether a name occurs in it.[m
[32m+[m
[32m+[m[32m          This can be done by storing the content of the set as the properties of an[m
[32m+[m[32m          object. Adding a name is done by setting a property by that name to a value,[m
[32m+[m[32m          any value. Removing a name is done by deleting this property. The in[m
[32m+[m[32m          operator can be used to determine whether a certain name is part of the set1.[m
[32m+[m
[32m+[m[32m              var set = {"Spot": true};[m
[32m+[m[32m              // Add "White Fang" to the set[m
[32m+[m[32m              set["White Fang"] = true;[m
[32m+[m[32m              // Remove "Spot"[m
[32m+[m[32m              delete set["Spot"];[m
[32m+[m[32m              // See if "Asoka" is in the set[m
[32m+[m[32m              show("Asoka" in set);[m
[32m+[m
[32m+[m[32m          Object values, apparently, can change. The types of values discussed in[m
[32m+[m[32m          chapter 2 are all immutable, it is impossible to change an existing value of[m
[32m+[m[32m          those types. You can combine them and derive new values from them, but[m
[32m+[m[32m          when you take a specific string value, the text inside it can not change. With[m
[32m+[m[32m          objects, on the other hand, the content of a value can be modified by[m
[32m+[m[32m          changing its properties.[m
[32m+[m
[32m+[m[32m          When we have two numbers, 120 and 120, they can for all practical purposes[m
[32m+[m[32m          be considered the precise same number. With objects, there is a difference[m
[32m+[m[32m          between having two references to the same object and having two different[m
[32m+[m[32m          objects that contain the same properties. Consider the following code:[m
[32m+[m
[32m+[m[32m               var object1 = {value: 10};[m
[32m+[m[32m               var object2 = object1;[m
[32m+[m[32m               var object3 = {value: 10};[m
[32m+[m
[32m+[m[32m               show(object1 == object2);[m
[32m+[m[32m               show(object1 == object3);[m
[32m+[m[32m   object1.value = 15;[m
[32m+[m[32m   show(object2.value);[m
[32m+[m[32m   show(object3.value);[m
[32m+[m
[32m+[m[32mobject1 and object2 are two variables grasping the same value. There is only[m
[32m+[m[32mone actual object, which is why changing object1 also changes the value of[m
[32m+[m[32mobject2. The variable object3 points to another object, which initially contains[m
[32m+[m[32mthe same properties as object1, but lives a separate life.[m
[32m+[m
[32m+[m[32mJavaScript's == operator, when comparing objects, will only return true if both[m
[32m+[m[32mvalues given to it are the precise same value. Comparing different object with[m
[32m+[m[32midentical contents will give false. This is useful in some situations, but[m
[32m+[m[32munpractical in others.[m
[32m+[m
[32m+[m[32mObject values can play a lot of different roles. Behaving like a set is only one[m
[32m+[m[32mof those. We will see a few other roles in this chapter, and chapter 8 shows[m
[32m+[m[32manother important way of using objects.[m
[32m+[m
[32m+[m[32mIn the plan for the cat problem â€• in fact, call it an algorithm, not a plan, that[m
[32m+[m[32mmakes it sound like we know what we are talking about â€• in the algorithm, it[m
[32m+[m[32mtalks about going over all the e-mails in an archive. What does this archive[m
[32m+[m[32mlook like? And where does it come from?[m
[32m+[m
[32m+[m[32mDo not worry about the second question for now. Chapter 14 talks about[m
[32m+[m[32msome ways to import data into your programs, but for now you will find that[m
[32m+[m[32mthe e-mails are just magically there. Some magic is really easy, inside[m
[32m+[m[32mcomputers.[m
[32m+[m
[32m+[m[32mThe way in which the archive is stored is still an interesting question. It[m
[32m+[m[32mcontains a number of e-mails. An e-mail can be a string, that should be[m
[32m+[m[32mobvious. The whole archive could be put into one huge string, but that is[m
[32m+[m[32mhardly practical. What we want is a collection of separate strings.[m
[32m+[m
[32m+[m[32mCollections of things are what objects are used for. One could make an object[m
[32m+[m[32mlike this:[m
[32m+[m
[32m+[m[32m   var mailArchive = {"the first e-mail": "Dear nephew, ...",[m
[32m+[m[32m                                     "the second e-mail": "..."[m
[32m+[m[32m                                     /* and so on ... */};[m
[32m+[m
[32m+[m[32mBut that makes it hard to go over the e-mails from start to end â€• how does[m
[32m+[m[32mthe program guess the name of these properties? This can be solved by more[m
[32m+[m[32mpredictable property names:[m
[32m+[m
[32m+[m[32m   var mailArchive = {0: "Dear nephew, ... (mail number 1)",[m
[32m+[m[32m                                     1: "(mail number 2)",[m
[32m+[m[32m                                     2: "(mail number 3)"};[m
[32m+[m
[32m+[m[32m   for (var current = 0; current in mailArchive; current++)[m
[32m+[m[32m       print("Processing e-mail #", current, ": ", mailArchive[current]);[m
[32m+[m
[32m+[m[32mLuck has it that there is a special kind of objects specifically for this kind of[m
[32m+[m[32muse. They are called arrays, and they provide some conveniences, such as a[m
[32m+[m[32m          length property that contains the amount of values in the array, and a[m
[32m+[m[32m          number of operations useful for this kind of collections.[m
[32m+[m
[32m+[m[32m          New arrays can be created using brackets ([ and ]):[m
[32m+[m
[32m+[m[32m               var mailArchive = ["mail one", "mail two", "mail three"];[m
[32m+[m
[32m+[m[32m               for (var current = 0; current < mailArchive.length; current++)[m
[32m+[m[32m                  print("Processing e-mail #", current, ": ", mailArchive[current]);[m
[32m+[m
[32m+[m[32m          In this example, the numbers of the elements are not specified explicitly[m
[32m+[m[32m          anymore. The first one automatically gets the number 0, the second the[m
[32m+[m[32m          number 1, and so on.[m
[32m+[m
[32m+[m[32m          Why start at 0? People tend to start counting from 1. As unintuitive as it[m
[32m+[m[32m          seems, numbering the elements in a collection from 0 is often more practical.[m
[32m+[m[32m          Just go with it for now, it will grow on you.[m
[32m+[m
[32m+[m[32m          Starting at element 0 also means that in a collection with X elements, the last[m
[32m+[m[32m          element can be found at position X - 1. This is why the for loop in the[m
[32m+[m[32m          example checks for current < mailArchive.length. There is no element at[m
[32m+[m[32m          position mailArchive.length, so as soon as current has that value, we stop[m
[32m+[m[32m          looping.[m
[32m+[m
[32m+[m[32mEx. 4.2 Write a function range that takes one argument, a positive number, and[m
[32m+[m[32m          returns an array containing all numbers from 0 up to and including the given[m
[32m+[m[32m          number.[m
[32m+[m
[32m+[m[32m          An empty array can be created by simply typing []. Also remember that[m
[32m+[m[32m          adding properties to an object, and thus also to an array, can be done by[m
[32m+[m[32m          assigning them a value with the = operator. The length property is[m
[32m+[m[32m          automatically updated when elements are added.[m
[32m+[m
[32m+[m[32m              function range(upto) {[m
[32m+[m[32m                  var result = [];[m
[32m+[m[32m                  for (var i = 0; i <= upto; i++)[m
[32m+[m[32m                      result[i] = i;[m
[32m+[m[32m                  return result;[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m[32m              show(range(4));[m
[32m+[m
[32m+[m[32m          Instead of naming the loop variable counter or current, as I have been doing[m
[32m+[m[32m          so far, it is now called simply i. Using single letters, usually i, j, or k for loop[m
[32m+[m[32m          variables is a widely spread habit among programmers. It has its origin mostly[m
[32m+[m[32m          in laziness: We'd rather type one character than seven, and names like[m
[32m+[m[32m          counter and current do not really clarify the meaning of the variable much.[m
[32m+[m
[32m+[m[32m          If a program uses too many meaningless single-letter variables, it can become[m
[32m+[m[32m          unbelievably confusing. In my own programs, I try to only do this in a few[m
[32m+[m[32m          common cases. Small loops are one of these cases. If the loop contains[m
[32m+[m[32m          another loop, and that one also uses a variable named i, the inner loop will[m
[32m+[m[32m          modify the variable that the outer loop is using, and everything will break.[m
[32m+[m[32m          One could use j for the inner loop, but in general, when the body of a loop is[m
[32m+[m[32m          big, you should come up with a variable name that has some clear meaning.[m
[32m+[m[32mBoth string and array objects contain, in addition to the length property, a[m
[32m+[m[32mnumber of properties that refer to function values.[m
[32m+[m
[32m+[m[32m   var doh = "Doh";[m
[32m+[m[32m   print(typeof doh.toUpperCase);[m
[32m+[m[32m   print(doh.toUpperCase());[m
[32m+[m
[32m+[m[32mEvery string has a toUpperCase property. When called, it will return a copy of[m
[32m+[m[32mthe string, in which all letters have been converted to uppercase. There is[m
[32m+[m[32malso toLowerCase. Guess what that does.[m
[32m+[m
[32m+[m[32mNotice that, even though the call to toUpperCase does not pass any arguments,[m
[32m+[m[32mthe function does somehow have access to the string "Doh", the value of[m
[32m+[m[32mwhich is a property. How this works precisely is described in chapter 8.[m
[32m+[m
[32m+[m[32mProperties that contain functions are generally called methods, as in[m
[32m+[m[32m'toUpperCase is a method of a string object'.[m
[32m+[m
[32m+[m[32m   var mack = [];[m
[32m+[m[32m   mack.push("Mack");[m
[32m+[m[32m   mack.push("the");[m
[32m+[m[32m   mack.push("Knife");[m
[32m+[m[32m   show(mack.join(" "));[m
[32m+[m[32m   show(mack.pop());[m
[32m+[m[32m   show(mack);[m
[32m+[m
[32m+[m[32mThe method push, which is associated with arrays, can be used to add values[m
[32m+[m[32mto it. It could have been used in the last exercise, as an alternative to[m
[32m+[m[32mresult[i] = i. Then there is pop, the opposite of push: it takes off and returns[m
[32m+[m[32mthe last value in the array. join builds a single big string from an array of[m
[32m+[m[32mstrings. The parameter it is given is pasted between the values in the array.[m
[32m+[m
[32m+[m[32mComing back to those cats, we now know that an array would be a good way[m
[32m+[m[32mto store the archive of e-mails. The function retrieveMails can be used to[m
[32m+[m[32m(magically) get hold of this array. Going over them to process them one after[m
[32m+[m[32manother is no rocket science anymore either:[m
[32m+[m
[32m+[m[32m   var mailArchive = retrieveMails();[m
[32m+[m
[32m+[m[32m   for (var i = 0; i < mailArchive.length; i++) {[m
[32m+[m[32m       var email = mailArchive[i];[m
[32m+[m[32m       print("Processing e-mail #", i);[m
[32m+[m[32m       // Do more things...[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mWe have also decided on a way to represent the set of cats that are alive.[m
[32m+[m[32mThe next problem, then, is to find the paragraphs in an e-mail that start with[m
[32m+[m[32m"born" or "died".[m
[32m+[m
[32m+[m[32mThe first question that comes up is what exactly a paragraph is. In this case,[m
[32m+[m[32mthe string value itself can't help us much: JavaScript's concept of text does[m
[32m+[m[32mnot go any deeper than the 'sequence of characters' idea, so we must define[m
[32m+[m[32mparagraphs in those terms.[m
[32m+[m[32m         Earlier, we saw that there is such a thing as a newline character. These are[m
[32m+[m[32m         what most people use to split paragraphs. We consider a paragraph, then, to[m
[32m+[m[32m         be a part of an e-mail that starts at a newline character or at the start of the[m
[32m+[m[32m         content, and ends at the next newline character or at the end of the content.[m
[32m+[m
[32m+[m[32m         And we don't even have to write the algorithm for splitting a string into[m
[32m+[m[32m         paragraphs ourselves. Strings already have a method named split, which is[m
[32m+[m[32m         (almost) the opposite of the join method of arrays. It splits a string into an[m
[32m+[m[32m         array, using the string given as its argument to determine in which places to[m
[32m+[m[32m         cut.[m
[32m+[m
[32m+[m[32m            var words = "Cities of the Interior";[m
[32m+[m[32m            show(words.split(" "));[m
[32m+[m
[32m+[m[32m         Thus, cutting on newlines ("\n"), can be used to split an e-mail into[m
[32m+[m[32m         paragraphs.[m
[32m+[m
[32m+[m[32mEx. 4.3  split and join are not precisely each other's inverse. string.split(x).join(x)[m
[32m+[m[32m         always produces the original value, but array.join(x).split(x) does not. Can[m
[32m+[m[32m         you give an example of an array where .join(" ").split(" ") produces a[m
[32m+[m[32m         different value?[m
[32m+[m
[32m+[m[32m         var array = ["a", "b", "c d"];[m
[32m+[m[32m         show(array.join(" ").split(" "));[m
[32m+[m
[32m+[m[32m         Paragraphs that do not start with either "born" or "died" can be ignored by[m
[32m+[m[32m         the program. How do we test whether a string starts with a certain word?[m
[32m+[m[32m         The method charAt can be used to get a specific character from a string.[m
[32m+[m[32m         x.charAt(0) gives the first character, 1 is the second one, and so on. One way[m
[32m+[m[32m         to check whether a string starts with "born" is:[m
[32m+[m
[32m+[m[32m            var paragraph = "born 15-11-2003 (mother Spot): White Fang";[m
[32m+[m[32m            show(paragraph.charAt(0) == "b" && paragraph.charAt(1) == "o" &&[m
[32m+[m
[32m+[m[32m                     paragraph.charAt(2) == "r" && paragraph.charAt(3) == "n");[m
[32m+[m
[32m+[m[32m         But that gets a bit clumsy â€• imagine checking for a word of ten characters.[m
[32m+[m[32m         There is something to be learned here though: when a line gets ridiculously[m
[32m+[m[32m         long, it can be spread over multiple lines. The result can be made easier to[m
[32m+[m[32m         read by lining up the start of the new line with the first element on the[m
[32m+[m[32m         original line that plays a similar role.[m
[32m+[m
[32m+[m[32m         Strings also have a method called slice. It copies out a piece of the string,[m
[32m+[m[32m         starting from the character at the position given by the first argument, and[m
[32m+[m[32m         ending before (not including) the character at the position given by the[m
[32m+[m[32m         second one. This allows the check to be written in a shorter way.[m
[32m+[m
[32m+[m[32m            show(paragraph.slice(0, 4) == "born");[m
[32m+[m
[32m+[m[32mEx. 4.4 Write a function called startsWith that takes two arguments, both strings. It[m
[32m+[m[32m          returns true when the first argument starts with the characters in the second[m
[32m+[m[32m          argument, and false otherwise.[m
[32m+[m
[32m+[m[32m              function startsWith(string, pattern) {[m
[32m+[m[32m                  return string.slice(0, pattern.length) == pattern;[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              show(startsWith("rotation", "rot"));[m
[32m+[m
[32m+[m[32m          What happens when charAt or slice are used to take a piece of a string that[m
[32m+[m[32m          does not exist? Will the startsWith I showed still work when the pattern is[m
[32m+[m[32m          longer than the string it is matched against?[m
[32m+[m
[32m+[m[32m               show("Pip".charAt(250));[m
[32m+[m[32m               show("Nop".slice(1, 10));[m
[32m+[m
[32m+[m[32m          charAt will return "" when there is no character at the given position, and[m
[32m+[m[32m          slice will simply leave out the part of the new string that does not exist.[m
[32m+[m
[32m+[m[32m          So yes, that version of startsWith works. When startsWith("Idiots", "Most[m
[32m+[m[32m          honoured colleagues") is called, the call to slice will, because string does not[m
[32m+[m[32m          have enough characters, always return a string that is shorter than pattern.[m
[32m+[m[32m          Because of that, the comparison with == will return false, which is correct.[m
[32m+[m
[32m+[m[32m          It helps to always take a moment to consider abnormal (but valid) inputs for[m
[32m+[m[32m          a program. These are usually called corner cases, and it is very common for[m
[32m+[m[32m          programs that work perfectly on all the 'normal' inputs to screw up on corner[m
[32m+[m[32m          cases.[m
[32m+[m
[32m+[m[32m          The only part of the cat-problem that is still unsolved is the extraction of[m
[32m+[m[32m          names from a paragraph. The algorithm was this:[m
[32m+[m
[32m+[m[32m             1. Find the colon in the paragraph.[m
[32m+[m[32m             2. Take the part after this colon.[m
[32m+[m[32m             3. Split this part into separate names by looking for commas.[m
[32m+[m
[32m+[m[32m          This has to happen both for paragraphs that start with "died", and[m
[32m+[m[32m          paragraphs that start with "born". It would be a good idea to put it into a[m
[32m+[m[32m          function, so that the two pieces of code that handle these different kinds of[m
[32m+[m[32m          paragraphs can both use it.[m
[32m+[m
[32m+[m[32mEx. 4.5 Can you write a function catNames that takes a paragraph as an argument and[m
[32m+[m[32m          returns an array of names?[m
[32m+[m
[32m+[m[32m          Strings have an indexOf method that can be used to find the (first) position of[m
[32m+[m[32m          a character or sub-string within that string. Also, when slice is given only one[m
[32m+[m[32m          argument, it will return the part of the string from the given position all the[m
[32m+[m[32m          way to the end.[m
[32m+[m
[32m+[m[32m          It can be helpful to use the console to 'explore' functions. For example, type[m
[32m+[m[32m          "foo: bar".indexOf(":") and see what you get.[m
[32m+[m
[32m+[m[32m              function catNames(paragraph) {[m
[32m+[m[32m       var colon = paragraph.indexOf(":");[m
[32m+[m[32m       return paragraph.slice(colon + 2).split(", ");[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(catNames("born 20/09/2004 (mother Yellow Bess): " +[m
[32m+[m[32m                            "Doctor Hobbles the 2nd, Noog"));[m
[32m+[m
[32m+[m[32mThe tricky part, which the original description of the algorithm ignored, is[m
[32m+[m[32mdealing with spaces after the colon and the commas. The + 2 used when[m
[32m+[m[32mslicing the string is needed to leave out the colon itself and the space after it.[m
[32m+[m[32mThe argument to split contains both a comma and a space, because that is[m
[32m+[m[32mwhat the names are really separated by, rather than just a comma.[m
[32m+[m
[32m+[m[32mThis function does not do any checking for problems. We assume, in this case,[m
[32m+[m[32mthat the input is always correct.[m
[32m+[m
[32m+[m[32mAll that remains now is putting the pieces together. One way to do that looks[m
[32m+[m[32mlike this:[m
[32m+[m
[32m+[m[32m   var mailArchive = retrieveMails();[m
[32m+[m[32m   var livingCats = {"Spot": true};[m
[32m+[m
[32m+[m[32m   for (var mail = 0; mail < mailArchive.length; mail++) {[m
[32m+[m[32m       var paragraphs = mailArchive[mail].split("\n");[m
[32m+[m[32m       for (var paragraph = 0;[m
[32m+[m[32m                paragraph < paragraphs.length;[m
[32m+[m[32m                paragraph++) {[m
[32m+[m[32m           if (startsWith(paragraphs[paragraph], "born")) {[m
[32m+[m[32m              var names = catNames(paragraphs[paragraph]);[m
[32m+[m[32m              for (var name = 0; name < names.length; name++)[m
[32m+[m[32m                  livingCats[names[name]] = true;[m
[32m+[m[32m           }[m
[32m+[m[32m           else if (startsWith(paragraphs[paragraph], "died")) {[m
[32m+[m[32m              var names = catNames(paragraphs[paragraph]);[m
[32m+[m[32m              for (var name = 0; name < names.length; name++)[m
[32m+[m[32m                  delete livingCats[names[name]];[m
[32m+[m[32m           }[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(livingCats);[m
[32m+[m
[32m+[m[32mThat is quite a big dense chunk of code. We'll look into making it a bit lighter[m
[32m+[m[32min a moment. But first let us look at our results. We know how to check[m
[32m+[m[32mwhether a specific cat survives:[m
[32m+[m
[32m+[m[32m   if ("Spot" in livingCats)[m
[32m+[m[32m       print("Spot lives!");[m
[32m+[m
[32m+[m[32m   else[m
[32m+[m[32m       print("Good old Spot, may she rest in peace.");[m
[32m+[m
[32m+[m[32mBut how do we list all the cats that are alive? The in keyword has a[m
[32m+[m[32msomewhat different meaning when it is used together with for:[m
[32m+[m
[32m+[m[32m   for (var cat in livingCats)[m
[32m+[m[32m       print(cat);[m
[32m+[m[32mA loop like that will go over the names of the properties in an object, which[m
[32m+[m[32mallows us to enumerate all the names in our set.[m
[32m+[m
[32m+[m[32mSome pieces of code look like an impenetrable jungle. The example solution to[m
[32m+[m[32mthe cat problem suffers from this. One way to make some light shine through[m
[32m+[m[32mit is to just add some strategic blank lines. This makes it look better, but[m
[32m+[m[32mdoesn't really solve the problem.[m
[32m+[m
[32m+[m[32mWhat is needed here is to break the code up. We already wrote two helper[m
[32m+[m[32mfunctions, startsWith and catNames, which both take care of a small,[m
[32m+[m[32munderstandable part of the problem. Let us continue doing this.[m
[32m+[m
[32m+[m[32m   function addToSet(set, values) {[m
[32m+[m[32m       for (var i = 0; i < values.length; i++)[m
[32m+[m[32m          set[values[i]] = true;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function removeFromSet(set, values) {[m
[32m+[m[32m       for (var i = 0; i < values.length; i++)[m
[32m+[m[32m          delete set[values[i]];[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThese two functions take care of the adding and removing of names from the[m
[32m+[m[32mset. That already cuts out the two most inner loops from the solution:[m
[32m+[m
[32m+[m[32m   var livingCats = {Spot: true};[m
[32m+[m
[32m+[m[32m   for (var mail = 0; mail < mailArchive.length; mail++) {[m
[32m+[m[32m       var paragraphs = mailArchive[mail].split("\n");[m
[32m+[m[32m       for (var paragraph = 0;[m
[32m+[m[32m                paragraph < paragraphs.length;[m
[32m+[m[32m                paragraph++) {[m
[32m+[m[32m          if (startsWith(paragraphs[paragraph], "born"))[m
[32m+[m[32m              addToSet(livingCats, catNames(paragraphs[paragraph]));[m
[32m+[m[32m          else if (startsWith(paragraphs[paragraph], "died"))[m
[32m+[m[32m              removeFromSet(livingCats, catNames(paragraphs[paragraph]));[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mQuite an improvement, if I may say so myself.[m
[32m+[m
[32m+[m[32mWhy do addToSet and removeFromSet take the set as an argument? They could[m
[32m+[m[32muse the variable livingCats directly, if they wanted to. The reason is that this[m
[32m+[m[32mway they are not completely tied to our current problem. If addToSet directly[m
[32m+[m[32mchanged livingCats, it would have to be called addCatsToCatSet, or something[m
[32m+[m[32msimilar. The way it is now, it is a more generally useful tool.[m
[32m+[m
[32m+[m[32mEven if we are never going to use these functions for anything else, which is[m
[32m+[m[32mquite probable, it is useful to write them like this. Because they are 'self[m
[32m+[m[32msufficient', they can be read and understood on their own, without needing to[m
[32m+[m[32mknow about some external variable called livingCats.[m
[32m+[m
[32m+[m[32mThe functions are not pure: They change the object passed as their set[m
[32m+[m[32margument. This makes them slightly trickier than real pure functions, but still a[m
[32m+[m[32mlot less confusing than functions that run amok and change any value or[m
[32m+[m[32mvariable they please.[m
[32m+[m[32mWe continue breaking the algorithm into pieces:[m
[32m+[m
[32m+[m[32m   function findLivingCats() {[m
[32m+[m[32m       var mailArchive = retrieveMails();[m
[32m+[m[32m       var livingCats = {"Spot": true};[m
[32m+[m
[32m+[m[32m       function handleParagraph(paragraph) {[m
[32m+[m[32m          if (startsWith(paragraph, "born"))[m
[32m+[m[32m              addToSet(livingCats, catNames(paragraph));[m
[32m+[m[32m          else if (startsWith(paragraph, "died"))[m
[32m+[m[32m              removeFromSet(livingCats, catNames(paragraph));[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       for (var mail = 0; mail < mailArchive.length; mail++) {[m
[32m+[m[32m          var paragraphs = mailArchive[mail].split("\n");[m
[32m+[m[32m          for (var i = 0; i < paragraphs.length; i++)[m
[32m+[m[32m              handleParagraph(paragraphs[i]);[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       return livingCats;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var howMany = 0;[m
[32m+[m[32m   for (var cat in findLivingCats())[m
[32m+[m
[32m+[m[32m       howMany++;[m
[32m+[m[32m   print("There are ", howMany, " cats.");[m
[32m+[m
[32m+[m[32mThe whole algorithm is now encapsulated by a function. This means that it[m
[32m+[m[32mdoes not leave a mess after it runs: livingCats is now a local variable in the[m
[32m+[m[32mfunction, instead of a top-level one, so it only exists while the function runs.[m
[32m+[m[32mThe code that needs this set can call findLivingCats and use the value it[m
[32m+[m[32mreturns.[m
[32m+[m
[32m+[m[32mIt seemed to me that making handleParagraph a separate function also cleared[m
[32m+[m[32mthings up. But this one is so closely tied to the cat-algorithm that it is[m
[32m+[m[32mmeaningless in any other situation. On top of that, it needs access to the[m
[32m+[m[32mlivingCats variable. Thus, it is a perfect candidate to be a function-inside-[m
[32m+[m[32ma-function. When it lives inside findLivingCats, it is clear that it is only[m
[32m+[m[32mrelevant there, and it has access to the variables of its parent function.[m
[32m+[m
[32m+[m[32mThis solution is actually bigger than the previous one. Still, it is tidier and I[m
[32m+[m[32mhope you'll agree that it is easier to read.[m
[32m+[m
[32m+[m[32mThe program still ignores a lot of the information that is contained in the[m
[32m+[m[32me-mails. There are birth-dates, dates of death, and the names of mothers in[m
[32m+[m[32mthere.[m
[32m+[m
[32m+[m[32mTo start with the dates: What would be a good way to store a date? We could[m
[32m+[m[32mmake an object with three properties, year, month, and day, and store numbers[m
[32m+[m[32min them.[m
[32m+[m
[32m+[m[32m   var when = {year: 1980, month: 2, day: 1};[m
[32m+[m
[32m+[m[32mBut JavaScript already provides a kind of object for this purpose. Such an[m
[32m+[m[32mobject can be created by using the keyword new:[m
[32m+[m[32m   var when = new Date(1980, 1, 1);[m
[32m+[m[32m   show(when);[m
[32m+[m
[32m+[m[32mJust like the notation with braces and colons we have already seen, new is a[m
[32m+[m[32mway to create object values. Instead of specifying all the property names and[m
[32m+[m[32mvalues, a function is used to build up the object. This makes it possible to[m
[32m+[m[32mdefine a kind of standard procedure for creating objects. Functions like this[m
[32m+[m[32mare called constructors, and in chapter 8 we will see how to write them.[m
[32m+[m
[32m+[m[32mThe Date constructor can be used in different ways.[m
[32m+[m
[32m+[m[32m   show(new Date());[m
[32m+[m[32m   show(new Date(1980, 1, 1));[m
[32m+[m[32m   show(new Date(2007, 2, 30, 8, 20, 30));[m
[32m+[m
[32m+[m[32mAs you can see, these objects can store a time of day as well as a date.[m
[32m+[m[32mWhen not given any arguments, an object representing the current time and[m
[32m+[m[32mdate is created. Arguments can be given to ask for a specific date and time.[m
[32m+[m[32mThe order of the arguments is year, month, day, hour, minute, second,[m
[32m+[m[32mmilliseconds. These last four are optional, they become 0 when not given.[m
[32m+[m
[32m+[m[32mThe month numbers these objects use go from 0 to 11, which can be[m
[32m+[m[32mconfusing. Especially since day numbers do start from 1.[m
[32m+[m
[32m+[m[32mThe content of a Date object can be inspected with a number of get...[m
[32m+[m[32mmethods.[m
[32m+[m
[32m+[m[32m   var today = new Date();[m
[32m+[m[32m   print("Year: ", today.getFullYear(), ", month: ",[m
[32m+[m
[32m+[m[32m              today.getMonth(), ", day: ", today.getDate());[m
[32m+[m[32m   print("Hour: ", today.getHours(), ", minutes: ",[m
[32m+[m
[32m+[m[32m              today.getMinutes(), ", seconds: ", today.getSeconds());[m
[32m+[m[32m   print("Day of week: ", today.getDay());[m
[32m+[m
[32m+[m[32mAll of these, except for getDay, also have a set... variant that can be used to[m
[32m+[m[32mchange the value of the date object.[m
[32m+[m
[32m+[m[32mInside the object, a date is represented by the amount of milliseconds it is[m
[32m+[m[32maway from January 1st 1970. You can imagine this is quite a large number.[m
[32m+[m
[32m+[m[32m   var today = new Date();[m
[32m+[m[32m   show(today.getTime());[m
[32m+[m
[32m+[m[32mA very useful thing to do with dates is comparing them.[m
[32m+[m
[32m+[m[32m   var wallFall = new Date(1989, 10, 9);[m
[32m+[m[32m   var gulfWarOne = new Date(1990, 6, 2);[m
[32m+[m[32m   show(wallFall < gulfWarOne);[m
[32m+[m[32m   show(wallFall == wallFall);[m
[32m+[m[32m   // but[m
[32m+[m[32m   show(wallFall == new Date(1989, 10, 9));[m
[32m+[m
[32m+[m[32mComparing dates with <, >, <=, and >= does exactly what you would expect.[m
[32m+[m[32mWhen a date object is compared to itself with == the result is true, which is[m
[32m+[m[32m          also good. But when == is used to compare a date object to a different, equal[m
[32m+[m[32m          date object, we get false. Huh?[m
[32m+[m
[32m+[m[32m          As mentioned earlier, == will return false when comparing two different[m
[32m+[m[32m          objects, even if they contain the same properties. This is a bit clumsy and[m
[32m+[m[32m          error-prone here, since one would expect >= and == to behave in a more or[m
[32m+[m[32m          less similar way. Testing whether two dates are equal can be done like this:[m
[32m+[m
[32m+[m[32m               var wallFall1 = new Date(1989, 10, 9),[m
[32m+[m[32m                      wallFall2 = new Date(1989, 10, 9);[m
[32m+[m
[32m+[m[32m               show(wallFall1.getTime() == wallFall2.getTime());[m
[32m+[m
[32m+[m[32m          In addition to a date and time, Date objects also contain information about a[m
[32m+[m[32m          timezone. When it is one o'clock in Amsterdam, it can, depending on the time[m
[32m+[m[32m          of year, be noon in London, and seven in the morning in New York. Such[m
[32m+[m[32m          times can only be compared when you take their time zones into account. The[m
[32m+[m[32m          getTimezoneOffset function of a Date can be used to find out how many[m
[32m+[m[32m          minutes it differs from GMT (Greenwich Mean Time).[m
[32m+[m
[32m+[m[32m               var now = new Date();[m
[32m+[m[32m               print(now.getTimezoneOffset());[m
[32m+[m
[32m+[m[32mEx. 4.6 "died 27/04/2006: Black LeclÃ¨re"[m
[32m+[m
[32m+[m[32m          The date part is always in the exact same place of a paragraph. How[m
[32m+[m[32m          convenient. Write a function extractDate that takes such a paragraph as its[m
[32m+[m[32m          argument, extracts the date, and returns it as a date object.[m
[32m+[m
[32m+[m[32m              function extractDate(paragraph) {[m
[32m+[m[32m                  function numberAt(start, length) {[m
[32m+[m[32m                      return Number(paragraph.slice(start, start + length));[m
[32m+[m[32m                  }[m
[32m+[m[32m                  return new Date(numberAt(11, 4), numberAt(8, 2) - 1,[m
[32m+[m[32m                                               numberAt(5, 2));[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              show(extractDate("died 27-04-2006: Black LeclÃ¨re"));[m
[32m+[m
[32m+[m[32m          It would work without the calls to Number, but as mentioned earlier, I prefer[m
[32m+[m[32m          not to use strings as if they are numbers. The inner function was introduced[m
[32m+[m[32m          to prevent having to repeat the Number and slice part three times.[m
[32m+[m
[32m+[m[32m          Note the - 1 for the month number. Like most people, Aunt Emily counts her[m
[32m+[m[32m          months from 1, so we have to adjust the value before giving it to the Date[m
[32m+[m[32m          constructor. (The day number does not have this problem, since Date objects[m
[32m+[m[32m          count days in the usual human way.)[m
[32m+[m
[32m+[m[32m          In chapter 10 we will see a more practical and robust way of extracting[m
[32m+[m[32m          pieces from strings that have a fixed structure.[m
[32m+[m
[32m+[m[32m          Storing cats will work differently from now on. Instead of just putting the[m
[32m+[m[32m         value true into the set, we store an object with information about the cat.[m
[32m+[m[32m         When a cat dies, we do not remove it from the set, we just add a property[m
[32m+[m[32m         death to the object to store the date on which the creature died.[m
[32m+[m
[32m+[m[32m         This means our addToSet and removeFromSet functions have become useless.[m
[32m+[m[32m         Something similar is needed, but it must also store birth-dates and, later, the[m
[32m+[m[32m         mother's name.[m
[32m+[m
[32m+[m[32m            function catRecord(name, birthdate, mother) {[m
[32m+[m[32m                return {name: name, birth: birthdate, mother: mother};[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            function addCats(set, names, birthdate, mother) {[m
[32m+[m[32m                for (var i = 0; i < names.length; i++)[m
[32m+[m[32m                   set[names[i]] = catRecord(names[i], birthdate, mother);[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m[32m            function deadCats(set, names, deathdate) {[m
[32m+[m
[32m+[m[32m                for (var i = 0; i < names.length; i++)[m
[32m+[m[32m                   set[names[i]].death = deathdate;[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m         catRecord is a separate function for creating these storage objects. It might[m
[32m+[m[32m         be useful in other situations, such as creating the object for Spot. 'Record' is a[m
[32m+[m[32m         term often used for objects like this, which are used to group a limited[m
[32m+[m[32m         number of values.[m
[32m+[m
[32m+[m[32m         So let us try to extract the names of the mother cats from the paragraphs.[m
[32m+[m
[32m+[m[32m            "born 15/11/2003 (mother Spot): White Fang"[m
[32m+[m
[32m+[m[32m         One way to do this would be...[m
[32m+[m
[32m+[m[32m            function extractMother(paragraph) {[m
[32m+[m[32m                var start = paragraph.indexOf("(mother ") + "(mother ".length;[m
[32m+[m[32m                var end = paragraph.indexOf(")");[m
[32m+[m[32m                return paragraph.slice(start, end);[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            show(extractMother("born 15/11/2003 (mother Spot): White Fang"));[m
[32m+[m
[32m+[m[32m         Notice how the start position has to be adjusted for the length of "(mother ",[m
[32m+[m[32m         because indexOf returns the position of the start of the pattern, not its end.[m
[32m+[m
[32m+[m[32mEx. 4.7  The thing that extractMother does can be expressed in a more general way.[m
[32m+[m[32m         Write a function between that takes three arguments, all of which are strings.[m
[32m+[m[32m         It will return the part of the first argument that occurs between the patterns[m
[32m+[m[32m         given by the second and the third arguments.[m
[32m+[m
[32m+[m[32m         So between("born 15/11/2003 (mother Spot): White Fang", "(mother ", ")")[m
[32m+[m[32m         gives "Spot".[m
[32m+[m
[32m+[m[32m         between("bu ] boo [ bah ] gzz", "[ ", " ]") returns "bah".[m
[32m+[m
[32m+[m[32m         To make that second test work, it can be useful to know that indexOf can be[m
[32m+[m[32mgiven a second, optional parameter that specifies at which point it should start[m
[32m+[m[32msearching.[m
[32m+[m
[32m+[m[32m   function between(string, start, end) {[m
[32m+[m[32m       var startAt = string.indexOf(start) + start.length;[m
[32m+[m[32m       var endAt = string.indexOf(end, startAt);[m
[32m+[m[32m       return string.slice(startAt, endAt);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   show(between("bu ] boo [ bah ] gzz", "[ ", " ]"));[m
[32m+[m
[32m+[m[32mHaving between makes it possible to express extractMother in a simpler way:[m
[32m+[m
[32m+[m[32m   function extractMother(paragraph) {[m
[32m+[m[32m       return between(paragraph, "(mother ", ")");[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThe new, improved cat-algorithm looks like this:[m
[32m+[m
[32m+[m[32m   function findCats() {[m
[32m+[m[32m       var mailArchive = retrieveMails();[m
[32m+[m[32m       var cats = {"Spot": catRecord("Spot", new Date(1997, 2, 5),[m
[32m+[m[32m                             "unknown")};[m
[32m+[m
[32m+[m[32m       function handleParagraph(paragraph) {[m
[32m+[m[32m           if (startsWith(paragraph, "born"))[m
[32m+[m[32m              addCats(cats, catNames(paragraph), extractDate(paragraph),[m
[32m+[m[32m                             extractMother(paragraph));[m
[32m+[m[32m           else if (startsWith(paragraph, "died"))[m
[32m+[m[32m              deadCats(cats, catNames(paragraph), extractDate(paragraph));[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       for (var mail = 0; mail < mailArchive.length; mail++) {[m
[32m+[m[32m           var paragraphs = mailArchive[mail].split("\n");[m
[32m+[m[32m           for (var i = 0; i < paragraphs.length; i++)[m
[32m+[m[32m              handleParagraph(paragraphs[i]);[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       return cats;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var catData = findCats();[m
[32m+[m
[32m+[m[32mHaving that extra data allows us to finally have a clue about the cats aunt[m
[32m+[m[32mEmily talks about. A function like this could be useful:[m
[32m+[m
[32m+[m[32m   function formatDate(date) {[m
[32m+[m[32m       return date.getDate() + "/" + (date.getMonth() + 1) +[m
[32m+[m[32m                    "/" + date.getFullYear();[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function catInfo(data, name) {[m
[32m+[m[32m       if (!(name in data))[m
[32m+[m[32m           return "No cat by the name of " + name + " is known.";[m
[32m+[m
[32m+[m[32m       var cat = data[name];[m
[32m+[m[32m       var message = name + ", born " + formatDate(cat.birth) +[m
[32m+[m
[32m+[m[32m                                " from mother " + cat.mother;[m
[32m+[m[32m       if ("death" in cat)[m
[32m+[m[32m                      message += ", died " + formatDate(cat.death);[m
[32m+[m[32m                  return message + ".";[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               print(catInfo(catData, "Fat Igor"));[m
[32m+[m
[32m+[m[32m          The first return statement in catInfo is used as an escape hatch. If there is[m
[32m+[m[32m          no data about the given cat, the rest of the function is meaningless, so we[m
[32m+[m[32m          immediately return a value, which prevents the rest of the code from running.[m
[32m+[m
[32m+[m[32m          In the past, certain groups of programmers considered functions that contain[m
[32m+[m[32m          multiple return statements sinful. The idea was that this made it hard to see[m
[32m+[m[32m          which code was executed and which code was not. Other techniques, which[m
[32m+[m[32m          will be discussed in chapter 5, have made the reasons behind this idea more[m
[32m+[m[32m          or less obsolete, but you might still occasionally come across someone who[m
[32m+[m[32m          will criticise the use of 'shortcut' return statements.[m
[32m+[m
[32m+[m[32mEx. 4.8 The formatDate function used by catInfo does not add a zero before the[m
[32m+[m[32m          month and the day part when these are only one digit long. Write a new[m
[32m+[m[32m          version that does this.[m
[32m+[m
[32m+[m[32m              function formatDate(date) {[m
[32m+[m[32m                  function pad(number) {[m
[32m+[m[32m                      if (number < 10)[m
[32m+[m[32m                         return "0" + number;[m
[32m+[m[32m                      else[m
[32m+[m[32m                         return number;[m
[32m+[m[32m                  }[m
[32m+[m[32m                  return pad(date.getDate()) + "/" + pad(date.getMonth() + 1) +[m
[32m+[m[32m                                      "/" + date.getFullYear();[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m[32m              print(formatDate(new Date(2000, 0, 1)));[m
[32m+[m
[32m+[m[32mEx. 4.9 Write a function oldestCat which, given an object containing cats as its[m
[32m+[m[32m          argument, returns the name of the oldest living cat.[m
[32m+[m
[32m+[m[32m              function oldestCat(data) {[m
[32m+[m[32m                  var oldest = null;[m
[32m+[m
[32m+[m[32m                  for (var name in data) {[m
[32m+[m[32m                      var cat = data[name];[m
[32m+[m[32m                      if (!("death" in cat) &&[m
[32m+[m[32m                             (oldest == null || oldest.birth > cat.birth))[m
[32m+[m[32m                         oldest = cat;[m
[32m+[m
[32m+[m[32m                  }[m
[32m+[m
[32m+[m[32m                  if (oldest == null)[m
[32m+[m[32m                      return null;[m
[32m+[m
[32m+[m[32m                  else[m
[32m+[m[32m                      return oldest.name;[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              print(oldestCat(catData));[m
[32m+[m
[32m+[m[32m          The condition in the if statement might seem a little intimidating. It can be[m
[32m+[m[32m          read as 'only store the current cat in the variable oldest if it is not dead, and[m
[32m+[m[32m           oldest is either null or a cat that was born after the current cat'.[m
[32m+[m
[32m+[m[32m           Note that this function returns null when there are no living cats in data.[m
[32m+[m[32m           What does your solution do in that case?[m
[32m+[m
[32m+[m[32m           Now that we are familiar with arrays, I can show you something related.[m
[32m+[m[32m           Whenever a function is called, a special variable named arguments is added to[m
[32m+[m[32m           the environment in which the function body runs. This variable refers to an[m
[32m+[m[32m           object that resembles an array. It has a property 0 for the first argument, 1[m
[32m+[m[32m           for the second, and so on for every argument the function was given. It also[m
[32m+[m[32m           has a length property.[m
[32m+[m
[32m+[m[32m           This object is not a real array though, it does not have methods like push, and[m
[32m+[m[32m           it does not automatically update its length property when you add something[m
[32m+[m[32m           to it. Why not, I never really found out, but this is something one needs to be[m
[32m+[m[32m           aware of.[m
[32m+[m
[32m+[m[32m                function argumentCounter() {[m
[32m+[m[32m                    print("You gave me ", arguments.length, " arguments.");[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m[32m                argumentCounter("Death", "Famine", "Pestilence");[m
[32m+[m
[32m+[m[32m           Some functions can take any number of arguments, like print does. These[m
[32m+[m[32m           typically loop over the values in the arguments object to do something with[m
[32m+[m[32m           them. Others can take optional arguments which, when not given by the[m
[32m+[m[32m           caller, get some sensible default value.[m
[32m+[m
[32m+[m[32m                function add(number, howmuch) {[m
[32m+[m[32m                    if (arguments.length < 2)[m
[32m+[m[32m                       howmuch = 1;[m
[32m+[m[32m                    return number + howmuch;[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                show(add(6));[m
[32m+[m[32m                show(add(6, 4));[m
[32m+[m
[32m+[m[32mEx. 4.10 Extend the range function from exercise 4.2 to take a second, optional[m
[32m+[m[32m           argument. If only one argument is given, it behaves as earlier and produces a[m
[32m+[m[32m           range from 0 to the given number. If two arguments are given, the first[m
[32m+[m[32m           indicates the start of the range, the second the end.[m
[32m+[m
[32m+[m[32m                function range(start, end) {[m
[32m+[m[32m                    if (arguments.length < 2) {[m
[32m+[m[32m                       end = start;[m
[32m+[m[32m                       start = 0;[m
[32m+[m[32m                    }[m
[32m+[m[32m                    var result = [];[m
[32m+[m[32m                    for (var i = start; i <= end; i++)[m
[32m+[m[32m                       result.push(i);[m
[32m+[m[32m                    return result;[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                show(range(4));[m
[32m+[m[32m                show(range(2, 4));[m
[32m+[m[32m           The optional argument does not work precisely like the one in the add[m
[32m+[m[32m           example above. When it is not given, the first argument takes the role of end,[m
[32m+[m[32m           and start becomes 0.[m
[32m+[m
[32m+[m[32mEx. 4.11 You may remember this line of code from the introduction:[m
[32m+[m
[32m+[m[32m                print(sum(range(1, 10)));[m
[32m+[m
[32m+[m[32m           We have range now. All we need to make this line work is a sum function. This[m
[32m+[m[32m           function takes an array of numbers, and returns their sum. Write it, it should[m
[32m+[m[32m           be easy.[m
[32m+[m
[32m+[m[32m                function sum(numbers) {[m
[32m+[m[32m                    var total = 0;[m
[32m+[m[32m                    for (var i = 0; i < numbers.length; i++)[m
[32m+[m[32m                       total += numbers[i];[m
[32m+[m[32m                    return total;[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                print(sum(range(1, 10)));[m
[32m+[m
[32m+[m[32m           The previous chapter showed the functions Math.max and Math.min. With what[m
[32m+[m[32m           you know now, you will notice that these are really the properties max and min[m
[32m+[m[32m           of the object stored under the name Math. This is another role that objects[m
[32m+[m[32m           can play: A warehouse holding a number of related values.[m
[32m+[m
[32m+[m[32m           There are quite a lot of values inside Math, if they would all have been placed[m
[32m+[m[32m           directly into the global environment they would, as it is called, pollute it. The[m
[32m+[m[32m           more names have been taken, the more likely one is to accidentally overwrite[m
[32m+[m[32m           the value of some variable. For example, it is not a far shot to want to name[m
[32m+[m[32m           something max.[m
[32m+[m
[32m+[m[32m           Most languages will stop you, or at least warn you, when you are defining a[m
[32m+[m[32m           variable with a name that is already taken. Not JavaScript.[m
[32m+[m
[32m+[m[32m           In any case, one can find a whole outfit of mathematical functions and[m
[32m+[m[32m           constants inside Math. All the trigonometric functions are there â€• cos, sin, tan,[m
[32m+[m[32m           acos, asin, atan. Ï€ and e, which are written with all capital letters (PI and E),[m
[32m+[m[32m           which was, at one time, a fashionable way to indicate something is a[m
[32m+[m[32m           constant. pow is a good replacement for the power functions we have been[m
[32m+[m[32m           writing, it also accepts negative and fractional exponents. sqrt takes square[m
[32m+[m[32m           roots. max and min can give the maximum or minimum of two values. round,[m
[32m+[m[32m           floor, and ceil will round numbers to the closest whole number, the whole[m
[32m+[m[32m           number below it, and the whole number above it respectively.[m
[32m+[m
[32m+[m[32m           There are a number of other values in Math, but this text is an introduction,[m
[32m+[m[32m           not a reference. References are what you look at when you suspect[m
[32m+[m[32m           something exists in the language, but need to find out what it is called or how[m
[32m+[m[32m           it worked exactly. Unfortunately, there is no one comprehensive complete[m
[32m+[m[32m           reference for JavaScript. This is mostly because its current form is the result[m
[32m+[m[32m           of a chaotic process of different browsers adding different extensions at[m
[32m+[m[32m           different times. The ECMA standard document that was mentioned in the[m
[32m+[m[32m           introduction provides a solid documentation of the basic language, but is more[m
[32m+[m[32mor less unreadable. For things like the Math object and other elementary[m
[32m+[m[32mfunctionality, a rather good reference can be found here. The old[m
[32m+[m[32mdocumentation from Netscape, which can still be found at Sun's website, can[m
[32m+[m[32malso be helpful, but is outdated and not entirely correct anymore.[m
[32m+[m
[32m+[m[32mMaybe you already thought of a way to find out what is available in the Math[m
[32m+[m[32mobject:[m
[32m+[m
[32m+[m[32m   for (var name in Math)[m
[32m+[m[32m       print(name);[m
[32m+[m
[32m+[m[32mBut alas, nothing appears. Similarly, when you do this:[m
[32m+[m
[32m+[m[32m   for (var name in ["Huey", "Dewey", "Loui"])[m
[32m+[m[32m       print(name);[m
[32m+[m
[32m+[m[32mYou only see 0, 1, and 2, not length, or push, or join, which are definitely also[m
[32m+[m[32min there. Apparently, some properties of objects are hidden. There is a good[m
[32m+[m[32mreason for this: All objects have a few methods, for example toString, which[m
[32m+[m[32mconverts the object into some kind of relevant string, and you do not want to[m
[32m+[m[32msee those when you are, for example, looking for the cats that you stored in[m
[32m+[m[32mthe object.[m
[32m+[m
[32m+[m[32mWhy the properties of Math are hidden is unclear to me. Someone probably[m
[32m+[m[32mwanted it to be a mysterious kind of object.[m
[32m+[m
[32m+[m[32mAll properties your programs add to objects are visible. There is no way to[m
[32m+[m[32mmake them hidden, which is unfortunate because, as we will see in chapter 8,[m
[32m+[m[32mit would be nice to be able to add methods to objects without having them[m
[32m+[m[32mshow up in our for/in loops.[m
[32m+[m
[32m+[m[32mSome properties are read-only, you can get their value but not change it. For[m
[32m+[m[32mexample, the properties of a string value are all read-only.[m
[32m+[m
[32m+[m[32mOther properties can be 'watched'. Changing them causes things to happen.[m
[32m+[m[32mFor example, lowering the length of an array causes excess elements to be[m
[32m+[m[32mdiscarded:[m
[32m+[m
[32m+[m[32m   var array = ["Heaven", "Earth", "Man"];[m
[32m+[m[32m   array.length = 2;[m
[32m+[m[32m   show(array);[m
[32m+[m
[32m+[m[32mIn some browsers, objects have a method watch, which can be used to add a[m
[32m+[m[32mwatcher to your own properties. Internet Explorer does not support this[m
[32m+[m[32mthough, so it is of little use when writing programs that must run on all the[m
[32m+[m[32m'big' browsers.[m
[32m+[m
[32m+[m[32m   var winston = {mind: "compliant"};[m
[32m+[m[32m   function watcher(propertyName, from, to) {[m
[32m+[m
[32m+[m[32m       if (to == "compliant")[m
[32m+[m[32m          print("Doubleplusgood.");[m
[32m+[m
[32m+[m[32m       else[m
[32m+[m[32m          print("Transmitting information to Thought Police...");[m
[32m+[m[32m    }[m
[32m+[m[32m    winston.watch("mind", watcher);[m
[32m+[m
[32m+[m[32m    winston.mind = "rebellious";[m
[32m+[m
[32m+[m[32m1. There are a few subtle problems with this approach, which will be discussed and solved in chapter 8. For this[m
[32m+[m[32m    chapter, it works well enough.[m
[32m+[m[32mChapter 5:[m
[32m+[m
[32m+[m[32m       Writing programs that work when everything goes as expected is a good[m
[32m+[m[32m       start. Making your programs behave properly when encountering unexpected[m
[32m+[m[32m       conditions is where it really gets challenging.[m
[32m+[m
[32m+[m[32m       The problematic situations that a program can encounter fall into two[m
[32m+[m[32m       categories: Programmer mistakes and genuine problems. If someone forgets[m
[32m+[m[32m       to pass a required argument to a function, that is an example of the first kind[m
[32m+[m[32m       of problem. On the other hand, if a program asks the user to enter a name[m
[32m+[m[32m       and it gets back an empty string, that is something the programmer can not[m
[32m+[m[32m       prevent.[m
[32m+[m
[32m+[m[32m       In general, one deals with programmer errors by finding and fixing them, and[m
[32m+[m[32m       with genuine errors by having the code check for them and perform some[m
[32m+[m[32m       suitable action to remedy them (for example, asking for the name again), or[m
[32m+[m[32m       at least fail in a well-defined and clean way.[m
[32m+[m
[32m+[m[32m       It is important to decide into which of these categories a certain problem falls.[m
[32m+[m[32m       For example, consider our old power function:[m
[32m+[m
[32m+[m[32m            function power(base, exponent) {[m
[32m+[m[32m               var result = 1;[m
[32m+[m[32m               for (var count = 0; count < exponent; count++)[m
[32m+[m[32m                   result *= base;[m
[32m+[m[32m               return result;[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m       When some geek tries to call power("Rabbit", 4), that is quite obviously a[m
[32m+[m[32m       programmer error, but how about power(9, 0.5)? The function can not handle[m
[32m+[m[32m       fractional exponents, but, mathematically speaking, raising a number to the[m
[32m+[m[32m       halfth power is perfectly reasonable (Math.pow can handle it). In situations[m
[32m+[m[32m       where it is not entirely clear what kind of input a function accepts, it is often a[m
[32m+[m[32m       good idea to explicitly state the kind of arguments that are acceptable in a[m
[32m+[m[32m       comment.[m
[32m+[m
[32m+[m[32m       If a function encounters a problem that it can not solve itself, what should it[m
[32m+[m[32m       do? In chapter 4 we wrote the function between:[m
[32m+[m
[32m+[m[32m            function between(string, start, end) {[m
[32m+[m[32m               var startAt = string.indexOf(start) + start.length;[m
[32m+[m[32m               var endAt = string.indexOf(end, startAt);[m
[32m+[m[32m               return string.slice(startAt, endAt);[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m       If the given start and end do not occur in the string, indexOf will return -1 and[m
[32m+[m[32m       this version of between will return a lot of bogus: between("Your mother!",[m
[32m+[m[32m       "{-", "-}") returns "our mother".[m
[32m+[m[32mWhen the program is running, and the function is called like that, the code[m
[32m+[m[32mthat called it will get a string value, as it expected, and happily continue doing[m
[32m+[m[32msomething with it. But the value is wrong, so whatever it ends up doing with it[m
[32m+[m[32mwill also be wrong. And if you are unlucky, this wrongness only causes a[m
[32m+[m[32mproblem after having passed through twenty other functions. In cases like[m
[32m+[m[32mthat, it is extremely hard to find out where the problem started.[m
[32m+[m
[32m+[m[32mIn some cases, you will be so unconcerned about these problems that you[m
[32m+[m[32mdon't mind the function misbehaving when given incorrect input. For example,[m
[32m+[m[32mif you know for sure the function will only be called from a few places, and[m
[32m+[m[32myou can prove that these places give it decent input, it is generally not worth[m
[32m+[m[32mthe trouble to make the function bigger and uglier so that it can handle[m
[32m+[m[32mproblematic cases.[m
[32m+[m
[32m+[m[32mBut most of the time, functions that fail 'silently' are hard to use, and even[m
[32m+[m[32mdangerous. What if the code calling between wants to know whether[m
[32m+[m[32meverything went well? At the moment, it can not tell, except by re-doing all[m
[32m+[m[32mthe work that between did and checking the result of between with its own[m
[32m+[m[32mresult. That is bad. One solution is to make between return a special value,[m
[32m+[m[32msuch as false or undefined, when it fails.[m
[32m+[m
[32m+[m[32m   function between(string, start, end) {[m
[32m+[m[32m       var startAt = string.indexOf(start);[m
[32m+[m[32m       if (startAt == -1)[m
[32m+[m[32m          return undefined;[m
[32m+[m[32m       startAt += start.length;[m
[32m+[m[32m       var endAt = string.indexOf(end, startAt);[m
[32m+[m[32m       if (endAt == -1)[m
[32m+[m[32m          return undefined;[m
[32m+[m
[32m+[m[32m       return string.slice(startAt, endAt);[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mYou can see that error checking does not generally make functions prettier.[m
[32m+[m[32mBut now code that calls between can do something like:[m
[32m+[m
[32m+[m[32m   var input = prompt("Tell me something", "");[m
[32m+[m[32m   var parenthesized = between(input, "(", ")");[m
[32m+[m[32m   if (parenthesized != undefined)[m
[32m+[m
[32m+[m[32m       print("You parenthesized '", parenthesized, "'.");[m
[32m+[m
[32m+[m[32mIn many cases returning a special value is a perfectly fine way to indicate an[m
[32m+[m[32merror. It does, however, have its downsides. Firstly, what if the function can[m
[32m+[m[32malready return every possible kind of value? For example, consider this[m
[32m+[m[32mfunction that gets the last element from an array:[m
[32m+[m
[32m+[m[32m   function lastElement(array) {[m
[32m+[m[32m       if (array.length > 0)[m
[32m+[m[32m          return array[array.length - 1];[m
[32m+[m[32m       else[m
[32m+[m[32m          return undefined;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(lastElement([1, 2, undefined]));[m
[32m+[m
[32m+[m[32mSo did the array have a last element? Looking at the value lastElement[m
[32m+[m[32mreturns, it is impossible to say.[m
[32m+[m
[32m+[m[32mThe second issue with returning special values is that it can sometimes lead to[m
[32m+[m[32ma whole lot of clutter. If a piece of code calls between ten times, it has to[m
[32m+[m[32mcheck ten times whether undefined was returned. Also, if a function calls[m
[32m+[m[32mbetween but does not have a strategy to recover from a failure, it will have to[m
[32m+[m[32mcheck the return value of between, and if it is undefined, this function can then[m
[32m+[m[32mreturn undefined or some other special value to its caller, who in turn also[m
[32m+[m[32mchecks for this value.[m
[32m+[m
[32m+[m[32mSometimes, when something strange occurs, it would be practical to just stop[m
[32m+[m[32mdoing what we are doing and immediately jump back to a place that knows[m
[32m+[m[32mhow to handle the problem.[m
[32m+[m
[32m+[m[32mWell, we are in luck, a lot of programming languages provide such a thing.[m
[32m+[m[32mUsually, it is called exception handling.[m
[32m+[m
[32m+[m[32mThe theory behind exception handling goes like this: It is possible for code to[m
[32m+[m[32mraise (or throw) an exception, which is a value. Raising an exception[m
[32m+[m[32msomewhat resembles a super-charged return from a function â€• it does not[m
[32m+[m[32mjust jump out of the current function, but also out of its callers, all the way up[m
[32m+[m[32mto the top-level call that started the current execution. This is called unwinding[m
[32m+[m[32mthe stack. You may remember the stack of function calls that was mentioned[m
[32m+[m[32min chapter 3. An exception zooms down this stack, throwing away all the call[m
[32m+[m[32mcontexts it encounters.[m
[32m+[m
[32m+[m[32mIf they always zoomed right down to the base of the stack, exceptions would[m
[32m+[m[32mnot be of much use, they would just provide a novel way to blow up your[m
[32m+[m[32mprogram. Fortunately, it is possible to set obstacles for exceptions along the[m
[32m+[m[32mstack. These 'catch' the exception as it is zooming down, and can do[m
[32m+[m[32msomething with it, after which the program continues running at the point[m
[32m+[m[32mwhere the exception was caught.[m
[32m+[m
[32m+[m[32mAn example:[m
[32m+[m
[32m+[m[32m   function lastElement(array) {[m
[32m+[m[32m       if (array.length > 0)[m
[32m+[m[32m          return array[array.length - 1];[m
[32m+[m[32m       else[m
[32m+[m[32m          throw "Can not take the last element of an empty array.";[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function lastElementPlusTen(array) {[m
[32m+[m[32m       return lastElement(array) + 10;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   try {[m
[32m+[m[32m       print(lastElementPlusTen([]));[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   catch (error) {[m
[32m+[m
[32m+[m[32m       print("Something went wrong: ", error);[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mthrow is the keyword that is used to raise an exception. The keyword try sets[m
[32m+[m[32mup an obstacle for exceptions: When the code in the block after it raises an[m
[32m+[m[32mexception, the catch block will be executed. The variable named in[m
[32m+[m[32mparentheses after the word catch is the name given to the exception value[m
[32m+[m[32minside this block.[m
[32m+[m
[32m+[m[32mNote that the function lastElementPlusTen completely ignores the possibility[m
[32m+[m[32mthat lastElement might go wrong. This is the big advantage of exceptions â€•[m
[32m+[m[32merror-handling code is only necessary at the point where the error occurs, and[m
[32m+[m[32mthe point where it is handled. The functions in between can forget all about it.[m
[32m+[m
[32m+[m[32mWell, almost.[m
[32m+[m
[32m+[m[32mConsider the following: A function processThing wants to set a top-level[m
[32m+[m[32mvariable currentThing to point to a specific thing while its body executes, so[m
[32m+[m[32mthat other functions can have access to that thing too. Normally you would of[m
[32m+[m[32mcourse just pass the thing as an argument, but assume for a moment that[m
[32m+[m[32mthat is not practical. When the function finishes, currentThing should be set[m
[32m+[m[32mback to null.[m
[32m+[m
[32m+[m[32m   var currentThing = null;[m
[32m+[m
[32m+[m[32m   function processThing(thing) {[m
[32m+[m[32m       if (currentThing != null)[m
[32m+[m[32m          throw "Oh no! We are already processing a thing!";[m
[32m+[m
[32m+[m[32m       currentThing = thing;[m
[32m+[m[32m       /* do complicated processing... */[m
[32m+[m[32m       currentThing = null;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mBut what if the complicated processing raises an exception? In that case the[m
[32m+[m[32mcall to processThing will be thrown off the stack by the exception, and[m
[32m+[m[32mcurrentThing will never be reset to null.[m
[32m+[m
[32m+[m[32mtry statements can also be followed by a finally keyword, which means 'no[m
[32m+[m[32mmatter what happens, run this code after trying to run the code in the try[m
[32m+[m[32mblock'. If a function has to clean something up, the cleanup code should[m
[32m+[m[32musually be put into a finally block:[m
[32m+[m
[32m+[m[32m   function processThing(thing) {[m
[32m+[m[32m       if (currentThing != null)[m
[32m+[m[32m          throw "Oh no! We are already processing a thing!";[m
[32m+[m
[32m+[m[32m       currentThing = thing;[m
[32m+[m[32m       try {[m
[32m+[m
[32m+[m[32m          /* do complicated processing... */[m
[32m+[m[32m       }[m
[32m+[m[32m       finally {[m
[32m+[m
[32m+[m[32m          currentThing = null;[m
[32m+[m[32m       }[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mA lot of errors in programs cause the JavaScript environment to raise an[m
[32m+[m[32mexception. For example:[m
[32m+[m
[32m+[m[32m   try {[m
[32m+[m[32m       print(Sasquatch);[m
[32m+[m[32m   }[m
[32m+[m[32m   catch (error) {[m
[32m+[m
[32m+[m[32m       print("Caught: " + error.message);[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mIn cases like this, special error objects are raised. These always have a[m
[32m+[m[32mmessage property containing a description of the problem. You can raise similar[m
[32m+[m[32mobjects using the new keyword and the Error constructor:[m
[32m+[m
[32m+[m[32m   throw new Error("Fire!");[m
[32m+[m
[32m+[m[32mWhen an exception goes all the way to the bottom of the stack without being[m
[32m+[m[32mcaught, it gets handled by the environment. What this means differs between[m
[32m+[m[32mthe different browsers, sometimes a description of the error is written to[m
[32m+[m[32msome kind of log, sometimes a window pops up describing the error.[m
[32m+[m
[32m+[m[32mThe errors produced by entering code in the console on this page are always[m
[32m+[m[32mcaught by the console, and displayed among the other output.[m
[32m+[m
[32m+[m[32mMost programmers consider exceptions purely an error-handling mechanism.[m
[32m+[m[32mIn essence, though, they are just another way of influencing the control flow[m
[32m+[m[32mof a program. For example, they can be used as a kind of break statement in[m
[32m+[m[32ma recursive function. Here is a slightly strange function which determines[m
[32m+[m[32mwhether an object, and the objects stored inside it, contain at least seven[m
[32m+[m[32mtrue values:[m
[32m+[m
[32m+[m[32m   var FoundSeven = {};[m
[32m+[m
[32m+[m[32m   function hasSevenTruths(object) {[m
[32m+[m[32m       var counted = 0;[m
[32m+[m
[32m+[m[32m       function count(object) {[m
[32m+[m[32m          for (var name in object) {[m
[32m+[m[32m              if (object[name] === true) {[m
[32m+[m[32m                  counted++;[m
[32m+[m[32m                  if (counted == 7)[m
[32m+[m[32m                     throw FoundSeven;[m
[32m+[m[32m              }[m
[32m+[m[32m              else if (typeof object[name] == "object") {[m
[32m+[m[32m                  count(object[name]);[m
[32m+[m[32m              }[m
[32m+[m[32m          }[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       try {[m
[32m+[m[32m          count(object);[m
[32m+[m[32m          return false;[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       catch (exception) {[m
[32m+[m
[32m+[m[32m          if (exception != FoundSeven)[m
[32m+[m[32m              throw exception;[m
[32m+[m
[32m+[m[32m          return true;[m
[32m+[m[32m       }[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThe inner function count is recursively called for every object that is part of[m
[32m+[m[32mthe argument. When the variable counted reaches seven, there is no point in[m
[32m+[m[32mcontinuing to count, but just returning from the current call to count will not[m
[32m+[m[32mnecessarily stop the counting, since there might be more calls below it. So[m
[32m+[m[32mwhat we do is just throw a value, which will cause the control to jump right[m
[32m+[m[32mout of any calls to count, and land at the catch block.[m
[32m+[m
[32m+[m[32mBut just returning true in case of an exception is not correct. Something else[m
[32m+[m[32mmight be going wrong, so we first check whether the exception is the object[m
[32m+[m[32mFoundSeven, created specifically for this purpose. If it is not, this catch block[m
[32m+[m[32mdoes not know how to handle it, so it raises it again.[m
[32m+[m
[32m+[m[32mThis is a pattern that is also common when dealing with error conditions â€•[m
[32m+[m[32myou have to make sure that your catch block only handles exceptions that it[m
[32m+[m[32mknows how to handle. Throwing string values, as some of the examples in this[m
[32m+[m[32mchapter do, is rarely a good idea, because it makes it hard to recognise the[m
[32m+[m[32mtype of the exception. A better idea is to use unique values, such as the[m
[32m+[m[32mFoundSeven object, or to introduce a new type of objects, as described in[m
[32m+[m[32mchapter 8.[m
[32m+[m[32mChapter 6:[m
[32m+[m
[32m+[m[32m       As programs get bigger, they also become more complex and harder to[m
[32m+[m[32m       understand. We all think ourselves pretty clever, of course, but we are mere[m
[32m+[m[32m       human beings, and even a moderate amount of chaos tends to baffle us. And[m
[32m+[m[32m       then it all goes downhill. Working on something you do not really understand[m
[32m+[m[32m       is a bit like cutting random wires on those time-activated bombs they always[m
[32m+[m[32m       have in movies. If you are lucky, you might get the right one â€• especially if[m
[32m+[m[32m       you are the hero of the movie and strike a suitably dramatic pose â€• but[m
[32m+[m[32m       there is always the possibility of blowing everything up.[m
[32m+[m
[32m+[m[32m       Admittedly, in most cases, breaking a program does not cause any large[m
[32m+[m[32m       explosions. But when a program, by someone's ignorant tinkering, has[m
[32m+[m[32m       degenerated into a ramshackle mass of errors, reshaping it into something[m
[32m+[m[32m       sensible is a terrible labour â€• sometimes you might just as well start over.[m
[32m+[m
[32m+[m[32m       Thus, the programmer is always looking for ways to keep the complexity of[m
[32m+[m[32m       his programs as low as possible. An important way to do this is to try and[m
[32m+[m[32m       make code more abstract. When writing a program, it is easy to get[m
[32m+[m[32m       sidetracked into small details at every point. You come across some little[m
[32m+[m[32m       issue, and you deal with it, and then proceed to the next little problem, and[m
[32m+[m[32m       so on. This makes the code read like a grandmother's tale.[m
[32m+[m
[32m+[m[32m              Yes, dear, to make pea soup you will need split peas, the dry kind.[m
[32m+[m[32m              And you have to soak them at least for a night, or you will have to[m
[32m+[m[32m              cook them for hours and hours. I remember one time, when my[m
[32m+[m[32m              dull son tried to make pea soup. Would you believe he hadn't[m
[32m+[m[32m              soaked the peas? We almost broke our teeth, all of us. Anyway,[m
[32m+[m[32m              when you have soaked the peas, and you'll want about a cup of[m
[32m+[m[32m              them per person, and pay attention because they will expand a bit[m
[32m+[m[32m              while they are soaking, so if you aren't careful they will spill out of[m
[32m+[m[32m              whatever you use to hold them, so also use plenty water to soak[m
[32m+[m[32m              in, but as I said, about a cup of them, when they are dry, and[m
[32m+[m[32m              after they are soaked you cook them in four cups of water per cup[m
[32m+[m[32m              of dry peas. Let it simmer for two hours, which means you cover it[m
[32m+[m[32m              and keep it barely cooking, and then add some diced onions, sliced[m
[32m+[m[32m              celery stalk, and maybe a carrot or two and some ham. Let it all[m
[32m+[m[32m              cook for a few minutes more, and it is ready to eat.[m
[32m+[m
[32m+[m[32m       Another way to describe this recipe:[m
[32m+[m
[32m+[m[32m              Per person: one cup dried split peas, half a chopped onion, half a[m
[32m+[m[32m              carrot, a celery stalk, and optionally ham.[m
[32m+[m
[32m+[m[32m              Soak peas overnight, simmer them for two hours in four cups of[m
[32m+[m[32m              water (per person), add vegetables and ham, and cook for ten[m
[32m+[m[32m              more minutes.[m
[32m+[m
[32m+[m[32m       This is shorter, but if you don't know how to soak peas you'll surely screw up[m
[32m+[m[32m       and put them in too little water. But how to soak peas can be looked up, and[m
[32m+[m[32mthat is the trick. If you assume a certain basic knowledge in the audience, you[m
[32m+[m[32mcan talk in a language that deals with bigger concepts, and express things in a[m
[32m+[m[32mmuch shorter and clearer way. This, more or less, is what abstraction is.[m
[32m+[m
[32m+[m[32mHow is this far-fetched recipe story relevant to programming? Well, obviously,[m
[32m+[m[32mthe recipe is the program. Furthermore, the basic knowledge that the cook is[m
[32m+[m[32msupposed to have corresponds to the functions and other constructs that are[m
[32m+[m[32mavailable to the programmer. If you remember the introduction of this book,[m
[32m+[m[32mthings like while make it easier to build loops, and in chapter 4 we wrote[m
[32m+[m[32msome simple functions in order to make other functions shorter and more[m
[32m+[m[32mstraightforward. Such tools, some of them made available by the language[m
[32m+[m[32mitself, others built by the programmer, are used to reduce the amount of[m
[32m+[m[32muninteresting details in the rest of the program, and thus make that programs[m
[32m+[m[32measier to work with.[m
[32m+[m
[32m+[m[32mFunctional programming, which is the subject of this chapter, produces[m
[32m+[m[32mabstraction through clever ways of combining functions. A programmer armed[m
[32m+[m[32mwith a repertoire of fundamental functions and, more importantly, the[m
[32m+[m[32mknowledge on how to use them, is much more effective than one who starts[m
[32m+[m[32mfrom scratch. Unfortunately, a standard JavaScript environment comes with[m
[32m+[m[32mdeplorably few essential functions, so we have to write them ourselves or,[m
[32m+[m[32mwhich is often preferable, make use of somebody else's code (more on that in[m
[32m+[m[32mchapter 9).[m
[32m+[m
[32m+[m[32mThere are other popular approaches to abstraction, most notably object-[m
[32m+[m[32moriented programming, the subject of chapter 8.[m
[32m+[m
[32m+[m[32mOne ugly detail that, if you have any good taste at all, must be starting to[m
[32m+[m[32mbother you is the endlessly repeated for loop going over an array: for (var i[m
[32m+[m[32m= 0; i < something.length; i++) .... Can this be abstracted?[m
[32m+[m
[32m+[m[32mThe problem is that, whereas most functions just take some values, combine[m
[32m+[m[32mthem, and return something, such a loop contains a piece of code that it must[m
[32m+[m[32mexecute. It is easy to write a function that goes over an array and prints out[m
[32m+[m[32mevery element:[m
[32m+[m
[32m+[m[32m   function printArray(array) {[m
[32m+[m[32m       for (var i = 0; i < array.length; i++)[m
[32m+[m[32m          print(array[i]);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mBut what if we want to do something else than print? Since 'doing something'[m
[32m+[m[32mcan be represented as a function, and functions are also values, we can pass[m
[32m+[m[32mour action as a function value:[m
[32m+[m
[32m+[m[32m   function forEach(array, action) {[m
[32m+[m[32m       for (var i = 0; i < array.length; i++)[m
[32m+[m[32m          action(array[i]);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   forEach(["Wampeter", "Foma", "Granfalloon"], print);[m
[32m+[m
[32m+[m[32mAnd by making use of an anonymous function, something just like a for loop[m
[32m+[m[32mcan be written with less useless details:[m
[32m+[m
[32m+[m[32m   function sum(numbers) {[m
[32m+[m[32m       var total = 0;[m
[32m+[m[32m       forEach(numbers, function (number) {[m
[32m+[m[32m          total += number;[m
[32m+[m[32m       });[m
[32m+[m[32m       return total;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   show(sum([1, 10, 100]));[m
[32m+[m
[32m+[m[32mNote that the variable total is visible inside the anonymous function because[m
[32m+[m[32mof the lexical scoping rules. Also note that this version is hardly shorter than[m
[32m+[m[32mthe for loop and requires a rather clunky }); at its end â€• the brace closes[m
[32m+[m[32mthe body of the anonymous function, the parenthesis closes the function call[m
[32m+[m[32mto forEach, and the semicolon is needed because this call is a statement.[m
[32m+[m
[32m+[m[32mYou do get a variable bound to the current element in the array, number, so[m
[32m+[m[32mthere is no need to use numbers[i] anymore, and when this array is created[m
[32m+[m[32mby evaluating some expression, there is no need to store it in a variable,[m
[32m+[m[32mbecause it can be passed to forEach directly.[m
[32m+[m
[32m+[m[32mThe cat-code in chapter 4 contains a piece like this:[m
[32m+[m
[32m+[m[32m   var paragraphs = mailArchive[mail].split("\n");[m
[32m+[m[32m   for (var i = 0; i < paragraphs.length; i++)[m
[32m+[m
[32m+[m[32m       handleParagraph(paragraphs[i]);[m
[32m+[m
[32m+[m[32mThis can now be written as...[m
[32m+[m
[32m+[m[32m   forEach(mailArchive[mail].split("\n"), handleParagraph);[m
[32m+[m
[32m+[m[32mOn the whole, using more abstract (or 'higher level') constructs results in[m
[32m+[m[32mmore information and less noise: The code in sum reads 'for each number in[m
[32m+[m[32mnumbers add that number to the total', instead of... 'there is this variable that[m
[32m+[m[32mstarts at zero, and it counts upward to the length of the array called numbers,[m
[32m+[m[32mand for every value of this variable we look up the corresponding element in[m
[32m+[m[32mthe array and add this to the total'.[m
[32m+[m
[32m+[m[32mWhat forEach does is take an algorithm, in this case 'going over an array', and[m
[32m+[m[32mabstract it. The 'gaps' in the algorithm, in this case, what to do for each of[m
[32m+[m[32mthese elements, are filled by functions which are passed to the algorithm[m
[32m+[m[32mfunction.[m
[32m+[m
[32m+[m[32mFunctions that operate on other functions are called higher-order functions. By[m
[32m+[m[32moperating on functions, they can talk about actions on a whole new level. The[m
[32m+[m[32mmakeAddFunction function from chapter 3 is also a higher-order function.[m
[32m+[m[32mInstead of taking a function value as an argument, it produces a new[m
[32m+[m[32mfunction.[m
[32m+[m
[32m+[m[32mHigher-order functions can be used to generalise many algorithms that[m
[32m+[m[32mregular functions can not easily describe. When you have a repertoire of[m
[32m+[m[32mthese functions at your disposal, it can help you think about your code in a[m
[32m+[m[32mclearer way: Instead of a messy set of variables and loops, you can[m
[32m+[m[32mdecompose algorithms into a combination of a few fundamental algorithms,[m
[32m+[m[32mwhich are invoked by name, and do not have to be typed out again and[m
[32m+[m[32magain.[m
[32m+[m
[32m+[m[32mBeing able to write what we want to do instead of how we do it means we[m
[32m+[m[32mare working at a higher level of abstraction. In practice, this means shorter,[m
[32m+[m[32mclearer, and more pleasant code.[m
[32m+[m
[32m+[m[32mAnother useful type of higher-order function modifies the function value it is[m
[32m+[m[32mgiven:[m
[32m+[m
[32m+[m[32m   function negate(func) {[m
[32m+[m[32m       return function(x) {[m
[32m+[m[32m          return !func(x);[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   var isNotNaN = negate(isNaN);[m
[32m+[m[32m   show(isNotNaN(NaN));[m
[32m+[m
[32m+[m[32mThe function returned by negate feeds the argument it is given to the original[m
[32m+[m[32mfunction func, and then negates the result. But what if the function you want[m
[32m+[m[32mto negate takes more than one argument? You can get access to any[m
[32m+[m[32marguments passed to a function with the arguments array, but how do you call[m
[32m+[m[32ma function when you do not know how many arguments you have?[m
[32m+[m
[32m+[m[32mFunctions have a method called apply, which is used for situations like this. It[m
[32m+[m[32mtakes two arguments. The role of the first argument will be discussed in[m
[32m+[m[32mchapter 8, for now we just use null there. The second argument is an array[m
[32m+[m[32mcontaining the arguments that the function must be applied to.[m
[32m+[m
[32m+[m[32m   show(Math.min.apply(null, [5, 6]));[m
[32m+[m
[32m+[m[32m   function negate(func) {[m
[32m+[m[32m       return function() {[m
[32m+[m[32m          return !func.apply(null, arguments);[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mUnfortunately, on the Internet Explorer browser a lot of built-in functions,[m
[32m+[m[32msuch as alert, are not really functions... or something. They report their type[m
[32m+[m[32mas "object" when given to the typeof operator, and they do not have an apply[m
[32m+[m[32mmethod. Your own functions do not suffer from this, they are always real[m
[32m+[m[32mfunctions.[m
[32m+[m
[32m+[m[32mLet us look at a few more basic algorithms related to arrays. The sum function[m
[32m+[m[32mis really a variant of an algorithm which is usually called reduce or fold:[m
[32m+[m
[32m+[m[32m   function reduce(combine, base, array) {[m
[32m+[m[32m       forEach(array, function (element) {[m
[32m+[m[32m          base = combine(base, element);[m
[32m+[m[32m       });[m
[32m+[m[32m       return base;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m               function add(a, b) {[m
[32m+[m[32m                  return a + b;[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               function sum(numbers) {[m
[32m+[m[32m                  return reduce(add, 0, numbers);[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m          reduce combines an array into a single value by repeatedly using a function[m
[32m+[m[32m          that combines an element of the array with a base value. This is exactly what[m
[32m+[m[32m          sum did, so it can be made shorter by using reduce... except that addition is an[m
[32m+[m[32m          operator and not a function in JavaScript, so we first had to put it into a[m
[32m+[m[32m          function.[m
[32m+[m
[32m+[m[32m          The reason reduce takes the function as its first argument instead of its last,[m
[32m+[m[32m          as in forEach, is partly that this is tradition â€• other languages do it like that â€•[m
[32m+[m[32m          and partly that this allows us to use a particular trick, which will be discussed[m
[32m+[m[32m          at the end of this chapter. It does mean that, when calling reduce, writing the[m
[32m+[m[32m          reducing function as an anonymous function looks a bit weirder, because now[m
[32m+[m[32m          the other arguments follow after the function, and the resemblance to a[m
[32m+[m[32m          normal for block is lost entirely.[m
[32m+[m
[32m+[m[32mEx. 6.1 Write a function countZeroes, which takes an array of numbers as its[m
[32m+[m[32m          argument and returns the amount of zeroes that occur in it. Use reduce.[m
[32m+[m
[32m+[m[32m          Then, write the higher-order function count, which takes an array and a test[m
[32m+[m[32m          function as arguments, and returns the amount of elements in the array for[m
[32m+[m[32m          which the test function returned true. Re-implement countZeroes using this[m
[32m+[m[32m          function.[m
[32m+[m
[32m+[m[32m              function countZeroes(array) {[m
[32m+[m[32m                  function counter(total, element) {[m
[32m+[m[32m                      return total + (element === 0 ? 1 : 0);[m
[32m+[m[32m                  }[m
[32m+[m[32m                  return reduce(counter, 0, array);[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m          The weird part, with the question mark and the colon, uses a new operator.[m
[32m+[m[32m          In chapter 2 we have seen unary and binary operators. This one is ternary â€•[m
[32m+[m[32m          it acts on three values. Its effect resembles that of if/else, except that,[m
[32m+[m[32m          where if conditionally executes statements, this one conditionally chooses[m
[32m+[m[32m          expressions. The first part, before the question mark, is the condition. If this[m
[32m+[m[32m          condition is true, the expression after the question mark is chosen, 1 in this[m
[32m+[m[32m          case. If it is false, the part after the colon, 0 in this case, is chosen.[m
[32m+[m
[32m+[m[32m          Use of this operator can make some pieces of code much shorter. When the[m
[32m+[m[32m          expressions inside it get very big, or you have to make more decisions inside[m
[32m+[m[32m          the conditional parts, just using plain if and else is usually more readable.[m
[32m+[m
[32m+[m[32m          Here is the solution that uses a count function, with a function that produces[m
[32m+[m[32m          equality-testers included to make the final countZeroes function even shorter:[m
[32m+[m
[32m+[m[32m              function count(test, array) {[m
[32m+[m[32m                  return reduce(function(total, element) {[m
[32m+[m[32m                      return total + (test(element) ? 1 : 0);[m
[32m+[m[32m       }, 0, array);[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function equals(x) {[m
[32m+[m[32m       return function(element) {return x === element;};[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function countZeroes(array) {[m
[32m+[m[32m       return count(equals(0), array);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mOne other generally useful 'fundamental algorithm' related to arrays is called[m
[32m+[m[32mmap. It goes over an array, applying a function to every element, just like[m
[32m+[m[32mforEach. But instead of discarding the values returned by function, it builds up[m
[32m+[m[32ma new array from these values.[m
[32m+[m
[32m+[m[32m   function map(func, array) {[m
[32m+[m[32m       var result = [];[m
[32m+[m[32m       forEach(array, function (element) {[m
[32m+[m[32m          result.push(func(element));[m
[32m+[m[32m       });[m
[32m+[m[32m       return result;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(map(Math.round, [0.01, 2, 9.89, Math.PI]));[m
[32m+[m
[32m+[m[32mNote that the first argument is called func, not function, this is because[m
[32m+[m[32mfunction is a keyword and thus not a valid variable name.[m
[32m+[m
[32m+[m[32mThere once was, living in the deep mountain forests of Transylvania, a[m
[32m+[m[32mrecluse. Most of the time, he just wandered around his mountain, talking to[m
[32m+[m[32mtrees and laughing with birds. But now and then, when the pouring rain[m
[32m+[m[32mtrapped him in his little hut, and the howling wind made him feel unbearably[m
[32m+[m[32msmall, the recluse felt an urge to write something, wanted to pour some[m
[32m+[m[32mthoughts out onto paper, where they could maybe grow bigger than he[m
[32m+[m[32mhimself was.[m
[32m+[m
[32m+[m[32mAfter failing miserably at poetry, fiction, and philosophy, the recluse finally[m
[32m+[m[32mdecided to write a technical book. In his youth, he had done some computer[m
[32m+[m[32mprogramming, and he figured that if he could just write a good book about[m
[32m+[m[32mthat, fame and recognition would surely follow.[m
[32m+[m
[32m+[m[32mSo he wrote. At first he used fragments of tree bark, but that turned out not[m
[32m+[m[32mto be very practical. He went down to the nearest village and bought himself[m
[32m+[m[32ma laptop computer. After a few chapters, he realised he wanted to put the[m
[32m+[m[32mbook in HTML format, in order to put it on his web-page...[m
[32m+[m
[32m+[m[32mAre you familiar with HTML? It is the method used to add mark-up to pages[m
[32m+[m[32mon the web, and we will be using it a few times in this book, so it would be[m
[32m+[m[32mnice if you know how it works, at least generally. If you are a good student,[m
[32m+[m[32myou could go search the web for a good introduction to HTML now, and come[m
[32m+[m[32mback here when you have read it. Most of you probably are lousy students, so[m
[32m+[m[32mI will just give a short explanation and hope it is enough.[m
[32m+[m[32mHTML stands for 'HyperText Mark-up Language'. An HTML document is all[m
[32m+[m[32mtext. Because it must be able to express the structure of this text, information[m
[32m+[m[32mabout which text is a heading, which text is purple, and so on, a few[m
[32m+[m[32mcharacters have a special meaning, somewhat like backslashes in JavaScript[m
[32m+[m[32mstrings. The 'less than' and 'greater than' characters are used to create 'tags'.[m
[32m+[m[32mA tag gives extra information about the text in the document. It can stand on[m
[32m+[m[32mits own, for example to mark the place where a picture should appear in the[m
[32m+[m[32mpage, or it can contain text and other tags, for example when it marks the[m
[32m+[m[32mstart and end of a paragraph.[m
[32m+[m
[32m+[m[32mSome tags are compulsory, a whole HTML document must always be[m
[32m+[m[32mcontained in between html tags. Here is an example of an HTML document:[m
[32m+[m
[32m+[m[32m   <html>[m
[32m+[m[32m       <head>[m
[32m+[m[32m          <title>A quote</title>[m
[32m+[m[32m       </head>[m
[32m+[m[32m       <body>[m
[32m+[m[32m          <h1>A quote</h1>[m
[32m+[m[32m          <blockquote>[m
[32m+[m[32m              <p>The connection between the language in which we[m
[32m+[m[32m              think/program and the problems and solutions we can imagine[m
[32m+[m[32m              is very close. For this reason restricting language[m
[32m+[m[32m              features with the intent of eliminating programmer errors is[m
[32m+[m[32m              at best dangerous.</p>[m
[32m+[m[32m              <p>-- Bjarne Stroustrup</p>[m
[32m+[m[32m          </blockquote>[m
[32m+[m[32m          <p>Mr. Stroustrup is the inventor of the C++ programming[m
[32m+[m[32m          language, but quite an insightful person nevertheless.</p>[m
[32m+[m[32m          <p>Also, here is a picture of an ostrich:</p>[m
[32m+[m[32m          <img src="img/ostrich.png"/>[m
[32m+[m[32m       </body>[m
[32m+[m
[32m+[m[32m   </html>[m
[32m+[m
[32m+[m[32mElements that contain text or other tags are first opened with <tagname>, and[m
[32m+[m[32mafterwards finished with </tagname>. The html element always contains two[m
[32m+[m[32mchildren: head and body. The first contains information about the document,[m
[32m+[m[32mthe second contains the actual document.[m
[32m+[m
[32m+[m[32mMost tag names are cryptic abbreviations. h1 stands for 'heading 1', the[m
[32m+[m[32mbiggest kind of heading. There are also h2 to h6 for successively smaller[m
[32m+[m[32mheadings. p means 'paragraph', and img stands for 'image'. The img element[m
[32m+[m[32mdoes not contain any text or other tags, but it does have some extra[m
[32m+[m[32minformation, src="img/ostrich.png", which is called an 'attribute'. In this case,[m
[32m+[m[32mit contains information about the image file that should be shown here.[m
[32m+[m
[32m+[m[32mBecause < and > have a special meaning in HTML documents, they can not be[m
[32m+[m[32mwritten directly in the text of the document. If you want to say '5 < 10' in an[m
[32m+[m[32mHTML document, you have to write '5 &lt; 10', where 'lt' stands for 'less[m
[32m+[m[32mthan'. '&gt;' is used for '>', and because these codes also give the ampersand[m
[32m+[m[32mcharacter a special meaning, a plain '&' is written as '&amp;'.[m
[32m+[m
[32m+[m[32mNow, those are only the bare basics of HTML, but they should be enough to[m
[32m+[m[32mmake it through this chapter, and later chapters that deal with HTML[m
[32m+[m[32mdocuments, without getting entirely confused.[m
[32m+[m[32mThe JavaScript console has a function viewHTML that can be used to look at[m
[32m+[m[32mHTML documents. I stored the example document above in the variable[m
[32m+[m[32mstroustrupQuote, so you can view it by executing the following code:[m
[32m+[m
[32m+[m[32m   viewHTML(stroustrupQuote);[m
[32m+[m
[32m+[m[32mIf you have some kind of pop-up blocker installed or integrated in your[m
[32m+[m[32mbrowser, it will probably interfere with viewHTML, which tries to show the HTML[m
[32m+[m[32mdocument in a new window or tab. Try to configure the blocker to allow[m
[32m+[m[32mpop-ups from this site.[m
[32m+[m
[32m+[m[32mSo, picking up the story again, the recluse wanted to have his book in HTML[m
[32m+[m[32mformat. At first he just wrote all the tags directly into his manuscript, but[m
[32m+[m[32mtyping all those less-than and greater-than signs made his fingers hurt, and[m
[32m+[m[32mhe constantly forgot to write &amp; when he needed an &. This gave him a[m
[32m+[m[32mheadache. Next, he tried to write the book in Microsoft Word, and then save[m
[32m+[m[32mit as HTML. But the HTML that came out of that was fifteen times bigger and[m
[32m+[m[32mmore complicated than it had to be. And besides, Microsoft Word gave him a[m
[32m+[m[32mheadache.[m
[32m+[m
[32m+[m[32mThe solution that he eventually came up with was this: He would write the[m
[32m+[m[32mbook as plain text, following some simple rules about the way paragraphs[m
[32m+[m[32mwere separated and the way headings looked. Then, he would write a[m
[32m+[m[32mprogram to convert this text into precisely the HTML that he wanted.[m
[32m+[m
[32m+[m[32mThe rules are this:[m
[32m+[m
[32m+[m[32m   1. Paragraphs are separated by blank lines.[m
[32m+[m[32m   2. A paragraph that starts with a '%' symbol is a header. The more '%'[m
[32m+[m
[32m+[m[32m       symbols, the smaller the header.[m
[32m+[m[32m   3. Inside paragraphs, pieces of text can be emphasised by putting them[m
[32m+[m
[32m+[m[32m       between asterisks.[m
[32m+[m[32m   4. Footnotes are written between braces.[m
[32m+[m
[32m+[m[32mAfter he had struggled painfully with his book for six months, the recluse had[m
[32m+[m[32mstill only finished a few paragraphs. At this point, his hut was struck by[m
[32m+[m[32mlightning, killing him, and forever putting his writing ambitions to rest. From[m
[32m+[m[32mthe charred remains of his laptop, I could recover the following file:[m
[32m+[m
[32m+[m[32m   % The Book of Programming[m
[32m+[m
[32m+[m[32m   %% The Two Aspects[m
[32m+[m
[32m+[m[32m   Below the surface of the machine, the program moves. Without effort,[m
[32m+[m[32m   it expands and contracts. In great harmony, electrons scatter and[m
[32m+[m[32m   regroup. The forms on the monitor are but ripples on the water. The[m
[32m+[m[32m   essence stays invisibly below.[m
[32m+[m
[32m+[m[32m   When the creators built the machine, they put in the processor and the[m
[32m+[m[32m   memory. From these arise the two aspects of the program.[m
[32m+[m
[32m+[m[32m   The aspect of the processor is the active substance. It is called[m
[32m+[m[32m   Control. The aspect of the memory is the passive substance. It is[m
[32m+[m[32mcalled Data.[m
[32m+[m
[32m+[m[32mData is made of merely bits, yet it takes complex forms. Control[m
[32m+[m[32mconsists only of simple instructions, yet it performs difficult[m
[32m+[m[32mtasks. From the small and trivial, the large and complex arise.[m
[32m+[m
[32m+[m[32mThe program source is Data. Control arises from it. The Control[m
[32m+[m[32mproceeds to create new Data. The one is born from the other, the[m
[32m+[m[32mother is useless without the one. This is the harmonious cycle of[m
[32m+[m[32mData and Control.[m
[32m+[m
[32m+[m[32mOf themselves, Data and Control are without structure. The programmers[m
[32m+[m[32mof old moulded their programs out of this raw substance. Over time,[m
[32m+[m[32mthe amorphous Data has crystallised into data types, and the chaotic[m
[32m+[m[32mControl was restricted into control structures and functions.[m
[32m+[m
[32m+[m[32m%% Short Sayings[m
[32m+[m
[32m+[m[32mWhen a student asked Fu-Tzu about the nature of the cycle of Data and[m
[32m+[m[32mControl, Fu-Tzu replied 'Think of a compiler, compiling itself.'[m
[32m+[m
[32m+[m[32mA student asked 'The programmers of old used only simple machines and[m
[32m+[m[32mno programming languages, yet they made beautiful programs. Why do we[m
[32m+[m[32muse complicated machines and programming languages?'. Fu-Tzu replied[m
[32m+[m[32m'The builders of old used only sticks and clay, yet they made[m
[32m+[m[32mbeautiful huts.'[m
[32m+[m
[32m+[m[32mA hermit spent ten years writing a program. 'My program can compute[m
[32m+[m[32mthe motion of the stars on a 286-computer running MS DOS', he proudly[m
[32m+[m[32mannounced. 'Nobody owns a 286-computer or uses MS DOS anymore.',[m
[32m+[m[32mFu-Tzu responded.[m
[32m+[m
[32m+[m[32mFu-Tzu had written a small program that was full of global state and[m
[32m+[m[32mdubious shortcuts. Reading it, a student asked 'You warned us against[m
[32m+[m[32mthese techniques, yet I find them in your program. How can this be?'[m
[32m+[m[32mFu-Tzu said 'There is no need to fetch a water hose when the house is[m
[32m+[m[32mnot on fire.'{This is not to be read as an encouragement of sloppy[m
[32m+[m[32mprogramming, but rather as a warning against neurotic adherence to[m
[32m+[m[32mrules of thumb.}[m
[32m+[m
[32m+[m[32m%% Wisdom[m
[32m+[m
[32m+[m[32mA student was complaining about digital numbers. 'When I take the root[m
[32m+[m[32mof two and then square it again, the result is already inaccurate!'.[m
[32m+[m[32mOverhearing him, Fu-Tzu laughed. 'Here is a sheet of paper. Write down[m
[32m+[m[32mthe precise value of the square root of two for me.'[m
[32m+[m
[32m+[m[32mFu-Tzu said 'When you cut against the grain of the wood, much strength[m
[32m+[m[32mis needed. When you program against the grain of a problem, much code[m
[32m+[m[32mis needed.'[m
[32m+[m
[32m+[m[32mTzu-li and Tzu-ssu were boasting about the size of their latest[m
[32m+[m[32mprograms. 'Two-hundred thousand lines', said Tzu-li, 'not counting[m
[32m+[m[32mcomments!'. 'Psah', said Tzu-ssu, 'mine is almost a *million* lines[m
[32m+[m[32malready.' Fu-Tzu said 'My best program has five hundred lines.'[m
[32m+[m[32mHearing this, Tzu-li and Tzu-ssu were enlightened.[m
[32m+[m
[32m+[m[32mA student had been sitting motionless behind his computer for hours,[m
[32m+[m[32mfrowning darkly. He was trying to write a beautiful solution to a[m
[32m+[m[32mdifficult problem, but could not find the right approach. Fu-Tzu hit[m
[32m+[m[32mhim on the back of his head and shouted '*Type something!*' The student[m
[32m+[m[32mstarted writing an ugly solution. After he had finished, he suddenly[m
[32m+[m[32munderstood the beautiful solution.[m
[32m+[m
[32m+[m[32m%% Progression[m
[32m+[m[32m   A beginning programmer writes his programs like an ant builds her[m
[32m+[m[32m   hill, one piece at a time, without thought for the bigger structure.[m
[32m+[m[32m   His programs will be like loose sand. They may stand for a while, but[m
[32m+[m[32m   growing too big they fall apart{Referring to the danger of internal[m
[32m+[m[32m   inconsistency and duplicated structure in unorganised code.}.[m
[32m+[m
[32m+[m[32m   Realising this problem, the programmer will start to spend a lot of[m
[32m+[m[32m   time thinking about structure. His programs will be rigidly[m
[32m+[m[32m   structured, like rock sculptures. They are solid, but when they must[m
[32m+[m[32m   change, violence must be done to them{Referring to the fact that[m
[32m+[m[32m   structure tends to put restrictions on the evolution of a program.}.[m
[32m+[m
[32m+[m[32m   The master programmer knows when to apply structure and when to leave[m
[32m+[m[32m   things in their simple form. His programs are like clay, solid yet[m
[32m+[m[32m   malleable.[m
[32m+[m
[32m+[m[32m   %% Language[m
[32m+[m
[32m+[m[32m   When a programming language is created, it is given syntax and[m
[32m+[m[32m   semantics. The syntax describes the form of the program, the semantics[m
[32m+[m[32m   describe the function. When the syntax is beautiful and the semantics[m
[32m+[m[32m   are clear, the program will be like a stately tree. When the syntax is[m
[32m+[m[32m   clumsy and the semantics confusing, the program will be like a bramble[m
[32m+[m[32m   bush.[m
[32m+[m
[32m+[m[32m   Tzu-ssu was asked to write a program in the language called Java,[m
[32m+[m[32m   which takes a very primitive approach to functions. Every morning, as[m
[32m+[m[32m   he sat down in front of his computer, he started complaining. All day[m
[32m+[m[32m   he cursed, blaming the language for all that went wrong. Fu-Tzu[m
[32m+[m[32m   listened for a while, and then reproached him, saying 'Every language[m
[32m+[m[32m   has its own way. Follow its form, do not try to program as if you[m
[32m+[m[32m   were using another language.'[m
[32m+[m
[32m+[m[32mTo honour the memory of our good recluse, I would like to finish his[m
[32m+[m[32mHTML-generating program for him. A good approach to this problem goes like[m
[32m+[m[32mthis:[m
[32m+[m
[32m+[m[32m   1. Split the file into paragraphs by cutting it at every empty line.[m
[32m+[m[32m   2. Remove the '%' characters from header paragraphs and mark them as[m
[32m+[m
[32m+[m[32m       headers.[m
[32m+[m[32m   3. Process the text of the paragraphs themselves, splitting them into[m
[32m+[m
[32m+[m[32m       normal parts, emphasised parts, and footnotes.[m
[32m+[m[32m   4. Move all the footnotes to the bottom of the document, leaving numbers1[m
[32m+[m
[32m+[m[32m       in their place.[m
[32m+[m[32m   5. Wrap each piece into the correct HTML tags.[m
[32m+[m[32m   6. Combine everything into a single HTML document.[m
[32m+[m
[32m+[m[32mThis approach does not allow footnotes inside emphasised text, or vice versa.[m
[32m+[m[32mThis is kind of arbitrary, but helps keep the example code simple. If, at the[m
[32m+[m[32mend of the chapter, you feel like an extra challenge, you can try to revise the[m
[32m+[m[32mprogram to support 'nested' mark-up.[m
[32m+[m
[32m+[m[32mThe whole manuscript, as a string value, is available on this page by calling[m
[32m+[m[32mrecluseFile function.[m
[32m+[m
[32m+[m[32mStep 1 of the algorithm is trivial. A blank line is what you get when you have[m
[32m+[m[32m         two newlines in a row, and if you remember the split method that strings[m
[32m+[m[32m         have, which we saw in chapter 4, you will realise that this will do the trick:[m
[32m+[m
[32m+[m[32m            var paragraphs = recluseFile().split("\n\n");[m
[32m+[m[32m            print("Found ", paragraphs.length, " paragraphs.");[m
[32m+[m
[32m+[m[32mEx. 6.2  Write a function processParagraph that, when given a paragraph string as its[m
[32m+[m[32m         argument, checks whether this paragraph is a header. If it is, it strips of the[m
[32m+[m[32m         '%' characters and counts their number. Then, it returns an object with two[m
[32m+[m[32m         properties, content, which contains the text inside the paragraph, and type,[m
[32m+[m[32m         which contains the tag that this paragraph must be wrapped in, "p" for[m
[32m+[m[32m         regular paragraphs, "h1" for headers with one '%', and "hX" for headers with[m
[32m+[m[32m         X '%' characters.[m
[32m+[m
[32m+[m[32m         Remember that strings have a charAt method that can be used to look at a[m
[32m+[m[32m         specific character inside them.[m
[32m+[m
[32m+[m[32m         function processParagraph(paragraph) {[m
[32m+[m[32m            var header = 0;[m
[32m+[m[32m            while (paragraph.charAt(0) == "%") {[m
[32m+[m[32m                paragraph = paragraph.slice(1);[m
[32m+[m[32m                header++;[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            return {type: (header == 0 ? "p" : "h" + header),[m
[32m+[m[32m                          content: paragraph};[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         show(processParagraph(paragraphs[0]));[m
[32m+[m
[32m+[m[32m          This is where we can try out the map function we saw earlier.[m
[32m+[m
[32m+[m[32m               var paragraphs = map(processParagraph,[m
[32m+[m[32m                                                    recluseFile().split("\n\n"));[m
[32m+[m
[32m+[m[32m         And bang, we have an array of nicely categorised paragraph objects. We are[m
[32m+[m[32m          getting ahead of ourselves though, we forgot step 3 of the algorithm:[m
[32m+[m
[32m+[m[32m                Process the text of the paragraphs themselves, splitting them into[m
[32m+[m[32m                normal parts, emphasised parts, and footnotes.[m
[32m+[m[32m          Which can be decomposed into:[m
[32m+[m[32m             1. If the paragraph starts with an asterisk, take off the emphasised part[m
[32m+[m[32m                 and store it.[m
[32m+[m[32m             2. If the paragraph starts with an opening brace, take off the footnote and[m
[32m+[m[32m                 store it.[m
[32m+[m[32m             3. Otherwise, take off the part until the first emphasised part or footnote,[m
[32m+[m[32m                 or until the end of the string, and store it as normal text.[m
[32m+[m[32m             4. If there is anything left in the paragraph, start at 1 again.[m
[32m+[m
[32m+[m[32mEx. 6.3 Build a function splitParagraph which, given a paragraph string, returns an[m
[32m+[m[32marray of paragraph fragments. Think of a good way to represent the[m
[32m+[m[32mfragments.[m
[32m+[m
[32m+[m[32mThe method indexOf, which searches for a character or sub-string in a string[m
[32m+[m[32mand returns its position, or -1 if not found, will probably be useful in some way[m
[32m+[m[32mhere.[m
[32m+[m
[32m+[m[32mThis is a tricky algorithm, and there are many not-quite-correct or[m
[32m+[m[32mway-too-long ways to describe it. If you run into problems, just think about it[m
[32m+[m[32mfor a minute. Try to write inner functions that perform the smaller actions that[m
[32m+[m[32mmake up the algorithm.[m
[32m+[m
[32m+[m[32mHere is one possible solution:[m
[32m+[m
[32m+[m[32m   function splitParagraph(text) {[m
[32m+[m[32m       function indexOrEnd(character) {[m
[32m+[m[32m          var index = text.indexOf(character);[m
[32m+[m[32m          return index == -1 ? text.length : index;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       function takeNormal() {[m
[32m+[m[32m          var end = reduce(Math.min, text.length,[m
[32m+[m[32m                                         map(indexOrEnd, ["*", "{"]));[m
[32m+[m[32m          var part = text.slice(0, end);[m
[32m+[m[32m          text = text.slice(end);[m
[32m+[m[32m          return part;[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       function takeUpTo(character) {[m
[32m+[m[32m          var end = text.indexOf(character, 1);[m
[32m+[m[32m          if (end == -1)[m
[32m+[m[32m              throw new Error("Missing closing '" + character + "'");[m
[32m+[m[32m          var part = text.slice(1, end);[m
[32m+[m[32m          text = text.slice(end + 1);[m
[32m+[m[32m          return part;[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       var fragments = [];[m
[32m+[m
[32m+[m[32m       while (text != "") {[m
[32m+[m[32m          if (text.charAt(0) == "*")[m
[32m+[m[32m              fragments.push({type: "emphasised",[m
[32m+[m[32m                                           content: takeUpTo("*")});[m
[32m+[m[32m          else if (text.charAt(0) == "{")[m
[32m+[m[32m              fragments.push({type: "footnote",[m
[32m+[m[32m                                           content: takeUpTo("}")});[m
[32m+[m[32m          else[m
[32m+[m[32m              fragments.push({type: "normal",[m
[32m+[m[32m                                           content: takeNormal()});[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       return fragments;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mNote the over-eager use of map and reduce in the takeNormal function. This is a[m
[32m+[m[32mchapter about functional programming, so program functionally we will! Can[m
[32m+[m[32myou see how this works? The map produces an array of positions where the[m
[32m+[m[32mgiven characters were found, or the end of the string if they were not found,[m
[32m+[m[32mand the reduce takes the minimum of them, which is the next point in the[m
[32m+[m[32mstring that we have to look at.[m
[32m+[m
[32m+[m[32mIf you'd write that out without mapping and reducing you'd get something like[m
[32m+[m[32mthis:[m
[32m+[m
[32m+[m[32m   var nextAsterisk = text.indexOf("*");[m
[32m+[m[32m   var nextBrace = text.indexOf("{");[m
[32m+[m[32m   var end = text.length;[m
[32m+[m[32m   if (nextAsterisk != -1)[m
[32m+[m
[32m+[m[32m       end = nextAsterisk;[m
[32m+[m[32m   if (nextBrace != -1 && nextBrace < end)[m
[32m+[m
[32m+[m[32m       end = nextBrace;[m
[32m+[m
[32m+[m[32mWhich is even more hideous. Most of the time, when a decision has to be[m
[32m+[m[32mmade based on a series of things, even if there are only two of them, writing[m
[32m+[m[32mit as array operations is nicer than handling every value in a separate if[m
[32m+[m[32mstatement. (Fortunately, chapter 10 describes an easier way to ask for the[m
[32m+[m[32mfirst occurrence of 'this or that character' in a string.)[m
[32m+[m
[32m+[m[32mIf you wrote a splitParagraph that stored fragments in a different way than[m
[32m+[m[32mthe solution above, you might want to adjust it, because the functions in the[m
[32m+[m[32mrest of the chapter assume that fragments are objects with type and content[m
[32m+[m[32mproperties.[m
[32m+[m
[32m+[m[32mWe can now wire processParagraph to also split the text inside the paragraphs,[m
[32m+[m[32mmy version can be modified like this:[m
[32m+[m
[32m+[m[32m   function processParagraph(paragraph) {[m
[32m+[m[32m       var header = 0;[m
[32m+[m[32m       while (paragraph.charAt(0) == "%") {[m
[32m+[m[32m           paragraph = paragraph.slice(1);[m
[32m+[m[32m           header++;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       return {type: (header == 0 ? "p" : "h" + header),[m
[32m+[m[32m                     content: splitParagraph(paragraph)};[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mMapping that over the array of paragraphs gives us an array of paragraph[m
[32m+[m[32mobjects, which in turn contain arrays of fragment objects. The next thing to[m
[32m+[m[32mdo is to take out the footnotes, and put references to them in their place.[m
[32m+[m[32mSomething like this:[m
[32m+[m
[32m+[m[32m   function extractFootnotes(paragraphs) {[m
[32m+[m[32m       var footnotes = [];[m
[32m+[m[32m       var currentNote = 0;[m
[32m+[m
[32m+[m[32m       function replaceFootnote(fragment) {[m
[32m+[m[32m           if (fragment.type == "footnote") {[m
[32m+[m[32m              currentNote++;[m
[32m+[m[32m              footnotes.push(fragment);[m
[32m+[m[32m              fragment.number = currentNote;[m
[32m+[m[32m              return {type: "reference", number: currentNote};[m
[32m+[m[32m           }[m
[32m+[m[32m           else {[m
[32m+[m[32m              return fragment;[m
[32m+[m[32m           }[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       forEach(paragraphs, function(paragraph) {[m
[32m+[m[32m           paragraph.content = map(replaceFootnote,[m
[32m+[m[32m                      paragraph.content);[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32m   return footnotes;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mThe replaceFootnote function is called on every fragment. When it gets a[m
[32m+[m[32mfragment that should stay where it is, it just returns it, but when it gets a[m
[32m+[m[32mfootnote, it stores this footnote in the footnotes array, and returns a[m
[32m+[m[32mreference to it instead. In the process, every footnote and reference is also[m
[32m+[m[32mnumbered.[m
[32m+[m
[32m+[m[32mThat gives us enough tools to extract the information we need from the file.[m
[32m+[m[32mAll that is left now is generating the correct HTML.[m
[32m+[m
[32m+[m[32mA lot of people think that concatenating strings is a great way to produce[m
[32m+[m[32mHTML. When they need a link to, for example, a site where you can play the[m
[32m+[m[32mgame of Go, they will do:[m
[32m+[m
[32m+[m[32m   var url = "http://www.gokgs.com/";[m
[32m+[m[32m   var text = "Play Go!";[m
[32m+[m[32m   var linkText = "<a href=\"" + url + "\">" + text + "</a>";[m
[32m+[m[32m   print(linkText);[m
[32m+[m
[32m+[m[32m(Where a is the tag used to create links in HTML documents.) ... Not only is[m
[32m+[m[32mthis clumsy, but when the string text happens to include an angular bracket[m
[32m+[m[32mor an ampersand, it is also wrong. Weird things will happen on your website,[m
[32m+[m[32mand you will look embarrassingly amateurish. We wouldn't want that to[m
[32m+[m[32mhappen. A few simple HTML-generating functions are easy to write. So let us[m
[32m+[m[32mwrite them.[m
[32m+[m
[32m+[m[32mThe secret to successful HTML generation is to treat your HTML document as[m
[32m+[m[32ma data structure instead of a flat piece of text. JavaScript's objects provide a[m
[32m+[m[32mvery easy way to model this:[m
[32m+[m
[32m+[m[32m   var linkObject = {name: "a",[m
[32m+[m[32m                                    attributes: {href: "http://www.gokgs.com/"},[m
[32m+[m[32m                                    content: ["Play Go!"]};[m
[32m+[m
[32m+[m[32mEach HTML element contains a name property, giving the name of the tag it[m
[32m+[m[32mrepresents. When it has attributes, it also contains an attributes property,[m
[32m+[m[32mwhich contains an object in which the attributes are stored. When it has[m
[32m+[m[32mcontent, there is a content property, containing an array of other elements[m
[32m+[m[32mcontained in this element. Strings play the role of pieces of text in our HTML[m
[32m+[m[32mdocument, so the array ["Play Go!"] means that this link has only one[m
[32m+[m[32melement inside it, which is a simple piece of text.[m
[32m+[m
[32m+[m[32mTyping in these objects directly is clumsy, but we don't have to do that. We[m
[32m+[m[32mprovide a shortcut function to do this for us:[m
[32m+[m
[32m+[m[32m   function tag(name, content, attributes) {[m
[32m+[m[32m       return {name: name, attributes: attributes, content: content};[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m          Note that, since we allow the attributes and content of an element to be[m
[32m+[m[32m          undefined if they are not applicable, the second and third argument to this[m
[32m+[m[32m          function can be left off when they are not needed.[m
[32m+[m
[32m+[m[32m          tag is still rather primitive, so we write shortcuts for common types of[m
[32m+[m[32m          elements, such as links, or the outer structure of a simple document:[m
[32m+[m
[32m+[m[32m               function link(target, text) {[m
[32m+[m[32m                  return tag("a", [text], {href: target});[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               function htmlDoc(title, bodyContent) {[m
[32m+[m[32m                  return tag("html", [tag("head", [tag("title", [title])]),[m
[32m+[m[32m                                                      tag("body", bodyContent)]);[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32mEx. 6.4 Looking back at the example HTML document if necessary, write an image[m
[32m+[m[32m          function which, when given the location of an image file, will create an img[m
[32m+[m[32m          HTML element.[m
[32m+[m
[32m+[m[32m              function image(src) {[m
[32m+[m[32m                  return tag("img", [], {src: src});[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m          When we have created a document, it will have to be reduced to a string. But[m
[32m+[m[32m          building this string from the data structures we have been producing is very[m
[32m+[m[32m          straightforward. The important thing is to remember to transform the special[m
[32m+[m[32m          characters in the text of our document...[m
[32m+[m
[32m+[m[32m               function escapeHTML(text) {[m
[32m+[m[32m                  var replacements = [[/&/g, "&amp;"], [/"/g, "&quot;"],[m
[32m+[m[32m                                                      [/</g, "&lt;"], [/>/g, "&gt;"]];[m
[32m+[m[32m                  forEach(replacements, function(replace) {[m
[32m+[m[32m                      text = text.replace(replace[0], replace[1]);[m
[32m+[m[32m                  });[m
[32m+[m[32m                  return text;[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m          The replace method of strings creates a new string in which all occurrences of[m
[32m+[m[32m          the pattern in the first argument are replaced by the second argument, so[m
[32m+[m[32m          "Borobudur".replace(/r/g, "k") gives "Bokobuduk". Don't worry about the[m
[32m+[m[32m          pattern syntax here â€• we'll get to that in chapter 10. The escapeHTML function[m
[32m+[m[32m          puts the different replacements that have to be made into an array, so that it[m
[32m+[m[32m          can loop over them and apply them to the argument one by one.[m
[32m+[m
[32m+[m[32m          Double quotes are also replaced, because we will also be using this function[m
[32m+[m[32m          for the text inside the attributes of HTML tags. Those will be surrounded by[m
[32m+[m[32m          double quotes, and thus must not have any double quotes inside of them.[m
[32m+[m
[32m+[m[32m          Calling replace four times means the computer has to go over the whole[m
[32m+[m[32m          string four times to check and replace its content. This is not very efficient. If[m
[32m+[m[32m          we cared enough, we could write a more complex version of this function,[m
[32m+[m[32m          something that resembles the splitParagraph function we saw earlier, to go[m
[32m+[m[32m          over it only once. For now, we are too lazy for this. Again, chapter 10 shows[m
[32m+[m[32ma much better way to do this.[m
[32m+[m
[32m+[m[32mTo turn an HTML element object into a string, we can use a recursive function[m
[32m+[m[32mlike this:[m
[32m+[m
[32m+[m[32m   function renderHTML(element) {[m
[32m+[m[32m       var pieces = [];[m
[32m+[m
[32m+[m[32m       function renderAttributes(attributes) {[m
[32m+[m[32m          var result = [];[m
[32m+[m[32m          if (attributes) {[m
[32m+[m[32m              for (var name in attributes)[m
[32m+[m[32m                  result.push(" " + name + "=\"" +[m
[32m+[m[32m                                       escapeHTML(attributes[name]) + "\"");[m
[32m+[m[32m          }[m
[32m+[m[32m          return result.join("");[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       function render(element) {[m
[32m+[m[32m          // Text node[m
[32m+[m[32m          if (typeof element == "string") {[m
[32m+[m[32m              pieces.push(escapeHTML(element));[m
[32m+[m[32m          }[m
[32m+[m[32m          // Empty tag[m
[32m+[m[32m          else if (!element.content || element.content.length == 0) {[m
[32m+[m[32m              pieces.push("<" + element.name +[m
[32m+[m[32m                                    renderAttributes(element.attributes) + "/>");[m
[32m+[m[32m          }[m
[32m+[m[32m          // Tag with content[m
[32m+[m[32m          else {[m
[32m+[m[32m              pieces.push("<" + element.name +[m
[32m+[m[32m                                    renderAttributes(element.attributes) + ">");[m
[32m+[m[32m              forEach(element.content, render);[m
[32m+[m[32m              pieces.push("</" + element.name + ">");[m
[32m+[m[32m          }[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       render(element);[m
[32m+[m[32m       return pieces.join("");[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mNote the in loop that extracts the properties from a JavaScript object in order[m
[32m+[m[32mto make HTML tag attributes out of them. Also note that in two places, arrays[m
[32m+[m[32mare being used to accumulate strings, which are then joined into a single[m
[32m+[m[32mresult string. Why didn't I just start with an empty string and then add the[m
[32m+[m[32mcontent to it with the += operator?[m
[32m+[m
[32m+[m[32mIt turns out that creating new strings, especially big strings, is quite a lot of[m
[32m+[m[32mwork. Remember that JavaScript string values never change. If you[m
[32m+[m[32mconcatenate something to them, a new string is created, the old ones stay[m
[32m+[m[32mintact. If we build up a big string by concatenating lots of little strings, new[m
[32m+[m[32mstrings have to be created at every step, only to be thrown away when the[m
[32m+[m[32mnext piece is concatenated to them. If, on the other hand, we store all the[m
[32m+[m[32mlittle strings in an array and then join them, only one big string has to be[m
[32m+[m[32mcreated.[m
[32m+[m
[32m+[m[32mSo, let us try out this HTML generating system...[m
[32m+[m[32m            print(renderHTML(link("http://www.nedroid.com", "Drawings!")));[m
[32m+[m
[32m+[m[32m         That seems to work.[m
[32m+[m
[32m+[m[32m            var body = [tag("h1", ["The Test"]),[m
[32m+[m[32m                                  tag("p", ["Here is a paragraph, and an image..."]),[m
[32m+[m[32m                                  image("img/sheep.png")];[m
[32m+[m
[32m+[m[32m            var doc = htmlDoc("The Test", body);[m
[32m+[m[32m            viewHTML(renderHTML(doc));[m
[32m+[m
[32m+[m[32m         Now, I should probably warn you that this approach is not perfect. What it[m
[32m+[m[32m         actually renders is XML, which is similar to HTML, but more structured. In[m
[32m+[m[32m         simple cases, such as the above, this does not cause any problems. However,[m
[32m+[m[32m         there are some things, which are correct XML, but not proper HTML, and[m
[32m+[m[32m         these might confuse a browser that is trying to show the documents we[m
[32m+[m[32m         create. For example, if you have an empty script tag (used to put JavaScript[m
[32m+[m[32m         into a page) in your document, browsers will not realise that it is empty and[m
[32m+[m[32m         think that everything after it is JavaScript. (In this case, the problem can be[m
[32m+[m[32m         fixed by putting a single space inside of the tag, so that it is no longer empty,[m
[32m+[m[32m         and gets a proper closing tag.)[m
[32m+[m
[32m+[m[32mEx. 6.5  Write a function renderFragment, and use that to implement another function[m
[32m+[m[32m         renderParagraph, which takes a paragraph object (with the footnotes already[m
[32m+[m[32m         filtered out), and produces the correct HTML element (which might be a[m
[32m+[m[32m         paragraph or a header, depending on the type property of the paragraph[m
[32m+[m[32m         object).[m
[32m+[m
[32m+[m[32m         This function might come in useful for rendering the footnote references:[m
[32m+[m
[32m+[m[32m            function footnote(number) {[m
[32m+[m[32m                return tag("sup", [link("#footnote" + number,[m
[32m+[m[32m                                                           String(number))]);[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m         A sup tag will show its content as 'superscript', which means it will be smaller[m
[32m+[m[32m         and a little higher than other text. The target of the link will be something like[m
[32m+[m[32m         "#footnote1". Links that contain a '#' character refer to 'anchors' within a[m
[32m+[m[32m         page, and in this case we will use them to make it so that clicking on the[m
[32m+[m[32m         footnote link will take the reader to the bottom of the page, where the[m
[32m+[m[32m         footnotes live.[m
[32m+[m
[32m+[m[32m         The tag to render emphasised fragments with is em, and normal text can be[m
[32m+[m[32m         rendered without any extra tags.[m
[32m+[m
[32m+[m[32m         function renderParagraph(paragraph) {[m
[32m+[m[32m            return tag(paragraph.type, map(renderFragment,[m
[32m+[m[32m                                                                    paragraph.content));[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         function renderFragment(fragment) {[m
[32m+[m[32m            if (fragment.type == "reference")[m
[32m+[m[32m                return footnote(fragment.number);[m
[32m+[m[32m            else if (fragment.type == "emphasised")[m
[32m+[m[32m                return tag("em", [fragment.content]);[m
[32m+[m[32m            else if (fragment.type == "normal")[m
[32m+[m[32m          return fragment.content;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mWe are almost finished. The only thing that we do not have a rendering[m
[32m+[m[32mfunction for yet are the footnotes. To make the "#footnote1" links work, an[m
[32m+[m[32manchor must be included with every footnote. In HTML, an anchor is specified[m
[32m+[m[32mwith an a element, which is also used for links. In this case, it needs a name[m
[32m+[m[32mattribute, instead of an href.[m
[32m+[m
[32m+[m[32m   function renderFootnote(footnote) {[m
[32m+[m[32m       var anchor = tag("a", [], {name: "footnote" + footnote.number});[m
[32m+[m[32m       var number = "[" + footnote.number + "] ";[m
[32m+[m[32m       return tag("p", [tag("small", [anchor, number,[m
[32m+[m[32m                                                               footnote.content])]);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mHere, then, is the function which, when given a file in the correct format and[m
[32m+[m[32ma document title, returns an HTML document:[m
[32m+[m
[32m+[m[32m   function renderFile(file, title) {[m
[32m+[m[32m       var paragraphs = map(processParagraph, file.split("\n\n"));[m
[32m+[m[32m       var footnotes = map(renderFootnote,[m
[32m+[m[32m                                           extractFootnotes(paragraphs));[m
[32m+[m[32m       var body = map(renderParagraph, paragraphs).concat(footnotes);[m
[32m+[m[32m       return renderHTML(htmlDoc(title, body));[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   viewHTML(renderFile(recluseFile(), "The Book of Programming"));[m
[32m+[m
[32m+[m[32mThe concat method of an array can be used to concatenate another array to[m
[32m+[m[32mit, similar to what the + operator does with strings.[m
[32m+[m
[32m+[m[32mIn the chapters after this one, elementary higher-order functions like map and[m
[32m+[m[32mreduce will always be available and will be used by code examples. Now and[m
[32m+[m[32mthen, a new useful tool is added to this. In chapter 9, we develop a more[m
[32m+[m[32mstructured approach to this set of 'basic' functions.[m
[32m+[m
[32m+[m[32mWhen using higher-order functions, it is often annoying that operators are not[m
[32m+[m[32mfunctions in JavaScript. We have needed add or equals functions at several[m
[32m+[m[32mpoints. Rewriting these every time, you will agree, is a pain. From now on, we[m
[32m+[m[32mwill assume the existence of an object called op, which contains these[m
[32m+[m[32mfunctions:[m
[32m+[m
[32m+[m[32m   var op = {[m
[32m+[m[32m       "+": function(a, b){return a + b;},[m
[32m+[m[32m       "==": function(a, b){return a == b;},[m
[32m+[m[32m       "===": function(a, b){return a === b;},[m
[32m+[m[32m       "!": function(a){return !a;}[m
[32m+[m[32m       /* and so on */[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mSo we can write reduce(op["+"], 0, [1, 2, 3, 4, 5]) to sum an array. But[m
[32m+[m[32mwhat if we need something like equals or makeAddFunction, in which one of the[m
[32m+[m[32marguments already has a value? In that case we are back to writing a new[m
[32m+[m[32mfunction again.[m
[32m+[m
[32m+[m[32mFor cases like that, something called 'partial application' is useful. You want to[m
[32m+[m[32mcreate a new function that already knows some of its arguments, and treats[m
[32m+[m[32many additional arguments it is passed as coming after these fixed arguments.[m
[32m+[m[32mThis can be done by making creative use of the apply method of a function:[m
[32m+[m
[32m+[m[32m   function asArray(quasiArray, start) {[m
[32m+[m[32m       var result = [];[m
[32m+[m[32m       for (var i = (start || 0); i < quasiArray.length; i++)[m
[32m+[m[32m          result.push(quasiArray[i]);[m
[32m+[m[32m       return result;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function partial(func) {[m
[32m+[m[32m       var fixedArgs = asArray(arguments, 1);[m
[32m+[m[32m       return function(){[m
[32m+[m[32m          return func.apply(null, fixedArgs.concat(asArray(arguments)));[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mWe want to allow binding multiple arguments at the same time, so the asArray[m
[32m+[m[32mfunction is necessary to make normal arrays out of the arguments objects. It[m
[32m+[m[32mcopies their content into a real array, so that the concat method can be used[m
[32m+[m[32mon it. It also takes an optional second argument, which can be used to leave[m
[32m+[m[32mout some arguments at the start.[m
[32m+[m
[32m+[m[32mAlso note that it is necessary to store the arguments of the outer function[m
[32m+[m[32m(partial) into a variable with another name, because otherwise the inner[m
[32m+[m[32mfunction can not see them â€• it has its own arguments variable, which shadows[m
[32m+[m[32mthe one of the outer function.[m
[32m+[m
[32m+[m[32mNow equals(10) can be written as partial(op["=="], 10).[m
[32m+[m
[32m+[m[32m   show(map(partial(op["+"], 1), [0, 2, 4, 6, 8, 10]));[m
[32m+[m
[32m+[m[32mThe reason map takes its function argument before its array argument is that[m
[32m+[m[32mit is often useful to partially apply map by giving it a function. This 'lifts' the[m
[32m+[m[32mfunction from operating on a single value to operating on an array of values.[m
[32m+[m[32mFor example, if you have an array of arrays of numbers, and you want to[m
[32m+[m[32msquare them all, you do this:[m
[32m+[m
[32m+[m[32m   function square(x) {return x * x;}[m
[32m+[m
[32m+[m[32m   show(map(partial(map, square), [[10, 100], [12, 16], [0, 1]]));[m
[32m+[m
[32m+[m[32mOne last trick that can be useful when you want to combine functions is[m
[32m+[m[32mfunction composition. At the start of this chapter I showed a function negate,[m
[32m+[m[32mwhich applies the boolean not operator to the result of calling a function:[m
[32m+[m
[32m+[m[32m   function negate(func) {[m
[32m+[m[32m       return function() {[m
[32m+[m[32m          return !func.apply(null, arguments);[m
[32m+[m[32m       };[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32mThis is a special case of a general pattern: call function A, and then apply[m
[32m+[m[32mfunction B to the result. Compositions is a common concept in mathematics. It[m
[32m+[m[32mcan be caught in a higher-order function like this:[m
[32m+[m
[32m+[m[32m    function compose(func1, func2) {[m
[32m+[m[32m        return function() {[m
[32m+[m[32m           return func1(func2.apply(null, arguments));[m
[32m+[m[32m        };[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    var isUndefined = partial(op["==="], undefined);[m
[32m+[m[32m    var isDefined = compose(op["!"], isUndefined);[m
[32m+[m[32m    show(isDefined(Math.PI));[m
[32m+[m[32m    show(isDefined(Math.PIE));[m
[32m+[m
[32m+[m[32mHere we are defining new functions without using the function keyword at all.[m
[32m+[m[32mThis can be useful when you need to create a simple function to give to, for[m
[32m+[m[32mexample, map or reduce. However, when a function becomes more complex[m
[32m+[m[32mthan these examples, it is usually shorter (not to mention more efficient) to[m
[32m+[m[32mjust write it out with function.[m
[32m+[m
[32m+[m[32m1. Like this...[m
[32m+[m[32mChapter 7:[m
[32m+[m
[32m+[m[32m       This chapter does not introduce any new JavaScript-specific concepts.[m
[32m+[m[32m       Instead, we will go through the solution to two problems, discussing some[m
[32m+[m[32m       interesting algorithms and techniques along the way. If this does not sound[m
[32m+[m[32m       interesting to you, it is safe to skip to the next chapter.[m
[32m+[m
[32m+[m[32m       Let me introduce our first problem. Take a look at this map. It shows Hiva[m
[32m+[m[32m       Oa, a small tropical island in the Pacific Ocean.[m
[32m+[m
[32m+[m[32m       The grey lines are roads, and the numbers next to them are the lengths of[m
[32m+[m[32m       these roads. Imagine we need a program that finds the shortest route[m
[32m+[m[32m       between two points on Hiva Oa. How could we approach that? Think about[m
[32m+[m[32m       this for a moment.[m
[32m+[m[32m       No really. Don't just steamroll on to the next paragraph. Try to seriously think[m
[32m+[m[32m       of some ways you could do this, and consider the issues you would come up[m
[32m+[m[32m       against. When reading a technical book, it is way too easy to just zoom over[m
[32m+[m[32m       the text, nod solemnly, and promptly forget what you have read. If you make[m
[32m+[m[32m       a sincere effort to solve a problem, it becomes your problem, and its solution[m
[32m+[m[32m       will be more meaningful.[m
[32m+[m
[32m+[m[32m       The first aspect of this problem is, again, representing our data. The[m
[32m+[m[32m       information in the picture does not mean much to our computer. We could try[m
[32m+[m[32m       writing a program that looks at the map and extracts the information in it...[m
[32m+[m[32m       but that can get complicated. If we had twenty-thousand maps to interpret,[m
[32m+[m[32m       this would be a good idea, in this case we will do the interpretation ourself[m
[32m+[m[32m       and transcribe the map into a more computer-friendly format.[m
[32m+[m[32m       What does our program need to know? It has to be able to look up which[m
[32m+[m[32m       locations are connected, and how long the roads between them are. The[m
[32m+[m[32mplaces and roads on the island form a graph, as mathematicians call it. There[m
[32m+[m[32mare many ways to store graphs. A simple possibility is to just store an array of[m
[32m+[m[32mroad objects, each of which contains properties naming its two endpoints and[m
[32m+[m[32mits length...[m
[32m+[m
[32m+[m[32m   var roads = [{point1: "Point Kiukiu", point2: "Hanaiapa", length: 19},[m
[32m+[m[32m                           {point1: "Point Kiukiu", point2: "Mt Feani", length: 15}[m
[32m+[m[32m                           /* and so on */];[m
[32m+[m
[32m+[m[32mHowever, it turns out that the program, as it is working out a route, will very[m
[32m+[m[32moften need to get a list of all the roads that start at a certain location, like a[m
[32m+[m[32mperson standing on a crossroads will look at a signpost and read "Hanaiapa:[m
[32m+[m[32m19km, Mount Feani: 15km". It would be nice if this was easy (and quick) to[m
[32m+[m[32mdo.[m
[32m+[m
[32m+[m[32mWith the representation given above, we have to sift through the whole list of[m
[32m+[m[32mroads, picking out the relevant ones, every time we want this signpost list. A[m
[32m+[m[32mbetter approach would be to store this list directly. For example, use an[m
[32m+[m[32mobject that associates place-names with signpost lists:[m
[32m+[m
[32m+[m[32m   var roads = {"Point Kiukiu": [{to: "Hanaiapa", distance: 19},[m
[32m+[m[32m                                                         {to: "Mt Feani", distance: 15},[m
[32m+[m[32m                                                         {to: "Taaoa", distance: 15}],[m
[32m+[m
[32m+[m[32m                           "Taaoa": [/* et cetera */]};[m
[32m+[m
[32m+[m[32mWhen we have this object, getting the roads that leave from Point Kiukiu is[m
[32m+[m[32mjust a matter of looking at roads["Point Kiukiu"].[m
[32m+[m
[32m+[m[32mHowever, this new representation does contain duplicate information: The[m
[32m+[m[32mroad between A and B is listed both under A and under B. The first[m
[32m+[m[32mrepresentation was already a lot of work to type in, this one is even worse.[m
[32m+[m
[32m+[m[32mFortunately, we have at our command the computer's talent for repetitive[m
[32m+[m[32mwork. We can specify the roads once, and have the correct data structure be[m
[32m+[m[32mgenerated by the computer. First, initialise an empty object called roads, and[m
[32m+[m[32mwrite a function makeRoad:[m
[32m+[m
[32m+[m[32m   var roads = {};[m
[32m+[m[32m   function makeRoad(from, to, length) {[m
[32m+[m
[32m+[m[32m       function addRoad(from, to) {[m
[32m+[m[32m          if (!(from in roads))[m
[32m+[m[32m              roads[from] = [];[m
[32m+[m[32m          roads[from].push({to: to, distance: length});[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       addRoad(from, to);[m
[32m+[m[32m       addRoad(to, from);[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mNice, huh? Notice how the inner function, addRoad, uses the same names[m
[32m+[m[32m(from, to) for its parameters as the outer function. These will not interfere:[m
[32m+[m[32minside addRoad they refer to addRoad's parameters, and outside it they refer to[m
[32m+[m[32mmakeRoad's parameters.[m
[32m+[m
[32m+[m[32mThe if statement in addRoad makes sure that there is an array of destinations[m
[32m+[m[32massociated with the location named by from, if there isn't already one it puts in[m
[32m+[m[32m          an empty array. This way, the next line can assume there is such an array[m
[32m+[m[32m          and safely push the new road onto it.[m
[32m+[m
[32m+[m[32m          Now the map information looks like this:[m
[32m+[m
[32m+[m[32m               makeRoad("Point Kiukiu", "Hanaiapa", 19);[m
[32m+[m[32m               makeRoad("Point Kiukiu", "Mt Feani", 15);[m
[32m+[m[32m               makeRoad("Point Kiukiu", "Taaoa", 15);[m
[32m+[m[32m               // ...[m
[32m+[m
[32m+[m[32mEx. 7.1 In the above description, the string "Point Kiukiu" still occurs three times in a[m
[32m+[m[32m          row. We could make our description even more succinct by allowing multiple[m
[32m+[m[32m          roads to be specified in one line.[m
[32m+[m
[32m+[m[32m          Write a function makeRoads that takes any uneven number of arguments. The[m
[32m+[m[32m          first argument is always the starting point of the roads, and every pair of[m
[32m+[m[32m          arguments after that gives an ending point and a distance.[m
[32m+[m
[32m+[m[32m          Do not duplicate the functionality of makeRoad, but have makeRoads call makeRoad[m
[32m+[m[32m          to do the actual road-making.[m
[32m+[m
[32m+[m[32m              function makeRoads(start) {[m
[32m+[m[32m                  for (var i = 1; i < arguments.length; i += 2)[m
[32m+[m[32m                      makeRoad(start, arguments[i], arguments[i + 1]);[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m          This function uses one named parameter, start, and gets the other[m
[32m+[m[32m          parameters from the arguments (quasi-) array. i starts at 1 because it has to[m
[32m+[m[32m          skip this first parameter. i += 2 is short for i = i + 2, as you might recall.[m
[32m+[m
[32m+[m[32m              var roads = {};[m
[32m+[m[32m              makeRoads("Point Kiukiu", "Hanaiapa", 19,[m
[32m+[m
[32m+[m[32m                                "Mt Feani", 15, "Taaoa", 15);[m
[32m+[m[32m              makeRoads("Airport", "Hanaiapa", 6, "Mt Feani", 5,[m
[32m+[m
[32m+[m[32m                                "Atuona", 4, "Mt Ootua", 11);[m
[32m+[m[32m              makeRoads("Mt Temetiu", "Mt Feani", 8, "Taaoa", 4);[m
[32m+[m[32m              makeRoads("Atuona", "Taaoa", 3, "Hanakee pearl lodge", 1);[m
[32m+[m[32m              makeRoads("Cemetery", "Hanakee pearl lodge", 6, "Mt Ootua", 5);[m
[32m+[m[32m              makeRoads("Hanapaoa", "Mt Ootua", 3);[m
[32m+[m[32m              makeRoads("Puamua", "Mt Ootua", 13, "Point Teohotepapapa", 14);[m
[32m+[m
[32m+[m[32m              show(roads["Airport"]);[m
[32m+[m
[32m+[m[32m          We managed to considerably shorten our description of the road-information[m
[32m+[m[32m          by defining some convenient operations. You could say we expressed the[m
[32m+[m[32m          information more succinctly by expanding our vocabulary. Defining a 'little[m
[32m+[m[32m          language' like this is often a very powerful technique â€• when, at any time,[m
[32m+[m[32m          you find yourself writing repetitive or redundant code, stop and try to come[m
[32m+[m[32m          up with a vocabulary that makes it shorter and denser.[m
[32m+[m
[32m+[m[32m          Redundant code is not only a bore to write, it is also error-prone, people pay[m
[32m+[m[32m          less attention when doing something that doesn't require them to think. On[m
[32m+[m[32m          top of that, repetitive code is hard to change, because structure that is[m
[32m+[m[32m          repeated a hundred times has to be changed a hundred times when it turns[m
[32m+[m[32mout to be incorrect or suboptimal.[m
[32m+[m
[32m+[m[32mIf you ran all the pieces of code above, you should now have a variable[m
[32m+[m[32mnamed roads that contains all the roads on the island. When we need the[m
[32m+[m[32mroads starting from a certain place, we could just do roads[place]. But then,[m
[32m+[m[32mwhen someone makes a typo in a place name, which is not unlikely with these[m
[32m+[m[32mnames, he will get undefined instead of the array he expects, and strange[m
[32m+[m[32merrors will follow. Instead, we will use a function that retrieves the road[m
[32m+[m[32marrays, and yells at us when we give it an unknown place name:[m
[32m+[m
[32m+[m[32m   function roadsFrom(place) {[m
[32m+[m[32m       var found = roads[place];[m
[32m+[m[32m       if (found == undefined)[m
[32m+[m[32m          throw new Error("No place named '" + place + "' found.");[m
[32m+[m[32m       else[m
[32m+[m[32m          return found;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(roadsFrom("Puamua"));[m
[32m+[m
[32m+[m[32mHere is a first stab at a path-finding algorithm, the gambler's method:[m
[32m+[m
[32m+[m[32m   function gamblerPath(from, to) {[m
[32m+[m[32m       function randomInteger(below) {[m
[32m+[m[32m          return Math.floor(Math.random() * below);[m
[32m+[m[32m       }[m
[32m+[m[32m       function randomDirection(from) {[m
[32m+[m[32m          var options = roadsFrom(from);[m
[32m+[m[32m          return options[randomInteger(options.length)].to;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       var path = [];[m
[32m+[m[32m       while (true) {[m
[32m+[m
[32m+[m[32m          path.push(from);[m
[32m+[m[32m          if (from == to)[m
[32m+[m
[32m+[m[32m              break;[m
[32m+[m[32m          from = randomDirection(from);[m
[32m+[m[32m       }[m
[32m+[m[32m       return path;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(gamblerPath("Hanaiapa", "Mt Feani"));[m
[32m+[m
[32m+[m[32mAt every split in the road, the gambler rolls his dice to decide which road he[m
[32m+[m[32mshall take. If the dice sends him back the way he came, so be it. Sooner or[m
[32m+[m[32mlater, he will arrive at his destination, since all places on the island are[m
[32m+[m[32mconnected by roads.[m
[32m+[m
[32m+[m[32mThe most confusing line is probably the one containing Math.random. This[m
[32m+[m[32mfunction returns a pseudo-random1 number between 0 and 1. Try calling it a[m
[32m+[m[32mfew times from the console, it will (most likely) give you a different number[m
[32m+[m[32mevery time. The function randomInteger multiplies this number by the argument[m
[32m+[m[32mit is given, and rounds the result down with Math.floor. Thus, for example,[m
[32m+[m[32mrandomInteger(3) will produce the number 0, 1, or 2.[m
[32m+[m[32mThe gambler's method is the way to go for those who abhor structure and[m
[32m+[m[32mplanning, who desperately search for adventure. We set out to write a[m
[32m+[m[32mprogram that could find the shortest route between places though, so[m
[32m+[m[32msomething else will be needed.[m
[32m+[m
[32m+[m[32mA very straightforward approach to solving such a problem is called 'generate[m
[32m+[m[32mand test'. It goes like this:[m
[32m+[m
[32m+[m[32m   1. Generate all possible routes.[m
[32m+[m[32m   2. In this set, find the shortest one that actually connects the start point to[m
[32m+[m
[32m+[m[32m       the end point.[m
[32m+[m
[32m+[m[32mStep two is not hard. Step one is a little problematic. If you allow routes with[m
[32m+[m[32mcircles in them, there is an infinite amount of routes. Of course, routes with[m
[32m+[m[32mcircles in them are unlikely to be the shortest route to anywhere, and routes[m
[32m+[m[32mthat do not start at the start point do not have to be considered either. For a[m
[32m+[m[32msmall graph like Hiva Oa, it should be possible to generate all non-cyclic[m
[32m+[m[32m(circle-free) routes starting from a certain point.[m
[32m+[m
[32m+[m[32mBut first, we will need some new tools. The first is a function named member,[m
[32m+[m[32mwhich is used to determine whether an element is found within an array. The[m
[32m+[m[32mroute will be kept as an array of names, and when arriving at a new place,[m
[32m+[m[32mthe algorithm calls member to check whether we have been at that place[m
[32m+[m[32malready. It could look like this:[m
[32m+[m
[32m+[m[32m   function member(array, value) {[m
[32m+[m[32m       var found = false;[m
[32m+[m[32m       forEach(array, function(element) {[m
[32m+[m[32m          if (element === value)[m
[32m+[m[32m              found = true;[m
[32m+[m[32m       });[m
[32m+[m[32m       return found;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   print(member([6, 7, "Bordeaux"], 7));[m
[32m+[m
[32m+[m[32mHowever, this will go over the whole array, even if the value is found[m
[32m+[m[32mimmediately at the first position. What wastefulness. When using a for loop,[m
[32m+[m[32myou can use the break statement to jump out of it, but in a forEach construct[m
[32m+[m[32mthis will not work, because the body of the loop is a function, and break[m
[32m+[m[32mstatements do not jump out of functions. One solution could be to adjust[m
[32m+[m[32mforEach to recognise a certain kind of exceptions as signalling a break.[m
[32m+[m
[32m+[m[32m   var Break = {toString: function() {return "Break";}};[m
[32m+[m
[32m+[m[32m   function forEach(array, action) {[m
[32m+[m[32m       try {[m
[32m+[m[32m          for (var i = 0; i < array.length; i++)[m
[32m+[m[32m              action(array[i]);[m
[32m+[m[32m       }[m
[32m+[m[32m       catch (exception) {[m
[32m+[m[32m          if (exception != Break)[m
[32m+[m[32m              throw exception;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32mNow, if the action function throws Break, forEach will absorb the exception[m
[32m+[m[32mand stop looping. The object stored in the variable Break is used purely as a[m
[32m+[m[32mthing to compare with. The only reason I gave it a toString property is that[m
[32m+[m[32mthis might be useful to figure out what kind of strange value you are dealing[m
[32m+[m[32mwith if you somehow end up with a Break exception outside of a forEach.[m
[32m+[m
[32m+[m[32mHaving a way to break out of forEach loops can be very useful, but in the[m
[32m+[m[32mcase of the member function the result is still rather ugly, because you need to[m
[32m+[m[32mspecifically store the result and later return it. We could add yet another kind[m
[32m+[m[32mof exception, Return, which can be given a value property, and have forEach[m
[32m+[m[32mreturn this value when such an exception is thrown, but this would be terribly[m
[32m+[m[32mad-hoc and messy. What we really need is a whole new higher-order function,[m
[32m+[m[32mcalled any (or sometimes some). It looks like this:[m
[32m+[m
[32m+[m[32m   function any(test, array) {[m
[32m+[m[32m       for (var i = 0; i < array.length; i++) {[m
[32m+[m[32m          var found = test(array[i]);[m
[32m+[m[32m          if (found)[m
[32m+[m[32m              return found;[m
[32m+[m[32m       }[m
[32m+[m[32m       return false;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function member(array, value) {[m
[32m+[m[32m       return any(partial(op["==="], value), array);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   print(member(["Fear", "Loathing"], "Denial"));[m
[32m+[m
[32m+[m[32many goes over the elements in an array, from left to right, and applies the test[m
[32m+[m[32mfunction to them. The first time this returns a true-ish value, it returns that[m
[32m+[m[32mvalue. If no true-ish value is found, false is returned. Calling any(test, array)[m
[32m+[m[32mis more or less equivalent to doing test(array[0]) || test(array[1]) || ...[m
[32m+[m[32metcetera.[m
[32m+[m
[32m+[m[32mJust like && is the companion of ||, any has a companion called every:[m
[32m+[m
[32m+[m[32m   function every(test, array) {[m
[32m+[m[32m       for (var i = 0; i < array.length; i++) {[m
[32m+[m[32m          var found = test(array[i]);[m
[32m+[m[32m          if (!found)[m
[32m+[m[32m              return found;[m
[32m+[m[32m       }[m
[32m+[m[32m       return true;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(every(partial(op["!="], 0), [1, 2, -1]));[m
[32m+[m
[32m+[m[32mAnother function we will need is flatten. This function takes an array of[m
[32m+[m[32marrays, and puts the elements of the arrays together in one big array.[m
[32m+[m
[32m+[m[32m       function flatten(arrays) {[m
[32m+[m[32m          var result = [];[m
[32m+[m[32m                      forEach(arrays, function (array) {[m
[32m+[m[32m                         forEach(array, function (element){result.push(element);});[m
[32m+[m
[32m+[m[32m                      });[m
[32m+[m[32m                      return result;[m
[32m+[m[32m                  }[m
[32m+[m
[32m+[m[32m          The same could have been done using the concat method and some kind of[m
[32m+[m[32m          reduce, but this would be less efficient. Just like repeatedly concatenating[m
[32m+[m[32m          strings together is slower than putting them into an array and then calling[m
[32m+[m[32m          join, repeatedly concatenating arrays produces a lot of unnecessary[m
[32m+[m[32m          intermediary array values.[m
[32m+[m
[32m+[m[32mEx. 7.2 Before starting to generate routes, we need one more higher-order function.[m
[32m+[m[32m          This one is called filter. Like map, it takes a function and an array as[m
[32m+[m[32m          arguments, and produces a new array, but instead of putting the results of[m
[32m+[m[32m          calling the function in the new array, it produces an array with only those[m
[32m+[m[32m          values from the old array for which the given function returns a true-like[m
[32m+[m[32m          value. Write this function.[m
[32m+[m
[32m+[m[32m              function filter(test, array) {[m
[32m+[m[32m                  var result = [];[m
[32m+[m[32m                  forEach(array, function (element) {[m
[32m+[m[32m                      if (test(element))[m
[32m+[m[32m                         result.push(element);[m
[32m+[m[32m                  });[m
[32m+[m[32m                  return result;[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              show(filter(partial(op[">"], 5), [0, 4, 8, 12]));[m
[32m+[m
[32m+[m[32m          (If the result of that application of filter surprises you, remember that the[m
[32m+[m[32m         argument given to partial is used as the first argument of the function, so it[m
[32m+[m[32m          ends up to the left of the >.)[m
[32m+[m
[32m+[m[32m          Imagine what an algorithm to generate routes would look like â€• it starts at[m
[32m+[m[32m          the starting location, and starts to generate a route for every road leaving[m
[32m+[m[32m          there. At the end of each of these roads it continues to generate more[m
[32m+[m[32m          routes. It doesn't run along one road, it branches out. Because of this,[m
[32m+[m[32m          recursion is a natural way to model it.[m
[32m+[m
[32m+[m[32m               function possibleRoutes(from, to) {[m
[32m+[m[32m                  function findRoutes(route) {[m
[32m+[m[32m                      function notVisited(road) {[m
[32m+[m[32m                         return !member(route.places, road.to);[m
[32m+[m[32m                      }[m
[32m+[m[32m                      function continueRoute(road) {[m
[32m+[m[32m                         return findRoutes({places: route.places.concat([road.to]),[m
[32m+[m[32m                                                           length: route.length + road.distance});[m
[32m+[m[32m                      }[m
[32m+[m
[32m+[m[32m                      var end = route.places[route.places.length - 1];[m
[32m+[m[32m                      if (end == to)[m
[32m+[m
[32m+[m[32m                         return [route];[m
[32m+[m[32m                      else[m
[32m+[m
[32m+[m[32m                         return flatten(map(continueRoute, filter(notVisited,[m
[32m+[m[32m                                                                                                   roadsFrom(end))));[m
[32m+[m[32m                }[m
[32m+[m[32m                return findRoutes({places: [from], length: 0});[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            show(possibleRoutes("Point Teohotepapapa", "Point Kiukiu").length);[m
[32m+[m[32m            show(possibleRoutes("Hanapaoa", "Mt Ootua"));[m
[32m+[m
[32m+[m[32m         The function returns an array of route objects, each of which contains an[m
[32m+[m[32m         array of places that the route passes, and a length. findRoutes recursively[m
[32m+[m[32m         continues a route, returning an array with every possible extension of that[m
[32m+[m[32m         route. When the end of a route is the place where we want to go, it just[m
[32m+[m[32m         returns that route, since continuing past that place would be pointless. If it is[m
[32m+[m[32m         another place, we must go on. The flatten/map/filter line is probably the[m
[32m+[m[32m         hardest to read. This is what it says: 'Take all the roads going from the[m
[32m+[m[32m         current location, discard the ones that go to places that this route has already[m
[32m+[m[32m         visited. Continue each of these roads, which will give an array of finished[m
[32m+[m[32m         routes for each of them, then put all these routes into a single big array that[m
[32m+[m[32m         we return.'[m
[32m+[m
[32m+[m[32m         That line does a lot. This is why good abstractions help: They allow you to say[m
[32m+[m[32m         complicated things without typing screenfulls of code.[m
[32m+[m
[32m+[m[32m         Doesn't this recurse forever, seeing how it keeps calling itself (via[m
[32m+[m[32m         continueRoute)? No, at some point, all outgoing roads will go to places that a[m
[32m+[m[32m         route has already passed, and the result of filter will be an empty array.[m
[32m+[m[32m         Mapping over an empty array produces an empty array, and flattening that[m
[32m+[m[32m         still gives an empty array. So calling findRoutes on a dead end produces an[m
[32m+[m[32m         empty array, meaning 'there are no ways to continue this route'.[m
[32m+[m
[32m+[m[32m         Notice that places are appended to routes by using concat, not push. The[m
[32m+[m[32m         concat method creates a new array, while push modifies the existing array.[m
[32m+[m[32m         Because the function might branch off several routes from a single partial[m
[32m+[m[32m         route, we must not modify the array that represents the original route,[m
[32m+[m[32m         because it must be used several times.[m
[32m+[m
[32m+[m[32mEx. 7.3  Now that we have all possible routes, let us try to find the shortest one. Write[m
[32m+[m[32m         a function shortestRoute that, like possibleRoutes, takes the names of a[m
[32m+[m[32m         starting and ending location as arguments. It returns a single route object, of[m
[32m+[m[32m         the type that possibleRoutes produces.[m
[32m+[m
[32m+[m[32m         function shortestRoute(from, to) {[m
[32m+[m[32m            var currentShortest = null;[m
[32m+[m[32m            forEach(possibleRoutes(from, to), function(route) {[m
[32m+[m[32m                if (!currentShortest || currentShortest.length > route.length)[m
[32m+[m[32m                   currentShortest = route;[m
[32m+[m[32m            });[m
[32m+[m[32m            return currentShortest;[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         The tricky thing in 'minimising' or 'maximising' algorithms is to not screw up[m
[32m+[m[32m         when given an empty array. In this case, we happen to know that there is at[m
[32m+[m[32m         least one road between every two places, so we could just ignore it. But that[m
[32m+[m[32m         would be a bit lame. What if the road from Puamua to Mount Ootua, which is[m
[32m+[m[32m         steep and muddy, is washed away by a rainstorm? It would be a shame if this[m
[32m+[m[32m         caused our function to break as well, so it takes care to return null when no[m
[32m+[m[32mroutes are found.[m
[32m+[m
[32m+[m[32mThen, the very functional, abstract-everything-we-can approach:[m
[32m+[m
[32m+[m[32m   function minimise(func, array) {[m
[32m+[m[32m       var minScore = null;[m
[32m+[m[32m       var found = null;[m
[32m+[m[32m       forEach(array, function(element) {[m
[32m+[m[32m          var score = func(element);[m
[32m+[m[32m          if (minScore == null || score < minScore) {[m
[32m+[m[32m              minScore = score;[m
[32m+[m[32m              found = element;[m
[32m+[m[32m          }[m
[32m+[m[32m       });[m
[32m+[m[32m       return found;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function getProperty(propName) {[m
[32m+[m[32m       return function(object) {[m
[32m+[m[32m          return object[propName];[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function shortestRoute(from, to) {[m
[32m+[m[32m       return minimise(getProperty("length"), possibleRoutes(from, to));[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mUnfortunately, it is three times longer than the other version. In programs[m
[32m+[m[32mwhere you need to minimise several things it might be a good idea to write[m
[32m+[m[32mthe generic algorithm like this, so you can re-use it. In most cases the first[m
[32m+[m[32mversion is probably good enough.[m
[32m+[m
[32m+[m[32mNote the getProperty function though, it is often useful when doing functional[m
[32m+[m[32mprogramming with objects.[m
[32m+[m
[32m+[m[32mLet us see what route our algorithm comes up with between Point Kiukiu and[m
[32m+[m[32mPoint Teohotepapapa...[m
[32m+[m
[32m+[m[32m   show(shortestRoute("Point Kiukiu", "Point Teohotepapapa").places);[m
[32m+[m
[32m+[m[32mOn a small island like Hiva Oa, it is not too much work to generate all possible[m
[32m+[m[32mroutes. If you try to do that on a reasonably detailed map of, say, Belgium, it[m
[32m+[m[32mis going to take an absurdly long time, not to mention an absurd amount of[m
[32m+[m[32mmemory. Still, you have probably seen those online route-planners. These give[m
[32m+[m[32myou a more or less optimal route through a gigantic maze of roads in just a[m
[32m+[m[32mfew seconds. How do they do it?[m
[32m+[m
[32m+[m[32mIf you are paying attention, you may have noticed that it is not necessary to[m
[32m+[m[32mgenerate all routes all the way to the end. If we start comparing routes while[m
[32m+[m[32mwe are building them, we can avoid building this big set of routes, and, as[m
[32m+[m[32msoon as we have found a single route to our destination, we can stop[m
[32m+[m[32mextending routes that are already longer than that route.[m
[32m+[m
[32m+[m[32mTo try this out, we will use a 20 by 20 grid as our map:[m
[32m+[m[32mWhat you see here is an elevation map of a mountain landscape. The yellow[m
[32m+[m[32mspots are the peaks, and the blue spots the valleys. The area is divided into[m
[32m+[m[32msquares with a size of a hundred meters. We have at our disposal a function[m
[32m+[m[32mheightAt, which can give us the height, in meters, of any square on that map,[m
[32m+[m[32mwhere squares are represented by objects with x and y properties.[m
[32m+[m
[32m+[m[32m   print(heightAt({x: 0, y: 0}));[m
[32m+[m[32m   print(heightAt({x: 11, y: 18}));[m
[32m+[m
[32m+[m[32mWe want to cross this landscape, on foot, from the top left to the bottom[m
[32m+[m[32mright. A grid can be approached like a graph. Every square is a node, which is[m
[32m+[m[32mconnected to the squares around it.[m
[32m+[m
[32m+[m[32mWe do not like wasting energy, so we would prefer to take the easiest route[m
[32m+[m[32mpossible. Going uphill is heavier than going downhill, and going downhill is[m
[32m+[m[32mheavier than going level2. This function calculates the amount of 'weighted[m
[32m+[m[32mmeters', between two adjacent squares, which represents how tired you get[m
[32m+[m[32mfrom walking (or climbing) between them. Going uphill is counted as twice as[m
[32m+[m[32mheavy as going downhill.[m
[32m+[m
[32m+[m[32m   function weightedDistance(pointA, pointB) {[m
[32m+[m[32m       var heightDifference = heightAt(pointB) - heightAt(pointA);[m
[32m+[m[32m       var climbFactor = (heightDifference < 0 ? 1 : 2);[m
[32m+[m[32m       var flatDistance = (pointA.x == pointB.x || pointA.y == pointB.y ? 10[m
[32m+[m[32m       return flatDistance + climbFactor * Math.abs(heightDifference);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mNote the flatDistance calculation. If the two points are on the same row or[m
[32m+[m[32mcolumn, they are right next to each other, and the distance between them is[m
[32m+[m[32ma hundred meters. Otherwise, they are assumed to be diagonally adjacent,[m
[32m+[m[32mand the diagonal distance between two squares of this size is a hundred times[m
[32m+[m[32mthe square root of two, which is approximately 141. One is not allowed to call[m
[32m+[m[32m          this function for squares that are further than one step apart. (It could[m
[32m+[m[32m          double-check this... but it is too lazy.)[m
[32m+[m
[32m+[m[32m          Points on the map are represented by objects containing x and y properties.[m
[32m+[m[32m          These three functions are useful when working with such objects:[m
[32m+[m
[32m+[m[32m               function point(x, y) {[m
[32m+[m[32m                  return {x: x, y: y};[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               function addPoints(a, b) {[m
[32m+[m[32m                  return point(a.x + b.x, a.y + b.y);[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               function samePoint(a, b) {[m
[32m+[m[32m                  return a.x == b.x && a.y == b.y;[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               show(samePoint(addPoints(point(10, 10), point(4, -2)),[m
[32m+[m[32m                                         point(14, 8)));[m
[32m+[m
[32m+[m[32mEx. 7.4 If we are going to find routes through this map, we will again need a function[m
[32m+[m[32m          to create 'signposts', lists of directions that can be taken from a given point.[m
[32m+[m[32m          Write a function possibleDirections, which takes a point object as argument[m
[32m+[m[32m          and returns an array of nearby points. We can only move to adjacent points,[m
[32m+[m[32m          both straight and diagonally, so squares have a maximum of eight neighbours.[m
[32m+[m[32m          Take care not to return squares that lie outside of the map. For all we know[m
[32m+[m[32m          the edge of the map might be the edge of the world.[m
[32m+[m
[32m+[m[32m              function possibleDirections(from) {[m
[32m+[m[32m                  var mapSize = 20;[m
[32m+[m[32m                  function insideMap(point) {[m
[32m+[m[32m                      return point.x >= 0 && point.x < mapSize &&[m
[32m+[m[32m                                  point.y >= 0 && point.y < mapSize;[m
[32m+[m[32m                  }[m
[32m+[m
[32m+[m[32m                  var directions = [point(-1, 0), point(1, 0), point(0, -1),[m
[32m+[m[32m                                                  point(0, 1), point(-1, -1), point(-1, 1),[m
[32m+[m[32m                                                  point(1, 1), point(1, -1)];[m
[32m+[m
[32m+[m[32m                  return filter(insideMap, map(partial(addPoints, from),[m
[32m+[m[32m                                                                      directions));[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              show(possibleDirections(point(0, 0)));[m
[32m+[m
[32m+[m[32m          I created a variable mapSize, for the sole purpose of not having to write 20[m
[32m+[m[32m          two times. If, at some other time, we want to use this same function for[m
[32m+[m[32m          another map, it would be clumsy if the code was full of 20s, which all have to[m
[32m+[m[32m          be changed. We could even go as far as making the mapSize an argument to[m
[32m+[m[32m          possibleDirections, so we can use the function for different maps without[m
[32m+[m[32m          changing it. I judged that that was not necessary in this case though, such[m
[32m+[m[32m          things can always be changed when the need arises.[m
[32m+[m
[32m+[m[32m          Then why didn't I also add a variable to hold the 0, which also occurs two[m
[32m+[m[32m          times? I assumed that maps always start at 0, so this one is unlikely to ever[m
[32m+[m[32m          change, and using a variable for it only adds noise.[m
[32m+[m[32mTo find a route on this map without having our browser cut off the program[m
[32m+[m[32mbecause it takes too long to finish, we have to stop our amateurish attempts[m
[32m+[m[32mand implement a serious algorithm. A lot of work has gone into problems like[m
[32m+[m[32mthis in the past, and many solutions have been designed (some brilliant,[m
[32m+[m[32mothers useless). A very popular and efficient one is called A* (pronounced[m
[32m+[m[32mA-star). We will spend the rest of the chapter implementing an A* route-[m
[32m+[m[32mfinding function for our map.[m
[32m+[m
[32m+[m[32mBefore I get to the algorithm itself, let me tell you a bit more about the[m
[32m+[m[32mproblem it solves. The trouble with searching routes through graphs is that, in[m
[32m+[m[32mbig graphs, there are an awful lot of them. Our Hiva Oa path-finder showed[m
[32m+[m[32mthat, when the graph is small, all we needed to do was to make sure our[m
[32m+[m[32mpaths didn't revisit points they had already passed. On our new map, this is[m
[32m+[m[32mnot enough anymore.[m
[32m+[m
[32m+[m[32mThe fundamental problem is that there is too much room for going in the[m
[32m+[m[32mwrong direction. Unless we somehow manage to steer our exploration of[m
[32m+[m[32mpaths towards the goal, a choice we make for continuing a given path is more[m
[32m+[m[32mlikely to go in the wrong direction than in the right direction. If you keep[m
[32m+[m[32mgenerating paths like that, you end up with an enormous amount of paths,[m
[32m+[m[32mand even if one of them accidentally reaches the end point, you do not know[m
[32m+[m[32mwhether that is the shortest path.[m
[32m+[m
[32m+[m[32mSo what you want to do is explore directions that are likely to get you to the[m
[32m+[m[32mend point first. On a grid like our map, you can get a rough estimate of how[m
[32m+[m[32mgood a path is by checking how long it is and how close its end is to the end[m
[32m+[m[32mpoint. By adding path length and an estimate of the distance it still has to go,[m
[32m+[m[32myou can get a rough idea of which paths are promising. If you extend[m
[32m+[m[32mpromising paths first, you are less likely to waste time on useless ones.[m
[32m+[m
[32m+[m[32mBut that still is not enough. If our map was of a perfectly flat plane, the path[m
[32m+[m[32mthat looked promising would almost always be the best one, and we could use[m
[32m+[m[32mthe above method to walk right to our goal. But we have valleys and hillsides[m
[32m+[m[32mblocking our paths, so it is hard to tell in advance which direction will be the[m
[32m+[m[32mmost efficient path. Because of this, we still end up having to explore way too[m
[32m+[m[32mmany paths.[m
[32m+[m
[32m+[m[32mTo correct this, we can make clever use of the fact that we are constantly[m
[32m+[m[32mexploring the most promising path first. Once we have determined that path A[m
[32m+[m[32mis the best way to get to point X, we can remember that. When, later on,[m
[32m+[m[32mpath B also gets to point X, we know that it is not the best route, so we do[m
[32m+[m[32mnot have to explore it further. This can prevent our program from building a[m
[32m+[m[32mlot of pointless paths.[m
[32m+[m
[32m+[m[32mThe algorithm, then, goes something like this...[m
[32m+[m
[32m+[m[32mThere are two pieces of data to keep track of. The first one is called the open[m
[32m+[m[32mlist, it contains the partial routes that must still be explored. Each route has a[m
[32m+[m[32mscore, which is calculated by adding its length to its estimated distance from[m
[32m+[m[32mthe goal. This estimate must always be optimistic, it should never[m
[32m+[m[32moverestimate the distance. The second is a set of nodes that we have seen,[m
[32m+[m[32mtogether with the shortest partial route that got us there. This one we will call[m
[32m+[m[32mthe reached list. We start by adding a route that contains only the starting[m
[32m+[m[32mnode to the open list, and recording it in the reached list.[m
[32m+[m
[32m+[m[32mThen, as long as there are any nodes in the open list, we take out the one[m
[32m+[m[32mthat has the lowest (best) score, and find the ways in which it can be[m
[32m+[m[32mcontinued (by calling possibleDirections). For each of the nodes this returns,[m
[32m+[m[32mwe create a new route by appending it to our original route, and adjusting the[m
[32m+[m[32mlength of the route using weightedDistance. The endpoint of each of these new[m
[32m+[m[32mroutes is then looked up in the reached list.[m
[32m+[m
[32m+[m[32mIf the node is not in the reached list yet, it means we have not seen it before,[m
[32m+[m[32mand we add the new route to the open list and record it in the reached list. If[m
[32m+[m[32mwe had seen it before, we compare the score of the new route to the score[m
[32m+[m[32mof the route in the reached list. If the new route is shorter, we replace the[m
[32m+[m[32mexisting route with the new one. Otherwise, we discard the new route, since[m
[32m+[m[32mwe have already seen a better way to get to that point.[m
[32m+[m
[32m+[m[32mWe continue doing this until the route we fetch from the open list ends at the[m
[32m+[m[32mgoal node, in which case we have found our route, or until the open list is[m
[32m+[m[32mempty, in which case we have found out that there is no route. In our case[m
[32m+[m[32mthe map contains no unsurmountable obstacles, so there is always a route.[m
[32m+[m
[32m+[m[32mHow do we know that the first full route that we get from the open list is also[m
[32m+[m[32mthe shortest one? This is a result of the fact that we only look at a route[m
[32m+[m[32mwhen it has the lowest score. The score of a route is its actual length plus an[m
[32m+[m[32moptimistic estimate of the remaining length. This means that if a route has the[m
[32m+[m[32mlowest score in the open list, it is always the best route to its current endpoint[m
[32m+[m[32mâ€• it is impossible for another route to later find a better way to that point,[m
[32m+[m[32mbecause if it were better, its score would have been lower.[m
[32m+[m
[32m+[m[32mTry not to get frustrated when the fine points of why this works are still[m
[32m+[m[32meluding you. When thinking about algorithms like this, having seen 'something[m
[32m+[m[32mlike it' before helps a lot, it gives you a point of reference to compare the[m
[32m+[m[32mapproach to. Beginning programmers have to do without such a point of[m
[32m+[m[32mreference, which makes it rather easy to get lost. Just realise that this is[m
[32m+[m[32madvanced stuff, globally read over the rest of the chapter, and come back to[m
[32m+[m[32mit later when you feel like a challenge.[m
[32m+[m
[32m+[m[32mI am afraid that, for one aspect of the algorithm, I'm going to have to invoke[m
[32m+[m[32mmagic again. The open list needs to be able to hold a large amount of routes,[m
[32m+[m[32mand to quickly find the route with the lowest score among them. Storing them[m
[32m+[m[32min a normal array, and searching through this array every time, is way too[m
[32m+[m[32mslow, so I give you a data structure called a binary heap. You create them[m
[32m+[m[32mwith new, just like Date objects, giving them a function that is used to 'score'[m
[32m+[m[32mits elements as argument. The resulting object has the methods push and pop,[m
[32m+[m[32mjust like an array, but pop always gives you the element with the lowest score,[m
[32m+[m[32minstead of the one that was pushed last.[m
[32m+[m
[32m+[m[32m   function identity(x) {[m
[32m+[m[32m       return x;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m            var heap = new BinaryHeap(identity);[m
[32m+[m[32m            forEach([2, 4, 5, 1, 6, 3], function(number) {[m
[32m+[m
[32m+[m[32m                heap.push(number);[m
[32m+[m[32m            });[m
[32m+[m[32m            while (heap.size() > 0)[m
[32m+[m
[32m+[m[32m                show(heap.pop());[m
[32m+[m
[32m+[m[32m         Appendix 2 discusses the implementation of this data structure, which is quite[m
[32m+[m[32m         interesting. After you have read chapter 8, you might want to take a look at[m
[32m+[m[32m         it.[m
[32m+[m
[32m+[m[32m         The need to squeeze out as much efficiency as we can has another effect.[m
[32m+[m[32m         The Hiva Oa algorithm used arrays of locations to store routes, and copied[m
[32m+[m[32m         them with the concat method when it extended them. This time, we can not[m
[32m+[m[32m         afford to copy arrays, since we will be exploring lots and lots of routes.[m
[32m+[m[32m         Instead, we use a 'chain' of objects to store a route. Every object in the chain[m
[32m+[m[32m         has some properties, such as a point on the map, and the length of the route[m
[32m+[m[32m         so far, and it also has a property that points at the previous object in the[m
[32m+[m[32m         chain. Something like this:[m
[32m+[m
[32m+[m[32m         Where the cyan circles are the relevant objects, and the lines represent[m
[32m+[m[32m         properties â€• the end with the dot points at the value of the property. Object[m
[32m+[m[32m         A is the start of a route here. Object B is used to build a new route, which[m
[32m+[m[32m         continues from A. It has a property, which we will call from, pointing at the[m
[32m+[m[32m         route it is based on. When we need to reconstruct a route later, we can[m
[32m+[m[32m         follow these properties to find all the points that the route passed. Note that[m
[32m+[m[32m         object B is part of two routes, one that ends in D and one that ends in E.[m
[32m+[m[32m         When there are a lot of routes, this can save us much storage space â€• every[m
[32m+[m[32m         new route only needs one new object for itself, the rest is shared with other[m
[32m+[m[32m         routes that started the same way.[m
[32m+[m
[32m+[m[32mEx. 7.5  Write a function estimatedDistance that gives an optimistic estimate of the[m
[32m+[m[32m         distance between two points. It does not have to look at the height data, but[m
[32m+[m[32m         can assume a flat map. Remember that we are only travelling straight and[m
[32m+[m[32m         diagonally, and that we are counting the diagonal distance between two[m
[32m+[m[32m         squares as 141.[m
[32m+[m
[32m+[m[32m         function estimatedDistance(pointA, pointB) {[m
[32m+[m[32m            var dx = Math.abs(pointA.x - pointB.x),[m
[32m+[m[32m                       dy = Math.abs(pointA.y - pointB.y);[m
[32m+[m[32m                if (dx > dy)[m
[32m+[m
[32m+[m[32m                   return (dx - dy) * 100 + dy * 141;[m
[32m+[m[32m                else[m
[32m+[m
[32m+[m[32m                   return (dy - dx) * 100 + dx * 141;[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m         The strange formulae are used to decompose the path into a straight and a[m
[32m+[m[32m         diagonal part. If you have a path like this...[m
[32m+[m
[32m+[m[32m         ... the path is 8 squares wide and 4 high, so you get 8 - 4 = 4 straight moves,[m
[32m+[m[32m         and 4 diagonal ones.[m
[32m+[m
[32m+[m[32m         If you wrote a function that just computes the straight 'Pythagorean' distance[m
[32m+[m[32m         between the points, that would also work. What we need is an optimistic[m
[32m+[m[32m         estimate, and assuming you can go straight to the goal is certainly optimistic.[m
[32m+[m[32m         However, the closer the estimate is to the real distance, the less useless[m
[32m+[m[32m         paths our program has to try out.[m
[32m+[m
[32m+[m[32mEx. 7.6  We will use a binary heap for the open list. What would be a good data[m
[32m+[m[32m         structure for the reached list? This one will be used to look up routes, given a[m
[32m+[m[32m         pair of x, y coordinates. Preferably in a way that is fast. Write three functions,[m
[32m+[m[32m         makeReachedList, storeReached, and findReached. The first one creates your[m
[32m+[m[32m         data structure, the second one, given a reached list, a point, and a route,[m
[32m+[m[32m         stores a route in it, and the last one, given a reached list and point, retrieves[m
[32m+[m[32m         a route or returns undefined to indicate that no route was found for that point.[m
[32m+[m
[32m+[m[32m         One reasonable idea would be to use an object with objects in it. One of the[m
[32m+[m[32m         coordinates in the points, say x, is used as a property name for the outer[m
[32m+[m[32m         object, and the other, y, for the inner object. This does require some[m
[32m+[m[32m         bookkeeping to handle the fact that, sometimes, the inner object we are[m
[32m+[m[32m         looking for is not there (yet).[m
[32m+[m
[32m+[m[32m         function makeReachedList() {[m
[32m+[m[32m            return {};[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         function storeReached(list, point, route) {[m
[32m+[m[32m            var inner = list[point.x];[m
[32m+[m[32m            if (inner == undefined) {[m
[32m+[m[32m                inner = {};[m
[32m+[m[32m                list[point.x] = inner;[m
[32m+[m[32m            }[m
[32m+[m[32m            inner[point.y] = route;[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         function findReached(list, point) {[m
[32m+[m[32m            var inner = list[point.x];[m
[32m+[m[32m            if (inner == undefined)[m
[32m+[m[32m                return undefined;[m
[32m+[m[32m       else[m
[32m+[m[32m          return inner[point.y];[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mAnother possibility is to merge the x and y of the point into a single property[m
[32m+[m[32mname, and use that to store routes in a single object.[m
[32m+[m
[32m+[m[32m   function pointID(point) {[m
[32m+[m[32m       return point.x + "-" + point.y;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function makeReachedList() {[m
[32m+[m[32m       return {};[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function storeReached(list, point, route) {[m
[32m+[m[32m       list[pointID(point)] = route;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function findReached(list, point) {[m
[32m+[m[32m       return list[pointID(point)];[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mDefining a type of data structure by providing a set of functions to create and[m
[32m+[m[32mmanipulate such structures is a useful technique. It makes it possible to[m
[32m+[m[32m'isolate' the code that makes use of the structure from the details of the[m
[32m+[m[32mstructure itself. Note that, no matter which of the above two implementations[m
[32m+[m[32mis used, code that needs a reached list works in exactly the same way. It[m
[32m+[m[32mdoesn't care what kind of objects are used, as long as it gets the results it[m
[32m+[m[32mexpected.[m
[32m+[m
[32m+[m[32mThis will be discussed in much more detail in chapter 8, where we will learn to[m
[32m+[m[32mmake object types like BinaryHeap, which are created using new and have[m
[32m+[m[32mmethods to manipulate them.[m
[32m+[m
[32m+[m[32mHere we finally have the actual path-finding function:[m
[32m+[m
[32m+[m[32m   function findRoute(from, to) {[m
[32m+[m[32m       var open = new BinaryHeap(routeScore);[m
[32m+[m[32m       var reached = makeReachedList();[m
[32m+[m
[32m+[m[32m       function routeScore(route) {[m
[32m+[m[32m           if (route.score == undefined)[m
[32m+[m[32m              route.score = estimatedDistance(route.point, to) +[m
[32m+[m[32m                                       route.length;[m
[32m+[m[32m           return route.score;[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       function addOpenRoute(route) {[m
[32m+[m
[32m+[m[32m           open.push(route);[m
[32m+[m[32m           storeReached(reached, route.point, route);[m
[32m+[m[32m       }[m
[32m+[m[32m       addOpenRoute({point: from, length: 0});[m
[32m+[m
[32m+[m[32m       while (open.size() > 0) {[m
[32m+[m[32m           var route = open.pop();[m
[32m+[m[32m           if (samePoint(route.point, to))[m
[32m+[m[32m              return route;[m
[32m+[m[32m          forEach(possibleDirections(route.point), function(direction) {[m
[32m+[m[32m              var known = findReached(reached, direction);[m
[32m+[m[32m              var newLength = route.length +[m
[32m+[m[32m                                           weightedDistance(route.point, direction);[m
[32m+[m[32m              if (!known || known.length > newLength){[m
[32m+[m[32m                  if (known)[m
[32m+[m[32m                     open.remove(known);[m
[32m+[m[32m                  addOpenRoute({point: direction,[m
[32m+[m[32m                                           from: route,[m
[32m+[m[32m                                           length: newLength});[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m          });[m
[32m+[m[32m       }[m
[32m+[m[32m       return null;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mFirst, it creates the data structures it needs, one open list and one reached[m
[32m+[m[32mlist. routeScore is the scoring function given to the binary heap. Note how it[m
[32m+[m[32mstores its result in the route object, to prevent having to re-calculate it[m
[32m+[m[32mmultiple times.[m
[32m+[m
[32m+[m[32maddOpenRoute is a convenience function that adds a new route to both the[m
[32m+[m[32mopen list and the reached list. It is immediately used to add the start of the[m
[32m+[m[32mroute. Note that route objects always have the properties point, which holds[m
[32m+[m[32mthe point at the end of the route, and length, which holds the current length[m
[32m+[m[32mof the route. Routes which are more than one square long also have a from[m
[32m+[m[32mproperty, which points at their predecessors.[m
[32m+[m
[32m+[m[32mThe while loop, as was described in the algorithm, keeps taking the lowest-[m
[32m+[m[32mscoring route from the open list and checks whether this gets us to the goal[m
[32m+[m[32mpoint. If it does not, we must continue by expanding it. This is what the[m
[32m+[m[32mforEach takes care of. It looks up this new point in the reached list. If it is not[m
[32m+[m[32mfound there, or the node found has a longer length that the new route, a new[m
[32m+[m[32mroute object is created and added to the open list and reached list, and the[m
[32m+[m[32mexisting route (if any) is removed from the open list.[m
[32m+[m
[32m+[m[32mWhat if the route in known is not on the open list? It has to be, because routes[m
[32m+[m[32mare only removed from the open list when they have been found to be the[m
[32m+[m[32mmost optimal route to their endpoint. If we try to remove a value from a[m
[32m+[m[32mbinary heap that is not on it, it will throw an exception, so if my reasoning is[m
[32m+[m[32mwrong, we will probably see an exception when running the function.[m
[32m+[m
[32m+[m[32mWhen code gets complex enough to make you doubt certain things about it, it[m
[32m+[m[32mis a good idea to add some checks that raise exceptions when something[m
[32m+[m[32mgoes wrong. That way, you know that there are no weird things happening[m
[32m+[m[32m'silently', and when you break something, you immediately see what you[m
[32m+[m[32mbroke.[m
[32m+[m
[32m+[m[32mNote that this algorithm does not use recursion, but still manages to explore[m
[32m+[m[32mall those branches. The open list more or less takes over the role that the[m
[32m+[m[32mfunction call stack played in the recursive solution to the Hiva Oa problem â€• it[m
[32m+[m[32mkeeps track of the paths that still have to be explored. Every recursive[m
[32m+[m[32malgorithm can be rewritten in a non-recursive way by using a data structure to[m
[32m+[m[32mstore the 'things that must still be done'.[m
[32m+[m[32mWell, let us try our path-finder:[m
[32m+[m
[32m+[m[32m    var route = findRoute(point(0, 0), point(19, 19));[m
[32m+[m
[32m+[m[32mIf you ran all the code above, and did not introduce any errors, that call,[m
[32m+[m[32mthough it might take a few seconds to run, should give us a route object. This[m
[32m+[m[32mobject is rather hard to read. That can be helped by using the showRoute[m
[32m+[m[32mfunction which, if your console is big enough, will show a route on a map.[m
[32m+[m
[32m+[m[32m    showRoute(route);[m
[32m+[m
[32m+[m[32mYou can also pass multiple routes to showRoute, which can be useful when you[m
[32m+[m[32mare, for example, trying to plan a scenic route, which must include the[m
[32m+[m[32mbeautiful viewpoint at 11, 17.[m
[32m+[m
[32m+[m[32m    showRoute(findRoute(point(0, 0), point(11, 17)),[m
[32m+[m[32m                      findRoute(point(11, 17), point(19, 19)));[m
[32m+[m
[32m+[m[32mVariations on the theme of searching an optimal route through a graph can be[m
[32m+[m[32mapplied to many problems, many of which are not at all related to finding a[m
[32m+[m[32mphysical path. For example, a program that needs to solve a puzzle of fitting a[m
[32m+[m[32mnumber of blocks into a limited space could do this by exploring the various[m
[32m+[m[32m'paths' it gets by trying to put a certain block in a certain place. The paths[m
[32m+[m[32mthat ends up with insufficient room for the last blocks are dead ends, and the[m
[32m+[m[32mpath that manages to fit in all blocks is the solution.[m
[32m+[m
[32m+[m[32m1. Computers are deterministic machines: They always react in the same way to the input they receive, so they[m
[32m+[m[32m    can not produce truly random values. Therefore, we have to make do with series of numbers that look random,[m
[32m+[m[32m    but are in fact the result of some complicated deterministic computation.[m
[32m+[m
[32m+[m[32m2. No really, it is.[m
[32m+[m[32mChapter 8:[m
[32m+[m
[32m+[m[32m       In the early nineties, a thing called object-oriented programming stirred up[m
[32m+[m[32m       the software industry. Most of the ideas behind were not really new at the[m
[32m+[m[32m       time, but they had finally gained enough momentum to start rolling, to[m
[32m+[m[32m       become fashionable. Books were being written, courses given, programming[m
[32m+[m[32m       languages developed. All of a sudden, everybody was extolling the virtues of[m
[32m+[m[32m       object-orientation, enthusiastically applying it to every problem, convincing[m
[32m+[m[32m       themselves they had finally found the right way to write programs.[m
[32m+[m
[32m+[m[32m       These things happen a lot. When a process is hard and confusing, people are[m
[32m+[m[32m       always on the lookout for a magic solution. When something looking like such[m
[32m+[m[32m       a solution presents itself, they are prepared to become devoted followers. For[m
[32m+[m[32m       many programmers, even today, object-orientation (or their view of it) is the[m
[32m+[m[32m       gospel. When a program is not 'truly object-oriented', whatever that means, it[m
[32m+[m[32m       is considered decidedly inferior.[m
[32m+[m
[32m+[m[32m       Few fads have managed to stay popular for as long as this one, though.[m
[32m+[m[32m       Object-orientation's longevity can largely be explained by the fact that the[m
[32m+[m[32m       ideas at its core are very solid and useful. In this chapter, we will discuss[m
[32m+[m[32m       these ideas, along with JavaScript's (rather eccentric) take on them. The[m
[32m+[m[32m       above paragraphs are by no means meant to discredit these ideas. What I[m
[32m+[m[32m       want to do is warn the reader against developing an unhealthy attachment to[m
[32m+[m[32m       them.[m
[32m+[m
[32m+[m[32m       As the name suggests, object-oriented programming is related to objects. So[m
[32m+[m[32m       far, we have used objects as loose aggregations of values, adding and[m
[32m+[m[32m       altering their properties whenever we saw fit. In an object-oriented approach,[m
[32m+[m[32m       objects are viewed as little worlds of their own, and the outside world may[m
[32m+[m[32m       touch them only through a limited and well-defined interface, a number of[m
[32m+[m[32m       specific methods and properties. The 'reached list' we used at the end of[m
[32m+[m[32m       chapter 7 is an example of this: We used only three functions,[m
[32m+[m[32m       makeReachedList, storeReached, and findReached to interact with it. These three[m
[32m+[m[32m       functions form an interface for such objects.[m
[32m+[m
[32m+[m[32m       The Date, Error, and BinaryHeap objects we have seen also work like this.[m
[32m+[m[32m       Instead of providing regular functions for working with the objects, they[m
[32m+[m[32m       provide a way to create such objects, using the new keyword, and a number[m
[32m+[m[32m       of methods and properties that provide the rest of the interface.[m
[32m+[m
[32m+[m[32m       One way to give an object methods is to simply attach function values to it.[m
[32m+[m
[32m+[m[32m            var rabbit = {};[m
[32m+[m[32m            rabbit.speak = function(line) {[m
[32m+[m
[32m+[m[32m               print("The rabbit says '", line, "'");[m
[32m+[m[32m            };[m
[32m+[m
[32m+[m[32m            rabbit.speak("Well, now you're asking me.");[m
[32m+[m[32mIn most cases, the method will need to know who it should act on. For[m
[32m+[m[32mexample, if there are different rabbits, the speak method must indicate which[m
[32m+[m[32mrabbit is speaking. For this purpose, there is a special variable called this,[m
[32m+[m[32mwhich is always present when a function is called, and which points at the[m
[32m+[m[32mrelevant object when the function is called as a method. A function is called as[m
[32m+[m[32ma method when it is looked up as a property, and immediately called, as in[m
[32m+[m[32mobject.method().[m
[32m+[m
[32m+[m[32m   function speak(line) {[m
[32m+[m[32m       print("The ", this.adjective, " rabbit says '", line, "'");[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   var whiteRabbit = {adjective: "white", speak: speak};[m
[32m+[m[32m   var fatRabbit = {adjective: "fat", speak: speak};[m
[32m+[m
[32m+[m[32m   whiteRabbit.speak("Oh my ears and whiskers, how late it's getting!");[m
[32m+[m[32m   fatRabbit.speak("I could sure use a carrot right now.");[m
[32m+[m
[32m+[m[32mI can now clarify the mysterious first argument to the apply method, for which[m
[32m+[m[32mwe always used null in chapter 6. This argument can be used to specify the[m
[32m+[m[32mobject that the function must be applied to. For non-method functions, this is[m
[32m+[m[32mirrelevant, hence the null.[m
[32m+[m
[32m+[m[32m   speak.apply(fatRabbit, ["Yum."]);[m
[32m+[m
[32m+[m[32mFunctions also have a call method, which is similar to apply, but you can give[m
[32m+[m[32mthe arguments for the function separately instead of as an array:[m
[32m+[m
[32m+[m[32m   speak.call(fatRabbit, "Burp.");[m
[32m+[m
[32m+[m[32mThe new keyword provides a convenient way of creating new objects. When a[m
[32m+[m[32mfunction is called with the word new in front of it, its this variable will point at[m
[32m+[m[32ma new object, which it will automatically return (unless it explicitly returns[m
[32m+[m[32msomething else). Functions used to create new objects like this are called[m
[32m+[m[32mconstructors. Here is a constructor for rabbits:[m
[32m+[m
[32m+[m[32m   function Rabbit(adjective) {[m
[32m+[m[32m       this.adjective = adjective;[m
[32m+[m[32m       this.speak = function(line) {[m
[32m+[m[32m          print("The ", this.adjective, " rabbit says '", line, "'");[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var killerRabbit = new Rabbit("killer");[m
[32m+[m[32m   killerRabbit.speak("GRAAAAAAAAAH!");[m
[32m+[m
[32m+[m[32mIt is a convention, among JavaScript programmers, to start the names of[m
[32m+[m[32mconstructors with a capital letter. This makes it easy to distinguish them from[m
[32m+[m[32mother functions.[m
[32m+[m
[32m+[m[32mWhy is the new keyword even necessary? After all, we could have simply[m
[32m+[m[32mwritten this:[m
[32m+[m
[32m+[m[32m   function makeRabbit(adjective) {[m
[32m+[m[32m       return {[m
[32m+[m[32m          adjective: adjective,[m
[32m+[m[32m          speak: function(line) {/*etc*/}[m
[32m+[m
[32m+[m[32m       };[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var blackRabbit = makeRabbit("black");[m
[32m+[m
[32m+[m[32mBut that is not entirely the same. new does a few things behind the scenes.[m
[32m+[m[32mFor one thing, our killerRabbit has a property called constructor, which[m
[32m+[m[32mpoints at the Rabbit function that created it. blackRabbit also has such a[m
[32m+[m[32mproperty, but it points at the Object function.[m
[32m+[m
[32m+[m[32m   show(killerRabbit.constructor);[m
[32m+[m[32m   show(blackRabbit.constructor);[m
[32m+[m
[32m+[m[32mWhere did the constructor property come from? It is part of the prototype of[m
[32m+[m[32ma rabbit. Prototypes are a powerful, if somewhat confusing, part of the way[m
[32m+[m[32mJavaScript objects work. Every object is based on a prototype, which gives it[m
[32m+[m[32ma set of inherent properties. The simple objects we have used so far are[m
[32m+[m[32mbased on the most basic prototype, which is associated with the Object[m
[32m+[m[32mconstructor. In fact, typing {} is equivalent to typing new Object().[m
[32m+[m
[32m+[m[32m   var simpleObject = {};[m
[32m+[m[32m   show(simpleObject.constructor);[m
[32m+[m[32m   show(simpleObject.toString);[m
[32m+[m
[32m+[m[32mtoString is a method that is part of the Object prototype. This means that all[m
[32m+[m[32msimple objects have a toString method, which converts them to a string. Our[m
[32m+[m[32mrabbit objects are based on the prototype associated with the Rabbit[m
[32m+[m[32mconstructor. You can use a constructor's prototype property to get access to,[m
[32m+[m[32mwell, their prototype:[m
[32m+[m
[32m+[m[32m   show(Rabbit.prototype);[m
[32m+[m[32m   show(Rabbit.prototype.constructor);[m
[32m+[m
[32m+[m[32mEvery function automatically gets a prototype property, whose constructor[m
[32m+[m[32mproperty points back at the function. Because the rabbit prototype is itself an[m
[32m+[m[32mobject, it is based on the Object prototype, and shares its toString method.[m
[32m+[m
[32m+[m[32m   show(killerRabbit.toString == simpleObject.toString);[m
[32m+[m
[32m+[m[32mEven though objects seem to share the properties of their prototype, this[m
[32m+[m[32msharing is one-way. The properties of the prototype influence the object[m
[32m+[m[32mbased on it, but the properties of this object never change the prototype.[m
[32m+[m
[32m+[m[32mThe precise rules are this: When looking up the value of a property,[m
[32m+[m[32mJavaScript first looks at the properties that the object itself has. If there is a[m
[32m+[m[32mproperty that has the name we are looking for, that is the value we get. If[m
[32m+[m[32mthere is no such property, it continues searching the prototype of the object,[m
[32m+[m[32mand then the prototype of the prototype, and so on. If no property is found,[m
[32m+[m[32mthe value undefined is given. On the other hand, when setting the value of a[m
[32m+[m[32mproperty, JavaScript never goes to the prototype, but always sets the[m
[32m+[m[32mproperty in the object itself.[m
[32m+[m
[32m+[m[32m   Rabbit.prototype.teeth = "small";[m
[32m+[m[32m   show(killerRabbit.teeth);[m
[32m+[m[32m   killerRabbit.teeth = "long, sharp, and bloody";[m
[32m+[m[32m   show(killerRabbit.teeth);[m
[32m+[m[32m   show(Rabbit.prototype.teeth);[m
[32m+[m
[32m+[m[32mThis does mean that the prototype can be be used at any time to add new[m
[32m+[m[32mproperties and methods to all objects based on it. For example, it might[m
[32m+[m[32mbecome necessary for our rabbits to dance.[m
[32m+[m
[32m+[m[32m   Rabbit.prototype.dance = function() {[m
[32m+[m[32m       print("The ", this.adjective, " rabbit dances a jig.");[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   killerRabbit.dance();[m
[32m+[m
[32m+[m[32mAnd, as you might have guessed, the prototypical rabbit is the perfect place[m
[32m+[m[32mfor values that all rabbits have in common, such as the speak method. Here is[m
[32m+[m[32ma new approach to the Rabbit constructor:[m
[32m+[m
[32m+[m[32m   function Rabbit(adjective) {[m
[32m+[m[32m       this.adjective = adjective;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   Rabbit.prototype.speak = function(line) {[m
[32m+[m
[32m+[m[32m       print("The ", this.adjective, " rabbit says '", line, "'");[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   var hazelRabbit = new Rabbit("hazel");[m
[32m+[m[32m   hazelRabbit.speak("Good Frith!");[m
[32m+[m
[32m+[m[32mThe fact that all objects have a prototype and receive some properties from[m
[32m+[m[32mthis prototype can be tricky. It means that using an object to store a set of[m
[32m+[m[32mthings, such as the cats from chapter 4, can go wrong. If, for example, we[m
[32m+[m[32mwondered whether there is a cat called "constructor", we would have[m
[32m+[m[32mchecked it like this:[m
[32m+[m
[32m+[m[32m   var noCatsAtAll = {};[m
[32m+[m[32m   if ("constructor" in noCatsAtAll)[m
[32m+[m
[32m+[m[32m       print("Yes, there definitely is a cat called 'constructor'.");[m
[32m+[m
[32m+[m[32mThis is problematic. A related problem is that it can often be practical to[m
[32m+[m[32mextend the prototypes of standard constructors such as Object and Array with[m
[32m+[m[32mnew useful functions. For example, we could give all objects a method called[m
[32m+[m[32mproperties, which returns an array with the names of the (non-hidden)[m
[32m+[m[32mproperties that the object has:[m
[32m+[m
[32m+[m[32m   Object.prototype.properties = function() {[m
[32m+[m[32m       var result = [];[m
[32m+[m[32m       for (var property in this)[m
[32m+[m[32m          result.push(property);[m
[32m+[m[32m       return result;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32m   var test = {x: 10, y: 3};[m
[32m+[m[32m   show(test.properties());[m
[32m+[m
[32m+[m[32mAnd that immediately shows the problem. Now that the Object prototype has[m
[32m+[m[32ma property called properties, looping over the properties of any object, using[m
[32m+[m[32mfor and in, will also give us that shared property, which is generally not what[m
[32m+[m[32mwe want. We are interested only in the properties that the object itself has.[m
[32m+[m
[32m+[m[32mFortunately, there is a way to find out whether a property belongs to the[m
[32m+[m[32mobject itself or to one of its prototypes. Unfortunately, it does make looping[m
[32m+[m[32mover the properties of an object a bit clumsier. Every object has a method[m
[32m+[m[32mcalled hasOwnProperty, which tells us whether the object has a property with a[m
[32m+[m[32mgiven name. Using this, we could rewrite our properties method like this:[m
[32m+[m
[32m+[m[32m   Object.prototype.properties = function() {[m
[32m+[m[32m       var result = [];[m
[32m+[m[32m       for (var property in this) {[m
[32m+[m[32m          if (this.hasOwnProperty(property))[m
[32m+[m[32m              result.push(property);[m
[32m+[m[32m       }[m
[32m+[m[32m       return result;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   var test = {"Fat Igor": true, "Fireball": true};[m
[32m+[m[32m   show(test.properties());[m
[32m+[m
[32m+[m[32mAnd of course, we can abstract that into a higher-order function. Note that[m
[32m+[m[32mthe action function is called with both the name of the property and the value[m
[32m+[m[32mit has in the object.[m
[32m+[m
[32m+[m[32m   function forEachIn(object, action) {[m
[32m+[m[32m       for (var property in object) {[m
[32m+[m[32m          if (object.hasOwnProperty(property))[m
[32m+[m[32m              action(property, object[property]);[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var chimera = {head: "lion", body: "goat", tail: "snake"};[m
[32m+[m[32m   forEachIn(chimera, function(name, value) {[m
[32m+[m
[32m+[m[32m       print("The ", name, " of a ", value, ".");[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32mBut, what if we find a cat named hasOwnProperty? (You never know.) It will be[m
[32m+[m[32mstored in the object, and the next time we want to go over the collection of[m
[32m+[m[32mcats, calling object.hasOwnProperty will fail, because that property no longer[m
[32m+[m[32mpoints at a function value. This can be solved by doing something even uglier:[m
[32m+[m
[32m+[m[32m   function forEachIn(object, action) {[m
[32m+[m[32m       for (var property in object) {[m
[32m+[m[32m          if (Object.prototype.hasOwnProperty.call(object, property))[m
[32m+[m[32m              action(property, object[property]);[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var test = {name: "Mordecai", hasOwnProperty: "Uh-oh"};[m
[32m+[m[32m   forEachIn(test, function(name, value) {[m
[32m+[m
[32m+[m[32m       print("Property ", name, " = ", value);[m
[32m+[m[32m   });[m
[32m+[m[32mHere, instead of using the method found in the object itself, we get the[m
[32m+[m[32mmethod from the Object prototype, and then use call to apply it to the right[m
[32m+[m[32mobject. Unless someone actually messes with the method in Object.prototype[m
[32m+[m[32m(don't do that), this should work correctly.[m
[32m+[m
[32m+[m[32mhasOwnProperty can also be used in those situations where we have been using[m
[32m+[m[32mthe in operator to see whether an object has a specific property. There is one[m
[32m+[m[32mmore catch, however. We saw in chapter 4 that some properties, such as[m
[32m+[m[32mtoString, are 'hidden', and do not show up when going over properties with[m
[32m+[m[32mfor/in. It turns out that browsers in the Gecko family (Firefox, most[m
[32m+[m[32mimportantly) give every object a hidden property named __proto__, which[m
[32m+[m[32mpoints to the prototype of that object. hasOwnProperty will return true for this[m
[32m+[m[32mone, even though the program did not explicitly add it. Having access to the[m
[32m+[m[32mprototype of an object can be very convenient, but making it a property like[m
[32m+[m[32mthat was not a very good idea. Still, Firefox is a widely used browser, so when[m
[32m+[m[32myou write a program for the web you have to be careful with this. There is a[m
[32m+[m[32mmethod propertyIsEnumerable, which returns false for hidden properties, and[m
[32m+[m[32mwhich can be used to filter out strange things like __proto__. An expression[m
[32m+[m[32msuch as this one can be used to reliably work around this:[m
[32m+[m
[32m+[m[32m   var object = {foo: "bar"};[m
[32m+[m[32m   show(Object.prototype.hasOwnProperty.call(object, "foo") &&[m
[32m+[m
[32m+[m[32m            Object.prototype.propertyIsEnumerable.call(object, "foo"));[m
[32m+[m
[32m+[m[32mNice and simple, no? This is one of the not-so-well-designed aspects of[m
[32m+[m[32mJavaScript. Objects play both the role of 'values with methods', for which[m
[32m+[m[32mprototypes work great, and 'sets of properties', for which prototypes only get[m
[32m+[m[32min the way.[m
[32m+[m
[32m+[m[32mWriting the above expression every time you need to check whether a[m
[32m+[m[32mproperty is present in an object is unworkable. We could put it into a function,[m
[32m+[m[32mbut an even better approach is to write a constructor and a prototype[m
[32m+[m[32mspecifically for situations like this, where we want to approach an object as[m
[32m+[m[32mjust a set of properties. Because you can use it to look things up by name, we[m
[32m+[m[32mwill call it a Dictionary.[m
[32m+[m
[32m+[m[32m   function Dictionary(startValues) {[m
[32m+[m[32m       this.values = startValues || {};[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   Dictionary.prototype.store = function(name, value) {[m
[32m+[m
[32m+[m[32m       this.values[name] = value;[m
[32m+[m[32m   };[m
[32m+[m[32m   Dictionary.prototype.lookup = function(name) {[m
[32m+[m
[32m+[m[32m       return this.values[name];[m
[32m+[m[32m   };[m
[32m+[m[32m   Dictionary.prototype.contains = function(name) {[m
[32m+[m
[32m+[m[32m       return Object.prototype.hasOwnProperty.call(this.values, name) &&[m
[32m+[m[32m          Object.prototype.propertyIsEnumerable.call(this.values, name);[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32m   Dictionary.prototype.each = function(action) {[m
[32m+[m
[32m+[m[32m       forEachIn(this.values, action);[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   var colours = new Dictionary({Grover: "blue",[m
[32m+[m[32m                                                         Elmo: "orange",[m
[32m+[m[32m                                                         Bert: "yellow"});[m
[32m+[m[32m   show(colours.contains("Grover"));[m
[32m+[m[32m   show(colours.contains("constructor"));[m
[32m+[m[32m   colours.each(function(name, colour) {[m
[32m+[m[32m       print(name, " is ", colour);[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32mNow the whole mess related to approaching objects as plain sets of[m
[32m+[m[32mproperties has been 'encapsulated' in a convenient interface: one constructor[m
[32m+[m[32mand four methods. Note that the values property of a Dictionary object is not[m
[32m+[m[32mpart of this interface, it is an internal detail, and when you are using[m
[32m+[m[32mDictionary objects you do not need to directly use it.[m
[32m+[m
[32m+[m[32mWhenever you write an interface, it is a good idea to add a comment with a[m
[32m+[m[32mquick sketch of what it does and how it should be used. This way, when[m
[32m+[m[32msomeone, possibly yourself three months after you wrote it, wants to work[m
[32m+[m[32mwith the interface, they can quickly see how to use it, and do not have to[m
[32m+[m[32mstudy the whole program.[m
[32m+[m
[32m+[m[32mMost of the time, when you are designing an interface, you will soon find[m
[32m+[m[32msome limitations and problems in whatever you came up with, and change it.[m
[32m+[m[32mTo prevent wasting your time, it is advisable to document your interfaces only[m
[32m+[m[32mafter they have been used in a few real situations and proven themselves to[m
[32m+[m[32mbe practical. â€• Of course, this might make it tempting to forget about[m
[32m+[m[32mdocumentation altogether. Personally, I treat writing documentation as a[m
[32m+[m[32m'finishing touch' to add to a system. When it feels ready, it is time to write[m
[32m+[m[32msomething about it, and to see if it sounds as good in English (or whatever[m
[32m+[m[32mlanguage) as it does in JavaScript (or whatever programming language).[m
[32m+[m
[32m+[m[32mThe distinction between the external interface of an object and its internal[m
[32m+[m[32mdetails is important for two reasons. Firstly, having a small, clearly described[m
[32m+[m[32minterface makes an object easier to use. You only have to keep the interface[m
[32m+[m[32min mind, and do not have to worry about the rest unless you are changing the[m
[32m+[m[32mobject itself.[m
[32m+[m
[32m+[m[32mSecondly, it often turns out to be necessary or practical to change something[m
[32m+[m[32mabout the internal implementation of an object type1, to make it more[m
[32m+[m[32mefficient, for example, or to fix some problem. When outside code is accessing[m
[32m+[m[32mevery single property and detail in the object, you can not change any of[m
[32m+[m[32mthem without also updating a lot of other code. If outside code only uses a[m
[32m+[m[32msmall interface, you can do what you want, as long as you do not change the[m
[32m+[m[32minterface.[m
[32m+[m
[32m+[m[32mSome people go very far in this. They will, for example, never include[m
[32m+[m[32mproperties in the interface of object, only methods â€• if their object type has a[m
[32m+[m[32mlength, it will be accessible with the getLength method, not the length[m
[32m+[m[32mproperty. This way, if they ever want to change their object in such a way[m
[32m+[m[32mthat it no longer has a length property, for example because it now has some[m
[32m+[m[32minternal array whose length it must return, they can update the function[m
[32m+[m[32mwithout changing the interface.[m
[32m+[m
[32m+[m[32mMy own take is that in most cases this is not worth it. Adding a getLength[m
[32m+[m[32mmethod which only contains return this.length; mostly just adds meaningless[m
[32m+[m[32mcode, and, in most situations, I consider meaningless code a bigger problem[m
[32m+[m[32mthan the risk of having to occasionally change the interface to my objects.[m
[32m+[m
[32m+[m[32mAdding new methods to existing prototypes can be very convenient. Especially[m
[32m+[m[32mthe Array and String prototypes in JavaScript could use a few more basic[m
[32m+[m[32mmethods. We could, for example, replace forEach and map with methods on[m
[32m+[m[32marrays, and make the startsWith function we wrote in chapter 4 a method on[m
[32m+[m[32mstrings.[m
[32m+[m
[32m+[m[32mHowever, if your program has to run on the same web-page as another[m
[32m+[m[32mprogram (either written by you or by someone else) which uses for/in naively[m
[32m+[m[32mâ€• the way we have been using it so far â€• then adding things to prototypes,[m
[32m+[m[32mespecially the Object and Array prototype, will definitely break something,[m
[32m+[m[32mbecause these loops will suddenly start seeing those new properties. For this[m
[32m+[m[32mreason, some people prefer not to touch these prototypes at all. Of course, if[m
[32m+[m[32myou are careful, and you do not expect your code to have to coexist with[m
[32m+[m[32mbadly-written code, adding methods to standard prototypes is a perfectly[m
[32m+[m[32mgood technique.[m
[32m+[m
[32m+[m[32mIn this chapter we are going to build a virtual terrarium, a tank with insects[m
[32m+[m[32mmoving around in it. There will be some objects involved (this is, after all, the[m
[32m+[m[32mchapter on object-oriented programming). We will take a rather simple[m
[32m+[m[32mapproach, and make the terrarium a two-dimensional grid, like the second[m
[32m+[m[32mmap in chapter 7. On this grid there are a number of bugs. When the[m
[32m+[m[32mterrarium is active, all the bugs get a chance to take an action, such as[m
[32m+[m[32mmoving, every half second.[m
[32m+[m
[32m+[m[32mThus, we chop both time and space into units with a fixed size â€• squares for[m
[32m+[m[32mspace, half seconds for time. This usually makes things easier to model in a[m
[32m+[m[32mprogram, but of course has the drawback of being wildly inaccurate.[m
[32m+[m[32mFortunately, this terrarium-simulator is not required to be accurate in any[m
[32m+[m[32mway, so we can get away with it.[m
[32m+[m
[32m+[m[32mA terrarium can be defined with a 'plan', which is an array of strings. We[m
[32m+[m[32mcould have used a single string, but because JavaScript strings must stay on a[m
[32m+[m[32msingle line it would have been a lot harder to type.[m
[32m+[m
[32m+[m[32mvar thePlan =[m
[32m+[m
[32m+[m[32m["############################",[m
[32m+[m
[32m+[m[32m"#      ##            o     ##",[m
[32m+[m
[32m+[m[32m"#                          #",[m
[32m+[m
[32m+[m[32m"#             #####        #",[m
[32m+[m
[32m+[m[32m"##            # # ##       #",[m
[32m+[m
[32m+[m[32m"###           ##        #  #",[m
[32m+[m
[32m+[m[32m"#             ###       #  #",[m
[32m+[m
[32m+[m[32m"# ####                     #",[m
[32m+[m
[32m+[m[32m"# ##          o            #",[m
[32m+[m
[32m+[m[32m"# o #            o         ### #",[m
[32m+[m
[32m+[m[32m"# #                        #",[m
[32m+[m
[32m+[m[32m"############################"];[m
[32m+[m
[32m+[m[32mThe "#" characters are used to represent the walls of the terrarium (and the[m
[32m+[m[32m         ornamental rocks lying in it), the "o"s represent bugs, and the spaces are, as[m
[32m+[m[32m         you might have guessed, empty space.[m
[32m+[m
[32m+[m[32m         Such a plan-array can be used to create a terrarium-object. This object keeps[m
[32m+[m[32m         track of the shape and content of the terrarium, and lets the bugs inside[m
[32m+[m[32m         move. It has four methods: Firstly toString, which converts the terrarium[m
[32m+[m[32m         back to a string similar to the plan it was based on, so that you can see what[m
[32m+[m[32m         is going on inside it. Then there is step, which allows all the bugs in the[m
[32m+[m[32m         terrarium to move one step, if they so desire. And finally, there are start and[m
[32m+[m[32m         stop, which control whether the terrarium is 'running'. When it is running, step[m
[32m+[m[32m         is automatically called every half second, so the bugs keep moving.[m
[32m+[m
[32m+[m[32mEx. 8.1  The points on the grid will be represented by objects again. In chapter 7 we[m
[32m+[m[32m         used three functions, point, addPoints, and samePoint to work with points. This[m
[32m+[m[32m         time, we will use a constructor and two methods. Write the constructor Point,[m
[32m+[m[32m         which takes two arguments, the x and y coordinates of the point, and[m
[32m+[m[32m         produces an object with x and y properties. Give the prototype of this[m
[32m+[m[32m         constructor a method add, which takes another point as argument and returns[m
[32m+[m[32m         a new point whose x and y are the sum of the x and y of the two given[m
[32m+[m[32m         points. Also add a method isEqualTo, which takes a point and returns a[m
[32m+[m[32m         boolean indicating whether the this point refers to the same coordinates as[m
[32m+[m[32m         the given point.[m
[32m+[m
[32m+[m[32m         Apart from the two methods, the x and y properties are also part of the[m
[32m+[m[32m         interface of this type of objects: Code which uses point objects may freely[m
[32m+[m[32m         retrieve and modify x and y.[m
[32m+[m
[32m+[m[32m         function Point(x, y) {[m
[32m+[m[32m            this.x = x;[m
[32m+[m[32m            this.y = y;[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m         Point.prototype.add = function(other) {[m
[32m+[m
[32m+[m[32m            return new Point(this.x + other.x, this.y + other.y);[m
[32m+[m[32m         };[m
[32m+[m[32m         Point.prototype.isEqualTo = function(other) {[m
[32m+[m
[32m+[m[32m            return this.x == other.x && this.y == other.y;[m
[32m+[m[32m         };[m
[32m+[m
[32m+[m[32m         show((new Point(3, 1)).add(new Point(2, 4)));[m
[32m+[m
[32m+[m[32m         Make sure your version of add leaves the this point intact and produces a[m
[32m+[m[32m         new point object. A method which changes the current point instead would be[m
[32m+[m[32m         similar to the += operator, whereas this one is like the + operator.[m
[32m+[m
[32m+[m[32m         When writing objects to implement a certain program, it is not always very[m
[32m+[m[32m         clear which functionality goes where. Some things are best written as[m
[32m+[m[32m         methods of your objects, other things are better expressed as separate[m
[32m+[m[32m         functions, and some things are best implemented by adding a new type of[m
[32m+[m[32m         object. To keep things clear and organised, it is important to keep the amount[m
[32m+[m[32m         of methods and responsibilities that an object type has as small as possible.[m
[32m+[m[32m         When an object does too much, it becomes a big mess of functionality, and a[m
[32m+[m[32m         formidable source of confusion.[m
[32m+[m
[32m+[m[32m         I said above that the terrarium object will be responsible for storing its[m
[32m+[m[32mcontents and for letting the bugs inside it move. Firstly, note that it lets them[m
[32m+[m[32mmove, it doesn't make them move. The bugs themselves will also be objects,[m
[32m+[m[32mand these objects are responsible for deciding what they want to do. The[m
[32m+[m[32mterrarium merely provides the infrastructure that asks them what to do every[m
[32m+[m[32mhalf second, and if they decide to move, it makes sure this happens.[m
[32m+[m
[32m+[m[32mStoring the grid on which the content of the terrarium is kept can get quite[m
[32m+[m[32mcomplex. It has to define some kind of representation, ways to access this[m
[32m+[m[32mrepresentation, a way to initialise the grid from a 'plan' array, a way to write[m
[32m+[m[32mthe content of the grid to a string for the toString method, and the[m
[32m+[m[32mmovement of the bugs on the grid. It would be nice if part of this could be[m
[32m+[m[32mmoved into another object, so that the terrarium object itself doesn't get too[m
[32m+[m[32mbig and complex.[m
[32m+[m
[32m+[m[32mWhenever you find yourself about to mix data representation and problem-[m
[32m+[m[32mspecific code in one object, it is a good idea to try and put the data[m
[32m+[m[32mrepresentation code into a separate type of object. In this case, we need to[m
[32m+[m[32mrepresent a grid of values, so I wrote a Grid type, which supports the[m
[32m+[m[32moperations that the terrarium will need.[m
[32m+[m
[32m+[m[32mTo store the values on the grid, there are two options. One can use an array[m
[32m+[m[32mof arrays, like this:[m
[32m+[m
[32m+[m[32m   var grid = [["0,0", "1,0", "2,0"],[m
[32m+[m[32m                         ["0,1", "1,1", "2,1"]];[m
[32m+[m
[32m+[m[32m   show(grid[1][2]);[m
[32m+[m
[32m+[m[32mOr the values can all be put into a single array. In this case, the element at[m
[32m+[m[32mx,y can be found by getting the element at position x + y * width in the array,[m
[32m+[m[32mwhere width is the width of the grid.[m
[32m+[m
[32m+[m[32m   var grid = ["0,0", "1,0", "2,0",[m
[32m+[m[32m                         "0,1", "1,1", "2,1"];[m
[32m+[m
[32m+[m[32m   show(grid[2 + 1 * 3]);[m
[32m+[m
[32m+[m[32mI chose the second representation, because it makes it much easier to[m
[32m+[m[32minitialise the array. new Array(x) produces a new array of length x, filled with[m
[32m+[m[32mundefined values.[m
[32m+[m
[32m+[m[32m   function Grid(width, height) {[m
[32m+[m[32m       this.width = width;[m
[32m+[m[32m       this.height = height;[m
[32m+[m[32m       this.cells = new Array(width * height);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   Grid.prototype.valueAt = function(point) {[m
[32m+[m
[32m+[m[32m       return this.cells[point.y * this.width + point.x];[m
[32m+[m[32m   };[m
[32m+[m[32m   Grid.prototype.setValueAt = function(point, value) {[m
[32m+[m
[32m+[m[32m       this.cells[point.y * this.width + point.x] = value;[m
[32m+[m[32m   };[m
[32m+[m[32m   Grid.prototype.isInside = function(point) {[m
[32m+[m
[32m+[m[32m       return point.x >= 0 && point.y >= 0 &&[m
[32m+[m[32m                   point.x < this.width && point.y < this.height;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32m   Grid.prototype.moveValue = function(from, to) {[m
[32m+[m
[32m+[m[32m       this.setValueAt(to, this.valueAt(from));[m
[32m+[m[32m                  this.setValueAt(from, undefined);[m
[32m+[m[32m               };[m
[32m+[m
[32m+[m[32mEx. 8.2 We will also need to go over all the elements of the grid, to find the bugs we[m
[32m+[m[32m          need to move, or to convert the whole thing to a string. To make this easy,[m
[32m+[m[32m          we can use a higher-order function that takes an action as its argument. Add[m
[32m+[m[32m          the method each to the prototype of Grid, which takes a function of two[m
[32m+[m[32m          arguments as its argument. It calls this function for every point on the grid,[m
[32m+[m[32m          giving it the point object for that point as its first argument, and the value[m
[32m+[m[32m          that is on the grid at that point as second argument.[m
[32m+[m
[32m+[m[32m          Go over the points starting at 0,0, one row at a time, so that 1,0 is handled[m
[32m+[m[32m          before 0,1. This will make it easier to write the toString function of the[m
[32m+[m[32m          terrarium later. (Hint: Put a for loop for the x coordinate inside a loop for the[m
[32m+[m[32m          y coordinate.)[m
[32m+[m
[32m+[m[32m          It is advisable not to muck about in the cells property of the grid object[m
[32m+[m[32m          directly, but use valueAt to get at the values. This way, if we decide (for some[m
[32m+[m[32m          reason) to use a different method for storing the values, we only have to[m
[32m+[m[32m          rewrite valueAt and setValueAt, and the other methods can stay untouched.[m
[32m+[m
[32m+[m[32m              Grid.prototype.each = function(action) {[m
[32m+[m[32m                  for (var y = 0; y < this.height; y++) {[m
[32m+[m[32m                      for (var x = 0; x < this.width; x++) {[m
[32m+[m[32m                         var point = new Point(x, y);[m
[32m+[m[32m                         action(point, this.valueAt(point));[m
[32m+[m[32m                      }[m
[32m+[m[32m                  }[m
[32m+[m
[32m+[m[32m              };[m
[32m+[m
[32m+[m[32m          Finally, to test the grid:[m
[32m+[m
[32m+[m[32m               var testGrid = new Grid(3, 2);[m
[32m+[m[32m               testGrid.setValueAt(new Point(1, 0), "#");[m
[32m+[m[32m               testGrid.setValueAt(new Point(1, 1), "o");[m
[32m+[m[32m               testGrid.each(function(point, value) {[m
[32m+[m
[32m+[m[32m                  print(point.x, ",", point.y, ": ", value);[m
[32m+[m[32m               });[m
[32m+[m
[32m+[m[32m          Before we can start to write a Terrarium constructor, we will have to get a bit[m
[32m+[m[32m          more specific about these 'bug objects' that will be living inside it. Earlier, I[m
[32m+[m[32m          mentioned that the terrarium will ask the bugs what action they want to take.[m
[32m+[m[32m          This will work as follows: Each bug object has an act method which, when[m
[32m+[m[32m          called, returns an 'action'. An action is an object with a type property, which[m
[32m+[m[32m          names the type of action the bug wants to take, for example "move". For most[m
[32m+[m[32m          actions, the action also contains extra information, such as the direction the[m
[32m+[m[32m          bug wants to go.[m
[32m+[m
[32m+[m[32m          Bugs are terribly myopic, they can only see the squares directly around them[m
[32m+[m[32m          on the grid. But these they can use to base their action on. When the act[m
[32m+[m[32m          method is called, it is given an object with information about the surroundings[m
[32m+[m[32m          of the bug in question. For each of the eight directions, it contains a property.[m
[32m+[m[32mThe property indicating what is above of the bug is called "n", for North, the[m
[32m+[m[32mone indicating what is above and to the left "ne", for North-East, and so on.[m
[32m+[m[32mTo look up the direction these names refer to, the following dictionary object[m
[32m+[m[32mis useful:[m
[32m+[m
[32m+[m[32m   var directions = new Dictionary([m
[32m+[m[32m       {"n": new Point( 0, -1),[m
[32m+[m[32m         "ne": new Point( 1, -1),[m
[32m+[m[32m         "e": new Point( 1, 0),[m
[32m+[m[32m         "se": new Point( 1, 1),[m
[32m+[m[32m         "s": new Point( 0, 1),[m
[32m+[m[32m         "sw": new Point(-1, 1),[m
[32m+[m[32m         "w": new Point(-1, 0),[m
[32m+[m[32m         "nw": new Point(-1, -1)});[m
[32m+[m
[32m+[m[32m   show(new Point(4, 4).add(directions.lookup("se")));[m
[32m+[m
[32m+[m[32mWhen a bug decides to move, he indicates in which direction he wants to go[m
[32m+[m[32mby giving the resulting action object a direction property that names one of[m
[32m+[m[32mthese directions. We can make a simple, stupid bug that always just goes[m
[32m+[m[32msouth, 'towards the light', like this:[m
[32m+[m
[32m+[m[32m   function StupidBug() {};[m
[32m+[m[32m   StupidBug.prototype.act = function(surroundings) {[m
[32m+[m
[32m+[m[32m       return {type: "move", direction: "s"};[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mNow we can start on the Terrarium object type itself. First, its constructor,[m
[32m+[m[32mwhich takes a plan (an array of strings) as argument, and initialises its grid.[m
[32m+[m
[32m+[m[32m   var wall = {};[m
[32m+[m
[32m+[m[32m   function Terrarium(plan) {[m
[32m+[m[32m       var grid = new Grid(plan[0].length, plan.length);[m
[32m+[m[32m       for (var y = 0; y < plan.length; y++) {[m
[32m+[m[32m          var line = plan[y];[m
[32m+[m[32m          for (var x = 0; x < line.length; x++) {[m
[32m+[m[32m              grid.setValueAt(new Point(x, y),[m
[32m+[m[32m                                           elementFromCharacter(line.charAt(x)));[m
[32m+[m[32m          }[m
[32m+[m[32m       }[m
[32m+[m[32m       this.grid = grid;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function elementFromCharacter(character) {[m
[32m+[m[32m       if (character == " ")[m
[32m+[m[32m          return undefined;[m
[32m+[m[32m       else if (character == "#")[m
[32m+[m[32m          return wall;[m
[32m+[m[32m       else if (character == "o")[m
[32m+[m[32m          return new StupidBug();[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mwall is an object that is used to mark the location of walls on the grid. Like a[m
[32m+[m[32mreal wall, it doesn't do much, it just sits there and takes up space.[m
[32m+[m
[32m+[m[32mThe most straightforward method of a terrarium object is toString, which[m
[32m+[m[32m         transforms a terrarium into a string. To make this easier, we mark both the[m
[32m+[m[32m         wall and the prototype of the StupidBug with a property character, which[m
[32m+[m[32m         holds the character that represents them.[m
[32m+[m
[32m+[m[32m            wall.character = "#";[m
[32m+[m[32m            StupidBug.prototype.character = "o";[m
[32m+[m
[32m+[m[32m            function characterFromElement(element) {[m
[32m+[m[32m                if (element == undefined)[m
[32m+[m[32m                   return " ";[m
[32m+[m[32m                else[m
[32m+[m[32m                   return element.character;[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            show(characterFromElement(wall));[m
[32m+[m
[32m+[m[32mEx. 8.3  Now we can use the each method of the Grid object to build up a string. But[m
[32m+[m[32m         to make the result readable, it would be nice to have a newline at the end of[m
[32m+[m[32m         every row. The x coordinate of the positions on the grid can be used to[m
[32m+[m[32m         determine when the end of a line is reached. Add a method toString, which[m
[32m+[m[32m         takes no arguments and returns a string which, when given to print, shows a[m
[32m+[m[32m         nice two-dimensional view of the terrarium.[m
[32m+[m
[32m+[m[32m            Terrarium.prototype.toString = function() {[m
[32m+[m[32m                var characters = [];[m
[32m+[m[32m                var endOfLine = this.grid.width - 1;[m
[32m+[m[32m                this.grid.each(function(point, value) {[m
[32m+[m[32m                   characters.push(characterFromElement(value));[m
[32m+[m[32m                   if (point.x == endOfLine)[m
[32m+[m[32m                       characters.push("\n");[m
[32m+[m[32m                });[m
[32m+[m[32m                return characters.join("");[m
[32m+[m
[32m+[m[32m            };[m
[32m+[m
[32m+[m[32m         And to try it out...[m
[32m+[m
[32m+[m[32m         var terrarium = new Terrarium(thePlan);[m
[32m+[m[32m         print(terrarium.toString());[m
[32m+[m
[32m+[m[32m         It is possible that, when trying to solve the above exercise, you have tried to[m
[32m+[m[32m         access this.grid inside the function that you pass as an argument to the[m
[32m+[m[32m         grid's each method. This will not work. Calling a function always results in a[m
[32m+[m[32m         new this being defined inside that function, even when it is not used as a[m
[32m+[m[32m         method. Thus, any this variable outside of the function will not be visible.[m
[32m+[m
[32m+[m[32m         Sometimes it is straightforward to work around this by storing the information[m
[32m+[m[32m         you need in a variable, like endOfLine, which is visible in the inner function. If[m
[32m+[m[32m         you need access to the whole this object, you can store that in a variable[m
[32m+[m[32m         too. The name self (or that) is often used for such a variable.[m
[32m+[m
[32m+[m[32m         But all these extra variables can get messy. Another good solution is to use a[m
[32m+[m[32m         function similar to partial from chapter 6. Instead of adding arguments to a[m
[32m+[m[32m         function, this one adds a this object, using the first argument to the[m
[32m+[m[32m         function's apply method:[m
[32m+[m[32m               function bind(func, object) {[m
[32m+[m[32m                  return function(){[m
[32m+[m[32m                      return func.apply(object, arguments);[m
[32m+[m[32m                  };[m
[32m+[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m               var testArray = [];[m
[32m+[m[32m               var pushTest = bind(testArray.push, testArray);[m
[32m+[m[32m               pushTest("A");[m
[32m+[m[32m               pushTest("B");[m
[32m+[m[32m               show(testArray);[m
[32m+[m
[32m+[m[32m          This way, you can bind an inner function to this, and it will have the same[m
[32m+[m[32m          this as the outer function.[m
[32m+[m
[32m+[m[32mEx. 8.4 In the expression bind(testArray.push, testArray) the name testArray still[m
[32m+[m[32m          occurs twice. Can you design a function method, which allows you to bind an[m
[32m+[m[32m         object to one of its methods without naming the object twice?[m
[32m+[m
[32m+[m[32m          Is possible to give the name of the method as a string. This way, the method[m
[32m+[m[32m          function can look up the correct function value for itself.[m
[32m+[m
[32m+[m[32m              function method(object, name) {[m
[32m+[m[32m                  return function() {[m
[32m+[m[32m                      object[name].apply(object, arguments);[m
[32m+[m[32m                  };[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              var pushTest = method(testArray, "push");[m
[32m+[m
[32m+[m[32m          We will need bind (or method) when implementing the step method of a[m
[32m+[m[32m          terrarium. This method has to go over all the bugs on the grid, ask them for[m
[32m+[m[32m          an action, and execute the given action. You might be tempted to use each on[m
[32m+[m[32m          the grid, and just handle the bugs we come across. But then, when a bug[m
[32m+[m[32m          moves South or East, we will come across it again in the same turn, and allow[m
[32m+[m[32m          it to move again.[m
[32m+[m
[32m+[m[32m          Instead, we first gather all the bugs into an array, and then process them.[m
[32m+[m[32m          This method gathers bugs, or other things that have an act method, and[m
[32m+[m[32m          stores them in objects that also contain their current position:[m
[32m+[m
[32m+[m[32m               Terrarium.prototype.listActingCreatures = function() {[m
[32m+[m[32m                  var found = [];[m
[32m+[m[32m                  this.grid.each(function(point, value) {[m
[32m+[m[32m                      if (value != undefined && value.act)[m
[32m+[m[32m                         found.push({object: value, point: point});[m
[32m+[m[32m                  });[m
[32m+[m[32m                  return found;[m
[32m+[m
[32m+[m[32m               };[m
[32m+[m
[32m+[m[32mEx. 8.5 When asking a bug to act, we must pass it an object with information about[m
[32m+[m[32m          its current surroundings. This object will use the direction names we saw[m
[32m+[m[32m          earlier ("n", "ne", etcetera) as property names. Each property holds a string[m
[32m+[m[32mof one character, as returned by characterFromElement, indicating what the[m
[32m+[m[32mbug can see in that direction.[m
[32m+[m
[32m+[m[32mAdd a method listSurroundings to the Terrarium prototype. It takes one[m
[32m+[m[32margument, the point at which the bug is currently standing, and returns an[m
[32m+[m[32mobject with information about the surroundings of that point. When the point[m
[32m+[m[32mis at the edge of the grid, use "#" for the directions that go outside of the[m
[32m+[m[32mgrid, so the bug will not try to move there.[m
[32m+[m
[32m+[m[32mHint: Do not write out all the directions, use the each method on the[m
[32m+[m[32mdirections dictionary.[m
[32m+[m
[32m+[m[32m   Terrarium.prototype.listSurroundings = function(center) {[m
[32m+[m[32m       var result = {};[m
[32m+[m[32m       var grid = this.grid;[m
[32m+[m[32m       directions.each(function(name, direction) {[m
[32m+[m[32m          var place = center.add(direction);[m
[32m+[m[32m          if (grid.isInside(place))[m
[32m+[m[32m              result[name] = characterFromElement(grid.valueAt(place));[m
[32m+[m[32m          else[m
[32m+[m[32m              result[name] = "#";[m
[32m+[m[32m       });[m
[32m+[m[32m       return result;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mNote the use of the grid variable to work around the this problem.[m
[32m+[m
[32m+[m[32mBoth above methods are not part of the external interface of a Terrarium[m
[32m+[m[32mobject, they are internal details. Some languages provide ways to explicitly[m
[32m+[m[32mdeclare certain methods and properties 'private', and make it an error to use[m
[32m+[m[32mthem from outside the object. JavaScript does not, so you will have to rely on[m
[32m+[m[32mcomments to describe the interface to an object. Sometimes it can be useful[m
[32m+[m[32mto use some kind of naming scheme to distinguish between external and[m
[32m+[m[32minternal properties, for example by prefixing all internal ones with an[m
[32m+[m[32munderscore ('_'). This will make accidental uses of properties that are not part[m
[32m+[m[32mof an object's interface easier to spot.[m
[32m+[m
[32m+[m[32mNext is one more internal method, the one that will ask a bug for an action[m
[32m+[m[32mand carry it out. It takes an object with object and point properties, as[m
[32m+[m[32mreturned by listActingCreatures, as argument. For now, it only knows about[m
[32m+[m[32mthe "move" action:[m
[32m+[m
[32m+[m[32m   Terrarium.prototype.processCreature = function(creature) {[m
[32m+[m[32m       var surroundings = this.listSurroundings(creature.point);[m
[32m+[m[32m       var action = creature.object.act(surroundings);[m
[32m+[m[32m       if (action.type == "move" && directions.contains(action.direction)) {[m
[32m+[m[32m           var to = creature.point.add(directions.lookup(action.direction));[m
[32m+[m[32m           if (this.grid.isInside(to) && this.grid.valueAt(to) == undefined)[m
[32m+[m[32m              this.grid.moveValue(creature.point, to);[m
[32m+[m[32m       }[m
[32m+[m[32m       else {[m
[32m+[m[32m           throw new Error("Unsupported action: " + action.type);[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32mNote that it checks whether the chosen direction is inside of the grid and[m
[32m+[m[32mempty, and ignores it otherwise. This way, the bugs can ask for any action[m
[32m+[m[32mthey like â€• the action will only be carried out if it is actually possible. This acts[m
[32m+[m[32mas a layer of insulation between the bugs and the terrarium, and allows us to[m
[32m+[m[32mbe less precise when writing the bugs' act methods â€• for example the[m
[32m+[m[32mStupidBug just always travels South, regardless of any walls that might stand[m
[32m+[m[32min its way.[m
[32m+[m
[32m+[m[32mThese three internal methods then finally allow us to write the step method,[m
[32m+[m[32mwhich gives all bugs a chance to do something (all elements with an act[m
[32m+[m[32mmethod â€• we could also give the wall object one if we so desired, and make[m
[32m+[m[32mthe walls walk).[m
[32m+[m
[32m+[m[32m   Terrarium.prototype.step = function() {[m
[32m+[m[32m       forEach(this.listActingCreatures(),[m
[32m+[m[32m                     bind(this.processCreature, this));[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mNow, let us make a terrarium and see whether the bugs move...[m
[32m+[m
[32m+[m[32m   var terrarium = new Terrarium(thePlan);[m
[32m+[m[32m   print(terrarium);[m
[32m+[m[32m   terrarium.step();[m
[32m+[m[32m   print(terrarium);[m
[32m+[m
[32m+[m[32mWait, how come the above calls print(terrarium) and ends up displaying the[m
[32m+[m[32moutput of our toString method? print turns its arguments to strings using the[m
[32m+[m[32mString function. Objects are turned to strings by calling their toString method,[m
[32m+[m[32mso giving your own object types a meaningful toString is a good way to make[m
[32m+[m[32mthem readable when printed out.[m
[32m+[m
[32m+[m[32m   Point.prototype.toString = function() {[m
[32m+[m[32m       return "(" + this.x + "," + this.y + ")";[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32m   print(new Point(5, 5));[m
[32m+[m
[32m+[m[32mAs promised, Terrarium objects also get start and stop methods to start or[m
[32m+[m[32mstop their simulation. For this, we will use two functions provided by the[m
[32m+[m[32mbrowser, called setInterval and clearInterval. The first is used to cause its[m
[32m+[m[32mfirst argument (a function, or a string containing JavaScript code) to be[m
[32m+[m[32mexecuted periodically. Its second argument gives the amount of milliseconds[m
[32m+[m[32m(1/1000 second) between invocations. It returns a value that can be given to[m
[32m+[m[32mclearInterval to stop its effect.[m
[32m+[m
[32m+[m[32m   var annoy = setInterval(function() {print("What?");}, 400);[m
[32m+[m
[32m+[m[32mAnd...[m
[32m+[m
[32m+[m[32m   clearInterval(annoy);[m
[32m+[m
[32m+[m[32mThere are similar functions for one-shot time-based actions. setTimeout causes[m
[32m+[m[32ma function or string to be executed after a given amount of milliseconds, and[m
[32m+[m[32mclearTimeout cancels such an action.[m
[32m+[m
[32m+[m[32m   Terrarium.prototype.start = function() {[m
[32m+[m[32m       if (!this.running)[m
[32m+[m[32m          this.running = setInterval(bind(this.step, this), 500);[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   Terrarium.prototype.stop = function() {[m
[32m+[m[32m       if (this.running) {[m
[32m+[m[32m          clearInterval(this.running);[m
[32m+[m[32m          this.running = null;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mNow we have a terrarium with some simple-minded bugs, and we can run it.[m
[32m+[m[32mBut to see what is going on, we have to repeatedly do print(terrarium), or[m
[32m+[m[32mwe won't see what is going on. That is not very practical. It would be nicer if[m
[32m+[m[32mit would print automatically. It would also look better if, instead of printing a[m
[32m+[m[32mthousand terraria below each other, we could update a single printout of the[m
[32m+[m[32mterrarium. For that second problem, this page conveniently provides a function[m
[32m+[m[32mcalled inPlacePrinter. It returns a function like print which, instead of adding[m
[32m+[m[32mto the output, replaces its previous output.[m
[32m+[m
[32m+[m[32m   var printHere = inPlacePrinter();[m
[32m+[m[32m   printHere("Now you see it.");[m
[32m+[m[32m   setTimeout(partial(printHere, "Now you don't."), 1000);[m
[32m+[m
[32m+[m[32mTo cause the terrarium to be re-printed every time it changes, we can modify[m
[32m+[m[32mthe step method as follows:[m
[32m+[m
[32m+[m[32m   Terrarium.prototype.step = function() {[m
[32m+[m[32m       forEach(this.listActingCreatures(),[m
[32m+[m[32m                     bind(this.processCreature, this));[m
[32m+[m[32m       if (this.onStep)[m
[32m+[m[32m          this.onStep();[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mNow, when an onStep property has been added to a terrarium, it will be called[m
[32m+[m[32mon every step.[m
[32m+[m
[32m+[m[32m   var terrarium = new Terrarium(thePlan);[m
[32m+[m[32m   terrarium.onStep = partial(inPlacePrinter(), terrarium);[m
[32m+[m[32m   terrarium.start();[m
[32m+[m
[32m+[m[32mNote the use of partial â€• it produces an in-place printer applied to the[m
[32m+[m[32mterrarium. Such a printer only takes one argument, so after partially applying[m
[32m+[m[32mit there are no arguments left, and it becomes a function of zero arguments.[m
[32m+[m[32mThat is exactly what we need for the onStep property.[m
[32m+[m
[32m+[m[32mDon't forget to stop the terrarium when it is no longer interesting (which[m
[32m+[m[32mshould be pretty soon), so that it does not keep wasting your computer's[m
[32m+[m[32mresources:[m
[32m+[m[32m   terrarium.stop();[m
[32m+[m
[32m+[m[32mBut who wants a terrarium with just one kind of bug, and a stupid bug at[m
[32m+[m[32mthat? Not me. It would be nice if we could add different kinds of bugs.[m
[32m+[m[32mFortunately, all we have to is to make the elementFromCharacter function more[m
[32m+[m[32mgeneral. Right now it contains three cases which are typed in directly, or[m
[32m+[m[32m'hard-coded':[m
[32m+[m
[32m+[m[32m   function elementFromCharacter(character) {[m
[32m+[m[32m       if (character == " ")[m
[32m+[m[32m          return undefined;[m
[32m+[m[32m       else if (character == "#")[m
[32m+[m[32m          return wall;[m
[32m+[m[32m       else if (character == "o")[m
[32m+[m[32m          return new StupidBug();[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThe first two cases we can leave intact, but the last one is way too specific. A[m
[32m+[m[32mbetter approach would be to store the characters and the corresponding[m
[32m+[m[32mbug-constructors in a dictionary, and look for them there:[m
[32m+[m
[32m+[m[32m   var creatureTypes = new Dictionary();[m
[32m+[m[32m   creatureTypes.register = function(constructor) {[m
[32m+[m
[32m+[m[32m       this.store(constructor.prototype.character, constructor);[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   function elementFromCharacter(character) {[m
[32m+[m[32m       if (character == " ")[m
[32m+[m[32m          return undefined;[m
[32m+[m[32m       else if (character == "#")[m
[32m+[m[32m          return wall;[m
[32m+[m[32m       else if (creatureTypes.contains(character))[m
[32m+[m[32m          return new (creatureTypes.lookup(character))();[m
[32m+[m[32m       else[m
[32m+[m[32m          throw new Error("Unknown character: " + character);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mNote how the register method is added to creatureTypes â€• this is a dictionary[m
[32m+[m[32mobject, but there is no reason why it shouldn't support an additional method.[m
[32m+[m[32mThis method looks up the character associated with a constructor, and stores[m
[32m+[m[32mit in the dictionary. It should only be called on constructors whose prototype[m
[32m+[m[32mdoes actually have a character property.[m
[32m+[m
[32m+[m[32melementFromCharacter now looks up the character it is given in creatureTypes,[m
[32m+[m[32mand raises an exception when it comes across an unknown character.[m
[32m+[m
[32m+[m[32mHere is a new bug type, and the call to register its character in creatureTypes:[m
[32m+[m
[32m+[m[32m   function BouncingBug() {[m
[32m+[m[32m       this.direction = "ne";[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   BouncingBug.prototype.act = function(surroundings) {[m
[32m+[m
[32m+[m[32m       if (surroundings[this.direction] != " ")[m
[32m+[m[32m          this.direction = (this.direction == "ne" ? "sw" : "ne");[m
[32m+[m
[32m+[m[32m       return {type: "move", direction: this.direction};[m
[32m+[m[32m               };[m
[32m+[m[32m               BouncingBug.prototype.character = "%";[m
[32m+[m
[32m+[m[32m               creatureTypes.register(BouncingBug);[m
[32m+[m
[32m+[m[32m          Can you figure out what it does?[m
[32m+[m
[32m+[m[32mEx. 8.6 Create a bug type called DrunkBug which tries to move in a random direction[m
[32m+[m[32m          every turn, never mind whether there is a wall there. Remember the[m
[32m+[m[32m          Math.random trick from chapter 7.[m
[32m+[m
[32m+[m[32m          To pick a random direction, we will need an array of direction names. We[m
[32m+[m[32m          could of course just type ["n", "ne", ...], but that duplicates information,[m
[32m+[m[32m          and duplicated information makes me nervous. We could also use the each[m
[32m+[m[32m          method in directions to build the array, which is better already.[m
[32m+[m
[32m+[m[32m          But there is clearly a generality to be discovered here. Getting a list of the[m
[32m+[m[32m          property names in a dictionary sounds like a useful tool to have, so we add it[m
[32m+[m[32m          to the Dictionary prototype.[m
[32m+[m
[32m+[m[32m              Dictionary.prototype.names = function() {[m
[32m+[m[32m                  var names = [];[m
[32m+[m[32m                  this.each(function(name, value) {names.push(name);});[m
[32m+[m[32m                  return names;[m
[32m+[m
[32m+[m[32m              };[m
[32m+[m
[32m+[m[32m              show(directions.names());[m
[32m+[m
[32m+[m[32m          A real neurotic programmer would immediately restore symmetry by also[m
[32m+[m[32m          adding a values method, which returns a list of the values stored in the[m
[32m+[m[32m          dictionary. But I guess that can wait until we need it.[m
[32m+[m
[32m+[m[32m          Here is a way to take a random element from an array:[m
[32m+[m
[32m+[m[32m              function randomElement(array) {[m
[32m+[m[32m                  if (array.length == 0)[m
[32m+[m[32m                      throw new Error("The array is empty.");[m
[32m+[m[32m                  return array[Math.floor(Math.random() * array.length)];[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m
[32m+[m[32m              show(randomElement(["heads", "tails"]));[m
[32m+[m
[32m+[m[32m          And the bug itself:[m
[32m+[m
[32m+[m[32m              function DrunkBug() {};[m
[32m+[m[32m              DrunkBug.prototype.act = function(surroundings) {[m
[32m+[m
[32m+[m[32m                  return {type: "move",[m
[32m+[m[32m                                direction: randomElement(directions.names())};[m
[32m+[m
[32m+[m[32m              };[m
[32m+[m[32m              DrunkBug.prototype.character = "~";[m
[32m+[m
[32m+[m[32m              creatureTypes.register(DrunkBug);[m
[32m+[m
[32m+[m[32m          So, let us test out our new bugs:[m
[32m+[m[32mvar newPlan =[m
[32m+[m
[32m+[m[32m["############################",[m
[32m+[m
[32m+[m[32m"#                           #####",[m
[32m+[m
[32m+[m[32m"# ##                        ####",[m
[32m+[m
[32m+[m[32m"# ####        ~~            ##",[m
[32m+[m
[32m+[m[32m"# ##              ~         #",[m
[32m+[m
[32m+[m[32m"#                           #",[m
[32m+[m
[32m+[m[32m"#                    ###    #",[m
[32m+[m
[32m+[m[32m"#                    #####  #",[m
[32m+[m
[32m+[m[32m"#                    ###    #",[m
[32m+[m
[32m+[m[32m"# %           ###           % #",[m
[32m+[m
[32m+[m[32m"#       #######             #",[m
[32m+[m
[32m+[m[32m"############################"];[m
[32m+[m
[32m+[m[32mvar terrarium = new Terrarium(newPlan);[m
[32m+[m[32mterrarium.onStep = partial(inPlacePrinter(), terrarium);[m
[32m+[m[32mterrarium.start();[m
[32m+[m
[32m+[m[32mNotice the bouncing bugs bouncing off the drunk ones? Pure drama. Anyway,[m
[32m+[m[32mwhen you are done watching this fascinating show, shut it down:[m
[32m+[m
[32m+[m[32mterrarium.stop();[m
[32m+[m
[32m+[m[32mWe now have two kinds of objects that both have an act method and a[m
[32m+[m[32mcharacter property. Because they share these traits, the terrarium can[m
[32m+[m[32mapproach them in the same way. This allows us to have all kinds of bugs,[m
[32m+[m[32mwithout changing anything about the terrarium code. This technique is called[m
[32m+[m[32mpolymorphism, and it is arguably the most powerful aspect of object-oriented[m
[32m+[m[32mprogramming.[m
[32m+[m
[32m+[m[32mThe basic idea of polymorphism is that when a piece of code is written to[m
[32m+[m[32mwork with objects that have a certain interface, any kind of object that[m
[32m+[m[32mhappens to support this interface can be plugged into the code, and it will just[m
[32m+[m[32mwork. We already saw simple examples of this, like the toString method on[m
[32m+[m[32mobjects. All objects that have a meaningful toString method can be given to[m
[32m+[m[32mprint and other functions that need to convert values to strings, and the[m
[32m+[m[32mcorrect string will be produced, no matter how their toString method chooses[m
[32m+[m[32mto build this string.[m
[32m+[m
[32m+[m[32mSimilarly, forEach works on both real arrays and the pseudo-arrays found in[m
[32m+[m[32mthe arguments variable, because all it needs is a length property and properties[m
[32m+[m[32mcalled 0, 1, and so on, for the elements of the array.[m
[32m+[m
[32m+[m[32mTo make life in the terrarium more life-like, we will add to it the concepts of[m
[32m+[m[32mfood and reproduction. Each living thing in the terrarium gets a new property,[m
[32m+[m[32menergy, which is reduced by performing actions, and increased by eating[m
[32m+[m[32mthings. When it has enough energy, a thing can reproduce2, generating a new[m
[32m+[m[32mcreature of the same kind.[m
[32m+[m
[32m+[m[32mIf there are only bugs, wasting energy by moving around and eating each[m
[32m+[m[32mother, a terrarium will soon succumb to the forces of entropy, run out of[m
[32m+[m[32menergy, and become a lifeless wasteland. To prevent this from happening (too[m
[32m+[m[32mquickly, at least), we add lichen to the terrarium. Lichen do not move, they[m
[32m+[m[32mjust use photo-synthesis to gather energy, and reproduce.[m
[32m+[m[32mTo make this work, we will need a terrarium with a different processCreature[m
[32m+[m[32mmethod. We could just replace the method of to the Terrarium prototype, but[m
[32m+[m[32mwe have become very attached to the simulation of the bouncing and drunk[m
[32m+[m[32mbugs, and we would hate to break our old terrarium.[m
[32m+[m
[32m+[m[32mWhat we can do is create a new constructor, LifeLikeTerrarium, whose[m
[32m+[m[32mprototype is based on the Terrarium prototype, but which has a different[m
[32m+[m[32mprocessCreature method.[m
[32m+[m
[32m+[m[32mThere are a few ways to do this. We could go over the properties of[m
[32m+[m[32mTerrarium.prototype, and add them one by one to[m
[32m+[m[32mLifeLikeTerrarium.prototype. This is easy to do, and in some cases it is the[m
[32m+[m[32mbest solution, but in this case there is a cleaner way. If we make the old[m
[32m+[m[32mprototype object the prototype of the new prototype object (you may have to[m
[32m+[m[32mre-read that a few times), it will automatically have all its properties.[m
[32m+[m
[32m+[m[32mUnfortunately, JavaScript does not have a straightforward way to create an[m
[32m+[m[32mobject whose prototype is a certain other object. It is possible to write a[m
[32m+[m[32mfunction that does this, though, by using the following trick:[m
[32m+[m
[32m+[m[32m   function clone(object) {[m
[32m+[m[32m       function OneShotConstructor(){}[m
[32m+[m[32m       OneShotConstructor.prototype = object;[m
[32m+[m[32m       return new OneShotConstructor();[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThis function uses an empty one-shot constructor, whose prototype is the[m
[32m+[m[32mgiven object. When using new on this constructor, it will create a new object[m
[32m+[m[32mbased on the given object.[m
[32m+[m
[32m+[m[32m   function LifeLikeTerrarium(plan) {[m
[32m+[m[32m       Terrarium.call(this, plan);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   LifeLikeTerrarium.prototype = clone(Terrarium.prototype);[m
[32m+[m[32m   LifeLikeTerrarium.prototype.constructor = LifeLikeTerrarium;[m
[32m+[m
[32m+[m[32mThe new constructor doesn't need to do anything different from the old one,[m
[32m+[m[32mso it just calls the old one on the this object. We also have to restore the[m
[32m+[m[32mconstructor property in the new prototype, or it would claim its constructor is[m
[32m+[m[32mTerrarium (which, of course, is only really a problem when we make use of[m
[32m+[m[32mthis property, which we don't).[m
[32m+[m
[32m+[m[32mIt is now possible to replace some of the methods of the LifeLikeTerrarium[m
[32m+[m[32mobject, or add new ones. We have based a new object type on an old one,[m
[32m+[m[32mwhich saved us the work of re-writing all the methods which are the same in[m
[32m+[m[32mTerrarium and LifeLikeTerrarium. This technique is called 'inheritance'. The[m
[32m+[m[32mnew type inherits the properties of the old type. In most cases, this means[m
[32m+[m[32mthe new type will still support the interface of the old type, though it might[m
[32m+[m[32malso support a few methods that the old type does not have. This way,[m
[32m+[m[32mobjects of the new type can be (polymorphically) used in all the places where[m
[32m+[m[32mobjects of the old type could be used.[m
[32m+[m
[32m+[m[32mIn most programming languages with explicit support for object-oriented[m
[32m+[m[32mprogramming, inheritance is a very straightforward thing. In JavaScript, the[m
[32m+[m[32mlanguage doesn't really specify a simple way to do it. Because of this,[m
[32m+[m[32mJavaScript programmers have invented many different approaches to[m
[32m+[m[32minheritance. Unfortunately, none of them is quite perfect. Fortunately, such a[m
[32m+[m[32mbroad range of approaches allows a programmer to choose the most suitable[m
[32m+[m[32mone for the problem he is solving, and allows certain tricks that would be[m
[32m+[m[32mutterly impossible in other languages.[m
[32m+[m
[32m+[m[32mAt the end of this chapter, I will show a few other ways to do inheritance, and[m
[32m+[m[32mthe issues they have.[m
[32m+[m
[32m+[m[32mHere is the new processCreature method. It is big.[m
[32m+[m
[32m+[m[32m   LifeLikeTerrarium.prototype.processCreature = function(creature) {[m
[32m+[m[32m       var surroundings = this.listSurroundings(creature.point);[m
[32m+[m[32m       var action = creature.object.act(surroundings);[m
[32m+[m
[32m+[m[32m       var target = undefined;[m
[32m+[m[32m       var valueAtTarget = undefined;[m
[32m+[m[32m       if (action.direction && directions.contains(action.direction)) {[m
[32m+[m
[32m+[m[32m          var direction = directions.lookup(action.direction);[m
[32m+[m[32m          var maybe = creature.point.add(direction);[m
[32m+[m[32m          if (this.grid.isInside(maybe)) {[m
[32m+[m
[32m+[m[32m              target = maybe;[m
[32m+[m[32m              valueAtTarget = this.grid.valueAt(target);[m
[32m+[m[32m          }[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       if (action.type == "move") {[m
[32m+[m[32m          if (target && !valueAtTarget) {[m
[32m+[m[32m              this.grid.moveValue(creature.point, target);[m
[32m+[m[32m              creature.point = target;[m
[32m+[m[32m              creature.object.energy -= 1;[m
[32m+[m[32m          }[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       else if (action.type == "eat") {[m
[32m+[m
[32m+[m[32m          if (valueAtTarget && valueAtTarget.energy) {[m
[32m+[m[32m              this.grid.setValueAt(target, undefined);[m
[32m+[m[32m              creature.object.energy += valueAtTarget.energy;[m
[32m+[m
[32m+[m[32m          }[m
[32m+[m[32m       }[m
[32m+[m[32m       else if (action.type == "photosynthese") {[m
[32m+[m
[32m+[m[32m          creature.object.energy += 1;[m
[32m+[m[32m       }[m
[32m+[m[32m       else if (action.type == "reproduce") {[m
[32m+[m
[32m+[m[32m          if (target && !valueAtTarget) {[m
[32m+[m[32m              var species = characterFromElement(creature.object);[m
[32m+[m[32m              var baby = elementFromCharacter(species);[m
[32m+[m[32m              creature.object.energy -= baby.energy * 2;[m
[32m+[m[32m              if (creature.object.energy > 0)[m
[32m+[m[32m                  this.grid.setValueAt(target, baby);[m
[32m+[m
[32m+[m[32m          }[m
[32m+[m[32m       }[m
[32m+[m[32m       else if (action.type == "wait") {[m
[32m+[m
[32m+[m[32m          creature.object.energy -= 0.2;[m
[32m+[m[32m       }[m
[32m+[m[32m       else {[m
[32m+[m
[32m+[m[32m          throw new Error("Unsupported action: " + action.type);[m
[32m+[m[32m       }[m
[32m+[m[32m       if (creature.object.energy <= 0)[m
[32m+[m[32m          this.grid.setValueAt(creature.point, undefined);[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mThe function still starts by asking the creature for an action. Then, if the[m
[32m+[m[32maction has a direction property, it immediately computes which point on the[m
[32m+[m[32mgrid this direction points to and which value is currently sitting there. Three of[m
[32m+[m[32mthe five supported actions need to know this, and the code would be even[m
[32m+[m[32muglier if they all computed it separately. If there is no direction property, or[m
[32m+[m[32man invalid one, it leaves the variables target and valueAtTarget undefined.[m
[32m+[m
[32m+[m[32mAfter this, it goes over all the actions. Some actions require additional[m
[32m+[m[32mchecking before they are executed, this is done with a separate if so that if a[m
[32m+[m[32mcreature, for example, tries to walk through a wall, we do not generate an[m
[32m+[m[32m"Unsupported action" exception.[m
[32m+[m
[32m+[m[32mNote that, in the "reproduce" action, the parent creature loses twice the[m
[32m+[m[32menergy that the newborn creature gets (childbearing is not easy), and the[m
[32m+[m[32mnew creature is only placed on the grid if the parent had enough energy to[m
[32m+[m[32mproduce it.[m
[32m+[m
[32m+[m[32mAfter the action has been performed, we check whether the creature is out of[m
[32m+[m[32menergy. If it is, it dies, and we remove it.[m
[32m+[m
[32m+[m[32mLichen is not a very complex organism. We will use the character "*" to[m
[32m+[m[32mrepresent it. Make sure you have defined the randomElement function from[m
[32m+[m[32mexercise 8.6, because it is used again here.[m
[32m+[m
[32m+[m[32m   function Lichen() {[m
[32m+[m[32m       this.energy = 5;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   Lichen.prototype.act = function(surroundings) {[m
[32m+[m
[32m+[m[32m       var emptySpace = findDirections(surroundings, " ");[m
[32m+[m[32m       if (this.energy >= 13 && emptySpace.length > 0)[m
[32m+[m
[32m+[m[32m          return {type: "reproduce", direction: randomElement(emptySpace)};[m
[32m+[m[32m       else if (this.energy < 20)[m
[32m+[m
[32m+[m[32m          return {type: "photosynthese"};[m
[32m+[m[32m       else[m
[32m+[m
[32m+[m[32m          return {type: "wait"};[m
[32m+[m[32m   };[m
[32m+[m[32m   Lichen.prototype.character = "*";[m
[32m+[m
[32m+[m[32m   creatureTypes.register(Lichen);[m
[32m+[m
[32m+[m[32m   function findDirections(surroundings, wanted) {[m
[32m+[m[32m       var found = [];[m
[32m+[m[32m       directions.each(function(name) {[m
[32m+[m[32m          if (surroundings[name] == wanted)[m
[32m+[m[32m              found.push(name);[m
[32m+[m[32m       });[m
[32m+[m[32m       return found;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mLichen do not grow bigger than 20 energy, or they would get huge when they[m
[32m+[m[32mare surrounded by other lichen and have no room to reproduce.[m
[32m+[m[32mEx. 8.7 Create a LichenEater creature. It starts with an energy of 10, and behaves in[m
[32m+[m[32m          the following way:[m
[32m+[m
[32m+[m[32m                 When it has an energy of 30 or more, and there is room near it, it[m
[32m+[m[32m                 reproduces.[m
[32m+[m[32m                 Otherwise, if there are lichen nearby, it eats a random one.[m
[32m+[m[32m                 Otherwise, if there is space to move, it moves into a random nearby[m
[32m+[m[32m                 empty square.[m
[32m+[m[32m                 Otherwise, it waits.[m
[32m+[m
[32m+[m[32m          Use findDirections and randomElement to check the surroundings and to pick[m
[32m+[m[32m          directions. Give the lichen-eater "c" as its character (pac-man).[m
[32m+[m
[32m+[m[32m              function LichenEater() {[m
[32m+[m[32m                  this.energy = 10;[m
[32m+[m
[32m+[m[32m              }[m
[32m+[m[32m              LichenEater.prototype.act = function(surroundings) {[m
[32m+[m
[32m+[m[32m                  var emptySpace = findDirections(surroundings, " ");[m
[32m+[m[32m                  var lichen = findDirections(surroundings, "*");[m
[32m+[m
[32m+[m[32m                  if (this.energy >= 30 && emptySpace.length > 0)[m
[32m+[m[32m                      return {type: "reproduce", direction: randomElement(emptySpace)};[m
[32m+[m
[32m+[m[32m                  else if (lichen.length > 0)[m
[32m+[m[32m                      return {type: "eat", direction: randomElement(lichen)};[m
[32m+[m
[32m+[m[32m                  else if (emptySpace.length > 0)[m
[32m+[m[32m                      return {type: "move", direction: randomElement(emptySpace)};[m
[32m+[m
[32m+[m[32m                  else[m
[32m+[m[32m                      return {type: "wait"};[m
[32m+[m
[32m+[m[32m              };[m
[32m+[m[32m              LichenEater.prototype.character = "c";[m
[32m+[m
[32m+[m[32m              creatureTypes.register(LichenEater);[m
[32m+[m
[32m+[m[32mAnd try it out.[m
[32m+[m
[32m+[m[32mvar lichenPlan =[m
[32m+[m
[32m+[m[32m["############################",[m
[32m+[m
[32m+[m[32m"#                          ######",[m
[32m+[m
[32m+[m[32m"# ***                      **##",[m
[32m+[m
[32m+[m[32m"# *##**                    ** c *##",[m
[32m+[m
[32m+[m[32m"# ***              c ##** *#",[m
[32m+[m
[32m+[m[32m"#               c          ##*** *#",[m
[32m+[m
[32m+[m[32m"#                          ##** *#",[m
[32m+[m
[32m+[m[32m"# c                #*      *#",[m
[32m+[m
[32m+[m[32m"#*                 #**     c *#",[m
[32m+[m
[32m+[m[32m"#***               ##** c **#",[m
[32m+[m
[32m+[m[32m"#*****             ###***  *###",[m
[32m+[m
[32m+[m[32m"############################"];[m
[32m+[m
[32m+[m[32mvar terrarium = new LifeLikeTerrarium(lichenPlan);[m
[32m+[m[32mterrarium.onStep = partial(inPlacePrinter(), terrarium);[m
[32m+[m[32mterrarium.start();[m
[32m+[m
[32m+[m[32mMost likely, you will see the lichen quickly over-grow a large part of the[m
[32m+[m[32mterrarium, after which the abundance of food makes the eaters so numerous[m
[32m+[m[32mthat they wipe out all the lichen, and thus themselves. Ah, tragedy of nature.[m
[32m+[m[32m         terrarium.stop();[m
[32m+[m
[32m+[m[32m         Having the inhabitants of your terrarium go extinct after a few minutes is kind[m
[32m+[m[32m         of depressing. To deal with this, we have to teach our lichen-eaters about[m
[32m+[m[32m         long-term sustainable farming. By making them only eat if they see at least[m
[32m+[m[32m         two lichen nearby, no matter how hungry they are, they will never[m
[32m+[m[32m         exterminate the lichen. This requires some discipline, but the result is a[m
[32m+[m[32m         biotope that does not destroy itself. Here is a new act method â€• the only[m
[32m+[m[32m         change is that it now only eats when lichen.length is at least two.[m
[32m+[m
[32m+[m[32m            LichenEater.prototype.act = function(surroundings) {[m
[32m+[m[32m                var emptySpace = findDirections(surroundings, " ");[m
[32m+[m[32m                var lichen = findDirections(surroundings, "*");[m
[32m+[m
[32m+[m[32m                if (this.energy >= 30 && emptySpace.length > 0)[m
[32m+[m[32m                   return {type: "reproduce", direction: randomElement(emptySpace)};[m
[32m+[m
[32m+[m[32m                else if (lichen.length > 1)[m
[32m+[m[32m                   return {type: "eat", direction: randomElement(lichen)};[m
[32m+[m
[32m+[m[32m                else if (emptySpace.length > 0)[m
[32m+[m[32m                   return {type: "move", direction: randomElement(emptySpace)};[m
[32m+[m
[32m+[m[32m                else[m
[32m+[m[32m                   return {type: "wait"};[m
[32m+[m
[32m+[m[32m            };[m
[32m+[m
[32m+[m[32m         Run the above lichenPlan terrarium again, and see how it goes. Unless you[m
[32m+[m[32m         are very lucky, the lichen-eaters will probably still go extinct after a while,[m
[32m+[m[32m         because, in a time of mass starvation, they crawl aimlessly back and forth[m
[32m+[m[32m         through empty space, instead of finding the lichen that is sitting just around[m
[32m+[m[32m         the corner.[m
[32m+[m
[32m+[m[32mEx. 8.8  Find a way to modify the LichenEater to be more likely to survive. Do not[m
[32m+[m[32m         cheat â€• this.energy += 100 is cheating. If you rewrite the constructor, do not[m
[32m+[m[32m         forget to re-register it in the creatureTypes dictionary, or the terrarium will[m
[32m+[m[32m         continue to use the old constructor.[m
[32m+[m
[32m+[m[32m         One approach would be to reduce the randomness of its movement. By[m
[32m+[m[32m         always picking a random direction, it will often move back and forth without[m
[32m+[m[32m         getting anywhere. By remembering the last direction it went, and preferring[m
[32m+[m[32m         that direction, the eater will waste less time, and find food faster.[m
[32m+[m
[32m+[m[32m         function CleverLichenEater() {[m
[32m+[m[32m            this.energy = 10;[m
[32m+[m[32m            this.direction = "ne";[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m         CleverLichenEater.prototype.act = function(surroundings) {[m
[32m+[m
[32m+[m[32m            var emptySpace = findDirections(surroundings, " ");[m
[32m+[m[32m            var lichen = findDirections(surroundings, "*");[m
[32m+[m
[32m+[m[32m            if (this.energy >= 30 && emptySpace.length > 0) {[m
[32m+[m[32m                return {type: "reproduce",[m
[32m+[m[32m                              direction: randomElement(emptySpace)};[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m[32m            else if (lichen.length > 1) {[m
[32m+[m
[32m+[m[32m                return {type: "eat",[m
[32m+[m[32m                              direction: randomElement(lichen)};[m
[32m+[m[32m                }[m
[32m+[m[32m                else if (emptySpace.length > 0) {[m
[32m+[m
[32m+[m[32m                   if (surroundings[this.direction] != " ")[m
[32m+[m[32m                       this.direction = randomElement(emptySpace);[m
[32m+[m
[32m+[m[32m                   return {type: "move",[m
[32m+[m[32m                                  direction: this.direction};[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m[32m                else {[m
[32m+[m
[32m+[m[32m                   return {type: "wait"};[m
[32m+[m[32m                }[m
[32m+[m[32m            };[m
[32m+[m[32m            CleverLichenEater.prototype.character = "c";[m
[32m+[m
[32m+[m[32m            creatureTypes.register(CleverLichenEater);[m
[32m+[m
[32m+[m[32m         Try it out using the previous terrarium-plan.[m
[32m+[m
[32m+[m[32mEx. 8.9  A one-link food chain is still a bit rudimentary. Can you write a new creature,[m
[32m+[m[32m         LichenEaterEater (character "@"), which survives by eating lichen-eaters? Try[m
[32m+[m[32m         to find a way to make it fit in the ecosystem without dying out too quickly.[m
[32m+[m[32m         Modify the lichenPlan array to include a few of these, and try them out.[m
[32m+[m
[32m+[m[32m         You are on your own here. I failed to find a really good way to prevent these[m
[32m+[m[32m         creatures from either going extinct right away or gobbling up all lichen-eaters[m
[32m+[m[32m         and then going extinct. The trick of only eating when it spots two pieces of[m
[32m+[m[32m         food doesn't work very well for them, because their food moves around so[m
[32m+[m[32m         much it is rare to find two in one place. What does seem to help is making[m
[32m+[m[32m         the eater-eater really fat (high energy), so that it can survive times when[m
[32m+[m[32m         lichen-eaters are scarce, and only reproduces slowly, which prevents it from[m
[32m+[m[32m         exterminating its food source too quickly.[m
[32m+[m
[32m+[m[32m         The lichen and eaters go through a periodic movement â€• sometimes lichen[m
[32m+[m[32m         are abundant, which causes a lot of eaters to be born, which causes the[m
[32m+[m[32m         lichen to become scarce, which causes the eaters to starve, which causes the[m
[32m+[m[32m         lichen to become abundant, and so on. You could try to make the lichen-[m
[32m+[m[32m         eater-eaters 'hibernate' (use the "wait" action for a while), when they fail to[m
[32m+[m[32m         find food for a few turns. If you choose the right amount of turns for this[m
[32m+[m[32m         hibernation, or have them wake up automatically when they smell lots of[m
[32m+[m[32m         food, this could be a good strategy.[m
[32m+[m
[32m+[m[32m         That concludes our discussion of terraria. The rest of the chapter is devoted[m
[32m+[m[32m         to a more in-depth look at inheritance, and the problems related to[m
[32m+[m[32m         inheritance in JavaScript.[m
[32m+[m
[32m+[m[32m         First, some theory. Students of object-oriented programming can often be[m
[32m+[m[32m         heard having lengthy, subtle discussions about correct and incorrect uses of[m
[32m+[m[32m         inheritance. It is important to bear in mind that inheritance, in the end, is just[m
[32m+[m[32m         a trick that allows lazy3 programmers to write less code. Thus, the question of[m
[32m+[m[32m         whether inheritance is being used correctly boils down to the question of[m
[32m+[m[32m         whether the resulting code works correctly and avoids useless repetitions.[m
[32m+[m[32m         Still, the principles used by these students provide a good way to start[m
[32m+[m[32m         thinking about inheritance.[m
[32m+[m[32mInheritance is the creation of a new type of objects, the 'sub-type', based on[m
[32m+[m[32man existing type, the 'super-type'. The sub-type starts with all the properties[m
[32m+[m[32mand methods of the super-type, it inherits them, and then modifies a few of[m
[32m+[m[32mthese, and optionally adds new ones. Inheritance is best used when the thing[m
[32m+[m[32mmodelled by the sub-type can be said to be an object of the super-type.[m
[32m+[m
[32m+[m[32mThus, a Piano type could be a sub-type of an Instrument type, because a[m
[32m+[m[32mpiano is an instrument. Because a piano has a whole array of keys, one might[m
[32m+[m[32mbe tempted to make Piano a sub-type of Array, but a piano is no array, and[m
[32m+[m[32mimplementing it like that is bound to lead to all kinds of silliness. For example,[m
[32m+[m[32ma piano also has pedals. Why would piano[0] give me the first key, and not[m
[32m+[m[32mthe first pedal? The situation is, of course, that a piano has keys, so it would[m
[32m+[m[32mbe better to give it a property keys, and possibly another property pedals,[m
[32m+[m[32mboth holding arrays.[m
[32m+[m
[32m+[m[32mIt is possible for a sub-type to be the super-type of yet another sub-type.[m
[32m+[m[32mSome problems are best solved by building a complex family tree of types.[m
[32m+[m[32mYou have to take care not to get too inheritance-happy, though. Overuse of[m
[32m+[m[32minheritance is a great way to make a program into a big ugly mess.[m
[32m+[m
[32m+[m[32mThe working of the new keyword and the prototype property of constructors[m
[32m+[m[32msuggest a certain way of using objects. For simple objects, such as the[m
[32m+[m[32mterrarium-creatures, this way works rather well. Unfortunately, when a[m
[32m+[m[32mprogram starts to make serious use of inheritance, this approach to objects[m
[32m+[m[32mquickly becomes clumsy. Adding some functions to take care of common[m
[32m+[m[32moperations can make things a little smoother. Many people define, for[m
[32m+[m[32mexample, inherit and method methods on objects.[m
[32m+[m
[32m+[m[32m   Object.prototype.inherit = function(baseConstructor) {[m
[32m+[m[32m       this.prototype = clone(baseConstructor.prototype);[m
[32m+[m[32m       this.prototype.constructor = this;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32m   Object.prototype.method = function(name, func) {[m
[32m+[m
[32m+[m[32m       this.prototype[name] = func;[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   function StrangeArray(){}[m
[32m+[m[32m   StrangeArray.inherit(Array);[m
[32m+[m[32m   StrangeArray.method("push", function(value) {[m
[32m+[m
[32m+[m[32m       Array.prototype.push.call(this, value);[m
[32m+[m[32m       Array.prototype.push.call(this, value);[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32m   var strange = new StrangeArray();[m
[32m+[m[32m   strange.push(4);[m
[32m+[m[32m   show(strange);[m
[32m+[m
[32m+[m[32mIf you search the web for the words 'JavaScript' and 'inheritance', you will[m
[32m+[m[32mcome across scores of different variations on this, some of them quite a lot[m
[32m+[m[32mmore complex and clever than the above.[m
[32m+[m
[32m+[m[32mNote how the push method written here uses the push method from the[m
[32m+[m[32mprototype of its parent type. This is something that is done often when using[m
[32m+[m[32minheritance â€• a method in the sub-type internally uses a method of the[m
[32m+[m[32msuper-type, but extends it somehow.[m
[32m+[m[32mThe biggest problem with this basic approach is the duality between[m
[32m+[m[32mconstructors and prototypes. Constructors take a very central role, they are[m
[32m+[m[32mthe things that give an object type its name, and when you need to get at a[m
[32m+[m[32mprototype, you have to go to the constructor and take its prototype property.[m
[32m+[m
[32m+[m[32mNot only does this lead to a lot of typing ("prototype" is 9 letters), it is also[m
[32m+[m[32mconfusing. We had to write an empty, useless constructor for StrangeArray in[m
[32m+[m[32mthe example above. Quite a few times, I have found myself accidentally[m
[32m+[m[32madding methods to a constructor instead of its prototype, or trying to call[m
[32m+[m[32mArray.slice when I really meant Array.prototype.slice. As far as I am[m
[32m+[m[32mconcerned, the prototype itself is the most important aspect of an object type,[m
[32m+[m[32mand the constructor is just an extension of that, a special kind of method.[m
[32m+[m
[32m+[m[32mWith a few simple helper methods added to Object.prototype, it is possible to[m
[32m+[m[32mcreate an alternative approach to objects and inheritance. In this approach, a[m
[32m+[m[32mtype is represented by its prototype, and we will use capitalised variables to[m
[32m+[m[32mstore these prototypes. When it needs to do any 'constructing' work, this is[m
[32m+[m[32mdone by a method called construct. We add a method called create to the[m
[32m+[m[32mObject prototype, which is used in place of the new keyword. It clones the[m
[32m+[m[32mobject, and calls its construct method, if there is such a method, giving it the[m
[32m+[m[32marguments that were passed to create.[m
[32m+[m
[32m+[m[32m   Object.prototype.create = function() {[m
[32m+[m[32m       var object = clone(this);[m
[32m+[m[32m       if (typeof object.construct == "function")[m
[32m+[m[32m          object.construct.apply(object, arguments);[m
[32m+[m[32m       return object;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mInheritance can be done by cloning a prototype object and adding or replacing[m
[32m+[m[32msome of its properties. We also provide a convenient shorthand for this, an[m
[32m+[m[32mextend method, which clones the object it is applied to and adds to this clone[m
[32m+[m[32mthe properties in the object that it is given as an argument.[m
[32m+[m
[32m+[m[32m   Object.prototype.extend = function(properties) {[m
[32m+[m[32m       var result = clone(this);[m
[32m+[m[32m       forEachIn(properties, function(name, value) {[m
[32m+[m[32m          result[name] = value;[m
[32m+[m[32m       });[m
[32m+[m[32m       return result;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mIn a case where it is not safe to mess with the Object prototype, these can of[m
[32m+[m[32mcourse be implemented as regular (non-method) functions.[m
[32m+[m
[32m+[m[32mAn example. If you are old enough, you may at one time have played a 'text[m
[32m+[m[32madventure' game, where you move through a virtual world by typing[m
[32m+[m[32mcommands, and get textual descriptions of the things around you and the[m
[32m+[m[32mactions you perform. Now those were games![m
[32m+[m
[32m+[m[32mWe could write the prototype for an item in such a game like this.[m
[32m+[m[32m   var Item = {[m
[32m+[m[32m       construct: function(name) {[m
[32m+[m[32m          this.name = name;[m
[32m+[m[32m       },[m
[32m+[m[32m       inspect: function() {[m
[32m+[m[32m          print("it is ", this.name, ".");[m
[32m+[m[32m       },[m
[32m+[m[32m       kick: function() {[m
[32m+[m[32m          print("klunk!");[m
[32m+[m[32m       },[m
[32m+[m[32m       take: function() {[m
[32m+[m[32m          print("you can not lift ", this.name, ".");[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   var lantern = Item.create("the brass lantern");[m
[32m+[m[32m   lantern.kick();[m
[32m+[m
[32m+[m[32mInherit from it like this...[m
[32m+[m
[32m+[m[32m   var DetailedItem = Item.extend({[m
[32m+[m[32m       construct: function(name, details) {[m
[32m+[m[32m          Item.construct.call(this, name);[m
[32m+[m[32m          this.details = details;[m
[32m+[m[32m       },[m
[32m+[m[32m       inspect: function() {[m
[32m+[m[32m          print("you see ", this.name, ", ", this.details, ".");[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32m   var giantSloth = DetailedItem.create([m
[32m+[m[32m       "the giant sloth",[m
[32m+[m[32m       "it is quietly hanging from a tree, munching leaves");[m
[32m+[m
[32m+[m[32m   giantSloth.inspect();[m
[32m+[m
[32m+[m[32mLeaving out the compulsory prototype part makes things like calling[m
[32m+[m[32mItem.construct from DetailedItem's constructor slightly simpler. Note that it[m
[32m+[m[32mwould be a bad idea to just do this.name = name in DetailedItem.construct.[m
[32m+[m[32mThis duplicates a line. Sure, duplicating the line is shorter than calling the[m
[32m+[m[32mItem.construct function, but if we end up adding something to this constructor[m
[32m+[m[32mlater, we have to add it in two places.[m
[32m+[m
[32m+[m[32mMost of the time, a sub-type's constructor should start by calling the[m
[32m+[m[32mconstructor of the super-type. This way, it starts with a valid object of the[m
[32m+[m[32msuper-type, which it can then extend. In this new approach to prototypes,[m
[32m+[m[32mtypes that need no constructor can leave it out. They will automatically inherit[m
[32m+[m[32mthe constructor of their super-type.[m
[32m+[m
[32m+[m[32m   var SmallItem = Item.extend({[m
[32m+[m[32m       kick: function() {[m
[32m+[m[32m          print(this.name, " flies across the room.");[m
[32m+[m[32m       },[m
[32m+[m[32m       take: function() {[m
[32m+[m[32m          // (imagine some code that moves the item to your pocket here)[m
[32m+[m[32m          print("you take ", this.name, ".");[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m[32m   var pencil = SmallItem.create("the red pencil");[m
[32m+[m[32m   pencil.take();[m
[32m+[m
[32m+[m[32mEven though SmallItem does not define its own constructor, creating it with a[m
[32m+[m[32mname argument works, because it inherited the constructor from the Item[m
[32m+[m[32mprototype.[m
[32m+[m
[32m+[m[32mJavaScript has an operator called instanceof, which can be used to determine[m
[32m+[m[32mwhether an object is based on a certain prototype. You give it the object on[m
[32m+[m[32mthe left hand side, and a constructor on the right hand side, and it returns a[m
[32m+[m[32mboolean, true if the constructor's prototype property is the direct or indirect[m
[32m+[m[32mprototype of the object, and false otherwise.[m
[32m+[m
[32m+[m[32mWhen you are not using regular constructors, using this operator becomes[m
[32m+[m[32mrather clumsy â€• it expects a constructor function as its second argument, but[m
[32m+[m[32mwe only have prototypes. A trick similar to the clone function can be used to[m
[32m+[m[32mget around it: We use a 'fake constructor', and apply instanceof to it.[m
[32m+[m
[32m+[m[32m   Object.prototype.hasPrototype = function(prototype) {[m
[32m+[m[32m       function DummyConstructor() {}[m
[32m+[m[32m       DummyConstructor.prototype = prototype;[m
[32m+[m[32m       return this instanceof DummyConstructor;[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   show(pencil.hasPrototype(Item));[m
[32m+[m[32m   show(pencil.hasPrototype(DetailedItem));[m
[32m+[m
[32m+[m[32mNext, we want to make a small item that has a detailed description. It seems[m
[32m+[m[32mlike this item would have to inherit both from DetailedItem and SmallItem.[m
[32m+[m[32mJavaScript does not allow an object to have multiple prototypes, and even if it[m
[32m+[m[32mdid, the problem would not be quite that easy to solve. For example, if[m
[32m+[m[32mSmallItem would, for some reason, also define an inspect method, which[m
[32m+[m[32minspect method should the new prototype use?[m
[32m+[m
[32m+[m[32mDeriving an object type from more than one parent type is called multiple[m
[32m+[m[32minheritance. Some languages chicken out and forbid it altogether, others[m
[32m+[m[32mdefine complicated schemes for making it work in a well-defined and practical[m
[32m+[m[32mway. It is possible to implement a decent multiple-inheritance framework in[m
[32m+[m[32mJavaScript. In fact there are, as usual, multiple good approaches to this. But[m
[32m+[m[32mthey all are too complex to be discussed here. Instead, I will show a very[m
[32m+[m[32msimple approach which suffices in most cases.[m
[32m+[m
[32m+[m[32mA mix-in is a specific kind of prototype which can be 'mixed into' other[m
[32m+[m[32mprototypes. SmallItem can be seen as such a prototype. By copying its kick[m
[32m+[m[32mand take methods into another prototype, we mix smallness into this[m
[32m+[m[32mprototype.[m
[32m+[m
[32m+[m[32m   function mixInto(object, mixIn) {[m
[32m+[m[32m       forEachIn(mixIn, function(name, value) {[m
[32m+[m[32m          object[name] = value;[m
[32m+[m[32m       });[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32m   var SmallDetailedItem = clone(DetailedItem);[m
[32m+[m[32m   mixInto(SmallDetailedItem, SmallItem);[m
[32m+[m
[32m+[m[32m   var deadMouse = SmallDetailedItem.create([m
[32m+[m[32m       "Fred the mouse",[m
[32m+[m[32m       "he is dead");[m
[32m+[m
[32m+[m[32m   deadMouse.inspect();[m
[32m+[m[32m   deadMouse.kick();[m
[32m+[m
[32m+[m[32mRemember that forEachIn only goes over the object's own properties, so it will[m
[32m+[m[32mcopy kick and take, but not the constructor that SmallItem inherited from Item.[m
[32m+[m
[32m+[m[32mMixing prototypes gets more complex when the mix-in has a constructor, or[m
[32m+[m[32mwhen some of its methods 'clash' with methods in the prototype that it is[m
[32m+[m[32mmixed into. Sometimes, it is workable to do a 'manual mix-in'. Say we have a[m
[32m+[m[32mprototype Monster, which has its own constructor, and we want to mix that[m
[32m+[m[32mwith DetailedItem.[m
[32m+[m
[32m+[m[32m   var Monster = Item.extend({[m
[32m+[m[32m       construct: function(name, dangerous) {[m
[32m+[m[32m          Item.construct.call(this, name);[m
[32m+[m[32m          this.dangerous = dangerous;[m
[32m+[m[32m       },[m
[32m+[m[32m       kick: function() {[m
[32m+[m[32m          if (this.dangerous)[m
[32m+[m[32m              print(this.name, " bites your head off.");[m
[32m+[m[32m          else[m
[32m+[m[32m              print(this.name, " runs away, weeping.");[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32m   var DetailedMonster = DetailedItem.extend({[m
[32m+[m[32m       construct: function(name, description, dangerous) {[m
[32m+[m[32m          DetailedItem.construct.call(this, name, description);[m
[32m+[m[32m          Monster.construct.call(this, name, dangerous);[m
[32m+[m[32m       },[m
[32m+[m[32m       kick: Monster.kick[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32m   var giantSloth = DetailedMonster.create([m
[32m+[m[32m       "the giant sloth",[m
[32m+[m[32m       "it is quietly hanging from a tree, munching leaves",[m
[32m+[m[32m       true);[m
[32m+[m
[32m+[m[32m   giantSloth.kick();[m
[32m+[m
[32m+[m[32mBut note that this causes Item constructor to be called twice when creating a[m
[32m+[m[32mDetailedMonster â€• once through the DetailedItem constructor, and once[m
[32m+[m[32mthrough the Monster constructor. In this case there is not much harm done,[m
[32m+[m[32mbut there are situations where this would cause a problem.[m
[32m+[m
[32m+[m[32mBut don't let those complications discourage you from making use of[m
[32m+[m[32minheritance. Multiple inheritance, though extremely useful in some situations,[m
[32m+[m[32mcan be safely ignored most of the time. This is why languages like Java get[m
[32m+[m[32maway with forbidding multiple inheritance. And if, at some point, you find that[m
[32m+[m[32myou really need it, you can search the web, do some research, and figure out[m
[32m+[m[32man approach that works for your situation.[m
[32m+[m[32mNow that I think about it, JavaScript would probably be a great environment[m
[32m+[m[32mfor building a text adventure. The ability to change the behaviour of objects at[m
[32m+[m[32mwill, which is what prototypical inheritance gives us, is very well suited for this.[m
[32m+[m[32mIf you have an object hedgehog, which has the unique habit of rolling up when[m
[32m+[m[32mit is kicked, you can just change its kick method.[m
[32m+[m
[32m+[m[32mUnfortunately, the text adventure went the way of the vinyl record and, while[m
[32m+[m[32monce very popular, is nowadays only played by a small population of[m
[32m+[m[32menthusiasts.[m
[32m+[m
[32m+[m[32m1. Such types are usually called 'classes' in other programming languages.[m
[32m+[m[32m2. To keep things reasonably simple, the creatures in our terrarium reproduce asexually, all by themselves.[m
[32m+[m[32m3. Laziness, for a programmer, is not necessarily a sin. The kind of people who will industriously do the same[m
[32m+[m
[32m+[m[32m    thing over and over again tend to make great assembly-line workers and lousy programmers.[m
[32m+[m[32mChapter 9:[m
[32m+[m
[32m+[m[32m       This chapter deals with the process of organising programs. In small[m
[32m+[m[32m       programs, organisation rarely becomes a problem. As a program grows,[m
[32m+[m[32m       however, it can reach a size where its structure and interpretation become[m
[32m+[m[32m       hard to keep track of. Easily enough, such a program starts to look like a[m
[32m+[m[32m       bowl of spaghetti, an amorphous mass in which everything seems to be[m
[32m+[m[32m       connected to everything else.[m
[32m+[m
[32m+[m[32m       When structuring a program, we do two things. We separate it into smaller[m
[32m+[m[32m       parts, called modules, each of which has a specific role, and we specify the[m
[32m+[m[32m       relations between these parts.[m
[32m+[m
[32m+[m[32m       In chapter 8, while developing a terrarium, we made use of a number of[m
[32m+[m[32m       functions described in chapter 6. The chapter also defined a few new[m
[32m+[m[32m       concepts that had nothing in particular to do with terraria, such as clone and[m
[32m+[m[32m       the Dictionary type. All these things were haphazardly added to the[m
[32m+[m[32m       environment. One way to split this program into modules would be:[m
[32m+[m
[32m+[m[32m               A module FunctionalTools, which contains the functions from chapter 6,[m
[32m+[m[32m               and depends on nothing.[m
[32m+[m[32m               Then ObjectTools, which contains things like clone and create, and[m
[32m+[m[32m               depends on FunctionalTools.[m
[32m+[m[32m               Dictionary, containing the dictionary type, and depending on[m
[32m+[m[32m               FunctionalTools.[m
[32m+[m[32m               And finally the Terrarium module, which depends on ObjectTools and[m
[32m+[m[32m               Dictionary.[m
[32m+[m
[32m+[m[32m       When a module depends on another module, it uses functions or variables[m
[32m+[m[32m       from that module, and will only work when this module is loaded.[m
[32m+[m
[32m+[m[32m       It is a good idea to make sure dependencies never form a circle. Not only do[m
[32m+[m[32m       circular dependencies create a practical problem (if module A and B depend on[m
[32m+[m[32m       each other, which one should be loaded first?), it also makes the relation[m
[32m+[m[32m       between the modules less straightforward, and can result in a modularised[m
[32m+[m[32m       version of the spaghetti I mentioned earlier.[m
[32m+[m
[32m+[m[32m       Most modern programming languages have some kind of module system built[m
[32m+[m[32m       in. Not JavaScript. Once again, we have to invent something ourselves. The[m
[32m+[m[32m       most obvious way to start is to put every module in a different file. This[m
[32m+[m[32m       makes it clear which code belongs to which module.[m
[32m+[m
[32m+[m[32m       Browsers load JavaScript files when they find a <script> tag with an src[m
[32m+[m[32m       attribute in the HTML of the web-page. The extension .js is usually used for[m
[32m+[m[32m       files containing JavaScript code. On the console, a shortcut for loading files is[m
[32m+[m[32m       provided by the load function.[m
[32m+[m
[32m+[m[32m            load("FunctionalTools.js");[m
[32m+[m[32mIn some cases, giving load commands in the wrong order will result in errors.[m
[32m+[m[32mIf a module tries to create a Dictionary object, but the Dictionary module has[m
[32m+[m[32mnot been loaded yet, it will be unable to find the constructor, and will fail.[m
[32m+[m
[32m+[m[32mOne would imagine this to be easy to solve. Just put some calls to load at the[m
[32m+[m[32mtop of the file for a module, to load all the modules it depends on.[m
[32m+[m[32mUnfortunately, because of the way browsers work, calling load does not[m
[32m+[m[32mimmediately cause the given file to be loaded. The file will be loaded after the[m
[32m+[m[32mcurrent file has finished executing. Which is too late, usually.[m
[32m+[m
[32m+[m[32mIn most cases, the practical solution is to just manage dependencies by hand:[m
[32m+[m[32mPut the script tags in your HTML documents in the right order.[m
[32m+[m
[32m+[m[32mThere are two ways to (partially) automate dependency management. The[m
[32m+[m[32mfirst is to keep a separate file with information about the dependencies[m
[32m+[m[32mbetween modules. This can be loaded first, and used to determine the order[m
[32m+[m[32min which to load the files. The second way is to not use a script tag (load[m
[32m+[m[32minternally creates and adds such a tag), but to fetch the content of the file[m
[32m+[m[32mdirectly (see chapter 14), and then use the eval function to execute it. This[m
[32m+[m[32mmakes script loading instantaneous, and thus easier to deal with.[m
[32m+[m
[32m+[m[32meval, short for 'evaluate', is an interesting function. You give it a string value,[m
[32m+[m[32mand it will execute the content of the string as JavaScript code.[m
[32m+[m
[32m+[m[32m   eval("print(\"I am a string inside a string!\");");[m
[32m+[m
[32m+[m[32mYou can imagine that eval can be used to do some interesting things. Code[m
[32m+[m[32mcan build new code, and run it. In most cases, however, problems that can be[m
[32m+[m[32msolved with creative uses of eval can also be solved with creative uses of[m
[32m+[m[32manonymous functions, and the latter is less likely to cause strange problems.[m
[32m+[m
[32m+[m[32mWhen eval is called inside a function, all new variables will become local to[m
[32m+[m[32mthat function. Thus, when a variation of the load would use eval internally,[m
[32m+[m[32mloading the Dictionary module would create a Dictionary constructor inside of[m
[32m+[m[32mthe load function, which would be lost as soon as the function returned. There[m
[32m+[m[32mare ways to work around this, but they are rather clumsy.[m
[32m+[m
[32m+[m[32mLet us quickly go over the first variant of dependency management. It[m
[32m+[m[32mrequires a special file for dependency information, which could look something[m
[32m+[m[32mlike this:[m
[32m+[m
[32m+[m[32m   var dependencies =[m
[32m+[m[32m       {"ObjectTools.js": ["FunctionalTools.js"],[m
[32m+[m[32m         "Dictionary.js": ["ObjectTools.js"],[m
[32m+[m[32m         "TestModule.js": ["FunctionalTools.js", "Dictionary.js"]};[m
[32m+[m
[32m+[m[32mThe dependencies object contains a property for each file that depends on[m
[32m+[m[32mother files. The values of the properties are arrays of file names. Note that[m
[32m+[m[32mwe could not use a Dictionary object here, because we can not be sure that[m
[32m+[m[32mthe Dictionary module has been loaded yet. Because all the properties in this[m
[32m+[m[32mobject will end in ".js", they are unlikely to interfere with hidden properties[m
[32m+[m[32mlike __proto__ or hasOwnProperty, and a regular object will work fine.[m
[32m+[m
[32m+[m[32mThe dependency manager must do two things. Firstly it must make sure that[m
[32m+[m[32mfiles are loaded in the correct order, by loading a file's dependencies before[m
[32m+[m[32mthe file itself. And secondly, it must make sure that no file is loaded twice.[m
[32m+[m[32mLoading the same file twice might cause problems, and is definitely a waste of[m
[32m+[m[32mtime.[m
[32m+[m
[32m+[m[32m   var loadedFiles = {};[m
[32m+[m
[32m+[m[32m   function require(file) {[m
[32m+[m[32m       if (dependencies[file]) {[m
[32m+[m[32m          var files = dependencies[file];[m
[32m+[m[32m          for (var i = 0; i < files.length; i++)[m
[32m+[m[32m              require(files[i]);[m
[32m+[m[32m       }[m
[32m+[m[32m       if (!loadedFiles[file]) {[m
[32m+[m[32m          loadedFiles[file] = true;[m
[32m+[m[32m          load(file);[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThe require function can now be used to load a file and all its dependencies.[m
[32m+[m[32mNote how it recursively calls itself to take care of dependencies (and possible[m
[32m+[m[32mdependencies of that dependency).[m
[32m+[m
[32m+[m[32m   require("TestModule.js");[m
[32m+[m
[32m+[m[32m   test();[m
[32m+[m
[32m+[m[32mBuilding a program as a set of nice, small modules often means the program[m
[32m+[m[32mwill use a lot of different files. When programming for the web, having lots of[m
[32m+[m[32msmall JavaScript files on a page tends to make the page slower to load. This[m
[32m+[m[32mdoes not have to be a problem though. You can write and test your program[m
[32m+[m[32mas a number of small files, and put them all into a single big file when[m
[32m+[m[32m'publishing' the program to the web.[m
[32m+[m
[32m+[m[32mJust like an object type, a module has an interface. In simple collection-[m
[32m+[m[32mof-functions modules such as FunctionalTools, the interface usually consists of[m
[32m+[m[32mall the functions that are defined in the module. In other cases, the interface[m
[32m+[m[32mof the module is only a small part of the functions defined inside it. For[m
[32m+[m[32mexample, our manuscript-to-HTML system from chapter 6 only needs an[m
[32m+[m[32minterface of a single function, renderFile. (The sub-system for building HTML[m
[32m+[m[32mwould be a separate module.)[m
[32m+[m
[32m+[m[32mFor modules which only define a single type of object, such as Dictionary, the[m
[32m+[m[32mobject's interface is the same as the module's interface.[m
[32m+[m
[32m+[m[32mIn JavaScript, 'top-level' variables all live together in a single place. In[m
[32m+[m[32mbrowsers, this place is an object that can be found under the name window.[m
[32m+[m[32mThe name is somewhat odd, environment or top would have made more[m
[32m+[m[32msense, but since browsers associate a JavaScript environment with a window[m
[32m+[m[32m(or 'frame'), someone decided that window was a logical name.[m
[32m+[m
[32m+[m[32m   show(window);[m
[32m+[m[32m   show(window.print == print);[m
[32m+[m[32m   show(window.window.window.window.window);[m
[32m+[m
[32m+[m[32mAs the third line shows, the name window is merely a property of this[m
[32m+[m[32menvironment object, pointing at itself.[m
[32m+[m
[32m+[m[32mWhen much code is loaded into an environment, it will use many top-level[m
[32m+[m[32mvariable names. Once there is more code than you can really keep track of, it[m
[32m+[m[32mbecomes very easy to accidentally use a name that was already used for[m
[32m+[m[32msomething else. This will break the code that used the original value. The[m
[32m+[m[32mproliferation of top-level variables is called name-space pollution, and it can be[m
[32m+[m[32ma rather severe problem in JavaScript â€• the language will not warn you when[m
[32m+[m[32myou redefine an existing variable.[m
[32m+[m
[32m+[m[32mThere is no way to get rid of this problem entirely, but it can be greatly[m
[32m+[m[32mreduced by taking care to cause as little pollution as possible. For one thing,[m
[32m+[m[32mmodules should not use top-level variables for values that are not part of their[m
[32m+[m[32mexternal interface.[m
[32m+[m
[32m+[m[32mNot being able to define any internal functions and variables at all in your[m
[32m+[m[32mmodules is, of course, not very practical. Fortunately, there is a trick to get[m
[32m+[m[32maround this. We write all the code for the module inside a function, and then[m
[32m+[m[32mfinally add the variables that are part of the module's interface to the window[m
[32m+[m[32mobject. Because they were created in the same parent function, all the[m
[32m+[m[32mfunctions of the module can see each other, but code outside of the module[m
[32m+[m[32mcan not.[m
[32m+[m
[32m+[m[32m   function buildMonthNameModule() {[m
[32m+[m[32m       var names = ["January", "February", "March", "April",[m
[32m+[m[32m                              "May", "June", "July", "August", "September",[m
[32m+[m[32m                              "October", "November", "December"];[m
[32m+[m[32m       function getMonthName(number) {[m
[32m+[m[32m          return names[number];[m
[32m+[m[32m       }[m
[32m+[m[32m       function getMonthNumber(name) {[m
[32m+[m[32m          for (var number = 0; number < names.length; number++) {[m
[32m+[m[32m              if (names[number] == name)[m
[32m+[m[32m                  return number;[m
[32m+[m[32m          }[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       window.getMonthName = getMonthName;[m
[32m+[m[32m       window.getMonthNumber = getMonthNumber;[m
[32m+[m[32m   }[m
[32m+[m[32m   buildMonthNameModule();[m
[32m+[m
[32m+[m[32m   show(getMonthName(11));[m
[32m+[m
[32m+[m[32mThis builds a very simple module for translating between month names and[m
[32m+[m[32mtheir number (as used by Date, where January is 0). But note that[m
[32m+[m[32mbuildMonthNameModule is still a top-level variable that is not part of the module's[m
[32m+[m[32minterface. Also, we have to repeat the names of the interface functions three[m
[32m+[m[32mtimes. Ugh.[m
[32m+[m
[32m+[m[32mThe first problem can be solved by making the module function anonymous,[m
[32m+[m[32mand calling it directly. To do this, we have to add a pair of parentheses[m
[32m+[m[32maround the function value, or JavaScript will think it is a normal function[m
[32m+[m[32mdefinition, which can not be called directly.[m
[32m+[m
[32m+[m[32mThe second problem can be solved with a helper function, provide, which can[m
[32m+[m[32mbe given an object containing the values that must be exported into the[m
[32m+[m[32mwindow object.[m
[32m+[m
[32m+[m[32m   function provide(values) {[m
[32m+[m[32m       forEachIn(values, function(name, value) {[m
[32m+[m[32m          window[name] = value;[m
[32m+[m[32m       });[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mUsing this, we can write a module like this:[m
[32m+[m
[32m+[m[32m   (function() {[m
[32m+[m[32m       var names = ["Sunday", "Monday", "Tuesday", "Wednesday",[m
[32m+[m[32m                              "Thursday", "Friday", "Saturday"];[m
[32m+[m[32m       provide({[m
[32m+[m[32m          getDayName: function(number) {[m
[32m+[m[32m              return names[number];[m
[32m+[m[32m          },[m
[32m+[m[32m          getDayNumber: function(name) {[m
[32m+[m[32m              for (var number = 0; number < names.length; number++) {[m
[32m+[m[32m                  if (names[number] == name)[m
[32m+[m[32m                     return number;[m
[32m+[m[32m              }[m
[32m+[m[32m          }[m
[32m+[m[32m       });[m
[32m+[m
[32m+[m[32m   })();[m
[32m+[m
[32m+[m[32m   show(getDayNumber("Wednesday"));[m
[32m+[m
[32m+[m[32mI do not recommend writing modules like this right from the start. While you[m
[32m+[m[32mare still working on a piece of code, it is easier to just use the simple[m
[32m+[m[32mapproach we have used so far, and put everything at top level. That way, you[m
[32m+[m[32mcan inspect the module's internal values in your browser, and test them out.[m
[32m+[m[32mOnce a module is more or less finished, it is not difficult to wrap it in a[m
[32m+[m[32mfunction.[m
[32m+[m
[32m+[m[32mThere are cases where a module will export so many variables that it is a bad[m
[32m+[m[32midea to put them all into the top-level environment. In cases like this, you can[m
[32m+[m[32mdo what the standard Math object does, and represent the module as a single[m
[32m+[m[32mobject whose properties are the functions and values it exports. For[m
[32m+[m[32mexample...[m
[32m+[m
[32m+[m[32m   var HTML = {[m
[32m+[m[32m       tag: function(name, content, properties) {[m
[32m+[m[32m          return {name: name, properties: properties, content: content};[m
[32m+[m[32m       },[m
[32m+[m[32m       link: function(target, text) {[m
[32m+[m[32m          return HTML.tag("a", [text], {href: target});[m
[32m+[m[32m       }[m
[32m+[m[32m       /* ... many more HTML-producing functions ... */[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mWhen you need the content of such a module so often that it becomes[m
[32m+[m[32mcumbersome to constantly type HTML, you can always move it into the[m
[32m+[m[32mtop-level environment using provide.[m
[32m+[m
[32m+[m[32m   provide(HTML);[m
[32m+[m[32m   show(link("http://docs.sun.com/source/816-6408-10/object.htm",[m
[32m+[m
[32m+[m[32m                     "This is how objects work."));[m
[32m+[m
[32m+[m[32mYou can even combine the function and object approaches, by putting the[m
[32m+[m[32minternal variables of the module inside a function, and having this function[m
[32m+[m[32mreturn an object containing its external interface.[m
[32m+[m
[32m+[m[32mWhen adding methods to standard prototypes, such as those of Array and[m
[32m+[m[32mObject a similar problem to name-space pollution occurs. If two modules[m
[32m+[m[32mdecide to add a map method to Array.prototype, you might have a problem. If[m
[32m+[m[32mthese two versions of map have the precise same effect, things will continue to[m
[32m+[m[32mwork, but only by sheer luck.[m
[32m+[m
[32m+[m[32mDesigning an interface for a module or an object type is one of the subtler[m
[32m+[m[32maspects of programming. On the one hand, you do not want to expose too[m
[32m+[m[32mmany details. They will only get in the way when using the module. On the[m
[32m+[m[32mother hand, you do not want to be too simple and general, because that[m
[32m+[m[32mmight make it impossible to use the module in complex or specialised[m
[32m+[m[32msituations.[m
[32m+[m
[32m+[m[32mSometimes the solution is to provide two interfaces, a detailed 'low-level' one[m
[32m+[m[32mfor complicated things, and a simple 'high-level' one for straightforward[m
[32m+[m[32msituations. The second one can usually be built very easily using the tools[m
[32m+[m[32mprovided by the first one.[m
[32m+[m
[32m+[m[32mIn other cases, you just have to find the right idea around which to base your[m
[32m+[m[32minterface. Compare this to the various approaches to inheritance we saw in[m
[32m+[m[32mchapter 8. By making prototypes the central concept, rather than[m
[32m+[m[32mconstructors, we managed to make some things considerably more[m
[32m+[m[32mstraightforward.[m
[32m+[m
[32m+[m[32mThe best way to learn to the value of good interface design is, unfortunately,[m
[32m+[m[32mto use bad interfaces. Once you get fed up with them, you'll figure out a way[m
[32m+[m[32mto improve them, and learn a lot in the process. Try not to assume that a[m
[32m+[m[32mlousy interface is 'just the way it is'. Fix it, or wrap it in a new interface that is[m
[32m+[m[32mbetter (we will see an example of this in chapter 12).[m
[32m+[m
[32m+[m[32mThere are functions which require a lot of arguments. Sometimes this means[m
[32m+[m[32mthey are just badly designed, and can easily be remedied by splitting them[m
[32m+[m[32minto a few more modest functions. But in other cases, there is no way around[m
[32m+[m[32mit. Typically, some of these arguments have a sensible 'default' value. We[m
[32m+[m[32mcould, for example, write yet another extended version of range.[m
[32m+[m
[32m+[m[32m   function range(start, end, stepSize, length) {[m
[32m+[m[32m       if (stepSize == undefined)[m
[32m+[m[32m          stepSize = 1;[m
[32m+[m[32m       if (end == undefined)[m
[32m+[m[32m          end = start + stepSize * (length - 1);[m
[32m+[m
[32m+[m[32m       var result = [];[m
[32m+[m[32m       for (; start <= end; start += stepSize)[m
[32m+[m
[32m+[m[32m          result.push(start);[m
[32m+[m[32m       return result;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(range(0, undefined, 4, 5));[m
[32m+[m
[32m+[m[32mIt can get hard to remember which argument goes where, not to mention the[m
[32m+[m[32mannoyance of having to pass undefined as a second argument when a length[m
[32m+[m[32margument is used. We can make passing arguments to this function more[m
[32m+[m[32mcomprehensive by wrapping them in an object.[m
[32m+[m
[32m+[m[32m   function defaultTo(object, values) {[m
[32m+[m[32m       forEachIn(values, function(name, value) {[m
[32m+[m[32m          if (!object.hasOwnProperty(name))[m
[32m+[m[32m              object[name] = value;[m
[32m+[m[32m       });[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function range(args) {[m
[32m+[m[32m       defaultTo(args, {start: 0, stepSize: 1});[m
[32m+[m[32m       if (args.end == undefined)[m
[32m+[m[32m          args.end = args.start + args.stepSize * (args.length - 1);[m
[32m+[m
[32m+[m[32m       var result = [];[m
[32m+[m[32m       for (; args.start <= args.end; args.start += args.stepSize)[m
[32m+[m
[32m+[m[32m          result.push(args.start);[m
[32m+[m[32m       return result;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(range({stepSize: 4, length: 5}));[m
[32m+[m
[32m+[m[32mThe defaultTo function is useful for adding default values to an object. It[m
[32m+[m[32mcopies the properties of its second argument into its first argument, skipping[m
[32m+[m[32mthose that already have a value.[m
[32m+[m
[32m+[m[32mA module or group of modules that can be useful in more than one program is[m
[32m+[m[32musually called a library. For many programming languages, there is a huge set[m
[32m+[m[32mof quality libraries available. This means programmers do not have to start[m
[32m+[m[32mfrom scratch all the time, which can make them a lot more productive. For[m
[32m+[m[32mJavaScript, unfortunately, the amount of available libraries is not very large.[m
[32m+[m
[32m+[m[32mBut recently this seems to be improving. There are a number of good libraries[m
[32m+[m[32mwith 'basic' tools, things like map and clone. Other languages tend to provide[m
[32m+[m[32msuch obviously useful things as built-in standard features, but with JavaScript[m
[32m+[m[32myou'll have to either build a collection of them for yourself or use a library.[m
[32m+[m[32mUsing a library is recommended: It is less work, and the code in a library has[m
[32m+[m[32musually been tested more thoroughly than the things you wrote yourself.[m
[32m+[m[32mCovering these basics, there are (among others) the 'lightweight' libraries[m
[32m+[m[32mprototype, mootools, jQuery, and MochiKit. There are also some larger[m
[32m+[m[32m'frameworks' available, which do a lot more than just provide a set of basic[m
[32m+[m[32mtools. YUI (by Yahoo), and Dojo seem to be the most popular ones in that[m
[32m+[m[32mgenre. All of these can be downloaded and used free of charge. My personal[m
[32m+[m[32mfavourite is MochiKit, but this is mostly a matter of taste. When you get[m
[32m+[m[32mserious about JavaScript programming, it is a good idea to quickly glance[m
[32m+[m[32mthrough the documentation of each of these, to get a general idea about the[m
[32m+[m[32mway they work and the things they provide.[m
[32m+[m
[32m+[m[32mThe fact that a basic toolkit is almost indispensable for any non-trivial[m
[32m+[m[32mJavaScript programs, combined with the fact that there are so many different[m
[32m+[m[32mtoolkits, causes a bit of a dilemma for library writers. You either have to make[m
[32m+[m[32myour library depend on one of the toolkits, or write the basic tools yourself[m
[32m+[m[32mand include them with the library. The first option makes the library hard to[m
[32m+[m[32muse for people who are using a different toolkit, and the second option adds a[m
[32m+[m[32mlot of non-essential code to the library. This dilemma might be one of the[m
[32m+[m[32mreasons why there are relatively few good, widely used JavaScript libraries. It[m
[32m+[m[32mis possible that, in the future, ECMAScript 4 and changes in browsers will[m
[32m+[m[32mmake toolkits less necessary, and thus (partially) solve this problem.[m
[32m+[m[32mChapter 10:[m
[32m+[m
[32m+[m[32m       At various points in the previous chapters, we had to look for patterns in[m
[32m+[m[32m       string values. In chapter 4 we extracted date values from strings by writing[m
[32m+[m[32m       out the precise positions at which the numbers that were part of the date[m
[32m+[m[32m       could be found. Later, in chapter 6, we saw some particularly ugly pieces of[m
[32m+[m[32m       code for finding certain types of characters in a string, for example the[m
[32m+[m[32m       characters that had to be escaped in HTML output.[m
[32m+[m
[32m+[m[32m       Regular expressions are a language for describing patterns in strings. They[m
[32m+[m[32m       form a small, separate language, which is embedded inside JavaScript (and in[m
[32m+[m[32m       various other programming languages, in one way or another). It is not a[m
[32m+[m[32m       very readable language â€• big regular expressions tend to be completely[m
[32m+[m[32m       unreadable. But, it is a useful tool, and can really simplify string-processing[m
[32m+[m[32m       programs.[m
[32m+[m
[32m+[m[32m       Just like strings get written between quotes, regular expression patterns get[m
[32m+[m[32m       written between slashes (/). This means that slashes inside the expression[m
[32m+[m[32m       have to be escaped.[m
[32m+[m
[32m+[m[32m            var slash = /\//;[m
[32m+[m[32m            show("AC/DC".search(slash));[m
[32m+[m
[32m+[m[32m       The search method resembles indexOf, but it searches for a regular[m
[32m+[m[32m       expression instead of a string. Patterns specified by regular expressions can[m
[32m+[m[32m       do a few things that strings can not do. For a start, they allow some of their[m
[32m+[m[32m       elements to match more than a single character. In chapter 6, when[m
[32m+[m[32m       extracting mark-up from a document, we needed to find the first asterisk or[m
[32m+[m[32m       opening brace in a string. That could be done like this:[m
[32m+[m
[32m+[m[32m            var asteriskOrBrace = /[\{\*]/;[m
[32m+[m[32m            var story =[m
[32m+[m
[32m+[m[32m               "We noticed the *giant sloth*, hanging from a giant branch.";[m
[32m+[m[32m            show(story.search(asteriskOrBrace));[m
[32m+[m
[32m+[m[32m       The [ and ] characters have a special meaning inside a regular expression.[m
[32m+[m[32m       They can enclose a set of characters, and they mean 'any of these[m
[32m+[m[32m       characters'. Most non-alphanumeric characters have some special meaning[m
[32m+[m[32m       inside a regular expression, so it is a good idea to always escape them with a[m
[32m+[m[32m       backslash1 when you use them to refer to the actual characters.[m
[32m+[m
[32m+[m[32m       There are a few shortcuts for sets of characters that are needed often. The[m
[32m+[m[32m       dot (.) can be used to mean 'any character that is not a newline', an escaped[m
[32m+[m[32m       'd' (\d) means 'any digit', an escaped 'w' (\w) matches any alphanumeric[m
[32m+[m[32m       character (including underscores, for some reason), and an escaped 's' (\s)[m
[32m+[m[32m       matches any white-space (tab, newline, space) character.[m
[32m+[m[32m                var digitSurroundedBySpace = /\s\d\s/;[m
[32m+[m[32m                show("1a 2 3d".search(digitSurroundedBySpace));[m
[32m+[m
[32m+[m[32m           The escaped 'd', 'w', and 's' can be replaced by their capital letter to mean[m
[32m+[m[32m           their opposite. For example, \S matches any character that is not white-[m
[32m+[m[32m           space. When using [ and ], a pattern can be inverted by starting with a ^[m
[32m+[m[32m           character:[m
[32m+[m
[32m+[m[32m                var notABC = /[^ABC]/;[m
[32m+[m[32m                show("ABCBACCBBADABC".search(notABC));[m
[32m+[m
[32m+[m[32m           As you can see, the way regular expressions use characters to express[m
[32m+[m[32m           patterns makes them A) very short, and B) very hard to read.[m
[32m+[m
[32m+[m[32mEx. 10.1 Write a regular expression that matches a date in the format "XX/XX/XXXX",[m
[32m+[m[32m           where the Xs are digits. Test it against the string "born 15/11/2003 (mother[m
[32m+[m[32m           Spot): White Fang".[m
[32m+[m
[32m+[m[32m                var datePattern = /\d\d\/\d\d\/\d\d\d\d/;[m
[32m+[m[32m                show("born 15/11/2003 (mother Spot): White Fang".search(datePattern));[m
[32m+[m
[32m+[m[32m           Sometimes you need to make sure a pattern starts at the beginning of a[m
[32m+[m[32m           string, or ends at its end. For this, the special characters ^ and $ can be used.[m
[32m+[m[32m           The first matches the start of the string, the second the end.[m
[32m+[m
[32m+[m[32m                show(/a+/.test("blah"));[m
[32m+[m[32m                show(/^a+$/.test("blah"));[m
[32m+[m
[32m+[m[32m           The first regular expression matches any string that contains an a character,[m
[32m+[m[32m           the second only those strings that consist entirely of a characters.[m
[32m+[m[32m           Note that regular expressions are objects, and have methods. Their test[m
[32m+[m[32m           method returns a boolean indicating whether the given string matches the[m
[32m+[m[32m           expression.[m
[32m+[m[32m           The code \b matches a 'word boundary', which can be punctuation, white-[m
[32m+[m[32m           space, or the start or end of the string.[m
[32m+[m
[32m+[m[32m                show(/cat/.test("concatenate"));[m
[32m+[m[32m                show(/\bcat\b/.test("concatenate"));[m
[32m+[m
[32m+[m[32m           Parts of a pattern can be allowed to be repeated a number of times. Putting[m
[32m+[m[32m           an asterisk (*) after an element allows it to be repeated any number of times,[m
[32m+[m[32m           including zero. A plus (+) does the same, but requires the pattern to occur at[m
[32m+[m[32m           least one time. A question mark (?) makes an element 'optional' â€• it can[m
[32m+[m[32m           occur zero or one times.[m
[32m+[m
[32m+[m[32m                var parenthesizedText = /\(.*\)/;[m
[32m+[m[32m                show("Its (the sloth's) claws were gigantic!".search(parenthesizedText)[m
[32m+[m[32m           When necessary, braces can be used to be more precise about the amount of[m
[32m+[m[32m           times an element may occur. A number between braces ({4}) gives the exact[m
[32m+[m[32m           amount of times it must occur. Two numbers with a comma between them[m
[32m+[m[32m           ({3,10}) indicate that the pattern must occur at least as often as the first[m
[32m+[m[32m           number, and at most as often as the second one. Similarly, {2,} means two[m
[32m+[m[32m           or more occurrences, while {,4} means four or less.[m
[32m+[m
[32m+[m[32m                var datePattern = /\d{1,2}\/\d\d?\/\d{4}/;[m
[32m+[m[32m                show("born 15/11/2003 (mother Spot): White Fang".search(datePattern));[m
[32m+[m
[32m+[m[32m           The pieces /\d{1,2}/ and /\d\d?/ both express 'one or two digits'.[m
[32m+[m
[32m+[m[32mEx. 10.2 Write a pattern that matches e-mail addresses. For simplicity, assume that[m
[32m+[m[32m           the parts before and after the @ can contain only alphanumeric characters and[m
[32m+[m[32m           the characters . and - (dot and dash), while the last part of the address, the[m
[32m+[m[32m           country code after the last dot, may only contain alphanumeric characters,[m
[32m+[m[32m           and must be two or three characters long.[m
[32m+[m
[32m+[m[32m                var mailAddress = /\b[\w\.-]+@[\w\.-]+\.\w{2,3}\b/;[m
[32m+[m
[32m+[m[32m                show(mailAddress.test("kenny@test.net"));[m
[32m+[m[32m                show(mailAddress.test("I mailt kenny@tets.nets, but it didn wrok!"));[m
[32m+[m[32m                show(mailAddress.test("the_giant_sloth@gmail.com"));[m
[32m+[m
[32m+[m[32m           The \bs at the start and end of the pattern make sure that the second string[m
[32m+[m[32m           does not match.[m
[32m+[m
[32m+[m[32m           Part of a regular expression can be grouped together with parentheses. This[m
[32m+[m[32m           allows us to use * and such on more than one character. For example:[m
[32m+[m
[32m+[m[32m                var cartoonCrying = /boo(hoo+)+/i;[m
[32m+[m[32m                show("Then, he exclaimed 'Boohoooohoohooo'".search(cartoonCrying));[m
[32m+[m
[32m+[m[32m           Where did the i at the end of that regular expression come from? After the[m
[32m+[m[32m           closing slash, 'options' may be added to a regular expression. An i, here,[m
[32m+[m[32m           means the expression is case-insensitive, which allows the lower-case B in the[m
[32m+[m[32m           pattern to match the upper-case one in the string.[m
[32m+[m
[32m+[m[32m           A pipe character (|) is used to allow a pattern to make a choice between two[m
[32m+[m[32m           elements. For example:[m
[32m+[m
[32m+[m[32m                var holyCow = /(sacred|holy) (cow|bovine|bull|taurus)/i;[m
[32m+[m[32m                show(holyCow.test("Sacred bovine!"));[m
[32m+[m
[32m+[m[32m           Often, looking for a pattern is just a first step in extracting something from a[m
[32m+[m[32m           string. In previous chapters, this extraction was done by calling a string's[m
[32m+[m[32m           indexOf and slice methods a lot. Now that we are aware of the existence of[m
[32m+[m[32m           regular expressions, we can use the match method instead. When a string is[m
[32m+[m[32m           matched against a regular expression, the result will be null if the match[m
[32m+[m[32m           failed, or an array of matched strings if it succeeded.[m
[32m+[m[32m             show("No".match(/Yes/));[m
[32m+[m[32m             show("... yes".match(/yes/));[m
[32m+[m[32m             show("Giant Ape".match(/giant (\w+)/i));[m
[32m+[m
[32m+[m[32m          The first element in the returned array is always the part of the string that[m
[32m+[m[32m          matched the pattern. As the last example shows, when there are[m
[32m+[m[32m          parenthesized parts in the pattern, the parts they match are also added to[m
[32m+[m[32m          the array. Often, this makes extracting pieces of string very easy.[m
[32m+[m
[32m+[m[32m             var parenthesized = prompt("Tell me something", "").match(/\((.*)\)/);[m
[32m+[m[32m             if (parenthesized != null)[m
[32m+[m
[32m+[m[32m                 print("You parenthesized '", parenthesized[1], "'");[m
[32m+[m
[32m+[m[32mEx. 10.3  Re-write the function extractDate that we wrote in chapter 4. When given a[m
[32m+[m[32m          string, this function looks for something that follows the date format we saw[m
[32m+[m[32m          earlier. If it can find such a date, it puts the values into a Date object.[m
[32m+[m[32m          Otherwise, it throws an exception. Make it accept dates in which the day or[m
[32m+[m[32m          month are written with only one digit.[m
[32m+[m
[32m+[m[32m             function extractDate(string) {[m
[32m+[m[32m                 var found = string.match(/(\d\d?)\/(\d\d?)\/(\d{4})/);[m
[32m+[m[32m                 if (found == null)[m
[32m+[m[32m                    throw new Error("No date found in '" + string + "'.");[m
[32m+[m[32m                 return new Date(Number(found[3]), Number(found[2]) - 1,[m
[32m+[m[32m                                              Number(found[1]));[m
[32m+[m
[32m+[m[32m             }[m
[32m+[m
[32m+[m[32m             show(extractDate("born 5/2/2007 (mother Noog): Long-ear Johnson"));[m
[32m+[m
[32m+[m[32m          This version is slightly longer than the previous one, but it has the advantage[m
[32m+[m[32m          of actually checking what it is doing, and shouting out when it is given[m
[32m+[m[32m          nonsensical input. This was a lot harder without regular expressions â€• it[m
[32m+[m[32m          would have taken a lot of calls to indexOf to find out whether the numbers[m
[32m+[m[32m          had one or two digits, and whether the dashes were in the right places.[m
[32m+[m
[32m+[m[32m          The replace method of string values, which we saw in chapter 6, can be given[m
[32m+[m[32m          a regular expression as its first argument.[m
[32m+[m
[32m+[m[32m             print("Borobudur".replace(/[ou]/g, "a"));[m
[32m+[m
[32m+[m[32m          Notice the g character after the regular expression. It stands for 'global', and[m
[32m+[m[32m          means that every part of the string that matches the pattern should be[m
[32m+[m[32m          replaced. When this g is omitted, only the first "o" would be replaced.[m
[32m+[m
[32m+[m[32m          Sometimes it is necessary to keep parts of the replaced strings. For example,[m
[32m+[m[32m          we have a big string containing the names of people, one name per line, in[m
[32m+[m[32m          the format "Lastname, Firstname". We want to swap these names, and[m
[32m+[m[32m          remove the comma, to get a simple "Firstname Lastname" format.[m
[32m+[m
[32m+[m[32m             var names = "Picasso, Pablo\nGauguin, Paul\nVan Gogh, Vincent";[m
[32m+[m[32m             print(names.replace(/([\w ]+), ([\w ]+)/g, "$2 $1"));[m
[32m+[m
[32m+[m[32m          The $1 and $2 the replacement string refer to the parenthesized parts in the[m
[32m+[m[32m           pattern. $1 is replaced by the text that matched against the first pair of[m
[32m+[m[32m           parentheses, $2 by the second, and so on, up to $9.[m
[32m+[m
[32m+[m[32m           If you have more than 9 parentheses parts in your pattern, this will no longer[m
[32m+[m[32m           work. But there is one more way to replace pieces of a string, which can also[m
[32m+[m[32m           be useful in some other tricky situations. When the second argument given to[m
[32m+[m[32m           the replace method is a function value instead of a string, this function is[m
[32m+[m[32m           called every time a match is found, and the matched text is replaced by[m
[32m+[m[32m           whatever the function returns. The arguments given to the function are the[m
[32m+[m[32m           matched elements, similar to the values found in the arrays returned by[m
[32m+[m[32m           match: The first one is the whole match, and after that comes one argument[m
[32m+[m[32m           for every parenthesized part of the pattern.[m
[32m+[m
[32m+[m[32m                function eatOne(match, amount, unit) {[m
[32m+[m[32m                    amount = Number(amount) - 1;[m
[32m+[m[32m                    if (amount == 1) {[m
[32m+[m[32m                       unit = unit.slice(0, unit.length - 1);[m
[32m+[m[32m                    }[m
[32m+[m[32m                    else if (amount == 0) {[m
[32m+[m[32m                       unit = unit + "s";[m
[32m+[m[32m                       amount = "no";[m
[32m+[m[32m                    }[m
[32m+[m[32m                    return amount + " " + unit;[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                var stock = "1 lemon, 2 cabbages, and 101 eggs";[m
[32m+[m[32m                stock = stock.replace(/(\d+) (\w+)/g, eatOne);[m
[32m+[m
[32m+[m[32m                print(stock);[m
[32m+[m
[32m+[m[32mEx. 10.4 That last trick can be used to make the HTML-escaper from chapter 6 more[m
[32m+[m[32m           efficient. You may remember that it looked like this:[m
[32m+[m
[32m+[m[32m                function escapeHTML(text) {[m
[32m+[m[32m                    var replacements = [["&", "&amp;"], ["\"", "&quot;"],[m
[32m+[m[32m                                                       ["<", "&lt;"], [">", "&gt;"]];[m
[32m+[m[32m                    forEach(replacements, function(replace) {[m
[32m+[m[32m                       text = text.replace(replace[0], replace[1]);[m
[32m+[m[32m                    });[m
[32m+[m[32m                    return text;[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m           Write a new function escapeHTML, which does the same thing, but only calls[m
[32m+[m[32m           replace once.[m
[32m+[m
[32m+[m[32m                function escapeHTML(text) {[m
[32m+[m[32m                    var replacements = {"<": "&lt;", ">": "&gt;",[m
[32m+[m[32m                                                       "&": "&amp;", "\"": "&quot;"};[m
[32m+[m[32m                    return text.replace(/[<>&"]/g, function(character) {[m
[32m+[m[32m                       return replacements[character];[m
[32m+[m[32m                    });[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                print(escapeHTML("The 'pre-formatted' tag is written \"<pre>\"."));[m
[32m+[m
[32m+[m[32m           The replacements object is a quick way to associate each character with its[m
[32m+[m[32m           escaped version. Using it like this is safe (i.e. no Dictionary object is needed),[m
[32m+[m[32mbecause the only properties that will be used are those matched by the[m
[32m+[m[32m/[<>&"]/ expression.[m
[32m+[m
[32m+[m[32mThere are cases where the pattern you need to match against is not known[m
[32m+[m[32mwhile you are writing the code. Say we are writing a (very simple-minded)[m
[32m+[m[32mobscenity filter for a message board. We only want to allow messages that do[m
[32m+[m[32mnot contain obscene words. The administrator of the board can specify a list[m
[32m+[m[32mof words that he or she considers unacceptable.[m
[32m+[m
[32m+[m[32mThe most efficient way to check a piece of text for a set of words is to use a[m
[32m+[m[32mregular expression. If we have our word list as an array, we can build the[m
[32m+[m[32mregular expression like this:[m
[32m+[m
[32m+[m[32m   var badWords = ["ape", "monkey", "simian", "gorilla", "evolution"];[m
[32m+[m[32m   var pattern = new RegExp(badWords.join("|"), "i");[m
[32m+[m[32m   function isAcceptable(text) {[m
[32m+[m
[32m+[m[32m       return !pattern.test(text);[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(isAcceptable("Mmmm, grapes."));[m
[32m+[m[32m   show(isAcceptable("No more of that monkeybusiness, now."));[m
[32m+[m
[32m+[m[32mWe could add \b patterns around the words, so that the thing about grapes[m
[32m+[m[32mwould not be classified as unacceptable. That would also make the second[m
[32m+[m[32mone acceptable, though, which is probably not correct. Obscenity filters are[m
[32m+[m[32mhard to get right (and usually way too annoying to be a good idea).[m
[32m+[m
[32m+[m[32mThe first argument to the RegExp constructor is a string containing the pattern,[m
[32m+[m[32mthe second argument can be used to add case-insensitivity or globalness.[m
[32m+[m[32mWhen building a string to hold the pattern, you have to be careful with[m
[32m+[m[32mbackslashes. Because, normally, backslashes are removed when a string is[m
[32m+[m[32minterpreted, any backslashes that must end up in the regular expression itself[m
[32m+[m[32mhave to be escaped:[m
[32m+[m
[32m+[m[32m   var digits = new RegExp("\\d+");[m
[32m+[m[32m   show(digits.test("101"));[m
[32m+[m
[32m+[m[32mThe most important thing to know about regular expressions is that they[m
[32m+[m[32mexist, and can greatly enhance the power of your string-mangling code. They[m
[32m+[m[32mare so cryptic that you'll probably have to look up the details on them the first[m
[32m+[m[32mten times you want to make use of them. Persevere, and you will soon be[m
[32m+[m[32moff-handedly writing expressions that look like occult gibberish[m
[32m+[m[32m(Comic by Randall Munroe.)[m
[32m+[m
[32m+[m[32m1. In this case, the backslashes were not really necessary, because the characters occur between [ and ], but it[m
[32m+[m[32m    is easier to just escape them anyway, so you won't have to think about it.[m
[32m+[m[32mChapter 11:[m
[32m+[m
[32m+[m[32m       You are probably reading this in a web browser, so you are likely to be at[m
[32m+[m[32m       least a little familiar with the World Wide Web. This chapter contains a quick,[m
[32m+[m[32m       superficial introduction to the various elements that make the web work, and[m
[32m+[m[32m       the way they relate to JavaScript. The three after this one are more practical,[m
[32m+[m[32m       and show some of the ways JavaScript can be used to inspect and change a[m
[32m+[m[32m       web-page.[m
[32m+[m
[32m+[m[32m       The Internet is, basically, just a computer network spanning most of the[m
[32m+[m[32m       world. Computer networks make it possible for computers to send each other[m
[32m+[m[32m       messages. The techniques that underlie networking are an interesting subject,[m
[32m+[m[32m       but not the subject of this book. All you have to know is that, typically, one[m
[32m+[m[32m       computer, which we will call the server, is waiting for other computers to start[m
[32m+[m[32m       talking to it. Once another computer, the client, opens communications with[m
[32m+[m[32m       this server, they will exchange whatever it is that needs to be exchanged[m
[32m+[m[32m       using some specific language, a protocol.[m
[32m+[m
[32m+[m[32m       The Internet is used to carry messages for many different protocols. There[m
[32m+[m[32m       are protocols for chatting, protocols for file sharing, protocols used by[m
[32m+[m[32m       malicious software to control the computer of the poor schmuck who installed[m
[32m+[m[32m       it, and so on. The protocol that is of interest to us is that used by the World[m
[32m+[m[32m       Wide Web. It is called HTTP, which stands for Hyper Text Transfer Protocol,[m
[32m+[m[32m       and is used to retrieve web-pages and the files associated with them.[m
[32m+[m
[32m+[m[32m       In HTTP communication, the server is the computer on which the web-page is[m
[32m+[m[32m       stored. The client is the computer, such as yours, which asks the server for a[m
[32m+[m[32m       page, so that it can display it. Asking for a page like this is called an 'HTTP[m
[32m+[m[32m       request'.[m
[32m+[m
[32m+[m[32m       Web-pages and other files that are accessible though the Internet are[m
[32m+[m[32m       identified by URLs, which is an abbreviation of Universal Resource Locators. A[m
[32m+[m[32m       URL looks like this:[m
[32m+[m
[32m+[m[32m            http://acc6.its.brooklyn.cuny.edu/~phalsall/texts/taote-v3.html[m
[32m+[m
[32m+[m[32m       It is composed of three parts. The start, http://, indicates that this URL uses[m
[32m+[m[32m       the HTTP protocol. There are some other protocols, such as FTP (File[m
[32m+[m[32m       Transfer Protocol), which also make use of URLs. The next part,[m
[32m+[m[32m       acc6.its.brooklyn.cuny.edu, names the server on which this page can be[m
[32m+[m[32m       found. The end of the URL, /~phalsal/texts/taote-v3.html, names a specific[m
[32m+[m[32m       file on this server.[m
[32m+[m
[32m+[m[32m       Most of the time, the World Wide Web is accessed using a browser. After[m
[32m+[m[32m       typing a URL or clicking a link, the browser makes the appropriate HTTP[m
[32m+[m[32m       request to the appropriate server. If all goes well, the server responds by[m
[32m+[m[32m       sending a file back to the browser, who shows it to the user in one way or[m
[32m+[m[32manother.[m
[32m+[m
[32m+[m[32mWhen, as in the example, the retrieved file is an HTML document, it will be[m
[32m+[m[32mdisplayed as a web-page. We briefly discussed HTML in chapter 6, where we[m
[32m+[m[32msaw that it could refer to image files. In chapter 9, we found that HTML[m
[32m+[m[32mpages can also contain <script> tags to load files of JavaScript code. When[m
[32m+[m[32mshowing an HTML document, a browser will fetch all these extra files from[m
[32m+[m[32mtheir servers, so it can add them to the document.[m
[32m+[m
[32m+[m[32mAlthough a URL is supposed to point at a file, it is possible for a web-server to[m
[32m+[m[32mdo something more complicated than just looking up a file and sending it to[m
[32m+[m[32mthe client. â€• It can process this file in some way first, or maybe there is no[m
[32m+[m[32mfile at all, but only a program that, given an URL, has some way of generating[m
[32m+[m[32mthe relevant document for it.[m
[32m+[m
[32m+[m[32mPrograms that transform or generate documents on a server are a popular[m
[32m+[m[32mway to make web-pages less static. When a file is just a file, it is always the[m
[32m+[m[32msame, but when there is a program that builds it every time it is requested, it[m
[32m+[m[32mcould be made to look different for each person, based on things like whether[m
[32m+[m[32mthis person has logged in or specified certain preferences. This can also make[m
[32m+[m[32mmanaging the content of web-pages much easier â€• instead of adding a new[m
[32m+[m[32mHTML file whenever something new is put on a website, a new document is[m
[32m+[m[32madded to some central storage, and the program knows where to find it and[m
[32m+[m[32mhow to show it to clients.[m
[32m+[m
[32m+[m[32mThis kind of web programming is called server-side programming. It affects[m
[32m+[m[32mthe document before it is sent to the user. In some cases, it is also practical[m
[32m+[m[32mto have a program that runs after the page has been sent, when the user is[m
[32m+[m[32mlooking at it. This is called client-side programming, because the program runs[m
[32m+[m[32mon the client computer. Client-side web programming is what JavaScript was[m
[32m+[m[32minvented for.[m
[32m+[m
[32m+[m[32mRunning programs client-side has an inherent problem. You can never really[m
[32m+[m[32mknow in advance what kinds of programs the page you are visiting is going to[m
[32m+[m[32mrun. If it can send information from your computer to others, damage[m
[32m+[m[32msomething, or infiltrate your system, surfing the web would be a rather[m
[32m+[m[32mhazardous activity.[m
[32m+[m
[32m+[m[32mTo solve this dilemma, browsers severely limit the things a JavaScript[m
[32m+[m[32mprogram may do. It is not allowed to look at your files, or to modify anything[m
[32m+[m[32mnot related to the web-page it came with. Isolating a programming[m
[32m+[m[32menvironment like this is called sand-boxing. Allowing the programs enough[m
[32m+[m[32mroom to be useful, and at the same time restricting them enough to prevent[m
[32m+[m[32mthem from doing harm is not an easy thing to do. Every few months, some[m
[32m+[m[32mJavaScript programmer comes up with a new way to circumvent the[m
[32m+[m[32mlimitations and do something harmful or privacy-invading. The people[m
[32m+[m[32mresponsible for the browsers respond by modifying their programs to make[m
[32m+[m[32mthis trick impossible, and all is well again â€• until the next problem is[m
[32m+[m[32mdiscovered.[m
[32m+[m
[32m+[m[32mOne of the first JavaScript tricks that became widely used is the open method[m
[32m+[m[32mof the window object. It takes a URL as an argument, and will open a new[m
[32m+[m[32mwindow showing that URL.[m
[32m+[m
[32m+[m[32m   var perry = window.open("http://www.pbfcomics.com");[m
[32m+[m
[32m+[m[32mUnless you turned off pop-up blocking in chapter 6, there's a chance that this[m
[32m+[m[32mnew window is blocked. There is a good reason pop-up blockers exist.[m
[32m+[m[32mWeb-programmers, especially those trying to get people to pay attention to[m
[32m+[m[32madvertisements, have abused the poor window.open method so much that by[m
[32m+[m[32mnow, most users hate it with a passion. It has its place though, and in this[m
[32m+[m[32mbook we will be using it to show some example pages. As a general rule, your[m
[32m+[m[32mscripts should not open any new windows unless the user asked for them.[m
[32m+[m
[32m+[m[32mNote that, because open (just like setTimeout and company) is a method on[m
[32m+[m[32mthe window object, the window. part can be left off. When a function is called[m
[32m+[m[32m'normally', it is called as a method on the top-level object, which is what[m
[32m+[m[32mwindow is. Personally, I think open sounds a bit generic, so I'll usually type[m
[32m+[m[32mwindow.open, which makes it clear that it is a window that is being opened.[m
[32m+[m
[32m+[m[32mThe value returned by window.open is a new window. This is the global object[m
[32m+[m[32mfor the script running in that window, and contains all the standard things like[m
[32m+[m[32mthe Object constructor and the Math object. But if you try to look at them,[m
[32m+[m[32mmost browsers will (probably) not let you...[m
[32m+[m
[32m+[m[32m   show(perry.Math);[m
[32m+[m
[32m+[m[32mThis is part of the sand-boxing that I mentioned earlier. Pages opened by[m
[32m+[m[32myour browser might show information that is meant only for you, for example[m
[32m+[m[32mon sites where you logged in, and thus it would be bad if any random script[m
[32m+[m[32mcould go and read them. The exception to this rule is pages opened on the[m
[32m+[m[32msame domain: When a script running on a page from eloquentjavascript.net[m
[32m+[m[32mopens another page on that same domain, it can do everything it wants to[m
[32m+[m[32mthis page.[m
[32m+[m
[32m+[m[32mAn opened window can be closed with its close method. If you didn't already[m
[32m+[m[32mclose it yourself...[m
[32m+[m
[32m+[m[32m   perry.close();[m
[32m+[m
[32m+[m[32mOther kinds of sub-documents, such as frames (documents-within-[m
[32m+[m[32ma-document), are also windows from the perspective of a JavaScript program,[m
[32m+[m[32mand have their own JavaScript environment. In fact, the environment that you[m
[32m+[m[32mhave access to in the console belongs to a small invisible frame hidden[m
[32m+[m[32msomewhere on this page â€• this way, it is slightly harder for you to[m
[32m+[m[32maccidentally mess up the whole page.[m
[32m+[m
[32m+[m[32mEvery window object has a document property, which contains an object[m
[32m+[m[32mrepresenting the document shown in that window. This object contains, for[m
[32m+[m[32mexample, a property location, with information about the URL of the[m
[32m+[m[32mdocument.[m
[32m+[m
[32m+[m[32m   show(document.location.href);[m
[32m+[m[32mSetting document.location.href to a new URL can be used to make the[m
[32m+[m[32mbrowser load another document. Another application of the document object is[m
[32m+[m[32mits write method. This method, when given a string argument, writes some[m
[32m+[m[32mHTML to the document. When it is used on a fully loaded document, it will[m
[32m+[m[32mreplace the whole document by the given HTML, which is usually not what you[m
[32m+[m[32mwant. The idea is to have a script call it while the document is being loaded, in[m
[32m+[m[32mwhich case the written HTML will be inserted into the document at the place[m
[32m+[m[32mof the script tag that triggered it. This is a simple way to add some dynamic[m
[32m+[m[32melements to a page. For example, here is a trivially simple document showing[m
[32m+[m[32mthe current time.[m
[32m+[m
[32m+[m[32m   print(timeWriter);[m
[32m+[m[32m   var time = viewHTML(timeWriter);[m
[32m+[m
[32m+[m[32m   time.close();[m
[32m+[m
[32m+[m[32mOften, the techniques shown in chapter 12 provide a cleaner and more[m
[32m+[m[32mversatile way to modify the document, but occasionally, document.write is the[m
[32m+[m[32mnicest, simplest way to do something.[m
[32m+[m
[32m+[m[32mAnother popular application of JavaScript in web pages centers around forms.[m
[32m+[m[32mIn case you are not quite sure what the role of 'forms' is, let me give a quick[m
[32m+[m[32msummary.[m
[32m+[m
[32m+[m[32mA basic HTTP request is a simple request for a file. When this file is not really[m
[32m+[m[32ma passive file, but a server-side program, it can become useful to include[m
[32m+[m[32minformation other than a filename in the request. For this purpose, HTTP[m
[32m+[m[32mrequests are allowed to contain additional 'parameters'. Here is an example:[m
[32m+[m
[32m+[m[32m   http://www.google.com/search?q=aztec%20empire[m
[32m+[m
[32m+[m[32mAfter the filename (/search), the URL continues with a question mark, after[m
[32m+[m[32mwhich the parameters follow. This request has one parameter, called q (for[m
[32m+[m[32m'query', presumably), whose value is aztec empire. The %20 part corresponds[m
[32m+[m[32mto a space. There are a number of characters that can not occur in these[m
[32m+[m[32mvalues, such as spaces, ampersands, or question marks. These are 'escaped'[m
[32m+[m[32mby replacing them with a % followed by their numerical value1, which serves[m
[32m+[m[32mthe same purpose as the backslashes used in strings and regular expressions,[m
[32m+[m[32mbut is even more unreadable.[m
[32m+[m
[32m+[m[32mJavaScript provides functions encodeURIComponent and decodeURIComponent to[m
[32m+[m[32madd these codes to strings and remove them again.[m
[32m+[m
[32m+[m[32m   var encoded = encodeURIComponent("aztec empire");[m
[32m+[m[32m   show(encoded);[m
[32m+[m[32m   show(decodeURIComponent(encoded));[m
[32m+[m
[32m+[m[32mWhen a request contains more than one parameter, they are separated by[m
[32m+[m[32mampersands, as in...[m
[32m+[m
[32m+[m[32m   http://www.google.com/search?q=aztec%20empire&lang=nl[m
[32m+[m[32mA form, basically, is a way to make it easy for browser-users to create such[m
[32m+[m[32mparameterised URLs. It contains a number of fields, such as input boxes for[m
[32m+[m[32mtext, checkboxes that can be 'checked' and 'unchecked', or thingies that allow[m
[32m+[m[32myou to choose from a given set of values. It also usually contains a 'submit'[m
[32m+[m[32mbutton and, invisible to the user, an 'action' URL to which it should be sent.[m
[32m+[m[32mWhen the submit button is clicked, or enter is pressed, the information that[m
[32m+[m[32mwas entered in the fields is added to this action URL as parameters, and the[m
[32m+[m[32mbrowser will request this URL.[m
[32m+[m
[32m+[m[32mHere is the HTML for a simple form:[m
[32m+[m
[32m+[m[32m   <form name="userinfo" method="get" action="info.html">[m
[32m+[m[32m       <p>Please give us your information, so that we can send[m
[32m+[m[32m       you spam.</p>[m
[32m+[m[32m       <p>Name: <input type="text" name="name"/></p>[m
[32m+[m[32m       <p>E-Mail: <input type="text" name="email"/></p>[m
[32m+[m[32m       <p>Sex: <select name="sex">[m
[32m+[m[32m                         <option>Male</option>[m
[32m+[m[32m                         <option>Female</option>[m
[32m+[m[32m                         <option>Other</option>[m
[32m+[m[32m                     </select></p>[m
[32m+[m[32m       <p><input name="send" type="submit" value="Send!"/></p>[m
[32m+[m
[32m+[m[32m   </form>[m
[32m+[m
[32m+[m[32mThe name of the form can be used to access it with JavaScript, as we shall[m
[32m+[m[32msee in a moment. The names of the fields determine the names of the HTTP[m
[32m+[m[32mparameters that are used to store their values. Sending this form might[m
[32m+[m[32mproduce a URL like this:[m
[32m+[m
[32m+[m[32m   http://planetspam.com/info.html?name=Ted&email=ted@zork.com&sex=Male[m
[32m+[m
[32m+[m[32mThere are quite some other tags and properties that can be used in forms,[m
[32m+[m[32mbut in this book we will stick with simple ones, so that we can concentrate on[m
[32m+[m[32mJavaScript.[m
[32m+[m
[32m+[m[32mThe method="get" property of the example form shown above indicates that[m
[32m+[m[32mthis form should encode the values it is given as URL parameters, as shown[m
[32m+[m[32mbefore. There is an alternative method for sending parameters, which is called[m
[32m+[m[32mpost. An HTTP request using the post method contains, in addition to a URL, a[m
[32m+[m[32mblock of data. A form using the post method puts the values of its parameters[m
[32m+[m[32min this data block instead of in the URL.[m
[32m+[m
[32m+[m[32mWhen sending big chunks of data, the get method will result in URLs that are[m
[32m+[m[32ma mile wide, so post is usually more convenient. But the difference between[m
[32m+[m[32mthe two methods is not just a question of convenience. Traditionally, get[m
[32m+[m[32mrequests are used for requests that just ask the server for some document,[m
[32m+[m[32mwhile post requests are used to take an action that changes something on the[m
[32m+[m[32mserver. For example, getting a list of recent messages on an Internet forum[m
[32m+[m[32mwould be a get request, while adding a new message would be a post[m
[32m+[m[32mrequest. There is a good reason why most pages follow this distinction â€•[m
[32m+[m[32mprograms that automatically explore the web, such as those used by search[m
[32m+[m[32mengines, will generally only make get requests. If changes to a site can be[m
[32m+[m[32mmade by get requests, these well-meaning 'crawlers' could do all kinds of[m
[32m+[m[32mdamage.[m
[32m+[m[32mWhen the browser is displaying a page containing a form, JavaScript[m
[32m+[m[32mprograms can inspect and modify the values that are entered in the form's[m
[32m+[m[32mfields. This opens up possibilities for all kinds of tricks, such as checking[m
[32m+[m[32mvalues before they are sent to the server, or automatically filling in certain[m
[32m+[m[32mfields.[m
[32m+[m[32mThe form shown above can be found in the file example_getinfo.html. Open it.[m
[32m+[m
[32m+[m[32m   var form = window.open("example_getinfo.html");[m
[32m+[m
[32m+[m[32mWhen a URL does not contain a server name, is called a relative URL. Relative[m
[32m+[m[32mURLs are interpreted by the browser to refer to files on the same server as[m
[32m+[m[32mthe current document. Unless they start with a slash, the path (or directory)[m
[32m+[m[32mof the current document is also retained, and the given path is appended to it.[m
[32m+[m[32mWe will be adding a validity check to the form, so that it only submits if the[m
[32m+[m[32mname field is not left empty and the e-mail field contains something that looks[m
[32m+[m[32mlike a valid e-mail address. Because we no longer want the form to submit[m
[32m+[m[32mimmediately when the 'Send!' button is pressed, its type property has been[m
[32m+[m[32mchanged from "submit" to "button", which turns it into a regular button with[m
[32m+[m[32mno effect. â€• Chapter 13 will show a much better way of doing this, but for[m
[32m+[m[32mnow, we use the naive method.[m
[32m+[m
[32m+[m[32mTo be able to work with the newly opened window (if you closed it, re-open it[m
[32m+[m[32mfirst), we 'attach' the console to it, like this:[m
[32m+[m
[32m+[m[32m   attach(form);[m
[32m+[m
[32m+[m[32mAfter doing this, the code run from the console will be run in the given[m
[32m+[m[32mwindow. To verify that we are indeed working with the correct window, we[m
[32m+[m[32mcan look at the document's location and title properties.[m
[32m+[m
[32m+[m[32m   print(document.location.href);[m
[32m+[m[32m   print(document.title);[m
[32m+[m
[32m+[m[32mBecause we have entered a new environment, previously defined variables,[m
[32m+[m[32msuch as form, are no longer present.[m
[32m+[m
[32m+[m[32m   show(form);[m
[32m+[m
[32m+[m[32mTo get back to our starting environment, we can use the detach function[m
[32m+[m[32m(without arguments). But first, we have to add that validation system to the[m
[32m+[m[32mform.[m
[32m+[m
[32m+[m[32mEvery HTML tag shown in a document has a JavaScript object associated with[m
[32m+[m[32mit. These objects can be used to inspect and manipulate almost every aspect[m
[32m+[m[32mof the document. In this chapter, we will work with the objects for forms and[m
[32m+[m[32mform fields, chapter 12 talks about these objects in more detail.[m
[32m+[m[32mThe document object has a property named forms, which contains links to all[m
[32m+[m[32m          the forms in the document, by name. Our form has a property[m
[32m+[m[32m          name="userinfo", so it can be found under the property userinfo.[m
[32m+[m
[32m+[m[32m             var userForm = document.forms.userinfo;[m
[32m+[m[32m             print(userForm.method);[m
[32m+[m[32m             print(userForm.action);[m
[32m+[m
[32m+[m[32m          In this case, the properties method and action that were given to the HTML[m
[32m+[m[32m          form tag are also present as properties of the JavaScript object. This is often[m
[32m+[m[32m          the case, but not always: Some HTML properties are spelled differently in[m
[32m+[m[32m          JavaScript, others are not present at all. Chapter 12 will show a way to get at[m
[32m+[m[32m          all properties.[m
[32m+[m
[32m+[m[32m          The object for the form tag has a property elements, which refers to an object[m
[32m+[m[32m          containing the fields of the form, by name.[m
[32m+[m
[32m+[m[32m             var nameField = userForm.elements.name;[m
[32m+[m[32m             nameField.value = "EugÃ¨ne";[m
[32m+[m
[32m+[m[32m          Text-input objects have a value property, which can be used to read and[m
[32m+[m[32m          change their content. If you look at the form window after running the above[m
[32m+[m[32m          code, you'll see that the name has been filled in.[m
[32m+[m
[32m+[m[32mEx. 11.1  Being able to read the values of the form fields makes it possible to write a[m
[32m+[m[32m          function validInfo, which takes a form object as its argument and returns a[m
[32m+[m[32m          boolean value: true when the name field is not empty and the email field[m
[32m+[m[32m          contains something that looks like an e-mail address, false otherwise. Write[m
[32m+[m[32m          this function.[m
[32m+[m
[32m+[m[32m             function validInfo(form) {[m
[32m+[m[32m                 return form.elements.name.value != "" &&[m
[32m+[m[32m                    /^.+@.+\.\w{2,3}$/.test(form.elements.email.value);[m
[32m+[m
[32m+[m[32m             }[m
[32m+[m
[32m+[m[32m             show(validInfo(document.forms.userinfo));[m
[32m+[m
[32m+[m[32m          You did think to use a regular expression for the e-mail check, didn't you?[m
[32m+[m
[32m+[m[32m          All we have to do now is determine what happens when people click the[m
[32m+[m[32m          'Send!' button. At the moment, it does not do anything at all. This can be[m
[32m+[m[32m          remedied by setting its onclick property.[m
[32m+[m
[32m+[m[32m             userForm.elements.send.onclick = function() {[m
[32m+[m[32m                 alert("Click.");[m
[32m+[m
[32m+[m[32m             };[m
[32m+[m
[32m+[m[32m          Just like the actions given to setInterval and setTimeout (chapter 8), the value[m
[32m+[m[32m          stored in an onclick (or similar) property can be either a function or a string[m
[32m+[m[32m          of JavaScript code. In this case, we give it a function that opens an alert[m
[32m+[m[32m          window. Try clicking it.[m
[32m+[m[32mEx. 11.2  Finish the form validator by giving the button's onclick property a new value[m
[32m+[m[32m          â€• a function that checks the form, submits when it is valid, or pops up a[m
[32m+[m[32m          warning message when it is not. It will be useful to know that form objects[m
[32m+[m[32m          have a submit method that takes no parameters and submits the form.[m
[32m+[m
[32m+[m[32m          userForm.elements.send.onclick = function() {[m
[32m+[m[32m             if (validInfo(userForm))[m
[32m+[m[32m                 userForm.submit();[m
[32m+[m[32m             else[m
[32m+[m[32m                 alert("Give us a name and a valid e-mail address!");[m
[32m+[m
[32m+[m[32m          };[m
[32m+[m
[32m+[m[32m          Another trick related to form inputs, as well as other things that can be[m
[32m+[m[32m          'selected', such as buttons and links, is the focus method. When you know for[m
[32m+[m[32m          sure that a user will want to start typing in a certain text field as soon as he[m
[32m+[m[32m          enters the page, you can have your script start by placing the cursor in it, so[m
[32m+[m[32m          he won't have to click it or select it in some other way.[m
[32m+[m
[32m+[m[32m             userForm.elements.name.focus();[m
[32m+[m
[32m+[m[32m          Because the form sits in another window, it may not be obvious that[m
[32m+[m[32m          something was selected, depending on the browser you are using. Some[m
[32m+[m[32m          pages also automatically make the cursor jump to the next field when it looks[m
[32m+[m[32m          like you finished filling in one field â€• for example, when you type a zip code.[m
[32m+[m[32m          This should not be overdone â€• it makes the page behave in a way the user[m
[32m+[m[32m          does not expect. If he is used to pressing tab to move the cursor manually, or[m
[32m+[m[32m          mistyped the last character and wants to remove it, such magic cursor-[m
[32m+[m[32m          jumping is very annoying.[m
[32m+[m
[32m+[m[32m             detach();[m
[32m+[m
[32m+[m[32m          Test the validator. When you enter valid information and click the button, the[m
[32m+[m[32m          form should submit. If the console was still attached to it, this will cause it to[m
[32m+[m[32m          detach itself, because the page reloads and the JavaScript environment is[m
[32m+[m[32m          replaced by a new one.[m
[32m+[m
[32m+[m[32m          If you haven't closed the form window yet, this will close it.[m
[32m+[m
[32m+[m[32m             form.close();[m
[32m+[m
[32m+[m[32m          The above may look easy, but let me assure you, client-side web[m
[32m+[m[32m          programming is no walk in the park. It can, at times, be a very painful ordeal.[m
[32m+[m[32m          Why? Because programs that are supposed to run on the client computer[m
[32m+[m[32m          generally have to work for all popular browsers. Each of these browsers tends[m
[32m+[m[32m          to work slightly different. To make things worse, each of them contains a[m
[32m+[m[32m          unique set of problems. Do not assume that a program is bug-free just[m
[32m+[m[32m          because it was made by a multi-billion dollar company. So it is up to us, the[m
[32m+[m[32m          web-programmer, to rigorously test our programs, figure out what goes[m
[32m+[m[32m          wrong, and find ways to work around it.[m
[32m+[m[32mSome of you might think "I will just report any problems/bugs I find to the[m
[32m+[m[32mbrowser manufacturers, and they will certainly solve fix them immediately".[m
[32m+[m[32mThese people are in for a major disappointment. The most recent version of[m
[32m+[m[32mInternet Explorer, the browser that is still used by some seventy percent of[m
[32m+[m[32mweb-surfers (and that every web-developer likes to rag on) still contains bugs[m
[32m+[m[32mthat have been known for over five years. Serious bugs, too.[m
[32m+[m
[32m+[m[32mBut do not let that discourage you. With the right kind of obsessive-[m
[32m+[m[32mcompulsive mindset, such problems provide wonderful challenges. And for[m
[32m+[m[32mthose of us who do not like wasting our time, being careful and avoiding the[m
[32m+[m[32mobscure corners of the browser's functionality will generally prevent you from[m
[32m+[m[32mrunning into too much trouble.[m
[32m+[m
[32m+[m[32mBugs aside, the by-design differences in interface between browsers still[m
[32m+[m[32mmake for an interesting challenge. The current situation looks something like[m
[32m+[m[32mthis: On the one hand, there are all the 'small' browsers: Firefox, Safari, and[m
[32m+[m[32mOpera are the most important ones, but there are more. These browsers all[m
[32m+[m[32mmake a reasonable effort to adhere to a set of standards that have been[m
[32m+[m[32mdeveloped, or are being developed, by the W3C, an organisation that tries to[m
[32m+[m[32mmake the Web a less confusing place by defining standard interfaces for[m
[32m+[m[32mthings like this. On the other hand, there is Internet Explorer, Microsoft's[m
[32m+[m[32mbrowser, which rose to dominance in a time when many of these standards[m
[32m+[m[32mdid not really exist yet, and hasn't made much effort to adjust itself to what[m
[32m+[m[32mother people are doing.[m
[32m+[m
[32m+[m[32mIn some areas, such as the way the content of an HTML document can be[m
[32m+[m[32mapproached from JavaScript (chapter 12), the standards are based on the[m
[32m+[m[32mmethod that Internet Explorer invented, and things work more or less the[m
[32m+[m[32msame on all browsers. In other areas, such as the way events (mouse-clicks,[m
[32m+[m[32mkey-presses, and such) are handled (chapter 13), Internet Explorer works[m
[32m+[m[32mradically different from other browsers.[m
[32m+[m
[32m+[m[32mFor a long time, owing partially to the cluelessness of the average JavaScript[m
[32m+[m[32mdeveloper, and partially to the fact that browser incompatibilities were much[m
[32m+[m[32mworse when browsers like Internet Explorer version 4 or 5 and old versions of[m
[32m+[m[32mNetscape were still common, the usual way to deal with such differences was[m
[32m+[m[32mto detect which browser the user was running, and litter code with alternate[m
[32m+[m[32msolutions for each browser â€• if this is Internet Explorer, do this, if this is[m
[32m+[m[32mNetscape, do that, and if this is other browser that we didn't think of, just[m
[32m+[m[32mhope for the best. You can imagine how hideous, confusing, and long such[m
[32m+[m[32mprograms were.[m
[32m+[m
[32m+[m[32mMany sites would also just refuse to load when opened in a browser that was[m
[32m+[m[32m'not supported'. This caused a few of the minor browsers to swallow their[m
[32m+[m[32mpride and pretend they were Internet Explorer, just so they would be allowed[m
[32m+[m[32mto load such pages. The properties of the navigator object contain information[m
[32m+[m[32mabout the browser that a page was loaded in, but because of such lying this[m
[32m+[m[32minformation is not particularly reliable. See what yours says2:[m
[32m+[m
[32m+[m[32m   forEachIn(navigator, function(name, value) {[m
[32m+[m[32m       print(name, " = ", value);[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m[32mA better approach is to try and 'isolate' our programs from differences in[m
[32m+[m[32mbrowsers. If you need, for example, to find out more about an event, such as[m
[32m+[m[32mthe clicks we handled by setting the onclick property of our send button, you[m
[32m+[m[32mhave to look at the top-level object called event on Internet Explorer, but you[m
[32m+[m[32mhave to use the first argument passed to the event-handling function on other[m
[32m+[m[32mbrowsers. To handle this, and a number of other differences related to[m
[32m+[m[32mevents, one can write a helper function for attaching events to things, which[m
[32m+[m[32mtakes care of all the plumbing and allows the event-handling functions[m
[32m+[m[32mthemselves to be the same for all browsers. In chapter 13 we will write such[m
[32m+[m[32ma function.[m
[32m+[m
[32m+[m[32m(Note: The browser quirks mentioned in the following chapters refer to the[m
[32m+[m[32mstate of affairs in early 2007, and might no longer be accurate on some[m
[32m+[m[32mpoints.)[m
[32m+[m
[32m+[m[32mThese chapters will only give a somewhat superficial introduction to the[m
[32m+[m[32msubject of browser interfaces. They are not the main subject of this book, and[m
[32m+[m[32mthey are complex enough to fill a thick book on their own. When you[m
[32m+[m[32munderstand the basics of these interfaces (and understand something about[m
[32m+[m[32mHTML), it is not too hard to look for specific information online. The interface[m
[32m+[m[32mdocumentation for the Firefox and Internet Explorer browsers are a good[m
[32m+[m[32mplace to start.[m
[32m+[m
[32m+[m[32mThe information in the next chapters will not deal with the quirks of 'previous-[m
[32m+[m[32mgeneration' browsers. They deal with Internet Explorer 6, Firefox 1.5, Opera[m
[32m+[m[32m9, Safari 3, or any more recent versions of the same browsers. Most of it will[m
[32m+[m[32malso probably be relevant to modern but obscure browsers such as[m
[32m+[m[32mKonqueror, but this has not been extensively checked. Fortunately, these[m
[32m+[m[32mprevious-generation browsers have pretty much died out, and are hardly used[m
[32m+[m[32manymore.[m
[32m+[m
[32m+[m[32mThere is, however, a group of web-users that will still use a browser without[m
[32m+[m[32mJavaScript. A large part of this group consists of people using a regular[m
[32m+[m[32mgraphical browser, but with JavaScript disabled for security reasons. Then[m
[32m+[m[32mthere are people using textual browsers, or browsers for blind people. When[m
[32m+[m[32mworking on a 'serious' site, it is often a good idea to start with a plain HTML[m
[32m+[m[32msystem that works, and then add non-essential tricks and conveniences with[m
[32m+[m[32mJavaScript.[m
[32m+[m
[32m+[m[32m1. The value a character gets is decided by the ASCII standard, which assigns the numbers 0 to 127 to a set of[m
[32m+[m[32m    letters and symbols used by the Latin alphabet. This standard is a precursor of the Unicode standard[m
[32m+[m[32m    mentioned in chapter 2.[m
[32m+[m
[32m+[m[32m2. Some browsers seem to hide the properties of the navigator object, in which case this will print nothing.[m
[32m+[m[32mChapter 12:[m
[32m+[m
[32m+[m[32m       In chapter 11 we saw JavaScript objects referring to form and input tags from[m
[32m+[m[32m       the HTML document. Such objects are part of a structure called the[m
[32m+[m[32m       Document-Object Model (DOM). Every tag of the document is represented in[m
[32m+[m[32m       this model, and can be looked up and interacted with.[m
[32m+[m[32m       HTML documents have what is called a hierarchical structure. Each element[m
[32m+[m[32m       (or tag) except the top <html> tag is contained in another element, its parent.[m
[32m+[m[32m       This element can in turn contain child elements. You can visualise this as a[m
[32m+[m[32m       kind of family tree:[m
[32m+[m
[32m+[m[32m       The document-object model is based on such a view of the document. Note[m
[32m+[m[32m       that the tree contains two types of elements: Nodes, which are shown as blue[m
[32m+[m[32m       boxes, and pieces of simple text. The pieces of text, as we will see, work[m
[32m+[m[32m       somewhat different than the other elements. For one thing, they never have[m
[32m+[m[32m       children.[m
[32m+[m[32m       Open the file example_alchemy.html, which contains the document shown in the[m
[32m+[m[32m       picture, and attach the console to it.[m
[32m+[m
[32m+[m[32m            attach(window.open("example_alchemy.html"));[m
[32m+[m
[32m+[m[32m       The object for the root of the document tree, the html node, can be reached[m
[32m+[m[32m       through the documentElement property of the document object. Most of the time,[m
[32m+[m[32m       we need access to the body part of the document instead, which is at[m
[32m+[m[32m       document.body.[m
[32m+[m
[32m+[m[32m       The links between these nodes are available as properties of the node[m
[32m+[m[32m       objects. Every DOM object has a parentNode property, which refers to the[m
[32m+[m[32m       object in which it is contained, if any. These parents also have links pointing[m
[32m+[m[32m       back to their children, but because there can be more than one child, these[m
[32m+[m[32m       are stored in a pseudo-array called childNodes.[m
[32m+[m
[32m+[m[32m            show(document.body);[m
[32m+[m[32m             show(document.body.parentNode);[m
[32m+[m[32m             show(document.body.childNodes.length);[m
[32m+[m
[32m+[m[32m          For convenience, there are also links called firstChild and lastChild, pointing[m
[32m+[m[32m          at the first and last child inside a node, or null when there are no children.[m
[32m+[m
[32m+[m[32m             show(document.documentElement.firstChild);[m
[32m+[m[32m             show(document.documentElement.lastChild);[m
[32m+[m
[32m+[m[32m          Finally, there are properties called nextSibling and previousSibling, which[m
[32m+[m[32m          point at the nodes sitting 'next' to a node â€• nodes that are children of the[m
[32m+[m[32m          same parent, coming before or after the current node. Again, when there is[m
[32m+[m[32m          no such sibling, the value of these properties is null.[m
[32m+[m
[32m+[m[32m             show(document.body.previousSibling);[m
[32m+[m[32m             show(document.body.nextSibling);[m
[32m+[m
[32m+[m[32m          To find out whether a node represents a simple piece of text or an actual[m
[32m+[m[32m          HTML node, we can look at its nodeType property. This contains a number, 1[m
[32m+[m[32m          for regular nodes and 3 for text nodes. There are actually other kinds of[m
[32m+[m[32m          objects with a nodeType, such as the document object, which has 9, but the[m
[32m+[m[32m          most common use for this property is distinguishing between text nodes and[m
[32m+[m[32m          other nodes.[m
[32m+[m
[32m+[m[32m             function isTextNode(node) {[m
[32m+[m[32m                 return node.nodeType == 3;[m
[32m+[m
[32m+[m[32m             }[m
[32m+[m
[32m+[m[32m             show(isTextNode(document.body));[m
[32m+[m[32m             show(isTextNode(document.body.firstChild.firstChild));[m
[32m+[m
[32m+[m[32m          Regular nodes have a property called nodeName, indicating the type of HTML[m
[32m+[m[32m          tag that they represent. Text nodes, on the other hand, have a nodeValue,[m
[32m+[m[32m          containing their text content.[m
[32m+[m
[32m+[m[32m             show(document.body.firstChild.nodeName);[m
[32m+[m[32m             show(document.body.firstChild.firstChild.nodeValue);[m
[32m+[m
[32m+[m[32m          The nodeNames are always capitalised, which is something you need to take[m
[32m+[m[32m          into account if you ever want to compare them to something.[m
[32m+[m
[32m+[m[32m             function isImage(node) {[m
[32m+[m[32m                 return !isTextNode(node) && node.nodeName == "IMG";[m
[32m+[m
[32m+[m[32m             }[m
[32m+[m
[32m+[m[32m             show(isImage(document.body.lastChild));[m
[32m+[m
[32m+[m[32mEx. 12.1  Write a function asHTML which, when given a DOM node, produces a string[m
[32m+[m[32m          representing the HTML text for that node and its children. You may ignore[m
[32m+[m[32m          attributes, just show nodes as <nodename>. The escapeHTML function from[m
[32m+[m[32m          chapter 10 is available to properly escape the content of text nodes.[m
[32m+[m
[32m+[m[32m          Hint: Recursion![m
[32m+[m[32m   function asHTML(node) {[m
[32m+[m[32m       if (isTextNode(node))[m
[32m+[m[32m          return escapeHTML(node.nodeValue);[m
[32m+[m[32m       else if (node.childNodes.length == 0)[m
[32m+[m[32m          return "<" + node.nodeName + "/>";[m
[32m+[m[32m       else[m
[32m+[m[32m          return "<" + node.nodeName + ">" +[m
[32m+[m[32m                       map(asHTML, node.childNodes).join("") +[m
[32m+[m[32m                       "</" + node.nodeName + ">";[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   print(asHTML(document.body));[m
[32m+[m
[32m+[m[32mNodes, in fact, already have something similar to asHTML. Their innerHTML[m
[32m+[m[32mproperty can be used to retrieve the HTML text inside of the node, without[m
[32m+[m[32mthe tags for the node itself. Some browsers also support outerHTML, which[m
[32m+[m[32mdoes include the node itself, but not all of them.[m
[32m+[m
[32m+[m[32m   print(document.body.innerHTML);[m
[32m+[m
[32m+[m[32mSome of these properties can also be modified. Setting the innerHTML of a[m
[32m+[m[32mnode or the nodeValue of a text-node will change its content. Note that, in the[m
[32m+[m[32mfirst case, the given string is interpreted as HTML, while in the second case it[m
[32m+[m[32mis interpreted as plain text.[m
[32m+[m
[32m+[m[32m   document.body.firstChild.firstChild.nodeValue =[m
[32m+[m[32m       "Chapter 1: The deep significance of the bottle";[m
[32m+[m
[32m+[m[32mOr ...[m
[32m+[m
[32m+[m[32m   document.body.firstChild.innerHTML =[m
[32m+[m[32m       "Did you know the 'blink' tag yet? <blink>Joy!</blink>";[m
[32m+[m
[32m+[m[32mWe have been accessing nodes by going through a series of firstChild and[m
[32m+[m[32mlastChild properties. This can work, but it is verbose and easy to break â€• if[m
[32m+[m[32mwe add another node at the start of our document, document.body.firstChild[m
[32m+[m[32mno longer refers to the h1 element, and code which assumes it does will go[m
[32m+[m[32mwrong. On top of that, some browsers will add text-nodes for things like[m
[32m+[m[32mspaces and newlines between tags, while others do not, so that the exact[m
[32m+[m[32mlayout of the DOM tree can vary.[m
[32m+[m
[32m+[m[32mAn alternative to this is to give elements that you need to have access to an[m
[32m+[m[32mid attribute. In the example page, the picture has an id "picture", and we can[m
[32m+[m[32muse this to look it up.[m
[32m+[m
[32m+[m[32m   var picture = document.getElementById("picture");[m
[32m+[m[32m   show(picture.src);[m
[32m+[m[32m   picture.src = "img/ostrich.png";[m
[32m+[m
[32m+[m[32mWhen typing getElementById, note that the last letter is lowercase. Also, when[m
[32m+[m[32mtyping it a lot, beware of carpal-tunnel syndrome. Because[m
[32m+[m[32mdocument.getElementById is a ridiculously long name for a very common[m
[32m+[m[32moperation, it has become a convention among JavaScript programmers to[m
[32m+[m[32maggressively abbreviate it to $. $, as you might remember, is considered a[m
[32m+[m[32mletter by JavaScript, and is thus a valid variable name.[m
[32m+[m
[32m+[m[32m   function $(id) {[m
[32m+[m[32m       return document.getElementById(id);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   show($("picture"));[m
[32m+[m
[32m+[m[32mDOM nodes also have a method getElementsByTagName (another nice, short[m
[32m+[m[32mname), which, when given a tag name, returns an array of all nodes of that[m
[32m+[m[32mtype contained in the node it was called on.[m
[32m+[m
[32m+[m[32m   show(document.body.getElementsByTagName("BLINK")[0]);[m
[32m+[m
[32m+[m[32mAnother thing we can do with these DOM nodes is creating new ones[m
[32m+[m[32mourselves. This makes it possible to add pieces to a document at will, which[m
[32m+[m[32mcan be used to create some interesting effects. Unfortunately, the interface[m
[32m+[m[32mfor doing this is extremely clumsy. But that can be remedied with some helper[m
[32m+[m[32mfunctions.[m
[32m+[m
[32m+[m[32mThe document object has createElement and createTextNode methods. The first[m
[32m+[m[32mis used to create regular nodes, the second, as the name suggests, creates[m
[32m+[m[32mtext nodes.[m
[32m+[m
[32m+[m[32m   var secondHeader = document.createElement("H1");[m
[32m+[m[32m   var secondTitle = document.createTextNode("Chapter 2: Deep magic");[m
[32m+[m
[32m+[m[32mNext, we'll want to put the title name into the h1 element, and then add the[m
[32m+[m[32melement to the document. The simplest way to do this is the appendChild[m
[32m+[m[32mmethod, which can be called on every (non-text) node.[m
[32m+[m
[32m+[m[32m   secondHeader.appendChild(secondTitle);[m
[32m+[m[32m   document.body.appendChild(secondHeader);[m
[32m+[m
[32m+[m[32mOften, you will also want to give these new nodes some attributes. For[m
[32m+[m[32mexample, an img (image) tag is rather useless without an src property telling[m
[32m+[m[32mthe browser which image it should show. Most attributes can be approached[m
[32m+[m[32mdirectly as properties of the DOM nodes, but there are also methods[m
[32m+[m[32msetAttribute and getAttribute, which are used to access attributes in a more[m
[32m+[m[32mgeneral way:[m
[32m+[m
[32m+[m[32m   var newImage = document.createElement("IMG");[m
[32m+[m[32m   newImage.setAttribute("src", "img/Hiva Oa.png");[m
[32m+[m[32m   document.body.appendChild(newImage);[m
[32m+[m[32m   show(newImage.getAttribute("src"));[m
[32m+[m
[32m+[m[32mBut, when we want to build more than a few simple nodes, it gets very[m
[32m+[m[32mtiresome to create every single node with a call to document.createElement or[m
[32m+[m[32mdocument.createTextNode, and then add its attributes and child nodes one by[m
[32m+[m[32mone. Fortunately, it is not hard to write a function to do most of the work for[m
[32m+[m[32mus. Before we do so, there is one little detail to take care of â€• the[m
[32m+[m[32msetAttribute method, while working fine on most browsers, does not always[m
[32m+[m[32mwork on Internet Explorer. The names of a few HTML attributes already have[m
[32m+[m[32ma special meaning in JavaScript, and thus the corresponding object properties[m
[32m+[m[32mgot an adjusted name. Specifically, the class attribute becomes className, for[m
[32m+[m[32mbecomes htmlFor, and checked is renamed to defaultChecked. On Internet[m
[32m+[m[32mExplorer, setAttribute and getAttribute also work with these adjusted names,[m
[32m+[m[32minstead of the original HTML names, which can be confusing. On top of that[m
[32m+[m[32mthe style attribute, which, along with class, will be discussed later in this[m
[32m+[m[32mchapter, can not be set with setAttribute on that browser.[m
[32m+[m
[32m+[m[32mA workaround would look something like this:[m
[32m+[m
[32m+[m[32m   function setNodeAttribute(node, attribute, value) {[m
[32m+[m[32m       if (attribute == "class")[m
[32m+[m[32m          node.className = value;[m
[32m+[m[32m       else if (attribute == "checked")[m
[32m+[m[32m          node.defaultChecked = value;[m
[32m+[m[32m       else if (attribute == "for")[m
[32m+[m[32m          node.htmlFor = value;[m
[32m+[m[32m       else if (attribute == "style")[m
[32m+[m[32m          node.style.cssText = value;[m
[32m+[m[32m       else[m
[32m+[m[32m          node.setAttribute(attribute, value);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mFor every case where Internet Explorer deviates from other browsers, it does[m
[32m+[m[32msomething that works in all cases. Don't worry about the details â€• this is the[m
[32m+[m[32mkind of ugly trick that we'd rather not need, but which non-conforming[m
[32m+[m[32mbrowsers force us to write. Having this, it is possible to write a simple function[m
[32m+[m[32mfor building DOM elements.[m
[32m+[m
[32m+[m[32m   function dom(name, attributes) {[m
[32m+[m[32m       var node = document.createElement(name);[m
[32m+[m[32m       if (attributes) {[m
[32m+[m[32m          forEachIn(attributes, function(name, value) {[m
[32m+[m[32m              setNodeAttribute(node, name, value);[m
[32m+[m[32m          });[m
[32m+[m[32m       }[m
[32m+[m[32m       for (var i = 2; i < arguments.length; i++) {[m
[32m+[m[32m          var child = arguments[i];[m
[32m+[m[32m          if (typeof child == "string")[m
[32m+[m[32m              child = document.createTextNode(child);[m
[32m+[m[32m          node.appendChild(child);[m
[32m+[m[32m       }[m
[32m+[m[32m       return node;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var newParagraph =[m
[32m+[m[32m       dom("P", null, "A paragraph with a ",[m
[32m+[m[32m              dom("A", {href: "http://en.wikipedia.org/wiki/Alchemy"},[m
[32m+[m[32m                     "link"),[m
[32m+[m[32m              " inside of it.");[m
[32m+[m
[32m+[m[32m   document.body.appendChild(newParagraph);[m
[32m+[m
[32m+[m[32mThe dom function creates a DOM node. Its first argument gives the tag name[m
[32m+[m[32mof the node, its second argument is an object containing the attributes of the[m
[32m+[m[32mnode, or null when no attributes are needed. After that, any amount of[m
[32m+[m[32marguments may follow, and these are added to the node as child nodes.[m
[32m+[m[32mWhen strings appear here, they are first put into a text node.[m
[32m+[m[32m           appendChild is not the only way nodes can be inserted into another node.[m
[32m+[m[32m           When the new node should not appear at the end of its parent, the[m
[32m+[m[32m           insertBefore method can be used to place it in front of another child node. It[m
[32m+[m[32m           takes the new node as a first argument, and the existing child as second[m
[32m+[m[32m           argument.[m
[32m+[m
[32m+[m[32m                var link = newParagraph.childNodes[1];[m
[32m+[m[32m                newParagraph.insertBefore(dom("STRONG", null, "great "), link);[m
[32m+[m
[32m+[m[32m           If a node that already has a parentNode is placed somewhere, it is[m
[32m+[m[32m           automatically removed from its current position â€• nodes can not exist in the[m
[32m+[m[32m           document in more than one place.[m
[32m+[m[32m           When a node must be replaced by another one, use the replaceChild method,[m
[32m+[m[32m           which again takes the new node as first argument and the existing one as[m
[32m+[m[32m           second argument.[m
[32m+[m
[32m+[m[32m                newParagraph.replaceChild(document.createTextNode("lousy "),[m
[32m+[m[32m                                                               newParagraph.childNodes[1]);[m
[32m+[m
[32m+[m[32m           And, finally, there is removeChild to remove a child node. Note that this is[m
[32m+[m[32m           called on the parent of the node to be removed, giving the child as argument.[m
[32m+[m
[32m+[m[32m                newParagraph.removeChild(newParagraph.childNodes[1]);[m
[32m+[m
[32m+[m[32mEx. 12.2 Write the convenient function removeElement which removes the DOM node it[m
[32m+[m[32m           is given as an argument from its parent node.[m
[32m+[m
[32m+[m[32m                function removeElement(node) {[m
[32m+[m[32m                    if (node.parentNode)[m
[32m+[m[32m                       node.parentNode.removeChild(node);[m
[32m+[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                removeElement(newParagraph);[m
[32m+[m
[32m+[m[32m           When creating new nodes and moving nodes around it is necessary to be[m
[32m+[m[32m           aware of the following rule: Nodes are not allowed to be inserted into another[m
[32m+[m[32m           document from the one in which they were created. This means that if you[m
[32m+[m[32m           have extra frames or windows open, you can not take a piece of the[m
[32m+[m[32m           document from one and move it to another, and nodes created with methods[m
[32m+[m[32m           on one document object must stay in that document. Some browsers, notably[m
[32m+[m[32m           Firefox, do not enforce this restriction, and thus a program which violates it[m
[32m+[m[32m           will work fine in those browsers but break on others.[m
[32m+[m
[32m+[m[32m           An example of something useful that can be done with this dom function is a[m
[32m+[m[32m           program that takes JavaScript objects and summarises them in a table.[m
[32m+[m[32m           Tables, in HTML, are created with a set of tags starting with ts, something[m
[32m+[m[32m           like this:[m
[32m+[m
[32m+[m[32m                <table>[m
[32m+[m[32m                    <tbody>[m
[32m+[m[32m                       <tr> <th>Tree </th> <th>Flowers</th> </tr>[m
[32m+[m[32m                       <tr> <td>Apple</td> <td>White </td> </tr>[m
[32m+[m[32m                       <tr> <td>Coral</td> <td>Red </td> </tr>[m
[32m+[m[32m                       <tr> <td>Pine </td> <td>None </td> </tr>[m
[32m+[m
[32m+[m[32m                    </tbody>[m
[32m+[m[32m                </table>[m
[32m+[m
[32m+[m[32m           Each tr element is a row of the table. th and td elements are the cells of the[m
[32m+[m[32m           table, tds are normal data cells, th cells are 'header' cells, which will be[m
[32m+[m[32m           displayed in a slightly more prominent way. The tbody (table body) tag does[m
[32m+[m[32m           not have to be included when a table is written as HTML, but when building a[m
[32m+[m[32m           table from DOM nodes it should be added, because Internet Explorer refuses[m
[32m+[m[32m           to display tables created without a tbody.[m
[32m+[m
[32m+[m[32mEx. 12.3 The function makeTable takes two arrays as arguments. The first contains the[m
[32m+[m[32m           JavaScript objects that it should summarise, and the second contains strings,[m
[32m+[m[32m           which name the columns of the table and the properties of the objects that[m
[32m+[m[32m           should be shown in these columns. For example, the following will produce the[m
[32m+[m[32m           table above:[m
[32m+[m
[32m+[m[32m                makeTable([{Tree: "Apple", Flowers: "White"},[m
[32m+[m[32m                                    {Tree: "Coral", Flowers: "Red"},[m
[32m+[m[32m                                    {Tree: "Pine", Flowers: "None"}],[m
[32m+[m
[32m+[m[32m                                  ["Tree", "Flowers"]);[m
[32m+[m
[32m+[m[32m           Write this function.[m
[32m+[m
[32m+[m[32m                function makeTable(data, columns) {[m
[32m+[m[32m                    var headRow = dom("TR");[m
[32m+[m[32m                    forEach(columns, function(name) {[m
[32m+[m[32m                       headRow.appendChild(dom("TH", null, name));[m
[32m+[m[32m                    });[m
[32m+[m
[32m+[m[32m                    var body = dom("TBODY", null, headRow);[m
[32m+[m[32m                    forEach(data, function(object) {[m
[32m+[m
[32m+[m[32m                       var row = dom("TR");[m
[32m+[m[32m                       forEach(columns, function(name) {[m
[32m+[m
[32m+[m[32m                           row.appendChild(dom("TD", null, String(object[name])));[m
[32m+[m[32m                       });[m
[32m+[m[32m                       body.appendChild(row);[m
[32m+[m[32m                    });[m
[32m+[m
[32m+[m[32m                    return dom("TABLE", null, body);[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                var table = makeTable(document.body.childNodes,[m
[32m+[m[32m                                                       ["nodeType", "tagName"]);[m
[32m+[m
[32m+[m[32m                document.body.appendChild(table);[m
[32m+[m
[32m+[m[32m           Do not forget to convert the values from the objects to strings before adding[m
[32m+[m[32m           them to the table â€• our dom function only understands strings and DOM[m
[32m+[m[32m           nodes.[m
[32m+[m
[32m+[m[32m           Closely tied to HTML and the document-object model is the topic of style-[m
[32m+[m[32m           sheets. It is a big topic, and I will not discuss it entirely, but some[m
[32m+[m[32munderstanding of style-sheets is necessary for a lot of interesting JavaScript[m
[32m+[m[32mtechniques, so we will go over the basics.[m
[32m+[m
[32m+[m[32mIn old-fashioned HTML, the only way to change the appearance of elements[m
[32m+[m[32min a document was to give them extra attributes or to wrap them in extra[m
[32m+[m[32mtags, such as center to center them horizontally, or font to change the font[m
[32m+[m[32mstyle or colour. Most of the time, this meant that if you wanted the[m
[32m+[m[32mparagraphs or the tables in your document to look a certain way, you had to[m
[32m+[m[32madd a bunch of attributes and tags to every single one of them. This quickly[m
[32m+[m[32madds a lot of noise to such documents, and makes them very painful to write[m
[32m+[m[32mor change by hand.[m
[32m+[m
[32m+[m[32mOf course, people being the inventive monkeys they are, someone came up[m
[32m+[m[32mwith a solution. Style-sheets are a way to make statements like 'in this[m
[32m+[m[32mdocument, all paragraphs use the Comic Sans font, and are purple, and all[m
[32m+[m[32mtables have a thick green border'. You specify them once, at the top of the[m
[32m+[m[32mdocument or in a separate file, and they affect the whole document. Here, for[m
[32m+[m[32mexample, is a style-sheet to make headers 22 points big and centered, and[m
[32m+[m[32mmake paragraphs use the font and colour mentioned earlier, when they are of[m
[32m+[m[32mthe 'ugly' class.[m
[32m+[m
[32m+[m[32m   <style type="text/css">[m
[32m+[m[32m       h1 {[m
[32m+[m[32m          font-size: 22pt;[m
[32m+[m[32m          text-align: center;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       p.ugly {[m
[32m+[m[32m          font-family: Comic Sans MS;[m
[32m+[m[32m          color: purple;[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m   </style>[m
[32m+[m
[32m+[m[32mClasses are a concept related to styles. If you have different kinds of[m
[32m+[m[32mparagraphs, ugly ones and nice ones for example, setting the style for all p[m
[32m+[m[32melements is not what you want, so classes can be used to distinguish between[m
[32m+[m[32mthem. The above style will only be applied to paragraphs like this:[m
[32m+[m
[32m+[m[32m   <p class="ugly">Mirror, mirror...</p>[m
[32m+[m
[32m+[m[32mAnd this is also the meaning of the className property which was briefly[m
[32m+[m[32mmentioned for the setNodeAttribute function. The style attribute can be used[m
[32m+[m[32mto add a piece of style directly to an element. For example, this gives our[m
[32m+[m[32mimage a solid border 4 pixels ('px') wide.[m
[32m+[m
[32m+[m[32m   setNodeAttribute($("picture"), "style",[m
[32m+[m[32m                                  "border-width: 4px; border-style: solid;");[m
[32m+[m
[32m+[m[32mThere is much more to styles: Some styles are inherited by child nodes from[m
[32m+[m[32mparent nodes, and interfere with each other in complex and interesting ways,[m
[32m+[m[32mbut for the purpose of DOM programming, the most important thing to know[m
[32m+[m[32mis that each DOM node has a style property, which can be used to manipulate[m
[32m+[m[32mthe style of that node, and that there are a few kinds of styles that can be[m
[32m+[m[32mused to make nodes do extraordinary things.[m
[32m+[m[32mThis style property refers to an object, which has properties for all the[m
[32m+[m[32mpossible elements of the style. We can, for example, make the picture's[m
[32m+[m[32mborder green.[m
[32m+[m
[32m+[m[32m   $("picture").style.borderColor = "green";[m
[32m+[m[32m   show($("picture").style.borderColor);[m
[32m+[m
[32m+[m[32mNote that in style-sheets, the words are separated by hyphens, as in border-[m
[32m+[m[32mcolor, while in JavaScript, capital letters are used to mark the different words,[m
[32m+[m[32mas in borderColor.[m
[32m+[m
[32m+[m[32mA very practical kind of style is display: none. This can be used to temporarily[m
[32m+[m[32mhide a node: When style.display is "none", the element does not appear at all[m
[32m+[m[32mto the viewer of the document, even though it does exist. Later, display can[m
[32m+[m[32mbe set to the empty string, and the element will re-appear.[m
[32m+[m
[32m+[m[32m   $("picture").style.display = "none";[m
[32m+[m
[32m+[m[32mAnd, to get our picture back:[m
[32m+[m
[32m+[m[32m   $("picture").style.display = "";[m
[32m+[m
[32m+[m[32mAnother set of style types that can be abused in interesting ways are those[m
[32m+[m[32mrelated to positioning. In a simple HTML document, the browser takes care of[m
[32m+[m[32mdetermining the screen positions of all the elements â€• each element is put[m
[32m+[m[32mnext to or below the elements that come before it, and nodes (generally) do[m
[32m+[m[32mnot overlap.[m
[32m+[m
[32m+[m[32mWhen its position style is set to "absolute", a node is taken out of the normal[m
[32m+[m[32mdocument 'flow'. It no longer takes up room in the document, but sort of[m
[32m+[m[32mfloats above it. The left and top styles can then be used to influence its[m
[32m+[m[32mposition. This can be used for various purposes, from making a node[m
[32m+[m[32mobnoxiously follow the mouse cursor to making 'windows' open on top of the[m
[32m+[m[32mrest of the document.[m
[32m+[m
[32m+[m[32m   $("picture").style.position = "absolute";[m
[32m+[m[32m   var angle = 0;[m
[32m+[m[32m   var spin = setInterval(function() {[m
[32m+[m
[32m+[m[32m       angle += 0.1;[m
[32m+[m[32m       $("picture").style.left = (100 + 100 * Math.cos(angle)) + "px";[m
[32m+[m[32m       $("picture").style.top = (100 + 100 * Math.sin(angle)) + "px";[m
[32m+[m[32m   }, 100);[m
[32m+[m
[32m+[m[32mIf you aren't familiar with goniometry, just believe me when I tell you that the[m
[32m+[m[32mcosine and sine stuff is used to build coordinates lying on the outline of a[m
[32m+[m[32mcircle. Ten times per second, the angle at which we place the picture is[m
[32m+[m[32mchanged, and new coordinates are computed. It is a common error, when[m
[32m+[m[32msetting styles like this, to forget to append "px" to your value. In most cases,[m
[32m+[m[32msetting a style to a number without a unit does not work, so you must add[m
[32m+[m[32m"px" for pixels, "%" for percent, "em" for 'ems' (the width of an M character), or[m
[32m+[m[32m"pt" for points.[m
[32m+[m
[32m+[m[32m(Now put the image to rest again...)[m
[32m+[m[32m   clearInterval(spin);[m
[32m+[m
[32m+[m[32mThe place that is treated as 0,0 for the purpose of these positions depends on[m
[32m+[m[32mthe place of the node in the document. When it is placed inside another node[m
[32m+[m[32mthat has position: absolute or position: relative, the top left of this node is[m
[32m+[m[32mused. Otherwise, you get the top left corner of the document.[m
[32m+[m
[32m+[m[32mOne last aspect of DOM nodes that is fun to play with is their size. There are[m
[32m+[m[32mstyle types called width and height, which can be used to set the absolute size[m
[32m+[m[32mof an element.[m
[32m+[m
[32m+[m[32m   $("picture").style.width = "400px";[m
[32m+[m[32m   $("picture").style.height = "200px";[m
[32m+[m
[32m+[m[32mBut, when you need to accurately set the size of an element, there is an[m
[32m+[m[32mtricky problem to take into account. Some browsers, in some circumstances,[m
[32m+[m[32mtake these sizes to mean the outside size of the object, including any border[m
[32m+[m[32mand internal padding. Other browsers, in other circumstances, use the size of[m
[32m+[m[32mthe space inside of the object instead, and do not count the width of borders[m
[32m+[m[32mand padding. Thus, if you set the size of an object that has a border or a[m
[32m+[m[32mpadding, it will not always appear the same size.[m
[32m+[m
[32m+[m[32mFortunately, you can inspect the inner and outer size of a node, which, when[m
[32m+[m[32myou really need to accurately size something, can be used to compensate for[m
[32m+[m[32mbrowser behaviour. The offsetWidth and offsetHeight properties give you the[m
[32m+[m[32mouter size of your element (the space it takes up in the document), while the[m
[32m+[m[32mclientWidth and clientHeight properties give the space inside of it, if any.[m
[32m+[m
[32m+[m[32m   print("Outer size: ", $("picture").offsetWidth,[m
[32m+[m[32m              " by ", $("picture").offsetHeight, " pixels.");[m
[32m+[m
[32m+[m[32m   print("Inner size: ", $("picture").clientWidth,[m
[32m+[m[32m              " by ", $("picture").clientHeight, " pixels.");[m
[32m+[m
[32m+[m[32mIf you've followed through with all the examples in this chapter, and maybe[m
[32m+[m[32mdid a few extra things by yourself, you will have completely mutilated the poor[m
[32m+[m[32mlittle document that we started with. Now let me moralise for a moment and[m
[32m+[m[32mtell you that you do not want to do this to real pages. The temptation to add[m
[32m+[m[32mall kinds of moving bling-bling will at times be strong. Resist it, or your pages[m
[32m+[m[32mshall surely become unreadable or even, if you go far enough, induce the[m
[32m+[m[32moccasional seizure.[m
[32m+[m[32mChapter 13:[m
[32m+[m
[32m+[m[32m       To add interesting functionality to a web-page, just being able to inspect or[m
[32m+[m[32m       modify the document is generally not enough. We also need to be able to[m
[32m+[m[32m       detect what the user is doing, and respond to it. For this, we will use a thing[m
[32m+[m[32m       called event handlers. Pressed keys are events, mouse clicks are events, even[m
[32m+[m[32m       mouse motion can be seen as a series of events. In chapter 11, we added an[m
[32m+[m[32m       onclick property to a button, in order to do something when it was pressed.[m
[32m+[m[32m       This is a simple event handler.[m
[32m+[m
[32m+[m[32m       The way browser events work is, fundamentally, very simple. It is possible to[m
[32m+[m[32m       register handlers for specific event types and specific DOM nodes. Whenever[m
[32m+[m[32m       an event occurs, the handler for that event, if any, is called. For some events,[m
[32m+[m[32m       such as key presses, knowing just that the event occurred is not good[m
[32m+[m[32m       enough, you also want to know which key was pressed. To store such[m
[32m+[m[32m       information, every event creates an event object, which the handler can look[m
[32m+[m[32m       at.[m
[32m+[m
[32m+[m[32m       It is important to realise that, even though events can fire at any time, no[m
[32m+[m[32m       two handlers ever run at the same moment. If other JavaScript code is still[m
[32m+[m[32m       running, the browser waits until it finishes before it calls the next handler.[m
[32m+[m[32m       This also holds for code that is triggered in other ways, such as with[m
[32m+[m[32m       setTimeout. In programmer jargon, browser JavaScript is single-threaded,[m
[32m+[m[32m       there are never two 'threads' running at the same time. This is, in most[m
[32m+[m[32m       cases, a good thing. It is very easy to get strange results when multiple[m
[32m+[m[32m       things happen at the same time.[m
[32m+[m
[32m+[m[32m       An event, when not handled, can 'bubble' through the DOM tree. What this[m
[32m+[m[32m       means is that if you click on, for example, a link in a paragraph, any handlers[m
[32m+[m[32m       associated with the link are called first. If there are no such handlers, or[m
[32m+[m[32m       these handlers do not indicate that they have finished handling the event, the[m
[32m+[m[32m       handlers for the paragraph, which is the parent of the link, are tried. After[m
[32m+[m[32m       that, the handlers for document.body get a turn. Finally, if no JavaScript[m
[32m+[m[32m       handlers have taken care of the event, the browser handles it. When clicking[m
[32m+[m[32m       a link, this means that the link will be followed.[m
[32m+[m
[32m+[m[32m       So, as you see, events are easy. The only hard thing about them is that[m
[32m+[m[32m       browsers, while all supporting more or less the same functionality, support[m
[32m+[m[32m       this functionality through different interfaces. As usual, the most incompatible[m
[32m+[m[32m       browser is Internet Explorer, which ignores the standard that most other[m
[32m+[m[32m       browsers follow. After that, there is Opera, which does not properly support[m
[32m+[m[32m       some useful events, such as the onunload event which fires when leaving a[m
[32m+[m[32m       page, and sometimes gives confusing information about keyboard events.[m
[32m+[m
[32m+[m[32m       There are four event-related actions one might want to take.[m
[32m+[m
[32m+[m[32m               Registering an event handler.[m
[32m+[m[32m               Getting the event object.[m
[32m+[m[32m               Extracting information from this object.[m
[32m+[m[32m                 Signalling that an event has been handled.[m
[32m+[m[32m          None of them work the same across all major browsers.[m
[32m+[m
[32m+[m[32m          As a practice field for our event-handling, we open a document with a button[m
[32m+[m[32m          and a text field. Keep this window open (and attached) for the rest of the[m
[32m+[m[32m          chapter.[m
[32m+[m
[32m+[m[32m             attach(window.open("example_events.html"));[m
[32m+[m
[32m+[m[32m          The first action, registering a handler, can be done by setting an element's[m
[32m+[m[32m          onclick (or onkeypress, and so on) property. This does in fact work across[m
[32m+[m[32m          browsers, but it has an important drawback â€• you can only attach one[m
[32m+[m[32m          handler to an element. Most of the time, one is enough, but there are cases,[m
[32m+[m[32m          especially when a program has to be able to work together with other[m
[32m+[m[32m          programs (which might also be adding handlers), that this is annoying.[m
[32m+[m
[32m+[m[32m          In Internet Explorer, one can add a click handler to a button like this:[m
[32m+[m
[32m+[m[32m             $("button").attachEvent("onclick", function(){print("Click!");});[m
[32m+[m
[32m+[m[32m          On the other browsers, it goes like this:[m
[32m+[m
[32m+[m[32m             $("button").addEventListener("click", function(){print("Click!");},[m
[32m+[m[32m                                                                 false);[m
[32m+[m
[32m+[m[32m          Note how "on" is left off in the second case. The third argument to[m
[32m+[m[32m          addEventListener, false, indicates that the event should 'bubble' through the[m
[32m+[m[32m          DOM tree as normal. Giving true instead can be used to give this handler[m
[32m+[m[32m          priority over the handlers 'beneath' it, but since Internet Explorer does not[m
[32m+[m[32m          support such a thing, this is rarely useful.[m
[32m+[m
[32m+[m[32mEx. 13.1  Write a function called registerEventHandler to wrap the incompatibilities of[m
[32m+[m[32m          these two models. It takes three arguments: first a DOM node that the[m
[32m+[m[32m          handler should be attached to, then the name of the event type, such as[m
[32m+[m[32m          "click" or "keypress", and finally the handler function.[m
[32m+[m
[32m+[m[32m          To determine which method should be called, look for the methods[m
[32m+[m[32m          themselves â€• if the DOM node has a method called attachEvent, you may[m
[32m+[m[32m          assume that this is the correct method. Note that this is much preferable to[m
[32m+[m[32m          directly checking whether the browser is Internet Explorer. If a new browser[m
[32m+[m[32m          arrives which uses Internet Explorer's model, or Internet Explorer suddenly[m
[32m+[m[32m          switches to the standard model, the code will still work. Both are rather[m
[32m+[m[32m          unlikely, of course, but doing something in a smart way never hurts.[m
[32m+[m
[32m+[m[32m          function registerEventHandler(node, event, handler) {[m
[32m+[m[32m             if (typeof node.addEventListener == "function")[m
[32m+[m[32m                 node.addEventListener(event, handler, false);[m
[32m+[m[32m             else[m
[32m+[m[32m                 node.attachEvent("on" + event, handler);[m
[32m+[m
[32m+[m[32m          }[m
[32m+[m[32m   registerEventHandler($("button"), "click",[m
[32m+[m[32m                                         function(){print("Click (2)");});[m
[32m+[m
[32m+[m[32mDon't fret about the long, clumsy name. Later on, we will have to add an[m
[32m+[m[32mextra wrapper to wrap this wrapper, and it will have a shorter name.[m
[32m+[m
[32m+[m[32mIt is also possible to do this check only once, and define registerEventHandler[m
[32m+[m[32mto hold a different function depending on the browser. This is more efficient,[m
[32m+[m[32mbut a little strange.[m
[32m+[m
[32m+[m[32m   if (typeof document.addEventListener == "function")[m
[32m+[m[32m       var registerEventHandler = function(node, event, handler) {[m
[32m+[m[32m          node.addEventListener(event, handler, false);[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32m   else[m
[32m+[m[32m       var registerEventHandler = function(node, event, handler) {[m
[32m+[m[32m          node.attachEvent("on" + event, handler);[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32mRemoving events works very much like adding them, but this time the[m
[32m+[m[32mmethods detachEvent and removeEventListener are used. Note that, to remove[m
[32m+[m[32ma handler, you need to have access to the function you attached to it.[m
[32m+[m
[32m+[m[32m   function unregisterEventHandler(node, event, handler) {[m
[32m+[m[32m       if (typeof node.removeEventListener == "function")[m
[32m+[m[32m           node.removeEventListener(event, handler, false);[m
[32m+[m[32m       else[m
[32m+[m[32m           node.detachEvent("on" + event, handler);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mExceptions produced by event handlers can, because of technical limitations,[m
[32m+[m[32mnot be caught by the console. Thus, they are handled by the browser, which[m
[32m+[m[32mmight mean they get hidden in some kind of 'error console' somewhere, or[m
[32m+[m[32mcause a message to pop up. When you write an event handler and it does not[m
[32m+[m[32mseem to work, it might be silently aborting because it causes some kind of[m
[32m+[m[32merror.[m
[32m+[m
[32m+[m[32mMost browsers pass the event object as an argument to the handler. Internet[m
[32m+[m[32mExplorer stores it in the top-level variable called event. When looking at[m
[32m+[m[32mJavaScript code, you will often come across something like event ||[m
[32m+[m[32mwindow.event, which takes the local variable event or, if that is undefined, the[m
[32m+[m[32mtop-level variable by that same name.[m
[32m+[m
[32m+[m[32m   function showEvent(event) {[m
[32m+[m[32m       show(event || window.event);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   registerEventHandler($("textfield"), "keypress", showEvent);[m
[32m+[m
[32m+[m[32mType a few characters in the field, look at the objects, and shut it up again:[m
[32m+[m[32m   unregisterEventHandler($("textfield"), "keypress", showEvent);[m
[32m+[m
[32m+[m[32mWhen the user clicks his mouse, three events are generated. First mousedown,[m
[32m+[m[32mat the moment the mouse button is pressed. Then, mouseup, at the moment it[m
[32m+[m[32mis released. And finally, click, to indicate something was clicked. When this[m
[32m+[m[32mhappens two times in quick succession, a dblclick (double-click) event is also[m
[32m+[m[32mgenerated. Note that it is possible for the mousedown and mouseup events to[m
[32m+[m[32mhappen some time apart â€• when the mouse button is held for a while.[m
[32m+[m
[32m+[m[32mWhen you attach an event handler to, for example, a button, the fact that it[m
[32m+[m[32mhas been clicked is often all you need to know. When the handler, on the[m
[32m+[m[32mother hand, is attached to a node that has children, clicks from the children[m
[32m+[m[32mwill 'bubble' up to it, and you will want to find out which child has been[m
[32m+[m[32mclicked. For this purpose, event objects have a property called target... or[m
[32m+[m[32msrcElement, depending on the browser.[m
[32m+[m
[32m+[m[32mAnother interesting piece of information are the precise coordinates at which[m
[32m+[m[32mthe click occurred. Event objects related to the mouse contain clientX and[m
[32m+[m[32mclientY properties, which give the x and y coordinates of the mouse, in pixels,[m
[32m+[m[32mon the screen. Documents can scroll, though, so often these coordinates do[m
[32m+[m[32mnot tell us much about the part of the document that the mouse is over.[m
[32m+[m[32mSome browsers provide pageX and pageY properties for this purpose, but[m
[32m+[m[32mothers (guess which) do not. Fortunately, the information about the amount[m
[32m+[m[32mof pixels the document has been scrolled can be found in[m
[32m+[m[32mdocument.body.scrollLeft and document.body.scrollTop.[m
[32m+[m
[32m+[m[32mThis handler, attached to the whole document, intercepts all mouse clicks, and[m
[32m+[m[32mprints some information about them.[m
[32m+[m
[32m+[m[32m   function reportClick(event) {[m
[32m+[m[32m       event = event || window.event;[m
[32m+[m[32m       var target = event.target || event.srcElement;[m
[32m+[m[32m       var pageX = event.pageX, pageY = event.pageY;[m
[32m+[m[32m       if (pageX == undefined) {[m
[32m+[m[32m          pageX = event.clientX + document.body.scrollLeft;[m
[32m+[m[32m          pageY = event.clientY + document.body.scrollTop;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       print("Mouse clicked at ", pageX, ", ", pageY,[m
[32m+[m[32m                  ". Inside element:");[m
[32m+[m
[32m+[m[32m       show(target);[m
[32m+[m[32m   }[m
[32m+[m[32m   registerEventHandler(document, "click", reportClick);[m
[32m+[m
[32m+[m[32mAnd get rid of it again:[m
[32m+[m
[32m+[m[32m   unregisterEventHandler(document, "click", reportClick);[m
[32m+[m
[32m+[m[32mObviously, writing all these checks and workarounds is not something you[m
[32m+[m[32mwant to do in every single event handler. In a moment, after we have gotten[m
[32m+[m[32macquainted with a few more incompatibilities, we will write a function to[m
[32m+[m[32m'normalise' event objects to work the same across browsers.[m
[32m+[m
[32m+[m[32mIt is also sometimes possible to find out which mouse button was pressed,[m
[32m+[m[32musing the which and button properties of event objects. Unfortunately, this is[m
[32m+[m[32mvery unreliable â€• some browsers pretend mouses have only one button,[m
[32m+[m[32mothers report right-clicks as clicks during which the control key was held[m
[32m+[m[32mdown, and so on.[m
[32m+[m
[32m+[m[32mApart from clicks, we might also be interested in the movement of the mouse.[m
[32m+[m[32mThe mousemove event of a DOM node is fired whenever the mouse moves while[m
[32m+[m[32mit is over that element. There are also mouseover and mouseout, which are fired[m
[32m+[m[32monly when the mouse enters or leaves a node. For events of this last type,[m
[32m+[m[32mthe target (or srcElement) property points at the node that the event is fired[m
[32m+[m[32mfor, while the relatedTarget (or toElement, or fromElement) property gives the[m
[32m+[m[32mnode that the mouse came from (for mouseover) or left to (for mouseout).[m
[32m+[m
[32m+[m[32mmouseover and mouseout can be tricky when they are registered on an element[m
[32m+[m[32mthat has child nodes. Events fired for the child nodes will bubble up to the[m
[32m+[m[32mparent element, so you will also see a mouseover event when the mouse[m
[32m+[m[32menters one of the child nodes. The target and relatedTarget properties can be[m
[32m+[m[32mused to detect (and ignore) such events.[m
[32m+[m
[32m+[m[32mFor every key that the user presses, three events are generated: keydown,[m
[32m+[m[32mkeyup, and keypress. In general, you should use the first two in cases where[m
[32m+[m[32myou really want to know which key was pressed, for example when you want[m
[32m+[m[32mto do something when the arrow keys are pressed. keypress, on the other[m
[32m+[m[32mhand, is to be used when you are interested in the character that is being[m
[32m+[m[32mtyped. The reason for this is that there is often no character information in[m
[32m+[m[32mkeyup and keydown events, and Internet Explorer does not generate a keypress[m
[32m+[m[32mevent at all for special keys such as the arrow keys.[m
[32m+[m
[32m+[m[32mFinding out which key was pressed can be quite a challenge by itself. For[m
[32m+[m[32mkeydown and keyup events, the event object will have a keyCode property, which[m
[32m+[m[32mcontains a number. Most of the time, these codes can be used to identify[m
[32m+[m[32mkeys in a reasonably browser-independant way. Finding out which code[m
[32m+[m[32mcorresponds to which key can be done by simple experiments...[m
[32m+[m
[32m+[m[32m   function printKeyCode(event) {[m
[32m+[m[32m       event = event || window.event;[m
[32m+[m[32m       print("Key ", event.keyCode, " was pressed.");[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   registerEventHandler($("textfield"), "keydown", printKeyCode);[m
[32m+[m
[32m+[m[32m   unregisterEventHandler($("textfield"), "keydown", printKeyCode);[m
[32m+[m
[32m+[m[32mIn most browsers, a single key code corresponds to a single physical key on[m
[32m+[m[32myour keyboard. The Opera browser, however, will generate different key[m
[32m+[m[32mcodes for some keys depending on whether shift is pressed or not. Even[m
[32m+[m[32mworse, some of these shift-is-pressed codes are the same codes that are also[m
[32m+[m[32mused for other keys â€• shift-9, which on most keyboards is used to type a[m
[32m+[m[32mparenthesis, gets the same code as the down arrow, and as such is hard to[m
[32m+[m[32mdistinguish from it. When this threatens to sabotage your programs, you can[m
[32m+[m[32musually resolve it by ignoring key events that have shift pressed.[m
[32m+[m
[32m+[m[32mTo find out whether the shift, control, or alt key was held during a key or[m
[32m+[m[32mmouse event, you can look at the shiftKey, ctrlKey, and altKey properties of[m
[32m+[m[32mthe event object.[m
[32m+[m
[32m+[m[32mFor keypress events, you will want to know which character was typed. The[m
[32m+[m[32mevent object will have a charCode property, which, if you are lucky, contains[m
[32m+[m[32mthe Unicode number corresponding to the character that was typed, which[m
[32m+[m[32mcan be converted to a 1-character string by using String.fromCharCode.[m
[32m+[m[32mUnfortunately, some browsers do not define this property, or define it as 0,[m
[32m+[m[32mand store the character code in the keyCode property instead.[m
[32m+[m
[32m+[m[32m   function printCharacter(event) {[m
[32m+[m[32m       event = event || window.event;[m
[32m+[m[32m       var charCode = event.charCode;[m
[32m+[m[32m       if (charCode == undefined || charCode === 0)[m
[32m+[m[32m          charCode = event.keyCode;[m
[32m+[m[32m       print("Character '", String.fromCharCode(charCode), "'");[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   registerEventHandler($("textfield"), "keypress", printCharacter);[m
[32m+[m
[32m+[m[32m   unregisterEventHandler($("textfield"), "keypress", printCharacter);[m
[32m+[m
[32m+[m[32mAn event handler can 'stop' the event it is handling. There are two different[m
[32m+[m[32mways to do this. You can prevent the event from bubbling up to parent nodes[m
[32m+[m[32mand the handlers defined on those, and you can prevent the browser from[m
[32m+[m[32mtaking the standard action associated with such an event. It should be noted[m
[32m+[m[32mthat browsers do not always follow this â€• preventing the default behaviour[m
[32m+[m[32mfor the pressing of certain 'hotkeys' will, on many browsers, not actually keep[m
[32m+[m[32mthe browser from executing the normal effect of these keys.[m
[32m+[m
[32m+[m[32mOn most browsers, stopping event bubbling is done with the stopPropagation[m
[32m+[m[32mmethod of the event object, and preventing default behaviour is done with the[m
[32m+[m[32mpreventDefault method. For Internet Explorer, this is done by setting the[m
[32m+[m[32mcancelBubble property of this object to true, and the returnValue property to[m
[32m+[m[32mfalse, respectively.[m
[32m+[m
[32m+[m[32mAnd that was the last of the long list of incompatibilities that we will discuss in[m
[32m+[m[32mthis chapter. Which means that we can finally write the event normaliser[m
[32m+[m[32mfunction and move on to more interesting things.[m
[32m+[m
[32m+[m[32m   function normaliseEvent(event) {[m
[32m+[m[32m       if (!event.stopPropagation) {[m
[32m+[m[32m          event.stopPropagation = function() {this.cancelBubble = true;};[m
[32m+[m[32m          event.preventDefault = function() {this.returnValue = false;};[m
[32m+[m[32m       }[m
[32m+[m[32m       if (!event.stop) {[m
[32m+[m[32m          event.stop = function() {[m
[32m+[m[32m              this.stopPropagation();[m
[32m+[m[32m              this.preventDefault();[m
[32m+[m[32m          };[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       if (event.srcElement && !event.target)[m
[32m+[m[32m          event.target = event.srcElement;[m
[32m+[m
[32m+[m[32m       if ((event.toElement || event.fromElement) && !event.relatedTarget)[m
[32m+[m[32m          event.relatedTarget = event.toElement || event.fromElement;[m
[32m+[m[32m       if (event.clientX != undefined && event.pageX == undefined) {[m
[32m+[m[32m          event.pageX = event.clientX + document.body.scrollLeft;[m
[32m+[m[32m          event.pageY = event.clientY + document.body.scrollTop;[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m[32m       if (event.type == "keypress") {[m
[32m+[m
[32m+[m[32m          if (event.charCode === 0 || event.charCode == undefined)[m
[32m+[m[32m              event.character = String.fromCharCode(event.keyCode);[m
[32m+[m
[32m+[m[32m          else[m
[32m+[m[32m              event.character = String.fromCharCode(event.charCode);[m
[32m+[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m       return event;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mA stop method is added, which cancels both the bubbling and the default[m
[32m+[m[32maction of the event. Some browsers already provide this, in which case we[m
[32m+[m[32mleave it as it is.[m
[32m+[m
[32m+[m[32mNext we can write convenient wrappers for registerEventHandler and[m
[32m+[m[32munregisterEventHandler:[m
[32m+[m
[32m+[m[32m   function addHandler(node, type, handler) {[m
[32m+[m[32m       function wrapHandler(event) {[m
[32m+[m[32m          handler(normaliseEvent(event || window.event));[m
[32m+[m[32m       }[m
[32m+[m[32m       registerEventHandler(node, type, wrapHandler);[m
[32m+[m[32m       return {node: node, type: type, handler: wrapHandler};[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   function removeHandler(object) {[m
[32m+[m[32m       unregisterEventHandler(object.node, object.type, object.handler);[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   var blockQ = addHandler($("textfield"), "keypress", function(event) {[m
[32m+[m[32m       if (event.character.toLowerCase() == "q")[m
[32m+[m[32m          event.stop();[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32mThe new addHandler function wraps the handler function it is given in a new[m
[32m+[m[32mfunction, so it can take care of normalising the event objects. It returns an[m
[32m+[m[32mobject that can be given to removeHandler when we want to remove this[m
[32m+[m[32mspecific handler. Try typing a 'q' in the text field.[m
[32m+[m
[32m+[m[32m   removeHandler(blockQ);[m
[32m+[m
[32m+[m[32mArmed with addHandler and the dom function from the last chapter, we are[m
[32m+[m[32mready for more challenging feats of document-manipulation. As an exercise,[m
[32m+[m[32mwe will implement the game known as Sokoban. This is something of a[m
[32m+[m[32mclassic, but you may not have seen it before. The rules are this: There is a[m
[32m+[m[32mgrid, made up of walls, empty space, and one or more 'exits'. On this grid,[m
[32m+[m[32mthere are a number of crates or stones, and a little dude that the player[m
[32m+[m[32mcontrols. This dude can be moved horizontally and vertically into empty[m
[32m+[m[32msquares, and can push the boulders around, provided that there is empty[m
[32m+[m[32mspace behind them. The goal of the game is to move a given number of[m
[32m+[m[32mboulders into the exits.[m
[32m+[m
[32m+[m[32mJust like the terraria from chapter 8, a Sokoban level can be represented as[m
[32m+[m[32mtext. The variable sokobanLevels, in the example_events.html window, contains[m
[32m+[m[32man array of level objects. Each level has a property field, containing a textual[m
[32m+[m[32mrepresentation of the level, and a property boulders, indicating the amount of[m
[32m+[m[32mboulders that must be expelled to finish the level.[m
[32m+[m
[32m+[m[32m   show(sokobanLevels.length);[m
[32m+[m[32m   show(sokobanLevels[1].boulders);[m
[32m+[m[32m   forEach(sokobanLevels[1].field, print);[m
[32m+[m
[32m+[m[32mIn such a level, the # characters are walls, spaces are empty squares, 0[m
[32m+[m[32mcharacters are used for for boulders, an @ for the starting location of the[m
[32m+[m[32mplayer, and a * for the exit.[m
[32m+[m
[32m+[m[32mBut, when playing the game, we do not want to be looking at this textual[m
[32m+[m[32mrepresentation. Instead, we will put a table into the document. I made small[m
[32m+[m[32mstyle-sheet (sokoban.css, if you are curious what it looks like) to give the cells[m
[32m+[m[32mof this table a fixed square size, and added it to the example document. Each[m
[32m+[m[32mof the cells in this table will get a background image, representing the type of[m
[32m+[m[32mthe square (empty, wall, or exit). To show the location of the player and the[m
[32m+[m[32mboulders, images are added to these table cells, and moved to different cells[m
[32m+[m[32mas appropriate.[m
[32m+[m
[32m+[m[32mIt would be possible to use this table as the main representation of our data[m
[32m+[m[32mâ€• when we want to look whether there is a wall in a given square, we just[m
[32m+[m[32minspect the background of the appropriate table cell, and to find the player,[m
[32m+[m[32mwe just search for the image node with the correct src property. In some[m
[32m+[m[32mcases, this approach is practical, but for this program I chose to keep a[m
[32m+[m[32mseparate data structure for the grid, because it makes things much more[m
[32m+[m[32mstraightforward.[m
[32m+[m
[32m+[m[32mThis data structure is a two-dimensional grid of objects, representing the[m
[32m+[m[32msquares of the playing field. Each of the objects must store the type of[m
[32m+[m[32mbackground it has and whether there is a boulder or player present in that[m
[32m+[m[32mcell. It should also contain a reference to the table cell that is used to display[m
[32m+[m[32mit in the document, to make it easy to move images in and out of this table[m
[32m+[m[32mcell.[m
[32m+[m
[32m+[m[32mThat gives us two kinds of objects â€• one to hold the grid of the playing field,[m
[32m+[m[32mand one to represent the individual cells in this grid. If we want the game to[m
[32m+[m[32malso do things like moving the next level at the appropriate moment, and[m
[32m+[m[32mbeing able to reset the current level when you mess up, we will also need a[m
[32m+[m[32m'controller' object, which creates or removes the field objects at the[m
[32m+[m[32mappropriate moment. For convenience, we will be using the prototype[m
[32m+[m[32mapproach outlined at the end of chapter 8, so object types are just[m
[32m+[m[32mprototypes, and the create method, rather than the new operator, is used to[m
[32m+[m[32mmake new objects.[m
[32m+[m
[32m+[m[32mLet us start with the objects representing the squares of the game's field.[m
[32m+[m[32mThey are responsible for setting the background of their cells correctly, and[m
[32m+[m[32madding images as appropriate. The img/sokoban/ directory contains a set of[m
[32m+[m[32mimages, based on another ancient game, which will be used to visualise the[m
[32m+[m[32mgame. For a start, the Square prototype could look like this.[m
[32m+[m[32m             var Square = {[m
[32m+[m[32m                 construct: function(character, tableCell) {[m
[32m+[m[32m                    this.background = "empty";[m
[32m+[m[32m                    if (character == "#")[m
[32m+[m[32m                        this.background = "wall";[m
[32m+[m[32m                    else if (character == "*")[m
[32m+[m[32m                        this.background = "exit";[m
[32m+[m
[32m+[m[32m                    this.tableCell = tableCell;[m
[32m+[m[32m                    this.tableCell.className = this.background;[m
[32m+[m
[32m+[m[32m                    this.content = null;[m
[32m+[m[32m                    if (character == "0")[m
[32m+[m
[32m+[m[32m                        this.content = "boulder";[m
[32m+[m[32m                    else if (character == "@")[m
[32m+[m
[32m+[m[32m                        this.content = "player";[m
[32m+[m
[32m+[m[32m                    if (this.content != null) {[m
[32m+[m[32m                        var image = dom("IMG", {src: "img/sokoban/" +[m
[32m+[m[32m                                                                            this.content + ".gif"});[m
[32m+[m[32m                        this.tableCell.appendChild(image);[m
[32m+[m
[32m+[m[32m                    }[m
[32m+[m[32m                 },[m
[32m+[m
[32m+[m[32m                 hasPlayer: function() {[m
[32m+[m[32m                    return this.content == "player";[m
[32m+[m
[32m+[m[32m                 },[m
[32m+[m[32m                 hasBoulder: function() {[m
[32m+[m
[32m+[m[32m                    return this.content == "boulder";[m
[32m+[m[32m                 },[m
[32m+[m[32m                 isEmpty: function() {[m
[32m+[m
[32m+[m[32m                    return this.content == null && this.background == "empty";[m
[32m+[m[32m                 },[m
[32m+[m[32m                 isExit: function() {[m
[32m+[m
[32m+[m[32m                    return this.background == "exit";[m
[32m+[m[32m                 }[m
[32m+[m[32m             };[m
[32m+[m
[32m+[m[32m             var testSquare = Square.create("@", dom("TD"));[m
[32m+[m[32m             show(testSquare.hasPlayer());[m
[32m+[m
[32m+[m[32m          The character argument to the constructor will be used to transform[m
[32m+[m[32m          characters from the level blueprints into actual Square objects. To set the[m
[32m+[m[32m          background of the cells, style-sheet classes are used (defined in sokoban.css),[m
[32m+[m[32m          which are assigned to the td elements' className property.[m
[32m+[m
[32m+[m[32m          The methods like hasPlayer and isEmpty are a way to 'isolate' the code that[m
[32m+[m[32m          uses objects of this type from the internals of the objects. They are not[m
[32m+[m[32m          strictly necessary in this case, but they will make the other code look better.[m
[32m+[m
[32m+[m[32mEx. 13.2  Add methods moveContent and clearContent to the Square prototype. The first[m
[32m+[m[32m          one takes another Square object as an argument, and moves the content of[m
[32m+[m[32m          the this square into the argument by updating the content properties and[m
[32m+[m[32m          moving the image node associated with this content. This will be used to[m
[32m+[m[32m          move boulders and players around the grid. It may assume the square is not[m
[32m+[m[32m          currently empty. clearContent removes the content from the square without[m
[32m+[m[32m          moving it anywhere. Note that the content property for empty squares[m
[32m+[m[32m          contains null.[m
[32m+[m[32mThe removeElement function we defined in chapter 12 is available in this[m
[32m+[m[32mchapter too, for your node-removing convenience. You may assume that the[m
[32m+[m[32mimages are the only child nodes of the table cells, and can thus be reached[m
[32m+[m[32mthrough, for example, this.tableCell.lastChild.[m
[32m+[m
[32m+[m[32m   Square.moveContent = function(target) {[m
[32m+[m[32m       target.content = this.content;[m
[32m+[m[32m       this.content = null;[m
[32m+[m[32m       target.tableCell.appendChild(this.tableCell.lastChild);[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m[32m   Square.clearContent = function() {[m
[32m+[m
[32m+[m[32m       this.content = null;[m
[32m+[m[32m       removeElement(this.tableCell.lastChild);[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mThe next object type will be called SokobanField. Its constructor is given an[m
[32m+[m[32mobject from the sokobanLevels array, and is responsible for building both a[m
[32m+[m[32mtable of DOM nodes and a grid of Square objects. This object will also take[m
[32m+[m[32mcare of the details of moving the player and boulders around, through a move[m
[32m+[m[32mmethod that is given an argument indicating which way the player wants to[m
[32m+[m[32mmove.[m
[32m+[m
[32m+[m[32mTo identify the individual squares, and to indicate directions, we will again use[m
[32m+[m[32mthe Point object type from chapter 8, which, as you might remember, has an[m
[32m+[m[32madd method.[m
[32m+[m
[32m+[m[32mThe base of the field prototype looks like this:[m
[32m+[m
[32m+[m[32m   var SokobanField = {[m
[32m+[m[32m       construct: function(level) {[m
[32m+[m[32m           var tbody = dom("TBODY");[m
[32m+[m[32m           this.squares = [];[m
[32m+[m[32m           this.bouldersToGo = level.boulders;[m
[32m+[m
[32m+[m[32m           for (var y = 0; y < level.field.length; y++) {[m
[32m+[m[32m              var line = level.field[y];[m
[32m+[m[32m              var tableRow = dom("TR");[m
[32m+[m[32m              var squareRow = [];[m
[32m+[m[32m              for (var x = 0; x < line.length; x++) {[m
[32m+[m[32m                  var tableCell = dom("TD");[m
[32m+[m[32m                  tableRow.appendChild(tableCell);[m
[32m+[m[32m                  var square = Square.create(line.charAt(x), tableCell);[m
[32m+[m[32m                  squareRow.push(square);[m
[32m+[m[32m                  if (square.hasPlayer())[m
[32m+[m[32m                     this.playerPos = new Point(x, y);[m
[32m+[m[32m              }[m
[32m+[m[32m              tbody.appendChild(tableRow);[m
[32m+[m[32m              this.squares.push(squareRow);[m
[32m+[m
[32m+[m[32m           }[m
[32m+[m
[32m+[m[32m           this.table = dom("TABLE", {"class": "sokoban"}, tbody);[m
[32m+[m[32m           this.score = dom("DIV", null, "...");[m
[32m+[m[32m           this.updateScore();[m
[32m+[m[32m       },[m
[32m+[m
[32m+[m[32m       getSquare: function(position) {[m
[32m+[m[32m           return this.squares[position.y][position.x];[m
[32m+[m
[32m+[m[32m       },[m
[32m+[m[32m       updateScore: function() {[m
[32m+[m[32m                       this.score.firstChild.nodeValue = this.bouldersToGo +[m
[32m+[m[32m                                                                                    " boulders to go.";[m
[32m+[m
[32m+[m[32m                    },[m
[32m+[m[32m                    won: function() {[m
[32m+[m
[32m+[m[32m                       return this.bouldersToGo <= 0;[m
[32m+[m[32m                    }[m
[32m+[m[32m                };[m
[32m+[m
[32m+[m[32m                var testField = SokobanField.create(sokobanLevels[0]);[m
[32m+[m[32m                show(testField.getSquare(new Point(10, 2)).content);[m
[32m+[m
[32m+[m[32m           The constructor goes over the lines and characters in the level, and stores the[m
[32m+[m[32m           Square objects in the squares property. When it encounters the square with[m
[32m+[m[32m           the player, it saves this position as playerPos, so that we can easily find the[m
[32m+[m[32m           square with the player later on. getSquare is used to find a Square object[m
[32m+[m[32m           corresponding to a certain x,y position on the field. Note that it doesn't take[m
[32m+[m[32m           the edges of the field into account â€• to avoid writing some boring code, we[m
[32m+[m[32m           assume that the field is properly walled off, making it impossible to walk out[m
[32m+[m[32m           of it.[m
[32m+[m
[32m+[m[32m           The word "class" in the dom call that makes the table node is quoted as a[m
[32m+[m[32m           string. This is necessary because class is a 'reserved word' in JavaScript, and[m
[32m+[m[32m           may not be used as a variable or property name.[m
[32m+[m
[32m+[m[32m           The amount of boulders that have to be cleared to win the level (this may be[m
[32m+[m[32m           less than the total amount of boulders on the level) is stored in bouldersToGo.[m
[32m+[m[32m           Whenever a boulder is brought to the exit, we can subtract 1 from this, and[m
[32m+[m[32m           see whether the game is won yet. To show the player how he is doing, we[m
[32m+[m[32m           will have to show this amount somehow. For this purpose, a div element with[m
[32m+[m[32m           text is used. div nodes are containers without inherent markup. The score[m
[32m+[m[32m           text can be updated with the updateScore method. The won method will be[m
[32m+[m[32m           used by the controller object to determine when the game is over, so the[m
[32m+[m[32m           player can move on to the next level.[m
[32m+[m
[32m+[m[32m           If we want to actually see the playing field and the score, we will have to[m
[32m+[m[32m           insert them into the document somehow. That is what the place method is[m
[32m+[m[32m           for. We'll also add a remove method to make it easy to remove a field when[m
[32m+[m[32m           we are done with it.[m
[32m+[m
[32m+[m[32m                SokobanField.place = function(where) {[m
[32m+[m[32m                    where.appendChild(this.score);[m
[32m+[m[32m                    where.appendChild(this.table);[m
[32m+[m
[32m+[m[32m                };[m
[32m+[m[32m                SokobanField.remove = function() {[m
[32m+[m
[32m+[m[32m                    removeElement(this.score);[m
[32m+[m[32m                    removeElement(this.table);[m
[32m+[m[32m                };[m
[32m+[m
[32m+[m[32m                testField.place(document.body);[m
[32m+[m
[32m+[m[32m           If all went well, you should see a Sokoban field now.[m
[32m+[m
[32m+[m[32mEx. 13.3 But this field doesn't do very much yet. Add a method called move. It takes a[m
[32m+[m[32m           Point object specifying the move as argument (for example -1,0 to move[m
[32m+[m[32m           left), and takes care of moving the game elements in the correct way.[m
[32m+[m[32mThe correct way is this: The playerPos property can be used to determine[m
[32m+[m[32mwhere the player is trying to move. If there is a boulder here, look at the[m
[32m+[m[32msquare behind this boulder. When there is an exit there, remove the boulder[m
[32m+[m[32mand update the score. When there is empty space there, move the boulder[m
[32m+[m[32minto it. Next, try to move the player. If the square he is trying to move into is[m
[32m+[m[32mnot empty, ignore the move.[m
[32m+[m
[32m+[m[32m   SokobanField.move = function(direction) {[m
[32m+[m[32m       var playerSquare = this.getSquare(this.playerPos);[m
[32m+[m[32m       var targetPos = this.playerPos.add(direction);[m
[32m+[m[32m       var targetSquare = this.getSquare(targetPos);[m
[32m+[m
[32m+[m[32m       // Possibly pushing a boulder[m
[32m+[m[32m       if (targetSquare.hasBoulder()) {[m
[32m+[m
[32m+[m[32m          var pushTarget = this.getSquare(targetPos.add(direction));[m
[32m+[m[32m          if (pushTarget.isEmpty()) {[m
[32m+[m
[32m+[m[32m              targetSquare.moveContent(pushTarget);[m
[32m+[m[32m          }[m
[32m+[m[32m          else if (pushTarget.isExit()) {[m
[32m+[m
[32m+[m[32m              targetSquare.moveContent(pushTarget);[m
[32m+[m[32m              pushTarget.clearContent();[m
[32m+[m[32m              this.bouldersToGo--;[m
[32m+[m[32m              this.updateScore();[m
[32m+[m[32m          }[m
[32m+[m[32m       }[m
[32m+[m[32m       // Moving the player[m
[32m+[m[32m       if (targetSquare.isEmpty()) {[m
[32m+[m[32m          playerSquare.moveContent(targetSquare);[m
[32m+[m[32m          this.playerPos = targetPos;[m
[32m+[m[32m       }[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mBy taking care of boulders first, the move code can work the same way when[m
[32m+[m[32mthe player is moving normally and when he is pushing a boulder. Note how[m
[32m+[m[32mthe square behind the boulder is found by adding the direction to the[m
[32m+[m[32mplayerPos twice. Test it by moving left two squares:[m
[32m+[m
[32m+[m[32m   testField.move(new Point(-1, 0));[m
[32m+[m[32m   testField.move(new Point(-1, 0));[m
[32m+[m
[32m+[m[32mIf that worked, we moved a boulder into a place from which we can't get it[m
[32m+[m[32mout anymore, so we'd better throw this field away.[m
[32m+[m
[32m+[m[32m   testField.remove();[m
[32m+[m
[32m+[m[32mAll the 'game logic' has been taken care of now, and we just need a controller[m
[32m+[m[32mto make it playable. The controller will be an object type called SokobanGame,[m
[32m+[m[32mwhich is responsible for the following things:[m
[32m+[m
[32m+[m[32m       Preparing a place where the game field can be placed.[m
[32m+[m[32m       Building and removing SokobanField objects.[m
[32m+[m[32m       Capturing key events and calling the move method on current field with[m
[32m+[m[32m       the correct argument.[m
[32m+[m[32m       Keeping track of the current level number and moving to the next level[m
[32m+[m[32m       when a level is won.[m
[32m+[m[32m       Adding buttons to reset the current level or the whole game (back to[m
[32m+[m[32m                 level 0).[m
[32m+[m
[32m+[m[32m          We start again with an unfinished prototype.[m
[32m+[m
[32m+[m[32m             var SokobanGame = {[m
[32m+[m[32m                 construct: function(place) {[m
[32m+[m[32m                    this.level = null;[m
[32m+[m[32m                    this.field = null;[m
[32m+[m
[32m+[m[32m                    var newGame = dom("BUTTON", null, "New game");[m
[32m+[m[32m                    addHandler(newGame, "click", method(this, "newGame"));[m
[32m+[m[32m                    var reset = dom("BUTTON", null, "Reset level");[m
[32m+[m[32m                    addHandler(reset, "click", method(this, "reset"));[m
[32m+[m[32m                    this.container = dom("DIV", null,[m
[32m+[m
[32m+[m[32m                                                          dom("H1", null, "Sokoban"),[m
[32m+[m[32m                                                          dom("DIV", null, newGame, " ", reset));[m
[32m+[m[32m                    place.appendChild(this.container);[m
[32m+[m
[32m+[m[32m                    addHandler(document, "keydown", method(this, "keyDown"));[m
[32m+[m[32m                    this.newGame();[m
[32m+[m[32m                 },[m
[32m+[m
[32m+[m[32m                 newGame: function() {[m
[32m+[m[32m                    this.level = 0;[m
[32m+[m[32m                    this.reset();[m
[32m+[m
[32m+[m[32m                 },[m
[32m+[m[32m                 reset: function() {[m
[32m+[m
[32m+[m[32m                    if (this.field)[m
[32m+[m[32m                        this.field.remove();[m
[32m+[m
[32m+[m[32m                    this.field = SokobanField.create(sokobanLevels[this.level]);[m
[32m+[m[32m                    this.field.place(this.container);[m
[32m+[m[32m                 },[m
[32m+[m
[32m+[m[32m                 keyDown: function(event) {[m
[32m+[m[32m                    // To be filled in[m
[32m+[m
[32m+[m[32m                 }[m
[32m+[m[32m             };[m
[32m+[m
[32m+[m[32m          The constructor builds a div element to hold the field, along with two buttons[m
[32m+[m[32m          and a title. Note how method is used to attach methods on the this object to[m
[32m+[m[32m          events.[m
[32m+[m
[32m+[m[32m          We can put a Sokoban game into our document like this:[m
[32m+[m
[32m+[m[32m             var sokoban = SokobanGame.create(document.body);[m
[32m+[m
[32m+[m[32mEx. 13.4  All that is left to do now is filling in the key event handler. Replace the keyDown[m
[32m+[m[32m          method of the prototype with one that detects presses of the arrow keys and,[m
[32m+[m[32m          when it finds them, moves the player in the correct direction. The following[m
[32m+[m[32m          Dictionary will probably come in handy:[m
[32m+[m
[32m+[m[32m          var arrowKeyCodes = new Dictionary({[m
[32m+[m[32m             37: new Point(-1, 0), // left[m
[32m+[m[32m             38: new Point(0, -1), // up[m
[32m+[m[32m             39: new Point(1, 0), // right[m
[32m+[m[32m             40: new Point(0, 1) // down[m
[32m+[m
[32m+[m[32m          });[m
[32m+[m
[32m+[m[32m          After an arrow key has been handled, check this.field.won() to find out if[m
[32m+[m[32m          that was the winning move. If the player won, use alert to show a message,[m
[32m+[m[32m          and go to the next level. If there is no next level (check[m
[32m+[m[32m          sokobanLevels.length), restart the game instead.[m
[32m+[m
[32m+[m[32m          It is probably wise to stop the events for key presses after handling them,[m
[32m+[m[32m          otherwise pressing arrow-up and arrow-down will scroll your window, which is[m
[32m+[m[32m          rather annoying.[m
[32m+[m
[32m+[m[32m             SokobanGame.keyDown = function(event) {[m
[32m+[m[32m                 if (arrowKeyCodes.contains(event.keyCode)) {[m
[32m+[m[32m                    event.stop();[m
[32m+[m[32m                    this.field.move(arrowKeyCodes.lookup(event.keyCode));[m
[32m+[m[32m                    if (this.field.won()) {[m
[32m+[m[32m                        if (this.level < sokobanLevels.length - 1) {[m
[32m+[m[32m                            alert("Excellent! Going to the next level.");[m
[32m+[m[32m                            this.level++;[m
[32m+[m[32m                            this.reset();[m
[32m+[m[32m                        }[m
[32m+[m[32m                        else {[m
[32m+[m[32m                            alert("You win! Game over.");[m
[32m+[m[32m                            this.newGame();[m
[32m+[m[32m                        }[m
[32m+[m[32m                    }[m
[32m+[m[32m                 }[m
[32m+[m
[32m+[m[32m             };[m
[32m+[m
[32m+[m[32m          It has to be noted that capturing keys like this â€• adding a handler to the[m
[32m+[m[32m          document and stopping the events that you are looking for â€• is not very nice[m
[32m+[m[32m          when there are other elements in the document. For example, try moving the[m
[32m+[m[32m          cursor around in the text field at the top of the document. â€• It won't work,[m
[32m+[m[32m          you'll only move the little man in the Sokoban game. If a game like this were[m
[32m+[m[32m          to be used in a real site, it is probably best to put it in a frame or window of[m
[32m+[m[32m          its own, so that it only grabs events aimed at its own window.[m
[32m+[m
[32m+[m[32mEx. 13.5  When brought to the exit, the boulders vanish rather abrubtly. By modifying[m
[32m+[m[32m          the Square.clearContent method, try to show a 'falling' animation for boulders[m
[32m+[m[32m          that are about to be removed. Make them grow smaller for a moment before,[m
[32m+[m[32m          and then disappear. You can use style.width = "50%", and similarly for[m
[32m+[m[32m          style.height, to make an image appear, for example, half as big as it usually[m
[32m+[m[32m          is.[m
[32m+[m
[32m+[m[32m          We can use setInterval to handle the timing of the animation. Note that the[m
[32m+[m[32m          method makes sure to clear the interval after it is done. If you don't do that,[m
[32m+[m[32m          it will continue wasting your computer's time until the page is closed.[m
[32m+[m
[32m+[m[32m          Square.clearContent = function() {[m
[32m+[m[32m             self.content = null;[m
[32m+[m[32m             var image = this.tableCell.lastChild;[m
[32m+[m[32m             var size = 100;[m
[32m+[m
[32m+[m[32m             var animate = setInterval(function() {[m
[32m+[m[32m                 size -= 10;[m
[32m+[m[32m                 image.style.width = size + "%";[m
[32m+[m[32m                 image.style.height = size + "%";[m
[32m+[m
[32m+[m[32m                 if (size < 60) {[m
[32m+[m[32m                    clearInterval(animate);[m
[32m+[m[32m              removeElement(image);[m
[32m+[m[32m          }[m
[32m+[m[32m       }, 70);[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mNow, if you have a few hours to waste, try finishing all levels.[m
[32m+[m
[32m+[m[32mOther event types that can be useful are focus and blur, which are fired on[m
[32m+[m[32melements that can be 'focused', such as form inputs. focus, obviously, happens[m
[32m+[m[32mwhen you put the focus on the element, for example by clicking on it. blur is[m
[32m+[m[32mJavaScript-speak for 'unfocus', and is fired when the focus leaves the[m
[32m+[m[32melement.[m
[32m+[m
[32m+[m[32m   addHandler($("textfield"), "focus", function(event) {[m
[32m+[m[32m       event.target.style.backgroundColor = "yellow";[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m[32m   addHandler($("textfield"), "blur", function(event) {[m
[32m+[m
[32m+[m[32m       event.target.style.backgroundColor = "";[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32mAnother event related to form inputs is change. This is fired when the content[m
[32m+[m[32mof the input has changed... except that for some inputs, such as text inputs, it[m
[32m+[m[32mdoes not fire until the element is unfocused.[m
[32m+[m
[32m+[m[32m   addHandler($("textfield"), "change", function(event) {[m
[32m+[m[32m       print("Content of text field changed to '",[m
[32m+[m[32m                  event.target.value, "'.");[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32mYou can type all you want, the event will only fire when you click outside of[m
[32m+[m[32mthe input, press tab, or unfocus it in some other way.[m
[32m+[m
[32m+[m[32mForms also have a submit event, which is fired when they submit. It can be[m
[32m+[m[32mstopped to prevent the submit from taking place. This gives us a much better[m
[32m+[m[32mway to do the form validation we saw in the previous chapter. You just[m
[32m+[m[32mregister a submit handler, which stops the event when the content of the form[m
[32m+[m[32mis not valid. That way, when the user does not have JavaScript enabled, the[m
[32m+[m[32mform will still work, it just won't have instant validation.[m
[32m+[m
[32m+[m[32mWindow objects have a load event that fires when the document is fully[m
[32m+[m[32mloaded, which can be useful if your script needs to do some kind of[m
[32m+[m[32minitialisation that has to wait until the whole document is present. For[m
[32m+[m[32mexample, the scripts on the pages for this book go over the current chapter to[m
[32m+[m[32mhide solutions to exercises. You can't do that when the exercises are not[m
[32m+[m[32mloaded yet. There is also an unload event, firing when the user leaves the[m
[32m+[m[32mdocument, but this is not properly supported by all browsers.[m
[32m+[m
[32m+[m[32mMost of the time it is best to leave the laying out of a document to the[m
[32m+[m[32mbrowser, but there are effects that can only be produced by having a piece of[m
[32m+[m[32mJavaScript set the exact sizes of some nodes in a document. When you do[m
[32m+[m[32mthis, make sure you also listen for resize events on the window, and[m
[32m+[m[32mre-calculate the sizes of your element every time the window is resized.[m
[32m+[m[32mFinally, I have to tell you something about event handlers that you would[m
[32m+[m[32mrather not know. The Internet Explorer browser (which means, at the time of[m
[32m+[m[32mwriting, the browser used by a majority of web-surfers) has a bug that[m
[32m+[m[32mcauses values to not be cleaned up as normal: Even when they are no longer[m
[32m+[m[32mused, they stay in the machine's memory. This is known as a memory leak,[m
[32m+[m[32mand, once enough memory has been leaked, will seriously slow down a[m
[32m+[m[32mcomputer.[m
[32m+[m
[32m+[m[32mWhen does this leaking occur? Due to a deficiency in Internet Explorer's[m
[32m+[m[32mgarbage collector, the system whose purpose it is to reclaim unused values,[m
[32m+[m[32mwhen you have a DOM node that, through one of its properties or in a more[m
[32m+[m[32mindirect way, refers to a normal JavaScript object, and this object, in turn,[m
[32m+[m[32mrefers back to that DOM node, both objects will not be collected. This has[m
[32m+[m[32msomething to do with the fact that DOM nodes and other JavaScript objects[m
[32m+[m[32mare collected by different systems â€• the system that cleans up DOM nodes[m
[32m+[m[32mwill take care to leave any nodes that are still referenced by JavaScript[m
[32m+[m[32mobjects, and vice versa for the system that collects normal JavaScript values.[m
[32m+[m
[32m+[m[32mAs the above description shows, the problem is not specifically related to[m
[32m+[m[32mevent handlers. This code, for example, creates a bit of un-collectable[m
[32m+[m[32mmemory:[m
[32m+[m
[32m+[m[32m   var jsObject = {link: document.body};[m
[32m+[m[32m   document.body.linkBack = jsObject;[m
[32m+[m
[32m+[m[32mEven after such an Internet Explorer browser goes to a different page, it will[m
[32m+[m[32mstill hold on to the document.body shown here. The reason this bug is often[m
[32m+[m[32massociated with event handlers is that it is extremely easy to make such[m
[32m+[m[32mcircular links when registering a handler. The DOM node keeps references to[m
[32m+[m[32mits handlers, and the handler, most of the time, has a reference to the DOM[m
[32m+[m[32mnode. Even when this reference is not intentionally made, JavaScript's scoping[m
[32m+[m[32mrules tend to add it implicitly. Consider this function:[m
[32m+[m
[32m+[m[32m   function addAlerter(element) {[m
[32m+[m[32m       addHandler(element, "click", function() {[m
[32m+[m[32m          alert("Alert! ALERT!");[m
[32m+[m[32m       });[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mThe anonymous function that is created by the addAlerter function can 'see'[m
[32m+[m[32mthe element variable. It doesn't use it, but that does not matter â€• just[m
[32m+[m[32mbecause it can see it, it will have a reference to it. By registering this function[m
[32m+[m[32mas an event handler on that same element object, we have created a circle.[m
[32m+[m
[32m+[m[32mThere are three ways to deal with this problem. The first approach, a very[m
[32m+[m[32mpopular one, is to ignore it. Most scripts will only leak a little bit, so it takes a[m
[32m+[m[32mlong time and a lot of pages before the problems become noticeable. And,[m
[32m+[m[32mwhen the problems are so subtle, who's going to hold you responsible?[m
[32m+[m[32mProgrammers given to this approach will often searingly denounce Microsoft[m
[32m+[m[32mfor their shoddy programming, and state that the problem is not their fault, so[m
[32m+[m[32mthey shouldn't be fixing it.[m
[32m+[m
[32m+[m[32mSuch reasoning is not entirely without merit, of course. But when half your[m
[32m+[m[32musers are having problems with the web-pages you make, it is hard to deny[m
[32m+[m[32mthat there is a practical problem. Which is why people working on 'serious'[m
[32m+[m[32msites usually make an attempt not to leak any memory. Which brings us to the[m
[32m+[m[32msecond approach: Painstakingly making sure that no circular references[m
[32m+[m[32mbetween DOM objects and regular objects are created. This means, for[m
[32m+[m[32mexample, rewriting the above handler like this:[m
[32m+[m
[32m+[m[32m   function addAlerter(element) {[m
[32m+[m[32m       addHandler(element, "click", function() {[m
[32m+[m[32m          alert("Alert! ALERT!");[m
[32m+[m[32m       });[m
[32m+[m[32m       element = null;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mNow the element variable no longer points at the DOM node, and the handler[m
[32m+[m[32mwill not leak. This approach is viable, but requires the programmer to really[m
[32m+[m[32mpay attention.[m
[32m+[m
[32m+[m[32mThe third solution, finally, is to not worry too much about creating leaky[m
[32m+[m[32mstructures, but to make sure to clean them up when you are done with them.[m
[32m+[m[32mThis means unregistering any event handlers when they are no longer[m
[32m+[m[32mneeded, and registering an onunload event to unregister the handlers that are[m
[32m+[m[32mneeded until the page is unloaded. It is possible to extend an event-[m
[32m+[m[32mregistering system, like our addHandler function, to automatically do this. When[m
[32m+[m[32mtaking this approach, you must keep in mind that event handlers are not the[m
[32m+[m[32monly possible source of memory leaks â€• adding properties to DOM node[m
[32m+[m[32mobjects can cause similar problems.[m
[32m+[m[32mChapter 14:[m
[32m+[m
[32m+[m[32m       As mentioned in chapter 11, communication on the World Wide Web happens[m
[32m+[m[32m       over the HTTP protocol. A simple request might look like this:[m
[32m+[m
[32m+[m[32m            GET /files/fruit.txt HTTP/1.1[m
[32m+[m[32m            Host: eloquentjavascript.net[m
[32m+[m[32m            User-Agent: The Imaginary Browser[m
[32m+[m
[32m+[m[32m       Which asks for the file files/fruit.txt from the server at[m
[32m+[m[32m       eloquentjavascript.net. In addition, it specifies that this request uses version[m
[32m+[m[32m       1.1 of the HTTP protocol â€• version 1.0 is also still in use, and works slightly[m
[32m+[m[32m       differently. The Host and User-Agent lines follow a pattern: They start with a[m
[32m+[m[32m       word that identifies the information they contain, followed by a colon and the[m
[32m+[m[32m       actual information. These are called 'headers'. The User-Agent header tells the[m
[32m+[m[32m       server which browser (or other kind of program) is being used to make the[m
[32m+[m[32m       request. Other kinds of headers are often sent along, for example to state[m
[32m+[m[32m       the types of documents that the client can understand, or the language that it[m
[32m+[m[32m       prefers.[m
[32m+[m
[32m+[m[32m       When given the above request, the server might send the following response:[m
[32m+[m
[32m+[m[32m            HTTP/1.1 200 OK[m
[32m+[m[32m            Last-Modified: Mon, 23 Jul 2007 08:41:56 GMT[m
[32m+[m[32m            Content-Length: 24[m
[32m+[m[32m            Content-Type: text/plain[m
[32m+[m
[32m+[m[32m            apples, oranges, bananas[m
[32m+[m
[32m+[m[32m       The first line indicates again the version of the HTTP protocol, followed by the[m
[32m+[m[32m       status of the request. In this case the status code is 200, meaning 'OK,[m
[32m+[m[32m       nothing out of the ordinary happened, I am sending you the file'. This is[m
[32m+[m[32m       followed by a few headers, indicating (in this case) the last time the file was[m
[32m+[m[32m       modified, its length, and its type (plain text). After the headers you get a[m
[32m+[m[32m       blank line, followed by the file itself.[m
[32m+[m
[32m+[m[32m       Apart from requests starting with GET, which indicates the client just wants to[m
[32m+[m[32m       fetch a document, the word POST can also be used to indicate some[m
[32m+[m[32m       information will be sent along with the request, which the server is expected[m
[32m+[m[32m       to process in some way.1[m
[32m+[m
[32m+[m[32m       When you click a link, submit a form, or in some other way encourage your[m
[32m+[m[32m       browser to go to a new page, it will do an HTTP request and immediately[m
[32m+[m[32m       unload the old page to show the newly loaded document. In typical situations,[m
[32m+[m[32m       this is just what you want â€• it is how the web traditionally works. Sometimes,[m
[32m+[m[32m       however, a JavaScript program wants to communicate with the server without[m
[32m+[m[32m       re-loading the page. The 'Load' button in the console, for example, can load[m
[32m+[m[32m       files without leaving the page.[m
[32m+[m
[32m+[m[32m       To be able to do things like that, the JavaScript program must make the HTTP[m
[32m+[m[32mrequest itself. Contemporary browsers provide an interface for this. As with[m
[32m+[m[32mopening new windows, this interface is subject to some restrictions. To[m
[32m+[m[32mprevent a script from doing anything scary, it is only allowed to make HTTP[m
[32m+[m[32mrequests to the domain that the current page came from.[m
[32m+[m
[32m+[m[32mAn object used to make an HTTP request can, on most browsers, be created[m
[32m+[m[32mby doing new XMLHttpRequest(). Older versions of Internet Explorer, which[m
[32m+[m[32moriginally invented these objects, require you to do new[m
[32m+[m[32mActiveXObject("Msxml2.XMLHTTP") or, on even older versions, new[m
[32m+[m[32mActiveXObject("Microsoft.XMLHTTP"). ActiveXObject is Internet Explorer's[m
[32m+[m[32minterface to various kinds of browser add-ons. We are already used to writing[m
[32m+[m[32mincompatibility-wrappers by now, so let us do so again:[m
[32m+[m
[32m+[m[32m   function makeHttpObject() {[m
[32m+[m[32m       try {return new XMLHttpRequest();}[m
[32m+[m[32m       catch (error) {}[m
[32m+[m[32m       try {return new ActiveXObject("Msxml2.XMLHTTP");}[m
[32m+[m[32m       catch (error) {}[m
[32m+[m[32m       try {return new ActiveXObject("Microsoft.XMLHTTP");}[m
[32m+[m[32m       catch (error) {}[m
[32m+[m
[32m+[m[32m       throw new Error("Could not create HTTP request object.");[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   show(typeof(makeHttpObject()));[m
[32m+[m
[32m+[m[32mThe wrapper tries to create the object in all three ways, using try and catch[m
[32m+[m[32mto detect which ones fail. If none of the ways work, which might be the case[m
[32m+[m[32mon older browsers or browsers with strict security settings, it raises and error.[m
[32m+[m
[32m+[m[32mNow why is this object called an XML HTTP request? This is a bit of a[m
[32m+[m[32mmisleading name. XML is a way to store textual data. It uses tags and[m
[32m+[m[32mattributes like HTML, but is more structured and flexible â€• to store your own[m
[32m+[m[32mkinds of data, you may define your own types of XML tags. These HTTP[m
[32m+[m[32mrequest objects have some built-in functionality for dealing with retrieved XML[m
[32m+[m[32mdocuments, which is why they have XML in their name. They can also handle[m
[32m+[m[32mother types of documents, though, and in my experience they are used just[m
[32m+[m[32mas often for non-XML requests.[m
[32m+[m
[32m+[m[32mNow that we have our HTTP object, we can use it to make a request similar[m
[32m+[m[32mthe example shown above.[m
[32m+[m
[32m+[m[32m   var request = makeHttpObject();[m
[32m+[m[32m   request.open("GET", "files/fruit.txt", false);[m
[32m+[m[32m   request.send(null);[m
[32m+[m[32m   print(request.responseText);[m
[32m+[m
[32m+[m[32mThe open method is used to configure a request. In this case we choose to[m
[32m+[m[32mmake a GET request for our fruit.txt file. The URL given here is relative, it[m
[32m+[m[32mdoes not contain the http:// part or a server name, which means it will look[m
[32m+[m[32mfor the file on the server that the current document came from. The third[m
[32m+[m[32mparameter, false, will be discussed in a moment. After open has been called,[m
[32m+[m[32mthe actual request can be made with the send method. When the request is a[m
[32m+[m[32mPOST request, the data to be sent to the server (as a string) can be passed to[m
[32m+[m[32mthis method. For GET requests, one should just pass null.[m
[32m+[m
[32m+[m[32mAfter the request has been made, the responseText property of the request[m
[32m+[m[32mobject contains the content of the retrieved document. The headers that the[m
[32m+[m[32mserver sent back can be inspected with the getResponseHeader and[m
[32m+[m[32mgetAllResponseHeaders functions. The first looks up a specific header, the[m
[32m+[m[32msecond gives us a string containing all the headers. These can occasionally be[m
[32m+[m[32museful to get some extra information about the document.[m
[32m+[m
[32m+[m[32m   print(request.getAllResponseHeaders());[m
[32m+[m[32m   show(request.getResponseHeader("Date"));[m
[32m+[m
[32m+[m[32mIf, for some reason, you want to add headers to the request that is sent to[m
[32m+[m[32mthe server, you can do so with the setRequestHeader method. This takes two[m
[32m+[m[32mstrings as arguments, the name and the value of the header.[m
[32m+[m
[32m+[m[32mThe response code, which was 200 in the example, can be found under the[m
[32m+[m[32mstatus property. When something went wrong, this cryptic code will indicate it.[m
[32m+[m[32mFor example, 404 means the file you asked for did not exist. The statusText[m
[32m+[m[32mcontains a slightly less cryptic description of the status.[m
[32m+[m
[32m+[m[32m   show(request.status);[m
[32m+[m[32m   show(request.statusText);[m
[32m+[m
[32m+[m[32mWhen you want to check whether a request succeeded, comparing the status[m
[32m+[m[32mto 200 is usually enough. In theory, the server might in some situations return[m
[32m+[m[32mthe code 304 to indicate that the older version of the document, which the[m
[32m+[m[32mbrowser has stored in its 'cache', is still up to date. But it seems that browsers[m
[32m+[m[32mshield you from this by setting the status to 200 even when it is 304. Also, if[m
[32m+[m[32myou are doing a request over a non-HTTP protocol2, such as FTP, the status[m
[32m+[m[32mwill not be usable because the protocol does not use HTTP status codes.[m
[32m+[m
[32m+[m[32mWhen a request is done as in the example above, the call to the send method[m
[32m+[m[32mdoes not return until the request is finished. This is convenient, because it[m
[32m+[m[32mmeans the responseText is available after the call to send, and we can start[m
[32m+[m[32musing it immediately. There is a problem, though. When the server is slow, or[m
[32m+[m[32mthe file is big, doing a request might take quite a while. As long as this is[m
[32m+[m[32mhappening, the program is waiting, which causes the whole browser to wait.[m
[32m+[m[32mUntil the program finishes, the user can not do anything, not even scroll the[m
[32m+[m[32mpage. Pages that run on a local network, which is fast and reliable, might get[m
[32m+[m[32maway with doing requests like this. Pages on the big great unreliable Internet,[m
[32m+[m[32mon the other hand, should not.[m
[32m+[m
[32m+[m[32mWhen the third argument to open is true, the request is set to be[m
[32m+[m[32m'asynchronous'. This means that send will return right away, while the request[m
[32m+[m[32mhappens in the background.[m
[32m+[m
[32m+[m[32m   request.open("GET", "files/fruit.xml", true);[m
[32m+[m[32m   request.send(null);[m
[32m+[m[32m   show(request.responseText);[m
[32m+[m
[32m+[m[32mBut wait a moment, and...[m
[32m+[m[32m   print(request.responseText);[m
[32m+[m
[32m+[m[32m'Waiting a moment' could be implemented with setTimeout or something like[m
[32m+[m[32mthat, but there is a better way. A request object has a readyState property,[m
[32m+[m[32mindicating the state it is in. This will become 4 when the document has been[m
[32m+[m[32mfully loaded, and have a smaller value before that3. To react to changes in[m
[32m+[m[32mthis status, you can set the onreadystatechange property of the object to a[m
[32m+[m[32mfunction. This function will be called every time the state changes.[m
[32m+[m
[32m+[m[32m   request.open("GET", "files/fruit.xml", true);[m
[32m+[m[32m   request.send(null);[m
[32m+[m[32m   request.onreadystatechange = function() {[m
[32m+[m
[32m+[m[32m       if (request.readyState == 4)[m
[32m+[m[32m          show(request.responseText.length);[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mWhen the file retrieved by the request object is an XML document, the[m
[32m+[m[32mrequest's responseXML property will hold a representation of this document.[m
[32m+[m[32mThis representation works like the DOM objects discussed in chapter 12,[m
[32m+[m[32mexcept that it doesn't have HTML-specific functionality, such as style or[m
[32m+[m[32minnerHTML. responseXML gives us a document object, whose documentElement[m
[32m+[m[32mproperty refers to the outer tag of the XML document.[m
[32m+[m
[32m+[m[32m   var catalog = request.responseXML.documentElement;[m
[32m+[m[32m   show(catalog.childNodes.length);[m
[32m+[m
[32m+[m[32mSuch XML documents can be used to exchange structured information with[m
[32m+[m[32mthe server. Their form â€• tags contained inside other tags â€• is often very[m
[32m+[m[32msuitable to store things that would be tricky to represent as simple flat text.[m
[32m+[m[32mThe DOM interface is rather clumsy for extracting information though, and[m
[32m+[m[32mXML documents are notoriously wordy: The fruit.xml document looks like a[m
[32m+[m[32mlot, but all it says is 'apples are red, oranges are orange, and bananas are[m
[32m+[m[32myellow'.[m
[32m+[m
[32m+[m[32mAs an alternative to XML, JavaScript programmers have come up with[m
[32m+[m[32msomething called JSON. This uses the basic notation of JavaScript values to[m
[32m+[m[32mrepresent 'hierarchical' information in a more minimalist way. A JSON[m
[32m+[m[32mdocument is a file containing a single JavaScript object or array, which in turn[m
[32m+[m[32mcontains any number of other objects, arrays, strings, numbers, booleans, or[m
[32m+[m[32mnull values. For an example, look at fruit.json:[m
[32m+[m
[32m+[m[32m   request.open("GET", "files/fruit.json", true);[m
[32m+[m[32m   request.send(null);[m
[32m+[m[32m   request.onreadystatechange = function() {[m
[32m+[m
[32m+[m[32m       if (request.readyState == 4)[m
[32m+[m[32m          print(request.responseText);[m
[32m+[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32mSuch a piece of text can be converted to a normal JavaScript value by using[m
[32m+[m[32mthe eval function. Parentheses should be added around it before calling eval,[m
[32m+[m[32mbecause otherwise JavaScript might interpret an object (enclosed by braces)[m
[32m+[m[32mas a block of code, and produce an error.[m
[32m+[m[32m             function evalJSON(json) {[m
[32m+[m[32m                 return eval("(" + json + ")");[m
[32m+[m
[32m+[m[32m             }[m
[32m+[m[32m             var fruit = evalJSON(request.responseText);[m
[32m+[m[32m             show(fruit);[m
[32m+[m
[32m+[m[32m          When running eval on a piece of text, you have to keep in mind that this[m
[32m+[m[32m          means you let the piece of text run whichever code it wants. Since JavaScript[m
[32m+[m[32m          only allows us to make requests to our own domain, you will usually know[m
[32m+[m[32m          exactly what kind of text you are getting, and this is not a problem. In other[m
[32m+[m[32m          situations, it might be unsafe.[m
[32m+[m
[32m+[m[32mEx. 14.1  Write a function called serializeJSON which, when given a JavaScript value,[m
[32m+[m[32m          produces a string with the value's JSON representation. Simple values like[m
[32m+[m[32m          numbers and booleans can be simply given to the String function to convert[m
[32m+[m[32m          them to a string. Objects and arrays can be handled by recursion.[m
[32m+[m
[32m+[m[32m          Recognizing arrays can be tricky, since its type is "object". You can use[m
[32m+[m[32m          instanceof Array, but that only works for arrays that were created in your[m
[32m+[m[32m          own window â€• others will use the Array prototype from other windows, and[m
[32m+[m[32m          instanceof will return false. A cheap trick is to convert the constructor[m
[32m+[m[32m          property to a string, and see whether that contains "function Array".[m
[32m+[m
[32m+[m[32m          When converting a string, you have to take care to escape special characters[m
[32m+[m[32m          inside it. If you use double-quotes around the string, the characters to escape[m
[32m+[m[32m          are \", \\, \f, \b, \n, \t, \r, and \v4.[m
[32m+[m
[32m+[m[32m          function serializeJSON(value) {[m
[32m+[m[32m             function isArray(value) {[m
[32m+[m[32m                 return /^\s*function Array/.test(String(value.constructor));[m
[32m+[m[32m             }[m
[32m+[m
[32m+[m[32m             function serializeArray(value) {[m
[32m+[m[32m                 return "[" + map(serializeJSON, value).join(", ") + "]";[m
[32m+[m
[32m+[m[32m             }[m
[32m+[m[32m             function serializeObject(value) {[m
[32m+[m
[32m+[m[32m                 var properties = [];[m
[32m+[m[32m                 forEachIn(value, function(name, value) {[m
[32m+[m
[32m+[m[32m                    properties.push(serializeString(name) + ": " +[m
[32m+[m[32m                                                 serializeJSON(value));[m
[32m+[m
[32m+[m[32m                 });[m
[32m+[m[32m                 return "{" + properties.join(", ") + "}";[m
[32m+[m[32m             }[m
[32m+[m[32m             function serializeString(value) {[m
[32m+[m[32m                 var special =[m
[32m+[m
[32m+[m[32m                    {"\"": "\\\"", "\\": "\\\\", "\f": "\\f", "\b": "\\b",[m
[32m+[m[32m                      "\n": "\\n", "\t": "\\t", "\r": "\\r", "\v": "\\v"};[m
[32m+[m
[32m+[m[32m                 var escaped = value.replace(/[\"\\\f\b\n\t\r\v]/g,[m
[32m+[m[32m                                                                   function(c) {return special[c];});[m
[32m+[m
[32m+[m[32m                 return "\"" + escaped + "\"";[m
[32m+[m[32m             }[m
[32m+[m
[32m+[m[32m             var type = typeof value;[m
[32m+[m[32m             if (type == "object" && isArray(value))[m
[32m+[m
[32m+[m[32m                 return serializeArray(value);[m
[32m+[m[32m             else if (type == "object")[m
[32m+[m
[32m+[m[32m                 return serializeObject(value);[m
[32m+[m[32m             else if (type == "string")[m
[32m+[m[32m          return serializeString(value);[m
[32m+[m[32m       else[m
[32m+[m
[32m+[m[32m          return String(value);[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   print(serializeJSON(fruit));[m
[32m+[m
[32m+[m[32mThe trick used in serializeString is similar to what we saw in the escapeHTML[m
[32m+[m[32mfunction in chapter 10. It uses an object to look up the correct replacements[m
[32m+[m[32mfor each of the characters. Some of them, such as "\\\\", look quite weird[m
[32m+[m[32mbecause of the need to put two backslashes for every backslash in the[m
[32m+[m[32mresulting string.[m
[32m+[m
[32m+[m[32mAlso note that the names of properties are quoted as strings. For some of[m
[32m+[m[32mthem, this is not necessary, but for property names with spaces and other[m
[32m+[m[32mstrange things in them it is, so the code just takes the easy way out and[m
[32m+[m[32mquotes everything.[m
[32m+[m
[32m+[m[32mWhen making lots of requests, we do, of course, not want to repeat the[m
[32m+[m[32mwhole open, send, onreadystatechange ritual every time. A very simple wrapper[m
[32m+[m[32mcould look like this:[m
[32m+[m
[32m+[m[32m   function simpleHttpRequest(url, success, failure) {[m
[32m+[m[32m       var request = makeHttpObject();[m
[32m+[m[32m       request.open("GET", url, true);[m
[32m+[m[32m       request.send(null);[m
[32m+[m[32m       request.onreadystatechange = function() {[m
[32m+[m[32m           if (request.readyState == 4) {[m
[32m+[m[32m              if (request.status == 200)[m
[32m+[m[32m                  success(request.responseText);[m
[32m+[m[32m              else if (failure)[m
[32m+[m[32m                  failure(request.status, request.statusText);[m
[32m+[m[32m           }[m
[32m+[m[32m       };[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   simpleHttpRequest("files/fruit.txt", print);[m
[32m+[m
[32m+[m[32mThe function retrieves the url it is given, and calls the function it is given as a[m
[32m+[m[32msecond argument with the content. When a third argument is given, this is[m
[32m+[m[32mused to indicate failure â€• a non-200 status code.[m
[32m+[m
[32m+[m[32mTo be able to do more complex requests, the function could be made to[m
[32m+[m[32maccept extra parameters to specify the method (GET or POST), an optional[m
[32m+[m[32mstring to post as data, a way to add extra headers, and so on. When you[m
[32m+[m[32mhave so many arguments, you'd probably want to pass them as an[m
[32m+[m[32marguments-object as seen in chapter 9.[m
[32m+[m
[32m+[m[32mSome websites make use of intensive communication between the programs[m
[32m+[m[32mrunning on the client and the programs running on the server. For such[m
[32m+[m[32msystems, it can be practical to think of some HTTP requests as calls to[m
[32m+[m[32mfunctions that run on the server. The client makes request to URLs that[m
[32m+[m[32midentify the functions, giving the arguments as URL parameters or POST data.[m
[32m+[m[32mThe server then calls the function, and puts the result into JSON or XML[m
[32m+[m[32mdocument that it sends back. If you write a few convenient support functions,[m
[32m+[m[32mthis can make calling server-side functions almost as easy as calling client-side[m
[32m+[m[32mones... except, of course, that you do not get their results instantly.[m
[32m+[m
[32m+[m[32m1. These are not the only types of requests. There is also HEAD, to request just the headers for a document, not[m
[32m+[m[32m    its content, PUT, to add a document to a server, and DELETE, to delete a document. These are not used by[m
[32m+[m[32m    browsers, and often not supported by web-servers, but â€• if you add server-side programs to support them â€•[m
[32m+[m[32m    they can be useful.[m
[32m+[m
[32m+[m[32m2. Not only the 'XML' part of the XMLHttpRequest name is misleading â€• the object can also be used for request[m
[32m+[m[32m    over protocols other than HTTP, so Request is the only meaningful part we have left.[m
[32m+[m
[32m+[m[32m3. 0 ('uninitialized') is the state of the object before open is called on it. Calling open moves it to 1 ('open'). Calling[m
[32m+[m[32m    send makes it proceed to 2 ('sent'). When the server responds, it goes to 3 ('receiving'). Finally, 4 means[m
[32m+[m[32m    'loaded'.[m
[32m+[m
[32m+[m[32m4. We already saw \n, which is a newline. \t is a tab character, \r a 'carriage return', which some systems use[m
[32m+[m[32m    before or instead of a newline to indicate the end of a line. \b (backspace), \v (vertical tab), and \f (form feed)[m
[32m+[m[32m    are useful when working with old printers, but less so when dealing with Internet browsers.[m
[32m+[m[32mAppendix 1:[m
[32m+[m
[32m+[m[32m       In chapter 2, a number of control statements were introduced, such as while,[m
[32m+[m[32m       for, and break. To keep things simple, I left out some others, which, in my[m
[32m+[m[32m       experience, are a lot less useful. This appendix briefly describes these missing[m
[32m+[m[32m       control statements.[m
[32m+[m
[32m+[m[32m       First, there is do. do works like while, but instead of executing the loop body[m
[32m+[m[32m       zero or more times, it executes it one or more times. A do loop looks like this:[m
[32m+[m
[32m+[m[32m            do {[m
[32m+[m[32m               var answer = prompt("Say 'moo'.", "");[m
[32m+[m[32m               print("You said '", answer, "'.");[m
[32m+[m
[32m+[m[32m            } while (answer != "moo");[m
[32m+[m
[32m+[m[32m       To emphasise the fact that the condition is only checked after the loop has[m
[32m+[m[32m       run once, it is written at the end of the loop's body.[m
[32m+[m
[32m+[m[32m       Next, there is continue. This one is closely related to break, and can be used[m
[32m+[m[32m       in the same places. While break jumps out of a loop and causes the program[m
[32m+[m[32m       to proceed after the loop, continue jumps to the next iteration of the loop.[m
[32m+[m
[32m+[m[32m            for (var i = 0; i < 10; i++) {[m
[32m+[m[32m               if (i % 3 != 0)[m
[32m+[m[32m                   continue;[m
[32m+[m[32m               print(i, " is divisible by three.");[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m       A similar effect can usually be produced using just if, but there are cases[m
[32m+[m[32m       where continue looks nicer.[m
[32m+[m
[32m+[m[32m       When there is a loop sitting inside another loop, a break or continue statement[m
[32m+[m[32m       will affect only the inner loop. Sometimes you want to jump out of the outer[m
[32m+[m[32m       loop. To be able to refer to a specific loop, loop statements can be labelled. A[m
[32m+[m[32m       label is a name (any valid variable name will do), followed by a colon (:).[m
[32m+[m
[32m+[m[32m            outer: for (var sideA = 1; sideA < 10; sideA++) {[m
[32m+[m[32m               inner: for (var sideB = 1; sideB < 10; sideB++) {[m
[32m+[m[32m                   var hypotenuse = Math.sqrt(sideA * sideA + sideB * sideB);[m
[32m+[m[32m                   if (hypotenuse % 1 == 0) {[m
[32m+[m[32m                      print("A right triangle with straight sides of length ",[m
[32m+[m[32m                                 sideA, " and ", sideB, " has a hypotenuse of ",[m
[32m+[m[32m                                 hypotenuse, ".");[m
[32m+[m[32m                      break outer;[m
[32m+[m[32m                   }[m
[32m+[m[32m               }[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m[32mNext, there is a construct called switch which can be used to choose which[m
[32m+[m[32mcode to execute based on some value. This is a very useful thing to do, but[m
[32m+[m[32mthe syntax JavaScript uses for this (which it took from the C programming[m
[32m+[m[32mlanguage) is so clumsy and ugly that I usually prefer to use a chain of if[m
[32m+[m[32mstatements instead.[m
[32m+[m
[32m+[m[32m   function weatherAdvice(weather) {[m
[32m+[m[32m       switch(weather) {[m
[32m+[m[32m          case "rainy":[m
[32m+[m[32m              print("Remember to bring an umbrella.");[m
[32m+[m[32m              break;[m
[32m+[m[32m          case "sunny":[m
[32m+[m[32m              print("Dress lightly.");[m
[32m+[m[32m          case "cloudy":[m
[32m+[m[32m              print("Go outside.");[m
[32m+[m[32m              break;[m
[32m+[m[32m          default:[m
[32m+[m[32m              print("Unknown weather type: ", weather);[m
[32m+[m[32m              break;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   weatherAdvice("sunny");[m
[32m+[m
[32m+[m[32mInside the block opened by switch, you can write a number of case labels. The[m
[32m+[m[32mprogram will jump to the label that corresponds to the value that switch was[m
[32m+[m[32mgiven, or to default if no matching value is found. Then it start executing[m
[32m+[m[32mstatements there, and continues past other labels, until it reaches a break[m
[32m+[m[32mstatement. In some cases, such as the "sunny" case in the example, this can[m
[32m+[m[32mbe used to share some code between cases (it recommends going outside for[m
[32m+[m[32mboth sunny and cloudy weather). Most of the time, this just adds a lot of ugly[m
[32m+[m[32mbreak statements, or causes problems when you forget to add one.[m
[32m+[m
[32m+[m[32mLike loops, switch statements can be given a label.[m
[32m+[m
[32m+[m[32mFinally, there is a keyword named with. I've never actually used this in a real[m
[32m+[m[32mprogram, but I have seen other people use it, so it is useful to know what it[m
[32m+[m[32mis. Code using with looks like this:[m
[32m+[m
[32m+[m[32m   var scope = "outside";[m
[32m+[m[32m   var object = {name: "Ignatius", scope: "inside"};[m
[32m+[m[32m   with(object) {[m
[32m+[m
[32m+[m[32m       print("Name == ", name, ", scope == ", scope);[m
[32m+[m[32m       name = "Raoul";[m
[32m+[m[32m       var newVariable = 49;[m
[32m+[m[32m   }[m
[32m+[m[32m   show(object.name);[m
[32m+[m[32m   show(newVariable);[m
[32m+[m
[32m+[m[32mInside the block, the properties of the object given to with act as variables.[m
[32m+[m[32mNewly introduced variables are not added as properties to this object though.[m
[32m+[m[32mI assume the idea behind this construct was that it could be useful in methods[m
[32m+[m[32mthat make lots of use of the properties of their object. You could start such a[m
[32m+[m[32mmethod with with(this) {...}, and not have to write this all the time after[m
[32m+[m[32mthat.[m
[32m+[m[32mAppendix 2:[m
[32m+[m
[32m+[m[32m       In chapter 7, the binary heap was introduced as a method to store a[m
[32m+[m[32m       collection of objects in such a way that the smallest element can be quickly[m
[32m+[m[32m       found. As promised, this appendix will explain the details behind this data[m
[32m+[m[32m       structure.[m
[32m+[m[32m       Consider again the problem we needed to solve. The A* algorithm created[m
[32m+[m[32m       large amounts of small objects, and had to keep these in an 'open list'. It was[m
[32m+[m[32m       also constantly removing the smallest element from this list. The simplest[m
[32m+[m[32m       approach would be to just keep all the objects in an array, and search for the[m
[32m+[m[32m       smallest one when we need it. But, unless we have a lot of time, this will not[m
[32m+[m[32m       do. Finding the smallest element in an unsorted array requires going over the[m
[32m+[m[32m       whole array, and checking each element.[m
[32m+[m[32m       The next solution would be, of course, to sort our array. JavaScript arrays[m
[32m+[m[32m       have a wonderful sort method, which can be used to do the heavy work.[m
[32m+[m[32m       Unfortunately, re-sorting a whole array every time an element is removed is[m
[32m+[m[32m       more work than searching for a minimum value in an unsorted array. Some[m
[32m+[m[32m       tricks can be used, such as, instead of re-sorting the whole array, just making[m
[32m+[m[32m       sure new values are inserted in the right place so that the array, which was[m
[32m+[m[32m       sorted before, stays sorted. This is coming closer to the approach a binary[m
[32m+[m[32m       heap uses already, but inserting a value in the middle of an array requires[m
[32m+[m[32m       moving all the elements after it one place up, which is still just too slow.[m
[32m+[m[32m       Another approach is to not use an array at all, but to store the values in a set[m
[32m+[m[32m       of interconnected objects. A simple form of this is to have every object hold[m
[32m+[m[32m       one value and two (or less) links to other objects. There is one root object,[m
[32m+[m[32m       holding the smallest value, which is used to access all the other objects. Links[m
[32m+[m[32m       always point to objects holding greater values, so the whole structure looks[m
[32m+[m[32m       something like this:[m
[32m+[m
[32m+[m[32m       Such structures are usually called trees, because of the way they branch.[m
[32m+[m[32m       Now, when you need the smallest element, you just take off the top element[m
[32m+[m[32m       and rearrange the tree so that one of the top element's children â€• the one[m
[32m+[m[32m       with the lowest value â€• becomes the new top. When inserting new elements,[m
[32m+[m[32myou 'descend' the tree until you find an element less than the new element,[m
[32m+[m[32mand insert it there. This takes a lot less searching than a sorted array does,[m
[32m+[m[32mbut it has the disadvantage of creating a lot of objects, which also slows[m
[32m+[m[32mthings down.[m
[32m+[m
[32m+[m[32mA binary heap, then, does make use of a sorted array, but it is only partially[m
[32m+[m[32msorted, much like the tree above. Instead of objects, the positions in the array[m
[32m+[m[32mare used to form a tree, as this picture tries to show:[m
[32m+[m
[32m+[m[32mArray element 1 is the root of the tree, array element 2 and 3 are its children,[m
[32m+[m[32mand in general array element X has children X * 2 and X * 2 + 1. You can see[m
[32m+[m[32mwhy this structure is called a 'heap'. Note that this array starts at 1, while[m
[32m+[m[32mJavaScript arrays start at 0. The heap will always keep the smallest element[m
[32m+[m[32min position 1, and make sure that for every element in the array at position X,[m
[32m+[m[32mthe element at X / 2 (round down) is smaller.[m
[32m+[m[32mFinding the smallest element is now a matter of taking the element at position[m
[32m+[m[32m1. But when this element is removed, the heap must make sure that there are[m
[32m+[m[32mno holes left in the array. To do this, it takes the last element in the array and[m
[32m+[m[32mmoves it to the start, and then compares it to its child elements at position 2[m
[32m+[m[32mand 3. It is likely to be greater, so it is exchanged with one of them, and the[m
[32m+[m[32mprocess of comparing it with its children is repeated for the new position, and[m
[32m+[m[32mso on, until it comes to a position where its children are greater, or a position[m
[32m+[m[32mwhere it has no children.[m
[32m+[m
[32m+[m[32m   [2, 3, 5, 4, 8, 7, 6][m
[32m+[m[32m   Take out 2, move 6 to the front.[m
[32m+[m[32m   [6, 3, 5, 4, 8, 7][m
[32m+[m[32m   6 is greater than its first child 3, so swap them.[m
[32m+[m[32m   [3, 6, 5, 4, 8, 7][m
[32m+[m[32m   Now 6 has children 4 and 8 (position 4 and 5). It is greater than[m
[32m+[m[32m   4, so we swap again.[m
[32m+[m[32m   [3, 4, 5, 6, 8, 7][m
[32m+[m[32m   6 is in position 4, and has no more children. The heap is in order[m
[32m+[m[32m   again.[m
[32m+[m
[32m+[m[32mSimilarly, when an element has to be added to the heap, it is put at the end[m
[32m+[m[32mof the array and 'sunk' down by repeatedly exchanging it with its parent, until[m
[32m+[m[32mwe find a parent that is less than the new node.[m
[32m+[m
[32m+[m[32m   [3, 4, 5, 6, 8, 7][m
[32m+[m[32m   Element 2 gets added again, it starts at the back.[m
[32m+[m[32m   [3, 4, 5, 6, 8, 7, 2][m
[32m+[m[32m   2 is in position 7, its parent is at 3, which is a 5. 5 is greater[m
[32m+[m[32m   than 2, so we swap.[m
[32m+[m[32m   [3, 4, 2, 6, 8, 7, 5][m
[32m+[m[32m   The parent of position 3 is position 1. Again, we swap.[m
[32m+[m[32m   [2, 4, 3, 6, 8, 7, 5][m
[32m+[m[32m   The element can not sink below position 1, so we are done.[m
[32m+[m
[32m+[m[32mNote how adding or inserting an element does not require it to be compared[m
[32m+[m[32mwith every element in the array. In fact, because the jumps between parents[m
[32m+[m[32mand children get bigger as the array gets bigger, this advantage is especially[m
[32m+[m[32mlarge when we have a lot of elements1.[m
[32m+[m
[32m+[m[32mHere is the full code of a binary heap implementation. Two things to note are[m
[32m+[m[32mthat, instead of directly comparing the elements put into the heap, a function[m
[32m+[m[32m(scoreFunction) is first applied to them, so that it becomes possible to store[m
[32m+[m[32mobjects that can not be directly compared.[m
[32m+[m
[32m+[m[32mAlso, because JavaScript arrays start at 0, and the parent/child calculations[m
[32m+[m[32muse a system that starts at 1, there are a few strange calculations to[m
[32m+[m[32mcompensate.[m
[32m+[m
[32m+[m[32m   function BinaryHeap(scoreFunction){[m
[32m+[m[32m       this.content = [];[m
[32m+[m[32m       this.scoreFunction = scoreFunction;[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   BinaryHeap.prototype = {[m
[32m+[m[32m       push: function(element) {[m
[32m+[m[32m          // Add the new element to the end of the array.[m
[32m+[m[32m          this.content.push(element);[m
[32m+[m[32m          // Allow it to sink down.[m
[32m+[m[32m          this.sinkDown(this.content.length - 1);[m
[32m+[m[32m       },[m
[32m+[m
[32m+[m[32m       pop: function() {[m
[32m+[m[32m          // Store the first element so we can return it later.[m
[32m+[m[32m          var result = this.content[0];[m
[32m+[m[32m          // Get the element at the end of the array.[m
[32m+[m[32m          var end = this.content.pop();[m
[32m+[m[32m          // If there are any elements left, put the end element at the[m
[32m+[m[32m          // start, and let it bubble up.[m
[32m+[m[32m          if (this.content.length > 0) {[m
[32m+[m[32m              this.content[0] = end;[m
[32m+[m[32m              this.bubbleUp(0);[m
[32m+[m[32m          }[m
[32m+[m[32m          return result;[m
[32m+[m
[32m+[m[32m       },[m
[32m+[m
[32m+[m[32m       remove: function(node) {[m
[32m+[m[32m          var len = this.content.length;[m
[32m+[m[32m          // To remove a value, we must search through the array to find[m
[32m+[m[32m          // it.[m
[32m+[m[32m          for (var i = 0; i < len; i++) {[m
[32m+[m[32m              if (this.content[i] == node) {[m
[32m+[m[32m                  // When it is found, the process seen in 'pop' is repeated[m
[32m+[m[32m                  // to fill up the hole.[m
[32m+[m[32m                  var end = this.content.pop();[m
[32m+[m[32m                  if (i != len - 1) {[m
[32m+[m[32m                     this.content[i] = end;[m
[32m+[m[32m                     if (this.scoreFunction(end) < this.scoreFunction(node))[m
[32m+[m[32m                 this.sinkDown(i);[m
[32m+[m[32m              else[m
[32m+[m
[32m+[m[32m                 this.bubbleUp(i);[m
[32m+[m[32m          }[m
[32m+[m[32m          return;[m
[32m+[m[32m       }[m
[32m+[m[32m   }[m
[32m+[m[32m   throw new Error("Node not found.");[m
[32m+[m[32m},[m
[32m+[m
[32m+[m[32msize: function() {[m
[32m+[m[32m   return this.content.length;[m
[32m+[m
[32m+[m[32m},[m
[32m+[m
[32m+[m[32msinkDown: function(n) {[m
[32m+[m[32m   // Fetch the element that has to be sunk.[m
[32m+[m[32m   var element = this.content[n];[m
[32m+[m[32m   // When at 0, an element can not sink any further.[m
[32m+[m[32m   while (n > 0) {[m
[32m+[m[32m       // Compute the parent element's index, and fetch it.[m
[32m+[m[32m       var parentN = Math.floor((n + 1) / 2) - 1,[m
[32m+[m[32m              parent = this.content[parentN];[m
[32m+[m[32m       // Swap the elements if the parent is greater.[m
[32m+[m[32m       if (this.scoreFunction(element) < this.scoreFunction(parent)) {[m
[32m+[m[32m          this.content[parentN] = element;[m
[32m+[m[32m          this.content[n] = parent;[m
[32m+[m[32m          // Update 'n' to continue at the new position.[m
[32m+[m[32m          n = parentN;[m
[32m+[m[32m       }[m
[32m+[m[32m       // Found a parent that is less, no need to sink any further.[m
[32m+[m[32m       else {[m
[32m+[m[32m          break;[m
[32m+[m[32m       }[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m},[m
[32m+[m
[32m+[m[32mbubbleUp: function(n) {[m
[32m+[m[32m   // Look up the target element and its score.[m
[32m+[m[32m   var length = this.content.length,[m
[32m+[m[32m          element = this.content[n],[m
[32m+[m[32m          elemScore = this.scoreFunction(element);[m
[32m+[m
[32m+[m[32m   while(true) {[m
[32m+[m[32m       // Compute the indices of the child elements.[m
[32m+[m[32m       var child2N = (n + 1) * 2, child1N = child2N - 1;[m
[32m+[m[32m       // This is used to store the new position of the element,[m
[32m+[m[32m       // if any.[m
[32m+[m[32m       var swap = null;[m
[32m+[m[32m       // If the first child exists (is inside the array)...[m
[32m+[m[32m       if (child1N < length) {[m
[32m+[m[32m          // Look it up and compute its score.[m
[32m+[m[32m          var child1 = this.content[child1N],[m
[32m+[m[32m                 child1Score = this.scoreFunction(child1);[m
[32m+[m[32m          // If the score is less than our element's, we need to swap.[m
[32m+[m[32m          if (child1Score < elemScore)[m
[32m+[m[32m              swap = child1N;[m
[32m+[m[32m       }[m
[32m+[m[32m       // Do the same checks for the other child.[m
[32m+[m[32m       if (child2N < length) {[m
[32m+[m[32m          var child2 = this.content[child2N],[m
[32m+[m[32m                 child2Score = this.scoreFunction(child2);[m
[32m+[m[32m          if (child2Score < (swap == null ? elemScore : child1Score))[m
[32m+[m[32m              swap = child2N;[m
[32m+[m[32m       }[m
[32m+[m[32m                                // If the element needs to be moved, swap it, and continue.[m
[32m+[m[32m                                if (swap != null) {[m
[32m+[m
[32m+[m[32m                                    this.content[n] = this.content[swap];[m
[32m+[m[32m                                    this.content[swap] = element;[m
[32m+[m[32m                                    n = swap;[m
[32m+[m[32m                                }[m
[32m+[m[32m                                // Otherwise, we are done.[m
[32m+[m[32m                                else {[m
[32m+[m[32m                                    break;[m
[32m+[m[32m                                }[m
[32m+[m[32m                             }[m
[32m+[m[32m                         }[m
[32m+[m[32m                      };[m
[32m+[m
[32m+[m[32m                And a simple test...[m
[32m+[m
[32m+[m[32m                      var heap = new BinaryHeap(function(x){return x;});[m
[32m+[m[32m                      forEach([10, 3, 4, 8, 2, 9, 7, 1, 2, 6, 5],[m
[32m+[m
[32m+[m[32m                                    method(heap, "push"));[m
[32m+[m
[32m+[m[32m                      heap.remove(2);[m
[32m+[m[32m                      while (heap.size() > 0)[m
[32m+[m
[32m+[m[32m                         print(heap.pop());[m
[32m+[m
[32m+[m[32m                      1. The amount of comparisons and swaps that are needed â€• in the worst case â€• can be approached by taking[m
[32m+[m[32m                           the logarithm (base 2) of the amount of elements in the heap.[m
[32m+[m
[32m+[m[32mÂ© Marijn Haverbeke (license), written March to July 2007, last modified on July 21 2010.[m
[32m+[m[32m[m
[1mdiff --git a/Estrellas.html b/Estrellas.html[m
[1mnew file mode 100644[m
[1mindex 0000000..508e2c6[m
[1m--- /dev/null[m
[1m+++ b/Estrellas.html[m
[36m@@ -0,0 +1,37 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>Juego AdivinaciÃ³n.</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m[41m		[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m[41m	[m
[32m+[m	[32mfor (var lineas = 1; lineas <= 3; lineas++) {[m
[32m+[m		[32mfor(var columnas = 1; columnas <=10; columnas++){[m
[32m+[m
[32m+[m			[32mdocument.write("*");[m
[32m+[m
[32m+[m
[32m+[m		[32m}[m
[32m+[m		[32msaltarlinea();[m
[32m+[m[41m		[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mimprimir("Fin.")[m
[32m+[m
[32m+[m[32m</script>[m
[1mdiff --git a/JUEGO_SECRETO.html b/JUEGO_SECRETO.html[m
[1mnew file mode 100644[m
[1mindex 0000000..41cdfd1[m
[1m--- /dev/null[m
[1m+++ b/JUEGO_SECRETO.html[m
[36m@@ -0,0 +1,33 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<input/>[m
[32m+[m[32m<button>Verificar si acertÃ³ con el secreto</button>[m
[32m+[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m	[32mvar secreto = Math.round(Math.random()*10);[m
[32m+[m	[32mvar input = document.querySelector("input");[m
[32m+[m	[32minput.focus();[m
[32m+[m	[32mvar button = document.querySelector("button");[m
[32m+[m	[32mbutton.onclick = verificar;[m
[32m+[m
[32m+[m	[32mfunction verificar(){[m
[32m+[m
[32m+[m		[32mif (secreto==parseInt(input.value)) {[m
[32m+[m
[32m+[m		[32malert("Usted acertÃ³");[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32melse {[m
[32m+[m
[32m+[m		[32malert("Usted errÃ³");[m
[32m+[m		[32m}[m
[32m+[m[41m		[m
[32m+[m		[32minput.focus();[m
[32m+[m		[32minput.value = "";[m
[32m+[m[41m	[m
[32m+[m	[32m}[m
[32m+[m[41m	[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/JUEGO_SECRETOv2.html b/JUEGO_SECRETOv2.html[m
[1mnew file mode 100644[m
[1mindex 0000000..df8eba7[m
[1m--- /dev/null[m
[1m+++ b/JUEGO_SECRETOv2.html[m
[36m@@ -0,0 +1,93 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<input/>[m
[32m+[m[32m<button>Verificar si acertÃ³ con el secreto</button>[m
[32m+[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m	[32m//var secreto = Math.round(Math.random()*10);[m
[32m+[m[41m	[m
[32m+[m	[32mfunction aleatorio(){[m
[32m+[m
[32m+[m		[32mreturn Math.round(Math.random()*10);[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mfunction sortearNumeros(cantidad){[m
[32m+[m
[32m+[m		[32mvar secretos = []; //arrays o arreglos.[m
[32m+[m		[32mvar contador = 1;[m
[32m+[m
[32m+[m
[32m+[m		[32mwhile(contador<=cantidad){[m
[32m+[m
[32m+[m			[32mvar numeroAleatorio = aleatorio();[m
[32m+[m			[32mconsole.log(numeroAleatorio);[m
[32m+[m			[32mvar encontrado = false;[m
[32m+[m
[32m+[m			[32mif (numeroAleatorio !=0) {[m
[32m+[m
[32m+[m				[32mfor (var posicion=0;posicion<secretos.length;posicion++) {[m
[32m+[m
[32m+[m					[32mif (numeroAleatorio==secretos[posicion]) {[m
[32m+[m
[32m+[m					[32mencontrado= true;[m
[32m+[m					[32mbreak;[m
[32m+[m					[32m}[m
[32m+[m				[32m}[m
[32m+[m
[32m+[m				[32mif (encontrado==false) {[m
[32m+[m
[32m+[m				[32msecretos.push(numeroAleatorio);[m
[32m+[m				[32mcontador++;[m
[32m+[m				[32m}[m
[32m+[m
[32m+[m[41m			[m
[32m+[m			[32m}[m[41m			[m
[32m+[m
[32m+[m		[32m}[m
[32m+[m
[32m+[m		[32mreturn secretos;[m
[32m+[m
[32m+[m[41m		[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar secretos = sortearNumeros(4);[m
[32m+[m
[32m+[m	[32mconsole.log(secretos);[m
[32m+[m
[32m+[m	[32mvar input = document.querySelector("input");[m
[32m+[m	[32minput.focus();[m
[32m+[m[41m	[m
[32m+[m
[32m+[m	[32mfunction verificar(){[m
[32m+[m
[32m+[m		[32mvar encontrado = false;[m
[32m+[m
[32m+[m		[32mfor (var posicion=0; posicion<secretos.length; posicion++) {[m
[32m+[m[41m			[m
[32m+[m			[32mif (parseInt(input.value)== secretos[posicion]) {[m
[32m+[m
[32m+[m			[32malert("Usted acertÃ³");[m
[32m+[m			[32mencontrado = true;[m
[32m+[m			[32mbreak;[m
[32m+[m
[32m+[m			[32m}[m
[32m+[m
[32m+[m[41m			[m
[32m+[m		[32m}[m
[32m+[m
[32m+[m		[32mif (encontrado==false) {[m
[32m+[m
[32m+[m				[32malert("Usted errÃ³");[m
[32m+[m			[32m}[m
[32m+[m[41m			[m
[32m+[m[41m		[m
[32m+[m		[32minput.focus();[m
[32m+[m		[32minput.value = "";[m
[32m+[m[41m	[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar button = document.querySelector("button");[m
[32m+[m	[32mbutton.onclick = verificar;[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/Juego_Adivinacion.html b/Juego_Adivinacion.html[m
[1mnew file mode 100644[m
[1mindex 0000000..fcbfe20[m
[1m--- /dev/null[m
[1m+++ b/Juego_Adivinacion.html[m
[36m@@ -0,0 +1,61 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>Juego AdivinaciÃ³n.</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m[41m	[m
[32m+[m
[32m+[m	[32mvar numeroPensado = Math.round(Math.random()*10);[m[41m [m
[32m+[m	[32m//la funcion Math.random da un nÃºmero aleatorio y la funciÃ³n Marth.round redondea el numero sin decimales.[m
[32m+[m	[32mvar intentos =3;[m
[32m+[m	[32mvar contador = 1;[m
[32m+[m
[32m+[m	[32mwhile(contador <= intentos){[m
[32m+[m
[32m+[m	[32mvar numeroLazado = parseInt (prompt("Ingrese un nÃºmero entre 0-10"))[m
[32m+[m[41m	[m
[32m+[m	[32mif (numeroPensado == numeroLazado) {[m
[32m+[m
[32m+[m		[32malert("Usted acerto, en el intento "+ contador + " el nÃºmero pensado era "+numeroPensado);[m
[32m+[m		[32mbreak;[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32melse {[m
[32m+[m
[32m+[m		[32malert("Usted errÃ³");[m
[32m+[m	[32m}[m
[32m+[m[41m	[m
[32m+[m	[32mcontador++;[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mif(numeroPensado == numeroLazado){[m
[32m+[m
[32m+[m		[32mimprimir("Usted acerto, en el intento " + contador +" el nÃºmero pensado era "+ numeroPensado);[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m	[32melse{[m
[32m+[m
[32m+[m		[32mimprimir("Usted errÃ³ el nÃºmero pensado era "+numeroPensado);[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m	[32mimprimir("Fin.");[m
[32m+[m[32m</script>[m
[1mdiff --git a/TABLA_MULTI.html b/TABLA_MULTI.html[m
[1mnew file mode 100644[m
[1mindex 0000000..5cda2b9[m
[1m--- /dev/null[m
[1m+++ b/TABLA_MULTI.html[m
[36m@@ -0,0 +1,45 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>TABLA DE MUNTIPLICAR.</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m
[32m+[m	[32mimprimir("while");[m
[32m+[m	[32mvar multiplicador = 1;[m
[32m+[m	[32mvar  numero = parseInt (prompt ("Ingrese nÃºmero a multiplicar:"));[m
[32m+[m
[32m+[m	[32mwhile(multiplicador <=10){[m
[32m+[m[41m		[m
[32m+[m		[32mimprimir(numero*multiplicador);[m
[32m+[m[41m		[m
[32m+[m		[32mmultiplicador = multiplicador + 1;[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mimprimir("for");[m
[32m+[m	[32m for (var multiplicador = 1; multiplicador <= 10; multiplicador + 1) {[m
[32m+[m	[41m [m	[32mimprimir(numero*multiplicador);[m
[32m+[m[41m		[m
[32m+[m		[32mmultiplicador = multiplicador + 1;[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m</script>[m
[32m+[m
[1mdiff --git a/WEB/banner/banner.jpg b/WEB/banner/banner.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..a5198bc[m
Binary files /dev/null and b/WEB/banner/banner.jpg differ
[1mdiff --git a/WEB/contacto.html b/WEB/contacto.html[m
[1mnew file mode 100644[m
[1mindex 0000000..7d53b9e[m
[1m--- /dev/null[m
[1m+++ b/WEB/contacto.html[m
[36m@@ -0,0 +1,106 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m
[32m+[m[32m<html>[m
[32m+[m[32m    <head>[m
[32m+[m
[32m+[m[32m        <meta charset="UTF-8">[m
[32m+[m[32m        <title>Contacto - Barberia Alura</title>[m
[32m+[m[32m        <link rel="stylesheet" href="reset.css/reset.css">[m
[32m+[m[32m        <link rel="stylesheet" href="style.css">[m
[32m+[m
[32m+[m[32m    </head>[m
[32m+[m
[32m+[m[32m    <body>[m
[32m+[m[32m        <header>[m
[32m+[m[32m            <div class="caja">[m
[32m+[m[32m                <h1><img src="imagenes/logo.png" alt="Logo de la barberia Alura"></h1>[m
[32m+[m[41m                [m
[32m+[m[32m                <nav>[m
[32m+[m[32m                    <ul>[m
[32m+[m[32m                        <li><a href="index.html">Home</a></li>[m
[32m+[m[32m                        <li><a href="productos.html">Productos</a></li>[m
[32m+[m[32m                        <li><a href="contacto.html">Contacto</a></li>[m
[32m+[m[32m                    </ul>[m
[32m+[m[32m                </nav>[m
[32m+[m[32m            </div>[m
[32m+[m[32m        </header>[m
[32m+[m[32m        <main>[m
[32m+[m[32m            <form>[m
[32m+[m[32m                <label for="nombreapellido">Nombre y Apellido.</label>[m
[32m+[m[32m                <input type="text" id="nombreapellido" class="input-padron" required>[m
[32m+[m
[32m+[m[32m                <label for="correoelectronico">Correo ElectrÃ³nico.</label>[m
[32m+[m[32m                <input type="email" id="correoelectronico" class="input-padron" required placeholder="email@dominio.com">[m
[32m+[m
[32m+[m[32m                <label for="telefono">TelÃ©fono.</label>[m
[32m+[m[32m                <input type="tel" id="telefono" class="input-padron" required placeholder="(xx) xxxx xxxx">[m
[32m+[m
[32m+[m[32m                <label for="mensaje">Mensaje</label>[m
[32m+[m[32m                <textarea cols="70" rows="10" id="mensaje" class="input-padron" required></textarea>[m
[32m+[m
[32m+[m[32m                <fieldset>[m
[32m+[m[32m                    <legend>Â¿CÃ³mo le gustaria que lo contactemos?</legend>[m
[32m+[m
[32m+[m[32m                    <label for="radio-email"><input type="radio" name= "contacto" value="email" id="radio-email">Email</label>[m
[32m+[m[41m                    [m
[32m+[m[32m                    <label for="radio-telefono"><input type="radio" name= "contacto" value="telefono" id="radio-telefono">TelÃ©fono</label>[m
[32m+[m[41m                    [m
[32m+[m[32m                    <label for="radio-whatsapp"><input type="radio" name= "contacto" value="whatsapp" id="radio-whatsapp" checked>WhatsApp</label>[m
[32m+[m[41m                    [m
[32m+[m
[32m+[m[32m                </fieldset>[m
[32m+[m
[32m+[m[32m                <fieldset>[m
[32m+[m[32m                    <legend>Â¿En cuÃ¡l horario prefiere ser atendido?</legend>[m
[32m+[m
[32m+[m[32m                    <select>[m
[32m+[m[32m                        <option>MaÃ±ana</option>[m
[32m+[m[32m                        <option>Tarde</option>[m
[32m+[m[32m                        <option>noche</option>[m
[32m+[m[32m                    </select>[m
[32m+[m[32m                </fieldset>[m
[32m+[m
[32m+[m[32m                <label class="checkbox">[m
[32m+[m
[32m+[m[32m                    <input type="checkbox" checked> Â¿Le gustarÃ­a recibir novedades de la Barberia Alura?[m
[32m+[m
[32m+[m[32m                </label>[m
[32m+[m[41m                [m
[32m+[m[32m                <input type="submit" value="Enviar formulario" class="enviar">[m
[32m+[m[32m            </form>[m
[32m+[m
[32m+[m[32m            <table>[m
[32m+[m[32m                <thead>[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                        <th>Dia</th>[m
[32m+[m[32m                        <th>Horario</th>[m
[32m+[m[32m                    </tr>[m
[32m+[m[32m                </thead>[m
[32m+[m[41m                [m
[32m+[m[32m                <tbody>[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                        <td>lunes</td>[m
[32m+[m[32m                        <td>8h - 20h</td>[m
[32m+[m[32m                    </tr>[m
[32m+[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                        <td>miercoles</td>[m
[32m+[m[32m                        <td>8h - 20h</td>[m
[32m+[m[32m                    </tr>[m
[32m+[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                        <td>viernes</td>[m
[32m+[m[32m                        <td>8h - 20h</td>[m
[32m+[m[32m                    </tr>[m
[32m+[m[32m                </tbody>[m
[32m+[m[41m                [m
[32m+[m[32m            </table>[m
[32m+[m
[32m+[m[32m        </main>[m
[32m+[m
[32m+[m[32m        <footer>[m
[32m+[m[32m            <img src="imagenes/logo-blanco.png" alt="Logo de la barberia Alura">[m
[32m+[m[32m            <p class="copyright">&copy Copyright Barberia Alura - 2023</p>[m
[32m+[m[32m        </footer>[m
[32m+[m[32m    </body>[m
[32m+[m[32m</html>[m
\ No newline at end of file[m
[1mdiff --git a/WEB/diferenciales/diferenciales.jpg b/WEB/diferenciales/diferenciales.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..5b15eec[m
Binary files /dev/null and b/WEB/diferenciales/diferenciales.jpg differ
[1mdiff --git a/WEB/imagenes/barba.jpg b/WEB/imagenes/barba.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..3151d86[m
Binary files /dev/null and b/WEB/imagenes/barba.jpg differ
[1mdiff --git a/WEB/imagenes/bg.jpg b/WEB/imagenes/bg.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..164742f[m
Binary files /dev/null and b/WEB/imagenes/bg.jpg differ
[1mdiff --git a/WEB/imagenes/cabello+barba.jpg b/WEB/imagenes/cabello+barba.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..1757568[m
Binary files /dev/null and b/WEB/imagenes/cabello+barba.jpg differ
[1mdiff --git a/WEB/imagenes/cabello.jpg b/WEB/imagenes/cabello.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..53a8538[m
Binary files /dev/null and b/WEB/imagenes/cabello.jpg differ
[1mdiff --git a/WEB/imagenes/logo-blanco.png b/WEB/imagenes/logo-blanco.png[m
[1mnew file mode 100644[m
[1mindex 0000000..90d36a3[m
Binary files /dev/null and b/WEB/imagenes/logo-blanco.png differ
[1mdiff --git a/WEB/imagenes/logo.png b/WEB/imagenes/logo.png[m
[1mnew file mode 100644[m
[1mindex 0000000..34cfa69[m
Binary files /dev/null and b/WEB/imagenes/logo.png differ
[1mdiff --git a/WEB/imagenes/utensilios.jpg b/WEB/imagenes/utensilios.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..c77a3f0[m
Binary files /dev/null and b/WEB/imagenes/utensilios.jpg differ
[1mdiff --git a/WEB/index.html b/WEB/index.html[m
[1mnew file mode 100644[m
[1mindex 0000000..87472e2[m
[1m--- /dev/null[m
[1m+++ b/WEB/index.html[m
[36m@@ -0,0 +1,87 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m
[32m+[m[32m<html lang="es">[m
[32m+[m
[32m+[m[32m    <head>[m
[32m+[m
[32m+[m[32m        <meta charset="UTF-8">[m
[32m+[m[32m        <meta name="viewport" content="width=device-width">[m
[32m+[m[32m        <title>Barberia Alura</title>[m
[32m+[m[32m        <link rel="stylesheet" href="reset.css/reset.css">[m
[32m+[m[32m        <link rel="stylesheet" href="style.css">[m
[32m+[m[32m        <link rel="preconnect" href="https://fonts.googleapis.com">[m
[32m+[m[32m        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>[m
[32m+[m[32m        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">[m
[32m+[m[41m     [m
[32m+[m[32m    </head>[m
[32m+[m
[32m+[m[32m    <body>[m
[32m+[m
[32m+[m[32m        <header>[m
[32m+[m[32m            <div class="caja">[m
[32m+[m[32m                <h1><img src="imagenes/logo.png" alt="Logo de la barberia Alura"></h1>[m
[32m+[m[41m                [m
[32m+[m[32m                <nav>[m
[32m+[m[32m                    <ul>[m
[32m+[m[32m                        <li><a href="index.html">Home</a></li>[m
[32m+[m[32m                        <li><a href="productos.html">Productos</a></li>[m
[32m+[m[32m                        <li><a href="contacto.html">Contacto</a></li>[m
[32m+[m[32m                    </ul>[m
[32m+[m[32m                </nav>[m
[32m+[m[32m            </div>[m
[32m+[m[32m        </header>[m
[32m+[m
[32m+[m[32m        <img class="banner" src="banner/banner.jpg">[m
[32m+[m
[32m+[m[32m        <main>[m
[32m+[m[32m            <section class="principal">[m
[32m+[m[32m                <h2 class="titulo-principal">Sobre la BarberÃ­a Alura </h2>[m
[32m+[m
[32m+[m[32m                <img class="utensilios" src="imagenes/utensilios.jpg" alt="Utensilios de un barbero">[m
[32m+[m
[32m+[m[32m                <p>Ubicada en el corazÃ³n de la ciudad, <strong>la BarberÃ­a Alura</strong> trae para el mercado lo que hay de mejor para su cabello y barba. Fundada en 2020, la BarberÃ­a Alura ya es destaque en la ciudad y conquista nuevos clientes diariamente.</p>[m
[32m+[m
[32m+[m[32m                <p id="mision">Nuestra misiÃ³n es: <em><strong>"Proporcionar autoestima y calidad de vida a nuestros clientes".</strong></em></p>[m
[32m+[m
[32m+[m[32m                <p>Ofrecemos profesionales experimentados que estÃ¡n constantemente observando los cambios y movimiento en el mundo de la moda, para asÃ­ ofrecer a nuestros clientes las Ãºltimas tendencias. El atendimiento posee un padrÃ³n de excelencia y agilidad, garantizando calidad y satisfacciÃ³n de nuestros clientes.</p>[m
[32m+[m
[32m+[m[32m            </section>[m
[32m+[m
[32m+[m[32m            <section class="mapa">[m
[32m+[m[32m                <h3 class="titulo-principal">Nuestra UbicaciÃ³n</h3>[m
[32m+[m[32m                <p>Nuestro establecimiento esta ubicado en el corazÃ³n de la ciudad.</p>[m
[32m+[m[32m                <div class="mapa-contenido">[m
[32m+[m[32m                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d235.09527171585688!2d-99.18286690594304!3d19.47606410583987!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1f887180399db%3A0x36e8d2d73c54d392!2sSuajes%20Estillo!5e0!3m2!1ses-419!2smx!4v1673663262728!5m2!1ses-419!2smx" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>[m
[32m+[m[32m                </div>[m
[32m+[m[41m                [m
[32m+[m[32m            </section>[m
[32m+[m
[32m+[m[32m            <section class="diferenciales">[m
[32m+[m[32m                <h3 class="titulo-principal">Diferenciales</h3>[m
[32m+[m
[32m+[m[32m                <div class="contenido-diferenciales">[m
[32m+[m[32m                    <ul class="lista-diferenciales">[m
[32m+[m[32m                        <li class="items">AtenciÃ³n personalizada a los clientes.</li>[m
[32m+[m[32m                        <li class="items">Espacio diferenciado.</li>[m
[32m+[m[32m                        <li class="items">LocalizaciÃ³n.</li>[m
[32m+[m[32m                        <li class="items">Profecionales calificados.</li>[m
[32m+[m[32m                        <li class="items">Puntualidad.</li>[m
[32m+[m[32m                        <li class="items">Limpiesa.</li>[m
[32m+[m[32m                    </ul><img src="diferenciales/diferenciales.jpg" class="imagen-diferenciales">[m
[32m+[m[32m                </div>[m
[32m+[m
[32m+[m[32m                <div class="video">[m
[32m+[m[32m                    <iframe width="100%" height="315" src="https://www.youtube.com/embed/wcVVXUV0YUY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>[m
[32m+[m[32m                </div>[m
[32m+[m[32m            </section>[m
[32m+[m
[32m+[m[41m            [m
[32m+[m[32m        </main>[m
[32m+[m
[32m+[m[32m        <footer>[m
[32m+[m[32m            <img src="imagenes/logo-blanco.png" alt="Logo de la barberia Alura">[m
[32m+[m[32m            <p class="copyright">&copy Copyright Barberia Alura - 2023</p>[m
[32m+[m[32m        </footer>[m
[32m+[m[32m    </body>[m
[32m+[m
[32m+[m[32m</html>[m
\ No newline at end of file[m
[1mdiff --git a/WEB/productos.html b/WEB/productos.html[m
[1mnew file mode 100644[m
[1mindex 0000000..5ad0d56[m
[1m--- /dev/null[m
[1m+++ b/WEB/productos.html[m
[36m@@ -0,0 +1,59 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m
[32m+[m[32m<html>[m
[32m+[m[32m    <head>[m
[32m+[m
[32m+[m[32m        <meta charset="UTF-8">[m
[32m+[m[32m        <title>Productos - Barberia Alura</title>[m
[32m+[m[32m        <link rel="stylesheet" href="reset.css/reset.css">[m
[32m+[m[32m        <link rel="stylesheet" href="style.css">[m
[32m+[m
[32m+[m[32m    </head>[m
[32m+[m
[32m+[m[32m    <body>[m
[32m+[m[32m        <header>[m
[32m+[m[32m            <div class="caja">[m
[32m+[m[32m                <h1><img src="imagenes/logo.png"></h1>[m
[32m+[m[41m                [m
[32m+[m[32m                <nav>[m
[32m+[m[32m                    <ul>[m
[32m+[m[32m                        <li><a href="index.html">Home</a></li>[m
[32m+[m[32m                        <li><a href="productos.html">Productos</a></li>[m
[32m+[m[32m                        <li><a href="contacto.html">Contacto</a></li>[m
[32m+[m[32m                    </ul>[m
[32m+[m[32m                </nav>[m
[32m+[m[32m            </div>[m
[32m+[m[32m        </header>[m
[32m+[m
[32m+[m[32m        <main>[m
[32m+[m[32m            <ul class="productos">[m
[32m+[m[32m                <li>[m
[32m+[m[32m                    <h2>Cabello</h2>[m
[32m+[m[32m                    <img src="imagenes/cabello.jpg">[m
[32m+[m[32m                    <p class="producto-descripcion">Con tijera o maquina, a gusto del cleinte.</p>[m
[32m+[m[32m                    <p class="producto-precio">$10.00 usd</p>[m
[32m+[m[41m                    [m
[32m+[m[32m                </li>[m
[32m+[m[32m                <li>[m
[32m+[m[32m                    <h2>Barba</h2>[m
[32m+[m[32m                    <img src="imagenes/barba.jpg">[m
[32m+[m[32m                    <p class="producto-descripcion">Corte y diseÃ±o profecional de barba.</p>[m
[32m+[m[32m                    <p class="producto-precio">$8.00 usd</p>[m
[32m+[m[41m                    [m
[32m+[m[32m                </li>[m
[32m+[m[32m                <li>[m
[32m+[m[32m                    <h2>Cabello+Barba</h2>[m
[32m+[m[32m                    <img src="imagenes/cabello+barba.jpg">[m
[32m+[m[32m                    <p class="producto-descripcion">Paquete completo de cabello y barba.</p>[m
[32m+[m[32m                    <p class="producto-precio">$15.00 usd</p>[m
[32m+[m[41m                    [m
[32m+[m[32m                </li>[m
[32m+[m[32m            </ul>[m
[32m+[m[41m            [m
[32m+[m[32m        </main>[m
[32m+[m[32m        <footer>[m
[32m+[m[32m            <img src="imagenes/logo-blanco.png">[m
[32m+[m[32m            <p class="copyright">&copy Copyright Barberia Alura - 2023</p>[m
[32m+[m[32m        </footer>[m
[32m+[m[32m    </body>[m
[32m+[m[32m</html>[m
\ No newline at end of file[m
[1mdiff --git a/WEB/reset.css/reset.css b/WEB/reset.css/reset.css[m
[1mnew file mode 100644[m
[1mindex 0000000..af94440[m
[1m--- /dev/null[m
[1m+++ b/WEB/reset.css/reset.css[m
[36m@@ -0,0 +1,48 @@[m
[32m+[m[32m/* http://meyerweb.com/eric/tools/css/reset/[m[41m [m
[32m+[m[32m   v2.0 | 20110126[m
[32m+[m[32m   License: none (public domain)[m
[32m+[m[32m*/[m
[32m+[m
[32m+[m[32mhtml, body, div, span, applet, object, iframe,[m
[32m+[m[32mh1, h2, h3, h4, h5, h6, p, blockquote, pre,[m
[32m+[m[32ma, abbr, acronym, address, big, cite, code,[m
[32m+[m[32mdel, dfn, em, img, ins, kbd, q, s, samp,[m
[32m+[m[32msmall, strike, strong, sub, sup, tt, var,[m
[32m+[m[32mb, u, i, center,[m
[32m+[m[32mdl, dt, dd, ol, ul, li,[m
[32m+[m[32mfieldset, form, label, legend,[m
[32m+[m[32mtable, caption, tbody, tfoot, thead, tr, th, td,[m
[32m+[m[32marticle, aside, canvas, details, embed,[m[41m [m
[32m+[m[32mfigure, figcaption, footer, header, hgroup,[m[41m [m
[32m+[m[32mmenu, nav, output, ruby, section, summary,[m
[32m+[m[32mtime, mark, audio, video {[m
[32m+[m	[32mmargin: 0;[m
[32m+[m	[32mpadding: 0;[m
[32m+[m	[32mborder: 0;[m
[32m+[m	[32mfont-size: 100%;[m
[32m+[m	[32mfont: inherit;[m
[32m+[m	[32mvertical-align: baseline;[m
[32m+[m[32m}[m
[32m+[m[32m/* HTML5 display-role reset for older browsers */[m
[32m+[m[32marticle, aside, details, figcaption, figure,[m[41m [m
[32m+[m[32mfooter, header, hgroup, menu, nav, section {[m
[32m+[m	[32mdisplay: block;[m
[32m+[m[32m}[m
[32m+[m[32mbody {[m
[32m+[m	[32mline-height: 1;[m
[32m+[m[32m}[m
[32m+[m[32mol, ul {[m
[32m+[m	[32mlist-style: none;[m
[32m+[m[32m}[m
[32m+[m[32mblockquote, q {[m
[32m+[m	[32mquotes: none;[m
[32m+[m[32m}[m
[32m+[m[32mblockquote:before, blockquote:after,[m
[32m+[m[32mq:before, q:after {[m
[32m+[m	[32mcontent: '';[m
[32m+[m	[32mcontent: none;[m
[32m+[m[32m}[m
[32m+[m[32mtable {[m
[32m+[m	[32mborder-collapse: collapse;[m
[32m+[m	[32mborder-spacing: 0;[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/WEB/style-home.css b/WEB/style-home.css[m
[1mnew file mode 100644[m
[1mindex 0000000..7c13176[m
[1m--- /dev/null[m
[1m+++ b/WEB/style-home.css[m
[36m@@ -0,0 +1,44 @@[m
[32m+[m
[32m+[m[32m.titulo-principal{[m
[32m+[m[32m    padding-left: 30px;[m
[32m+[m[32m}[m
[32m+[m[32m#banner{[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.principal{[m
[32m+[m[32m    background: #cccccc;[m
[32m+[m[32m    padding: 20px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mem strong{[m
[32m+[m[32m    color: red;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.titulo-centralizado{[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mp{[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m}[m
[32m+[m[32m#mision{[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m}[m
[32m+[m[32m.diferenciales{[m
[32m+[m[32m    background: #ffffff;[m
[32m+[m[32m    padding: 30px;[m
[32m+[m[32m}[m
[32m+[m[32m.items{[m
[32m+[m[32m    font-style: italic;[m
[32m+[m[32m}[m
[32m+[m[32mul{[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m    vertical-align: top;[m
[32m+[m[32m    width: 20%;[m
[32m+[m[32m    margin-right: 15%;[m
[32m+[m[32m}[m
[32m+[m[32m.imagenDiferenciales{[m
[32m+[m[32m    width: 50%;[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/WEB/style.css b/WEB/style.css[m
[1mnew file mode 100644[m
[1mindex 0000000..64e3d25[m
[1m--- /dev/null[m
[1m+++ b/WEB/style.css[m
[36m@@ -0,0 +1,231 @@[m
[32m+[m[32mbody{[m
[32m+[m[32m    font-family: 'Montserrat', sans-serif;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mheader{[m
[32m+[m[32m    background: #BBBBBB;[m
[32m+[m[32m    padding: 20px 0;[m
[32m+[m[32m}[m
[32m+[m[32m.caja{[m
[32m+[m[32m    width: 940px;[m
[32m+[m[32m    position: relative;[m
[32m+[m[32m    margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m[32mnav{[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    top: 110px;[m
[32m+[m[32m    right: 0;[m
[32m+[m[32m}[m
[32m+[m[32mnav li{[m
[32m+[m[32m    display: inline;[m
[32m+[m[32m    margin: 0 0 0 15px;[m
[32m+[m[32m}[m
[32m+[m[32mnav a{[m
[32m+[m[32m    text-transform: uppercase;[m
[32m+[m[32m    color: black;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    font-size: 22px;[m
[32m+[m[32m    text-decoration: none;[m
[32m+[m[32m}[m
[32m+[m[32mnav a:hover{[m
[32m+[m[32m    color: #c78c19;[m
[32m+[m[32m    text-decoration: underline;[m
[32m+[m[32m}[m
[32m+[m[32m.productos{[m
[32m+[m[32m    width: 940px;[m
[32m+[m[32m    margin: 0 auto;[m
[32m+[m[32m    padding: 50px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.productos li{[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m    width: 30%;[m
[32m+[m[32m    vertical-align: top;[m
[32m+[m[32m    margin: 0 1.5%;[m
[32m+[m[32m    padding: 30px 20px;[m
[32m+[m[32m    box-sizing: border-box;[m
[32m+[m[32m    border: 2px solid black;[m
[32m+[m[32m    border-radius: 10px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.productos li:hover{[m
[32m+[m[32m    border-color: #c78c19;[m
[32m+[m[32m}[m
[32m+[m[32m.productos li:active{[m
[32m+[m[32m    border-color: #088c19;[m
[32m+[m[32m}[m[41m [m
[32m+[m
[32m+[m[32m.productos h2{[m
[32m+[m[32m    font-size: 30px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m}[m
[32m+[m[32m.productos li:hover h2{[m
[32m+[m[32m    font-size: 33px;[m
[32m+[m[32m}[m
[32m+[m[32m.producto-descripcion{[m
[32m+[m[32m    font-size: 18px;[m
[32m+[m[32m}[m
[32m+[m[32m.producto-precio{[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    margin-top: 10px;[m
[32m+[m[32m}[m
[32m+[m[32mfooter{[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m    background: url(imagenes/bg.jpg);[m
[32m+[m[32m    padding: 40px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.copyright{[m
[32m+[m[32m    color: #ffffff;[m
[32m+[m[32m    font-size: 13px;[m
[32m+[m[32m    margin: 20px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mform{[m
[32m+[m[32m    margin: 40px 15PX;[m
[32m+[m[32m}[m
[32m+[m[32mform label, form legend{[m
[32m+[m[32m    display: block;[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    margin: 0 0 10px;[m
[32m+[m[32m}[m
[32m+[m[32m.input-padron{[m
[32m+[m[32m    display: block;[m
[32m+[m[32m    margin: 0 0 20px;[m
[32m+[m[32m    padding: 10px 25px;[m
[32m+[m[32m    width: 50%;[m
[32m+[m[32m}[m
[32m+[m[32m.checkbox{[m
[32m+[m[32m    margin: 20px 0;[m
[32m+[m[32m}[m
[32m+[m[32m.enviar{[m
[32m+[m[32m    width: 40%;[m
[32m+[m[32m    padding: 15px 0;[m
[32m+[m[32m    font-size: 18px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    color: #ffffff;[m
[32m+[m[32m    background: orange;[m
[32m+[m[32m    border: none;[m
[32m+[m[32m    border-radius: 5px;[m
[32m+[m[32m    transition: 1s all;[m
[32m+[m[32m    cursor: pointer;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.enviar:hover{[m
[32m+[m[32m    background: darkorange;[m
[32m+[m[32m    transform: scale(1.2);[m
[32m+[m[32m}[m
[32m+[m[32mtable{[m
[32m+[m[32m    margin: 40px 40px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32mthead{[m
[32m+[m[32m    background: #555555;[m
[32m+[m[32m    color: #ffffff;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m}[m
[32m+[m[32mtd, th{[m
[32m+[m[32m    border: 1px solid #000000;[m
[32m+[m[32m    padding: 8px 15px;[m
[32m+[m[32m}[m
[32m+[m[32m/*css para nuestra pagina home*/[m
[32m+[m[32m.banner{[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.principal{[m
[32m+[m[32m    padding: 3em 0;[m
[32m+[m[32m    background: #fefefe;[m
[32m+[m[32m    width: 940px;[m
[32m+[m[32m    margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m[32m.titulo-principal{[m
[32m+[m[32m    text-align:center;[m
[32m+[m[32m    font-size: 2em;[m
[32m+[m[32m    margin: 0 0 1em;[m
[32m+[m[32m    clear: left;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.principal p{[m
[32m+[m[32m    margin: 0 0 1em;[m
[32m+[m[32m}[m
[32m+[m[32m.principal strong{[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.principal em{[m
[32m+[m[32m    font-style: italic;[m
[32m+[m[32m}[m
[32m+[m[32m.utensilios{[m
[32m+[m[32m    width: 120px;[m
[32m+[m[32m    float: left;[m
[32m+[m[32m    margin: 0 20px 20px 0;[m
[32m+[m[32m}[m
[32m+[m[32m.mapa{[m
[32m+[m[32m    padding: 3em 0;[m
[32m+[m[32m    background: linear-gradient(#fefefe, #888888);[m
[32m+[m[32m}[m
[32m+[m[32m.mapa p{[m
[32m+[m[32m    margin: 0 0 2em;[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m}[m
[32m+[m[32m.mapa-contenido{[m
[32m+[m[32m    width: 940px;[m
[32m+[m[32m    margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m[32m.diferenciales{[m
[32m+[m[32m    padding: 3em 0;[m
[32m+[m[32m    background: #888888;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.contenido-diferenciales{[m
[32m+[m[32m    width: 640px;[m
[32m+[m[32m    margin: 0 auto;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.lista-diferenciales{[m
[32m+[m[32m    width: 40%;[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m    vertical-align: top;[m
[32m+[m[32m}[m
[32m+[m[32m.items{[m
[32m+[m[32m    line-height: 1.5;[m
[32m+[m[32m}[m
[32m+[m[32m.items::before{[m
[32m+[m[32m    content: "â˜…";[m
[32m+[m[32m}[m
[32m+[m[32m.items:first-child{[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m}[m
[32m+[m[32m.imagen-diferenciales{[m
[32m+[m[32m    width: 60%;[m
[32m+[m[32m    transition: 400ms;[m
[32m+[m[32m    box-shadow: 10px 10px 30px 15px black;[m
[32m+[m[32m}[m
[32m+[m[32m.imagen-diferenciales:hover{[m
[32m+[m[32m    opacity: 30%;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.video{[m
[32m+[m[32m    width: 560px;[m
[32m+[m[32m    margin: 1em auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@media screen and (max-width:912px){[m
[32m+[m[32m    h1{[m
[32m+[m[32m        text-align: center;[m
[32m+[m[32m    }[m
[32m+[m[32m    nav{[m
[32m+[m[32m        position: sticky;[m
[32m+[m[32m    }[m
[32m+[m[32m    .caja, .principal, .mapa-contenido, .contenido-diferenciales, .video, .productos{[m
[32m+[m[32m        width:auto;[m
[32m+[m[32m    }[m
[32m+[m[32m    .lista-diferenciales, .imagen-diferenciales{[m
[32m+[m[32m        width: 100%;[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/creeper.html b/creeper.html[m
[1mnew file mode 100644[m
[1mindex 0000000..7d9a86a[m
[1m--- /dev/null[m
[1m+++ b/creeper.html[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m<canvas width="600" height="400">[m
[32m+[m[41m	[m
[32m+[m[32m</canvas>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m	[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "darkgreen";[m
[32m+[m	[32mpincel.fillRect(0,0,350,300);[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "black";[m
[32m+[m	[32mpincel.fillRect(50,60,90,90);[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "black";[m
[32m+[m	[32mpincel.fillRect(210,60,90,90);[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "black";[m
[32m+[m	[32mpincel.fillRect(140,150,70,100); //nariz[m
[32m+[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "black";[m
[32m+[m	[32mpincel.fillRect(100,190,40,110);[m[41m  [m
[32m+[m[41m	[m
[32m+[m	[32mpincel.fillStyle = "black";[m
[32m+[m	[32mpincel.fillRect(210,190,40,110);[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/css_avanzado.pdf b/css_avanzado.pdf[m
[1mnew file mode 100644[m
[1mindex 0000000..a845d9b[m
[1m--- /dev/null[m
[1m+++ b/css_avanzado.pdf[m
[36m@@ -0,0 +1,7586 @@[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m
[32m+[m[32m        avanzado[m
[32m+[m
[32m+[m[32m                                      Javier EguÃ­luz PÃ©rez[m
[32m+[m[32mCSS avanzado[m
[32m+[m
[32m+[m[32mSobre este libro...[m
[32m+[m
[32m+[m[32m    â–ª Los contenidos de este libro estÃ¡n bajo una licencia Creative Commons Reconocimiento -[m
[32m+[m[32m       No Comercial - Sin Obra Derivada 3.0 (http://creativecommons.org/licenses/by-nc-nd/[m
[32m+[m[32m       3.0/deed.es)[m
[32m+[m
[32m+[m[32m    â–ª Esta versiÃ³n impresa se creÃ³ el 2 de enero de 2009 y todavÃ­a estÃ¡ incompleta. La[m
[32m+[m[32m       versiÃ³n mÃ¡s actualizada de los contenidos de este libro se puede encontrar en[m
[32m+[m[32m       http://www.librosweb.es/css_avanzado[m
[32m+[m
[32m+[m[32m    â–ª Si quieres aportar sugerencias, comentarios, crÃ­ticas o informar sobre errores, puedes[m
[32m+[m[32m       enviarnos un mensaje a contacto@librosweb.es[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                              2[m
[32m+[m[32mCSS avanzado[m
[32m+[m
[32m+[m[32mCapÃ­tulo 1. TÃ©cnicas imprescindibles .......................................................................................................... 5[m
[32m+[m[32m   1.1. Propiedades shorthand ........................................................................................................................... 5[m
[32m+[m[32m   1.2. La propiedad hasLayout de Internet Explorer ......................................................................................... 7[m
[32m+[m[32m   1.3. Limpiar floats ........................................................................................................................................... 9[m
[32m+[m[32m   1.4. Elementos de la misma altura ............................................................................................................... 13[m
[32m+[m[32m   1.5. Sombras ................................................................................................................................................. 15[m
[32m+[m[32m   1.6. Transparencias....................................................................................................................................... 19[m
[32m+[m[32m   1.7. SustituciÃ³n de texto por imÃ¡genes ........................................................................................................ 21[m
[32m+[m[32m   1.8. SustituciÃ³n de texto por Flash ............................................................................................................... 24[m
[32m+[m[32m   1.9. Esquinas redondeadas........................................................................................................................... 27[m
[32m+[m[32m   1.10. Rollovers y sprites................................................................................................................................ 31[m
[32m+[m[32m   1.11. Texto.................................................................................................................................................... 38[m
[32m+[m
[32m+[m[32mCapÃ­tulo 2. Buenas prÃ¡cticas......................................................................................................................42[m
[32m+[m[32m   2.1. Inicializar los estilos ............................................................................................................................... 42[m
[32m+[m[32m   2.2. Comprobar el diseÃ±o en varios navegadores ........................................................................................ 45[m
[32m+[m[32m   2.3. Mejora progresiva ................................................................................................................................. 47[m
[32m+[m[32m   2.4. DepuraciÃ³n ............................................................................................................................................ 51[m
[32m+[m[32m   2.5. Hojas de estilos...................................................................................................................................... 57[m
[32m+[m[32m   2.6. Rendimiento .......................................................................................................................................... 62[m
[32m+[m[32m   2.7. Recursos imprescindibles ...................................................................................................................... 63[m
[32m+[m
[32m+[m[32mCapÃ­tulo 3. Selectores................................................................................................................................65[m
[32m+[m[32m   3.1. Selector de hijos .................................................................................................................................... 65[m
[32m+[m[32m   3.2. Selector adyacente ................................................................................................................................ 66[m
[32m+[m[32m   3.3. Selector de atributos ............................................................................................................................. 67[m
[32m+[m[32m   3.4. Pseudo-clases ........................................................................................................................................ 68[m
[32m+[m[32m   3.5. Pseudo-elementos................................................................................................................................. 71[m
[32m+[m[32m   3.6. Selectores de CSS 3................................................................................................................................ 73[m
[32m+[m
[32m+[m[32mCapÃ­tulo 4. Propiedades avanzadas ...........................................................................................................76[m
[32m+[m[32m   4.1. Propiedad white-space .......................................................................................................................... 76[m
[32m+[m[32m   4.2. Propiedad display .................................................................................................................................. 80[m
[32m+[m[32m   4.3. Propiedad outline .................................................................................................................................. 88[m
[32m+[m[32m   4.4. Propiedad quotes .................................................................................................................................. 91[m
[32m+[m[32m   4.5. Propiedad counter-reset ....................................................................................................................... 95[m
[32m+[m[32m   4.6. Propiedad counter-increment ............................................................................................................. 100[m
[32m+[m[32m   4.7. Propiedad content ............................................................................................................................... 104[m
[32m+[m
[32m+[m[32mCapÃ­tulo 5. Frameworks...........................................................................................................................111[m
[32m+[m[32m   5.1. El framework YUI ................................................................................................................................. 111[m
[32m+[m[32m   5.2. Primeros pasos con el framework YUI................................................................................................. 112[m
[32m+[m[32m   5.3. Inicializando estilos con el framework YUI .......................................................................................... 115[m
[32m+[m[32m   5.4. Texto con el framework YUI ................................................................................................................ 117[m
[32m+[m[32m   5.5. Layouts con el framework YUI ............................................................................................................. 119[m
[32m+[m[32m   5.6. Otros frameworks................................................................................................................................ 129[m
[32m+[m
[32m+[m[32mwww.librosweb.es  3[m
[32m+[m[32mCSS avanzado[m
[32m+[m
[32m+[m[32m   CapÃ­tulo 6. TÃ©cnicas avanzadas................................................................................................................130[m
[32m+[m[32m      6.1. ImÃ¡genes embebidas........................................................................................................................... 130[m
[32m+[m[32m      6.2. Mapas de imagen ................................................................................................................................ 132[m
[32m+[m[32m      6.3. Variables en las hojas de estilos .......................................................................................................... 137[m
[32m+[m[32m      6.4. Estilos alternativos............................................................................................................................... 142[m
[32m+[m[32m      6.5. Comentarios condicionales, filtros y hacks.......................................................................................... 145[m
[32m+[m[32m      6.6. Selector de navegador......................................................................................................................... 149[m
[32m+[m
[32m+[m[32mwww.librosweb.es  4[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mCapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar CSS 2.1 incluye mÃ¡s de 100 propiedades de todo tipo para diseÃ±ar el aspecto de las[m
[32m+[m[32mpÃ¡ginas HTML. No obstante, los diseÃ±os web mÃ¡s actuales muestran recursos grÃ¡ficos que no se[m
[32m+[m[32mpueden realizar con CSS, como sombras, transparencias, esquinas redondeadas y tipografÃ­a[m
[32m+[m[32mavanzada. Por ese motivo, es preciso que los diseÃ±adores web profesionales conozcan las[m
[32m+[m[32mtÃ©cnicas imprescindibles para crear diseÃ±os web avanzados.[m
[32m+[m
[32m+[m[32mEn las prÃ³ximas secciones se muestran las siguientes tÃ©cnicas imprescindibles:[m
[32m+[m
[32m+[m[32m    â–ª Propiedades shorthand para crear hojas de estilos concisas.[m
[32m+[m
[32m+[m[32m    â–ª La propiedad hasLayout de Internet Explorer, imprescindible para solucionar muchos[m
[32m+[m[32m       errores de ese navegador.[m
[32m+[m
[32m+[m[32m    â–ª Limpiar floats, para trabajar correctamente con los elementos posicionados de forma[m
[32m+[m[32m       flotante.[m
[32m+[m
[32m+[m[32m    â–ª CÃ³mo crear elementos de la misma altura, imprescindible para el layout o estructura de las[m
[32m+[m[32m       pÃ¡ginas.[m
[32m+[m
[32m+[m[32m    â–ª Sombras, transparencias y esquinas redondeadas, que no se pueden crear con CSS 2.1.[m
[32m+[m
[32m+[m[32m    â–ª SustituciÃ³n de texto por imÃ¡genes y por Flash, para utilizar cualquier tipografÃ­a en el[m
[32m+[m[32m       diseÃ±o de las pÃ¡ginas.[m
[32m+[m
[32m+[m[32m    â–ª Rollovers y sprites CSS para mejorar el tiempo de respuesta de las pÃ¡ginas.[m
[32m+[m
[32m+[m[32m    â–ª TÃ©cnicas para trabajar con el texto y la tipografÃ­a.[m
[32m+[m
[32m+[m[32m1.1. Propiedades shorthand[m
[32m+[m
[32m+[m[32mAlgunas propiedades del estÃ¡ndar CSS 2.1 son especiales, ya que permiten establecer[m
[32m+[m[32msimultÃ¡neamente el valor de varias propiedades diferentes. Este tipo de propiedades se[m
[32m+[m[32mdenominan "propiedades shorthand" y todos los diseÃ±adores web profesionales las utilizan.[m
[32m+[m
[32m+[m[32mLa gran ventaja de las propiedades shorthand es que permiten crear hojas de estilos mucho mÃ¡s[m
[32m+[m[32mconcisas y por tanto, mucho mÃ¡s fÃ¡ciles de leer. A continuaciÃ³n se incluye a modo de referencia[m
[32m+[m[32mla definiciÃ³n formal de las seis propiedades shorthand disponibles en el estÃ¡ndar CSS 2.1.[m
[32m+[m
[32m+[m[32m     font         TipografÃ­a[m
[32m+[m
[32m+[m[32mValores           ( ( <font-style> || <font-variant> || <font-weight> )?[m
[32m+[m[32m                  <font-size> ( / <line-height> )? <font-family> ) | caption |[m
[32m+[m[32mSe aplica a       icon | menu | message-box | small-caption | status-bar | inherit[m
[32m+[m[32mValor inicial     Todos los elementos[m
[32m+[m[32mDescripciÃ³n       -[m
[32m+[m[32m                  Permite indicar de forma directa todas las propiedades de la tipografÃ­a de un texto[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                       5[m
[32m+[m[32mCSS avanzado                                   CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m    margin        Margen[m
[32m+[m
[32m+[m[32mValores           ( <medida> | <porcentaje> | auto ) {1, 4} | inherit[m
[32m+[m[32mSe aplica a       Todos los elementos salvo algunos casos especiales de elementos mostrados como[m
[32m+[m[32mValor inicial     tablas[m
[32m+[m[32mDescripciÃ³n       -[m
[32m+[m[32m                  Establece de forma directa todos los mÃ¡rgenes de un elemento[m
[32m+[m
[32m+[m[32m   padding        Relleno[m
[32m+[m
[32m+[m[32mValores           ( <medida> | <porcentaje> ){1, 4} | inherit[m
[32m+[m[32mSe aplica a       Todos los elementos excepto algunos elementos de tablas como grupos de cabeceras y[m
[32m+[m[32mValor inicial     grupos de pies de tabla[m
[32m+[m[32mDescripciÃ³n       -[m
[32m+[m[32m                  Establece de forma directa todos los rellenos de los elementos[m
[32m+[m
[32m+[m[32m    border        Estilo completo de todos los bordes[m
[32m+[m
[32m+[m[32mValores           ( <border-width> || <border-color> || <border-style> ) | inherit[m
[32m+[m[32mSe aplica a       Todos los elementos[m
[32m+[m[32mValor inicial     -[m
[32m+[m[32mDescripciÃ³n       Establece el estilo completo de todos los bordes de los elementos[m
[32m+[m
[32m+[m[32mbackground Fondo de un elemento[m
[32m+[m
[32m+[m[32mValores           ( <background-color> || <background-image> ||[m
[32m+[m[32m                  <background-repeat> || <background-attachment> ||[m
[32m+[m[32mSe aplica a       <background-position> ) | inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n       Todos los elementos[m
[32m+[m
[32m+[m[32m                  -[m
[32m+[m
[32m+[m[32m                  Establece todas las propiedades del fondo de un elemento[m
[32m+[m
[32m+[m[32mlist-style Estilo de una lista[m
[32m+[m
[32m+[m[32mValores           ( <list-style-type> || <list-style-position> ||[m
[32m+[m[32m                  <list-style-image> ) | inherit[m
[32m+[m[32mSe aplica a       Elementos de una lista[m
[32m+[m[32mValor inicial     -[m
[32m+[m[32mDescripciÃ³n       Propiedad que permite establecer de forma simultanea todas las opciones de una lista[m
[32m+[m
[32m+[m[32mSi se considera la siguiente hoja de estilos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                        6[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         font-style: normal;[m
[32m+[m[32m         font-variant: small-caps;[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m[32m         font-size: 1.5em;[m
[32m+[m[32m         line-height: 1.5;[m
[32m+[m[32m         font-family: Arial, sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     div {[m
[32m+[m
[32m+[m[32m         margin-top: 5px;[m
[32m+[m[32m         margin-right: 10px;[m
[32m+[m[32m         margin-bottom: 5px;[m
[32m+[m[32m         margin-left: 10px;[m
[32m+[m[32m         padding-top: 3px;[m
[32m+[m[32m         padding-right: 5px;[m
[32m+[m[32m         padding-bottom: 10px;[m
[32m+[m[32m         padding-left: 7px;[m
[32m+[m[32m     }[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         background-color: #FFFFFF;[m
[32m+[m[32m         background-image: url("imagenes/icono.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m[32m         background-position: 10px 5px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mUtilizando las propiedades shorthand es posible convertir las 24 lÃ­neas que ocupa la hoja de[m
[32m+[m[32mestilos anterior en sÃ³lo 10 lÃ­neas, manteniendo los mismos estilos:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         font: normal small-caps bold 1.5em/1.5 Arial, sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     div {[m
[32m+[m
[32m+[m[32m         margin: 5px 10px;[m
[32m+[m[32m         padding: 3px 5px 10px 7px;[m
[32m+[m[32m     }[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         background: #FFF url("imagenes/icono.png") no-repeat 10px 5px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m1.2. La propiedad hasLayout de Internet Explorer[m
[32m+[m
[32m+[m[32mEl navegador Internet Explorer 7 y sus versiones anteriores incluyen decenas de errores[m
[32m+[m[32mrelacionados con CSS. La mayorÃ­a de esos errores se pueden solucionar con trucos y tÃ©cnicas que[m
[32m+[m[32maprovechan otros errores o caracterÃ­sticas del navegador. AdemÃ¡s, muchos errores se[m
[32m+[m[32msolucionan gracias a la propiedad hasLayout de Internet Explorer.[m
[32m+[m
[32m+[m[32mEn efecto, muchas soluciones de los errores de Internet Explorer consisten en "forzar a un[m
[32m+[m[32melemento a que tenga un layout". El motivo es que para mostrar los elementos de una pÃ¡gina, el[m
[32m+[m[32mnavegador Internet Explorer divide a todos los elementos en dos grupos:[m
[32m+[m
[32m+[m[32m    â–ª Los elementos cuyo tamaÃ±o y posiciÃ³n dependen de su elemento contenedor.[m
[32m+[m
[32m+[m[32m    â–ª Los elementos que establecen su propio tamaÃ±o y posiciÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  7[m
[32m+[m[32mCSS avanzado                                                  CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de elementos de una pÃ¡gina son del primer tipo, ya que sus elementos contenedores[m
[32m+[m[32m(normalmente el elemento <body>) determinan su tamaÃ±o y posiciÃ³n. Los elementos del[m
[32m+[m[32msegundo tipo son los que Internet Explorer considera que tienen un layout.[m
[32m+[m
[32m+[m[32mLos elementos HTML que por defecto tienen un layout en Internet Explorer son:[m
[32m+[m
[32m+[m[32m    â–ª <html>, <body>[m
[32m+[m[32m    â–ª <table>, <tr>, <th>, <td>[m
[32m+[m
[32m+[m[32m    â–ª <img>[m
[32m+[m
[32m+[m[32m    â–ª <hr>[m
[32m+[m[32m    â–ª <input>, <button>, <select>, <textarea>, <fieldset>, <legend>[m
[32m+[m[32m    â–ª <iframe>, <embed>, <object>, <applet>[m
[32m+[m
[32m+[m[32m    â–ª <marquee>[m
[32m+[m
[32m+[m[32mNo obstante, algunas propiedades CSS provocan que el elemento tenga un layout y por tanto,[m
[32m+[m[32mactivan la propiedad hasLayout. La siguiente tabla muestra todas las propiedades CSS y valores[m
[32m+[m[32mque hacen que un elemento tenga un layout:[m
[32m+[m
[32m+[m[32mPropiedad         Valores que activan la propiedad hasLayout  Comentarios[m
[32m+[m[32mposition          absolute, fixed                             fixed sÃ³lo en Internet Explorer 7[m
[32m+[m[32mfloat             left, right[m
[32m+[m[32mdisplay           inline-block                                SÃ³lo en Internet Explorer 7[m
[32m+[m[32mwidth             Cualquier valor que no sea auto             SÃ³lo en Internet Explorer 7[m
[32m+[m[32mmin-width         Cualquier valor                             SÃ³lo en Internet Explorer 7[m
[32m+[m[32mmax-width         Cualquier valor                             SÃ³lo en Internet Explorer 7[m
[32m+[m[32mheight            Cualquier valor que no sea auto[m
[32m+[m[32mmin-height        Cualquier valor                             SÃ³lo en Internet Explorer 7[m
[32m+[m[32mmax-height        Cualquier valor[m
[32m+[m[32mzoom              Cualquier valor que no sea normal[m
[32m+[m[32mwriting-mode      tb-rl[m
[32m+[m[32moverflow          hidden, scroll, auto[m
[32m+[m
[32m+[m[32mLas propiedades zoom y writing-mode no se definen en ningÃºn estÃ¡ndar de CSS porque son[m
[32m+[m[32mpropietarias del navegador Internet Explorer. Si se utilizan estas dos propiedades, la hoja de[m
[32m+[m[32mestilos no pasa satisfactoriamente el proceso de validaciÃ³n.[m
[32m+[m
[32m+[m[32mPara quitar el layout a un elemento, es necesario establecer el valor por defecto de todas las[m
[32m+[m[32mpropiedades de la tabla anterior que hayan sido modificadas:[m
[32m+[m
[32m+[m[32m    â–ª width: auto, height: auto[m
[32m+[m
[32m+[m[32m    â–ª max-width: auto, min-width: auto[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                 8[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m    â–ª position: static[m
[32m+[m
[32m+[m[32m    â–ª float: none[m
[32m+[m
[32m+[m[32m    â–ª overflow: visible[m
[32m+[m
[32m+[m[32m    â–ª zoom: normal[m
[32m+[m
[32m+[m[32m    â–ª writing-mode: lr-tb[m
[32m+[m
[32m+[m[32mUtilizando alguna de las propiedades CSS anteriores se han ideado numerosas soluciones para[m
[32m+[m[32mforzar a que un elemento tenga un layout. Uno de los trucos mÃ¡s conocidos desde hace muchos[m
[32m+[m[32maÃ±os es el famoso Holly hack (http://www.communitymx.com/content/[m
[32m+[m[32marticle.cfm?page=2&cid=C37E0) que soluciona un problema con un elemento posicionado de[m
[32m+[m[32mforma flotante aplicando la siguiente regla:[m
[32m+[m
[32m+[m[32m     .selector {[m
[32m+[m[32m         height: 1%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn el navegador Internet Explorer 6 se puede utilizar el truco del guiÃ³n bajo y la propiedad[m
[32m+[m[32mheight para forzar a un elemento a que tenga layout:[m
[32m+[m
[32m+[m[32m     .selector {[m
[32m+[m[32m         _height: 1%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn Internet Explorer 7 se puede utilizar la propiedad min-height utilizando cualquier valor,[m
[32m+[m[32mincluso el 0:[m
[32m+[m
[32m+[m[32m     .selector {[m
[32m+[m[32m         min-height: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mOtra propiedad muy utilizada en Internet Explorer 7 es zoom, aunque no es una propiedad[m
[32m+[m[32mestÃ¡ndar de CSS:[m
[32m+[m
[32m+[m[32m     .selector {[m
[32m+[m[32m         zoom: 1;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn las prÃ³ximas secciones se presentan algunas tÃ©cnicas que requieren forzar a que un elemento[m
[32m+[m[32mtenga layout en Internet Explorer. Si quieres acceder a decenas de tÃ©cnicas que hacen uso de la[m
[32m+[m[32mpropiedad hasLayout, puedes consultar el artÃ­culo On having layout (http://www.satzansatz.de/[m
[32m+[m[32mcssd/onhavinglayout.html) . Microsoft tambiÃ©n ha publicado un artÃ­culo llamado HasLayout[m
[32m+[m[32mOverview (http://msdn.microsoft.com/en-us/library/bb250481(VS.85).aspx) que explica la[m
[32m+[m[32mpropiedad hasLayout y sus implicaciones en el diseÃ±o de sitios web.[m
[32m+[m
[32m+[m[32m1.3. Limpiar floats[m
[32m+[m
[32m+[m[32mLa principal caracterÃ­stica de los elementos posicionados de forma flotante mediante la[m
[32m+[m[32mpropiedad float es que desaparecen del flujo normal del documento. De esta forma, es posible[m
[32m+[m[32mque algunos o todos los elementos flotantes se salgan de su elemento contenedor.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  9[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra un elemento contenedor que encierra a dos elementos de texto.[m
[32m+[m[32mComo los elementos interiores estÃ¡n posicionados de forma flotante y el elemento contenedor[m
[32m+[m[32mno dispone de mÃ¡s contenidos, el resultado es el siguiente:[m
[32m+[m
[32m+[m[32m    Figura 1.1. Los elementos posicionados de forma flotante se salen de su elemento contenedor[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS del ejemplo anterior se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m[32m         <div id="izquierda">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Duis[m
[32m+[m
[32m+[m[32m     molestie turpis vitae ante.</div>[m
[32m+[m[32m         <div id="derecha">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nulla[m
[32m+[m
[32m+[m[32m     bibendum mi non lacus.</div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     #contenedor {[m
[32m+[m
[32m+[m[32m         border: thick solid #000;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #izquierda {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 40%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #derecha {[m
[32m+[m[32m         float: right;[m
[32m+[m[32m         width: 40%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa soluciÃ³n tradicional de este problema consiste en aÃ±adir un elemento invisible despuÃ©s de[m
[32m+[m[32mtodos los elementos posicionados de forma flotante para forzar a que el elemento contenedor[m
[32m+[m[32mtenga la altura suficiente. Los elementos invisibles mÃ¡s utilizados son <div>, <br> y <p>.[m
[32m+[m
[32m+[m[32mDe esta forma, si se aÃ±ade un elemento <div> invisible con la propiedad clear de CSS en el[m
[32m+[m[32mejemplo anterior:[m
[32m+[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m[32m         <div id="izquierda">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Duis[m
[32m+[m
[32m+[m[32m     molestie turpis vitae ante.</div>[m
[32m+[m[32m         <div id="derecha">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nulla[m
[32m+[m
[32m+[m[32m     bibendum mi non lacus.</div>[m
[32m+[m[32m         <div style="clear: both"></div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es  10[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mAhora el elemento contenedor se visualiza correctamente porque encierra a todos sus[m
[32m+[m[32melementos:[m
[32m+[m
[32m+[m[32m     Figura 1.2. SoluciÃ³n tradicional al problema de los elementos posicionados de forma flotante[m
[32m+[m
[32m+[m[32mLa tÃ©cnica de corregir los problemas ocasionados por los elementos posicionados de forma[m
[32m+[m[32mflotante se suele denominar "limpiar los float".[m
[32m+[m
[32m+[m[32mAunque aÃ±adir un elemento invisible corrige correctamente el problema, se trata de una[m
[32m+[m[32msoluciÃ³n poco elegante e incorrecta desde el punto de vista semÃ¡ntico. No tiene ningÃºn sentido[m
[32m+[m[32maÃ±adir un elemento vacÃ­o en el cÃ³digo HTML, sobre todo si ese elemento se utiliza[m
[32m+[m[32mexclusivamente para corregir el aspecto de los contenidos.[m
[32m+[m
[32m+[m[32mAfortunadamente, existe una soluciÃ³n alternativa para limpiar los float que no obliga a aÃ±adir[m
[32m+[m[32mnuevos elementos HTML y que ademÃ¡s es elegante y muy sencilla. La soluciÃ³n consiste en[m
[32m+[m[32mutilizar la propiedad overflow de CSS sobre el elemento contenedor. El autor de la soluciÃ³n es el[m
[32m+[m[32mdiseÃ±ador Paul O'Brien (http://pmob.co.uk/) y se publicÃ³ por primera vez en el artÃ­culo Simple[m
[32m+[m[32mClearing of Floats (http://www.sitepoint.com/blogs/2005/02/26/simple-clearing-of-floats/) .[m
[32m+[m
[32m+[m[32mSi se modifica el cÃ³digo CSS anterior y se incluye la siguiente regla:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         border: thick solid #000;[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAhora, el contenedor encierra correctamente a los dos elementos <div> interiores y no es[m
[32m+[m[32mnecesario aÃ±adir ningÃºn elemento adicional en el cÃ³digo HTML. AdemÃ¡s del valor hidden,[m
[32m+[m[32mtambiÃ©n es posible utilizar el valor auto obteniendo el mismo resultado.[m
[32m+[m
[32m+[m[32mEsta soluciÃ³n funciona correctamente en todas las versiones recientes de los navegadores,[m
[32m+[m[32mincluyendo Internet Explorer 7 y 8. No obstante, en las versiones anteriores de Internet Explorer[m
[32m+[m[32mes necesario aÃ±adir cualquier propiedad CSS que obligue al navegador a considerar que el[m
[32m+[m[32melemento contenedor ocupa sitio en la pÃ¡gina.[m
[32m+[m
[32m+[m[32mTÃ©cnicamente, esta estrategia se conoce como forzar a que Internet Explorer active la propiedad[m
[32m+[m[32mhasLayout sobre el elemento. A continuaciÃ³n se muestran algunas tÃ©cnicas sencillas para[m
[32m+[m[32mconseguirlo:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  11[m
[32m+[m[32mCSS avanzado                                               CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m/* Funciona correctamente con cualquier navegador */[m
[32m+[m[32m#contenedor {[m
[32m+[m
[32m+[m[32m   border: thick solid #000;[m
[32m+[m[32m   overflow: hidden;[m
[32m+[m[32m   width: 100%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Funciona correctamente con cualquier navegador */[m
[32m+[m[32m#contenedor {[m
[32m+[m
[32m+[m[32m   border: thick solid #000;[m
[32m+[m[32m   overflow: hidden;[m
[32m+[m[32m   height: 1%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* La propiedad zoom no es parte del estÃ¡ndar CSS, por lo[m
[32m+[m
[32m+[m[32m   que esta hoja de estilos no validarÃ­a */[m
[32m+[m
[32m+[m[32m#contenedor {[m
[32m+[m
[32m+[m[32m   border: thick solid #000;[m
[32m+[m
[32m+[m[32m   overflow: hidden;[m
[32m+[m
[32m+[m[32m   zoom:          1;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m     /* El truco del guiÃ³n bajo delante de las propiedades CSS no[m
[32m+[m[32m          lo interpreta correctamente la versiÃ³n 7 de Internet Explorer */[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         border: thick solid #000;[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m[32m         _height: 1%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mDe todas las soluciones anteriores, la mÃ¡s utilizada es la que establece la propiedad height: 1%,[m
[32m+[m[32mya que normalmente es la que menos afecta al aspecto del elemento contenedor. Considerando[m
[32m+[m[32mtodo lo anterior, a continuaciÃ³n se muestra la soluciÃ³n definitiva para limpiar los floats, que es[m
[32m+[m[32mcompatible con todos los navegadores y que hace que la hoja de estilos sea vÃ¡lida:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         border: thick solid #000;[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m[32m         height: 1%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m#izquierda {[m
[32m+[m[32m   float: left;[m
[32m+[m[32m   width: 40%;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#derecha {[m
[32m+[m[32m   float: right;[m
[32m+[m[32m   width: 40%;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                           12[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m1.4. Elementos de la misma altura[m
[32m+[m
[32m+[m[32mHasta hace unos aÃ±os, la estructura de las pÃ¡ginas web complejas se creaba mediante tablas[m
[32m+[m[32mHTML. Aunque esta soluciÃ³n presenta muchos inconvenientes, su principal ventaja es que todas[m
[32m+[m[32mlas columnas que forman la pÃ¡gina son de la misma altura.[m
[32m+[m
[32m+[m[32mNormalmente, cuando se crea la estructura de una pÃ¡gina compleja, se desea que todas las[m
[32m+[m[32mcolumnas que la forman tengan la misma altura. De hecho, cuando algunas o todas las columnas[m
[32m+[m[32mtienen imÃ¡genes o colores de fondo, esta caracterÃ­stica es imprescindible para obtener un diseÃ±o[m
[32m+[m[32mcorrecto.[m
[32m+[m
[32m+[m[32mSin embargo, como el contenido de cada columna suele ser variable, no es posible determinar la[m
[32m+[m[32maltura de la columna mÃ¡s alta y por tanto, no es posible hacer que todas las columnas tengan la[m
[32m+[m[32mmisma altura directamente con la propiedad height.[m
[32m+[m
[32m+[m[32mCuando se utiliza una tabla para crear la estructura de la pÃ¡gina, este problema no existe porque[m
[32m+[m[32mcada columna de la estructura se corresponde con una celda de datos de la tabla. Sin embargo,[m
[32m+[m[32mcuando se diseÃ±a la estructura de la pÃ¡gina utilizando sÃ³lo CSS, el problema no es tan fÃ¡cil de[m
[32m+[m[32msolucionar. Afortunadamente, existen varias soluciones para asegurar que dos elementos tengan[m
[32m+[m[32mla misma altura.[m
[32m+[m
[32m+[m[32mLa primera soluciÃ³n es la mÃ¡s sencilla y la publicÃ³ el diseÃ±ador Alex Robinson en su artÃ­culo[m
[32m+[m[32mEqual Height Columns - revisited (http://www.positioniseverything.net/articles/onetruelayout/[m
[32m+[m[32mequalheight) . El truco consiste en aÃ±adir un espacio de relleno inferior (padding-bottom) muy[m
[32m+[m[32mgrande a todas las columnas y despuÃ©s aÃ±adirles un margen inferior negativo (margin-bottom)[m
[32m+[m[32mdel mismo tamaÃ±o.[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #columna1, #columna2, #columna3 {[m
[32m+[m[32m         padding-bottom: 32767px;[m
[32m+[m[32m         margin-bottom: -32767px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl valor utilizado en el espacio de relleno y en el margen inferior de las columnas debe ser tan[m
[32m+[m[32mgrande como la altura esperada para la columna mÃ¡s alta. Para evitar quedarse corto, se[m
[32m+[m[32mrecomienda utilizar valores a partir de 10.000 pÃ­xeles.[m
[32m+[m
[32m+[m[32mLos dos principales problemas que presenta esta soluciÃ³n son los siguientes:[m
[32m+[m
[32m+[m[32m    â–ª Se pueden producir errores al imprimir la pÃ¡gina con el navegador Internet Explorer.[m
[32m+[m
[32m+[m[32m    â–ª Si se utilizan enlaces de tipo ancla en cualquier columna, al pulsar sobre el enlace las[m
[32m+[m[32m       columnas se desplazan de forma ascendente y desaparecen de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mOtra soluciÃ³n al problema de los elementos de la misma altura es la que presentÃ³ el diseÃ±ador[m
[32m+[m[32mDan Cederholm en su cÃ©lebre artÃ­culo Faux Columns (http://www.alistapart.com/articles/[m
[32m+[m[32mfauxcolumns/) . Si la soluciÃ³n anterior consitÃ­a en engaÃ±ar al navegador, esta segunda soluciÃ³n[m
[32m+[m[32mse basa en engaÃ±ar al ojo del usuario.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  13[m
[32m+[m[32mCSS avanzado                     CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mLa soluciÃ³n de las columnas falsas consiste en establecer una imagen de fondo repetida[m
[32m+[m[32mverticalmente en el elemento contenedor. Como el contenedor es tan alto como la columna mÃ¡s[m
[32m+[m[32malta, su imagen de fondo da la sensaciÃ³n de que todas las columnas son de la misma altura.[m
[32m+[m
[32m+[m[32mFigura 1.3. Las columnas parecen de la misma altura porque el elemento contenedor muestra una[m
[32m+[m[32m                                   imagen de fondo repetida verticalmente[m
[32m+[m
[32m+[m[32mEl principal inconveniente de esta tÃ©cnica es que sÃ³lo se puede emplear cuando la estructura de[m
[32m+[m[32mla pÃ¡gina es de anchura fija, es decir, cuando su diseÃ±o no es lÃ­quido y no se adapta a la anchura[m
[32m+[m[32mde la ventana del navegador.[m
[32m+[m
[32m+[m[32mSi el fondo de las columnas es simplemente un color y no una imagen, se puede utilizar una[m
[32m+[m[32msoluciÃ³n alternativa planteada por el diseÃ±ador Douglas Livingstone en su tÃ©cnica Bordered[m
[32m+[m[32mColors (http://www.redmelon.net/tstme/3cols2/) y que se basa en el uso de las propiedades[m
[32m+[m[32mborder-left y border-right sobre la columna central de la estructura de la pÃ¡gina. Una versiÃ³n[m
[32m+[m[32malternativa y mejorada de la tÃ©cnica original se puede encontrar en Ordered Borders Layout[m
[32m+[m[32m(http://www.positioniseverything.net/ordered-borders-center.html) .[m
[32m+[m
[32m+[m[32mLas dos soluciones planteadas hasta el momento consisten en trucos para engaÃ±ar a los[m
[32m+[m[32mnavegadores y a los usuarios. A continuaciÃ³n se presenta la Ãºnica soluciÃ³n tÃ©cnicamente correcta[m
[32m+[m[32mpara forzar a que dos elementos muestren la misma altura.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n fue propuesta por el diseÃ±ador Roger Johansson en su artÃ­culo Equal height boxes[m
[32m+[m[32mwith CSS (http://www.456bereastreet.com/archive/200405/equal_height_boxes_with_css/) y[m
[32m+[m[32mse basa en el uso avanzado de la propiedad display de CSS.[m
[32m+[m
[32m+[m[32mEn primer lugar, es necesario aÃ±adir un elemento adicional (<div id="contenidos">) en el[m
[32m+[m[32mcÃ³digo HTML de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m<div id="contenedor">[m
[32m+[m[32m   <div id="contenidos">[m
[32m+[m[32m      <div id="columna1"></div>[m
[32m+[m[32m      <div id="columna2"></div>[m
[32m+[m[32m      <div id="columna3"></div>[m
[32m+[m[32m   </div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                 14[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, se utiliza la propiedad display de CSS para mostrar los elementos <div>[m
[32m+[m[32manteriores como si fueran celdas de una tabla de datos:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         display: table;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenidos {[m
[32m+[m[32m         display: table-row;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #columna1, #columna2, #columna3 {[m
[32m+[m[32m         display: table-cell;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mGracias a la propiedad display de CSS, cualquier elemento se puede comportar como una tabla,[m
[32m+[m[32muna fila de tabla o una celda de tabla, independientemente del tipo de elemento que se trate.[m
[32m+[m
[32m+[m[32mDe esta forma, los elementos <div> que forman las columnas de la pÃ¡gina en realidad se[m
[32m+[m[32mcomportan como celdas de tabla, lo que permite que el navegador las muestre con la misma[m
[32m+[m[32maltura.[m
[32m+[m
[32m+[m[32mEl Ãºnico inconveniente de la soluciÃ³n anterior es que el navegador Internet Explorer 7 y sus[m
[32m+[m[32mversiones anteriores no son capaces de manejar los valores mÃ¡s avanzados de la propiedad[m
[32m+[m[32mdisplay, por lo que en esos navegadores la pÃ¡gina no muestra correctamente su estructura.[m
[32m+[m
[32m+[m[32m1.5. Sombras[m
[32m+[m
[32m+[m[32mUna de las carencias del estÃ¡ndar CSS 2.1 mÃ¡s demandadas por los diseÃ±adores es la posibilidad[m
[32m+[m[32mde mostrar sombras tipo "drop shadow" sobre cualquier elemento de la pÃ¡gina. Por este motivo,[m
[32m+[m[32mla futura versiÃ³n CSS 3 incluirÃ¡ una propiedad llamada box-shadow para crear este tipo de[m
[32m+[m[32msombras.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la regla CSS 3 necesaria para crear una sombra gris muy difuminada y[m
[32m+[m[32mque se visualice en la esquina inferior derecha de un elemento:[m
[32m+[m
[32m+[m[32m     .elemento {[m
[32m+[m[32m         box-shadow: 2px 2px 5px #999;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mDesafortunadamente, esta propiedad sÃ³lo estÃ¡ disponible en los navegadores que mÃ¡s se[m
[32m+[m[32mpreocupan por los estÃ¡ndares. El navegador Safari 3 incluye la propiedad con el nombre[m
[32m+[m[32m-webkit-box-shadow y Firefox 3.1 la incluye con el nombre -moz-box-shadow.[m
[32m+[m
[32m+[m[32mLa sintaxis completa de la propiedad box-shadow es muy compleja y se define en el borrador de[m
[32m+[m[32mtrabajo del mÃ³dulo de fondos y bordes de CSS3 (http://dev.w3.org/csswg/css3-background/[m
[32m+[m[32m#the-box-shadow) . A continuaciÃ³n se muestra su sintaxis simplificada habitual:[m
[32m+[m
[32m+[m[32m     box-shadow: <medida> <medida> <medida>? <medida>? <color>[m
[32m+[m
[32m+[m[32mwww.librosweb.es  15[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m    â–ª La primera medida es obligatoria e indica el desplazamiento horizontal de la sombra. Si el[m
[32m+[m[32m       valor es positivo, la sombra se desplaza hacia la derecha y si es negativo, se desplaza hacia[m
[32m+[m[32m       la izquierda.[m
[32m+[m
[32m+[m[32m    â–ª La segunda medida tambiÃ©n es obligatoria e indica el desplazamiento vertical de la[m
[32m+[m[32m       sombra. Si el valor es positivo, la sombra se desplaza hacia abajo y si es negativo, se[m
[32m+[m[32m       desplaza hacia arriba.[m
[32m+[m
[32m+[m[32m    â–ª La tercera medida es opcional e indica el radio utilizado para difuminar la sombra. Cuanto[m
[32m+[m[32m       mÃ¡s grande sea su valor, mÃ¡s borrosa aparece la sombra. Si se utiliza el valor 0, la sombra[m
[32m+[m[32m       se muestra como un color sÃ³lido.[m
[32m+[m
[32m+[m[32m    â–ª La cuarta medida tambiÃ©n es opcional e indica el radio con el que se expande la sombra. Si[m
[32m+[m[32m       se establece un valor positivo, la sombra se expande en todas direcciones. Si se utiliza un[m
[32m+[m[32m       valor negativo, la sombra se comprime.[m
[32m+[m
[32m+[m[32m    â–ª El color indicado es directamente el color de la sombra que se muestra.[m
[32m+[m
[32m+[m[32mLa siguiente regla CSS muestra una sombra en los navegadores Firefox y Safari:[m
[32m+[m
[32m+[m[32m     .elemento {[m
[32m+[m[32m         -webkit-box-shadow: 2px 2px 5px #999;[m
[32m+[m[32m         -moz-box-shadow: 2px 2px 5px #999;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPor su parte, el navegador Internet Explorer dispone de su propio mecanismo para crear[m
[32m+[m[32msombras. La soluciÃ³n se basa en el uso de los filtros, un mecanismo que no forma parte del[m
[32m+[m[32mestÃ¡ndar de CSS y que permiten aplicar operaciones complejas a los elementos de la pÃ¡gina.[m
[32m+[m[32mEntre los filtros de Internet Explorer (http://msdn.microsoft.com/en-us/library/[m
[32m+[m[32mms532853(VS.85).aspx) , se encuentra el filtro shadow (http://msdn.microsoft.com/en-us/[m
[32m+[m[32mlibrary/ms533086(VS.85).aspx) , que permite mostrar una sombra en un elemento de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLas opciones del filtro shadow son mucho mÃ¡s limitadas que las de la propiedad box-shadow. Su[m
[32m+[m[32msintaxis es la habitual de los filtros de Internet Explorer y las opciones son:[m
[32m+[m
[32m+[m[32m    â–ª color, establecido mediante el formato hexadecimal (ejemplo: #CC0000).[m
[32m+[m
[32m+[m[32m    â–ª direction, direcciÃ³n hacia la que se desplaza la sombra. Su valor se indica en grados y sÃ³lo[m
[32m+[m[32m       se permiten los valores 0, 45, 90, 135, 180, 225, 270 y 315.[m
[32m+[m
[32m+[m[32m    â–ª strength, distancia en pÃ­xeles hasta la que se extiende la sombra.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se modifica la regla CSS anterior para incluir el filtro de Internet Explorer que[m
[32m+[m[32mmuestra una sombra similar:[m
[32m+[m
[32m+[m[32m     .elemento {[m
[32m+[m[32m         -webkit-box-shadow: 2px 2px 5px #999;[m
[32m+[m[32m         -moz-box-shadow: 2px 2px 5px #999;[m
[32m+[m[32m         filter: shadow(color=#999999, direction=135, strength=2);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLamentablemente, hasta que todos los navegadores mÃ¡s utilizados no incluyan la propiedad[m
[32m+[m[32mbox-shadow, la Ãºnica forma de mostrar una sombra sobre un elemento de la pÃ¡gina consiste en[m
[32m+[m[32mutilizar imÃ¡genes que simulan una sombra.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  16[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se detallan los pasos necesarios para mostrar una sombra sencilla sobre una[m
[32m+[m[32mimagen:[m
[32m+[m
[32m+[m[32m      1. Se crea una imagen del mismo tamaÃ±o que la imagen original y cuyo aspecto sea el de la[m
[32m+[m[32m           sombra que se quiere mostrar.[m
[32m+[m
[32m+[m[32m      2. Se aÃ±ade un espacio de relleno a la imagen original en la posiciÃ³n en la que se quiere[m
[32m+[m[32m           mostrar la sombra. Si por ejemplo se quiere mostrar una sombra en la esquina inferior[m
[32m+[m[32m           derecha, se aÃ±ade padding-right y padding-bottom.[m
[32m+[m
[32m+[m[32m      3. Utilizando la propiedad background, se aÃ±ade la imagen de la sombra como imagen de[m
[32m+[m[32m           fondo de la imagen original. La imagen de fondo se coloca en la posiciÃ³n en la que se[m
[32m+[m[32m           quiere mostrar la sombra. En el caso de la sombra inferior derecha, la posiciÃ³n de la[m
[32m+[m[32m           imagen de fondo es bottom right.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra el resultado final y las imÃ¡genes utilizadas en el proceso:[m
[32m+[m
[32m+[m[32m                                 Figura 1.4. Aplicando una sombra a una imagen[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS necesario para conseguir este efecto se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     img {[m
[32m+[m[32m         background: url("imagenes/sombra.png") no-repeat bottom right;[m
[32m+[m[32m         padding-right: 10px;[m
[32m+[m[32m         padding-bottom: 10px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl principal inconveniente de esta tÃ©cnica sencilla es que se deben crear tantas imÃ¡genes de[m
[32m+[m[32msombra como tamaÃ±os diferentes de imÃ¡genes haya en el sitio web. La soluciÃ³n a este problema[m
[32m+[m[32mconsiste en crear una imagen de sombra muy grande y aplicarla a todas las imÃ¡genes. Esta nueva[m
[32m+[m[32msombra debe tener un tamaÃ±o al menos tan grande como la imagen mÃ¡s grande que se vaya a[m
[32m+[m[32mutilizar.[m
[32m+[m
[32m+[m[32mEl problema de utilizar una imagen de sombra muy grande es que los bordes de la sombra no[m
[32m+[m[32mquedan tan bien como cuando se utiliza una imagen de sombra del mismo tamaÃ±o que la imagen[m
[32m+[m[32moriginal:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  17[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m                Figura 1.5. Las imÃ¡genes de sombra muy grande producen bordes mÃ¡s feos[m
[32m+[m
[32m+[m[32mLa soluciÃ³n completa para crear sombras de cualquier tamaÃ±o y con bordes correctos implica el[m
[32m+[m[32muso de mÃ¡s imÃ¡genes. Los siguientes recursos muestran cÃ³mo crear ese tipo de sombras:[m
[32m+[m
[32m+[m[32m    â–ª Shadowed Image (http://www.cssdesignpatterns.com/Chapter%2014%20-%20IMAGES/[m
[32m+[m[32m       Shadowed%20Image/example.html) : utiliza tres imÃ¡genes y tres elementos <div> para[m
[32m+[m[32m       cada imagen.[m
[32m+[m
[32m+[m[32m    â–ª CSS Drop Shadows II: Fuzzy Shadows (http://www.alistapart.com/articles/cssdrop2/) :[m
[32m+[m[32m       utiliza dos imÃ¡genes y dos elementos <div> para cada imagen.[m
[32m+[m
[32m+[m[32m    â–ª My contribution to the CSS shadow kerfuffle (http://theshapeofdays.com/2005/11/29/[m
[32m+[m[32m       my-contribution-to-the-css-shadow-kerfuffle.html) : el resultado es idÃ©ntico al obtenido[m
[32m+[m[32m       mediante el drop shadow de Photoshop, pero requiere cinco imÃ¡genes y cinco elementos[m
[32m+[m[32m       <div> para cada imagen.[m
[32m+[m
[32m+[m[32mSi se quiere mostrar una sombra sobre elementos que no sea imÃ¡genes, la soluciÃ³n consiste en[m
[32m+[m[32mencerrar los contenidos con dos elementos <div> y aplicar la imagen de sombra sobre el primero[m
[32m+[m[32mde ellos:[m
[32m+[m
[32m+[m[32m     #sombra {[m
[32m+[m[32m         background: url("imagenes/sombra_grande.png") no-repeat 100% 100%;[m
[32m+[m[32m         padding-right: 15px;[m
[32m+[m[32m         padding-bottom: 15px;[m
[32m+[m[32m         width: 200px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #sombra div {[m
[32m+[m[32m         background: #FFF;[m
[32m+[m[32m         width: 200px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <div id="sombra">[m
[32m+[m[32m         <div>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Ut diam metus,[m
[32m+[m
[32m+[m[32m     venenatis ullamcorper, consequat sit amet, volutpat at, nulla. Nulla sollicitudin[m
[32m+[m[32m     metus.</div>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mLas soluciones basadas en imÃ¡genes tienen la ventaja de que funcionan correctamente en[m
[32m+[m[32mcualquier navegador. Sin embargo, complican innecesariamente el cÃ³digo HTML de la pÃ¡gina y[m
[32m+[m[32mtienen limitaciones como la de tener que crear una nueva imagen cada vez que se quiere cambiar[m
[32m+[m[32mel color de la sombra.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  18[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m1.6. Transparencias[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar de CSS 2.1 no incluye ninguna propiedad para controlar la opacidad de los elementos[m
[32m+[m[32mde la pÃ¡gina. Sin embargo, la futura versiÃ³n CSS 3 incluye una propiedad llamada opacity,[m
[32m+[m[32mdefinida en el mÃ³dulo de colores de CSS 3 (http://www.w3.org/TR/css3-color/) y que permite[m
[32m+[m[32mincluir transparencias en el diseÃ±o de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mA pesar de que falta mucho tiempo hasta que se publique la versiÃ³n definitiva del estÃ¡ndar CSS 3,[m
[32m+[m[32mlos navegadores que mÃ¡s se esfuerzan en cumplir los estÃ¡ndares (Firefox, Safari y Opera) ya[m
[32m+[m[32mincluyen la propiedad opacity en sus Ãºltimas versiones.[m
[32m+[m
[32m+[m[32mEl valor de la propiedad opacity se establece mediante un nÃºmero decimal comprendido entre[m
[32m+[m[32m0.0 y 1.0. La interpretaciÃ³n del valor numÃ©rico es tal que el valor 0.0 es la mÃ¡xima[m
[32m+[m[32mtransparencia (el elemento es invisible) y el valor 1.0 se corresponde con la mÃ¡xima opacidad[m
[32m+[m[32m(el elemento es completamente visible). De esta forma, el valor 0.5 corresponde a un elemento[m
[32m+[m[32msemitransparente y asÃ­ sucesivamente.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, se establece la propiedad opacity con un valor de 0.5 para conseguir[m
[32m+[m[32muna transparencia del 50% sobre dos de los elementos <div>:[m
[32m+[m
[32m+[m[32m     #segundo, #tercero {[m
[32m+[m[32m         opacity: 0.5;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #primero {[m
[32m+[m[32m         background-color: blue;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #segundo {[m
[32m+[m[32m         background-color: red;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #tercero {[m
[32m+[m[32m         background-color: green;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se visualiza el ejemplo anterior en el navegador Firefox, Safari u Opera, los elementos <div>[m
[32m+[m[32mrojo y verde aparecen semitransparentes, tal y como se muestra en la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  19[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m                Figura 1.6. Creando elementos semitransparentes con la propiedad opacity[m
[32m+[m
[32m+[m[32mDesafortunadamente, la soluciÃ³n anterior no funciona en el navegador Internet Explorer 7 y sus[m
[32m+[m[32mversiones anteriores porque no soportan la propiedad opacity. No obstante, el navegador[m
[32m+[m[32mInternet Explorer incluye un mecanismo llamado filtros, que no forman parte de ningÃºn[m
[32m+[m[32mestÃ¡ndar de CSS pero que permiten solucionar esta limitaciÃ³n.[m
[32m+[m
[32m+[m[32mLos filtros permiten aplicar operaciones complejas a los elementos de la pÃ¡gina. Los filtros de[m
[32m+[m[32mInternet Explorer (http://msdn.microsoft.com/en-us/library/ms532853(VS.85).aspx) se[m
[32m+[m[32mdividen en estÃ¡ticos y de transiciÃ³n. Los filtros estÃ¡ticos (http://msdn.microsoft.com/en-us/[m
[32m+[m[32mlibrary/ms673539(VS.85).aspx) se utilizan bÃ¡sicamente para crear efectos grÃ¡ficos sobre los[m
[32m+[m[32melementos, normalmente imÃ¡genes. Entre los filtros estÃ¡ticos se encuentra el filtro alpha[m
[32m+[m[32m(http://msdn.microsoft.com/en-us/library/ms532967.aspx) , que permite controlar la opacidad[m
[32m+[m[32mde un elemento de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLa sintaxis completa del filtro alpha es muy compleja porque sus posibilidades son numerosas.[m
[32m+[m[32mNo obstante, la sintaxis necesaria para establecer solamente el nivel de transparencia de un[m
[32m+[m[32melemento es muy sencilla:[m
[32m+[m
[32m+[m[32m     #segundo, #tercero {[m
[32m+[m[32m         filter: alpha(opacity=50);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl valor de la opciÃ³n opacity del filtro alpha se establece mediante un nÃºmero entero[m
[32m+[m[32mcomprendido entre 0 (el elemento es invisible) y 100 (el elemento es completamente opaco). El[m
[32m+[m[32mvalor 50 del ejemplo anterior hace que el elemento sea semitransparente.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la soluciÃ³n compatible con todos los navegadores para que un[m
[32m+[m[32melemento de la pÃ¡gina sea semitransparente:[m
[32m+[m
[32m+[m[32m     selector {[m
[32m+[m[32m         opacity: 0.5;[m
[32m+[m[32m         filter: alpha(opacity=50);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPor Ãºltimo, recuerda que la propiedad filter es propietaria de Internet Explorer y no forma[m
[32m+[m[32mparte de ningÃºn estÃ¡ndar de CSS, por lo que regla anterior no pasa satisfactoriamente el proceso[m
[32m+[m[32mde validaciÃ³n CSS.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  20[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m1.7. SustituciÃ³n de texto por imÃ¡genes[m
[32m+[m
[32m+[m[32mLa limitaciÃ³n mÃ¡s frustrante para los diseÃ±adores web que cuidan especialmente la tipografÃ­a de[m
[32m+[m[32msus pÃ¡ginas es la imposibilidad de utilizar cualquier tipo de letra para mostrar los contenidos de[m
[32m+[m[32mtexto. Como se sabe, las fuentes que utiliza una pÃ¡gina deben estar instaladas en el ordenador o[m
[32m+[m[32mdispositivo del usuario para que el navegador pueda mostrarlas.[m
[32m+[m
[32m+[m[32mPor lo tanto, si el diseÃ±ador utiliza en la pÃ¡gina una fuente especial poco comÃºn entre los[m
[32m+[m[32musuarios normales, el navegador no encuentra esa fuente y la sustituye por una fuente por[m
[32m+[m[32mdefecto. El resultado es que la pÃ¡gina que ve el usuario y la que ve el diseÃ±ador se diferencian[m
[32m+[m[32mcompletamente en su tipografÃ­a.[m
[32m+[m
[32m+[m[32mLa consecuencia directa de esta limitaciÃ³n es que todos los diseÃ±adores se limitan a utilizar las[m
[32m+[m[32mpocas fuentes que tienen casi todos los usuarios del mundo:[m
[32m+[m
[32m+[m[32m    â–ª Sistemas operativos tipo Windows: Arial, Verdana, Tahoma, Courier New, Times New[m
[32m+[m[32m       Roman, Georgia. TambiÃ©n estÃ¡ disponible una lista con todas las fuentes que incluye por[m
[32m+[m[32m       defecto cada versiÃ³n de Windows (http://www.ampsoft.net/webdesign-l/[m
[32m+[m[32m       windows-fonts-by-version.html) .[m
[32m+[m
[32m+[m[32m    â–ª Sistemas operativos tipo Mac: Arial, Helvetica, Verdana, Monaco, Times.[m
[32m+[m
[32m+[m[32m    â–ª Sitemas operativos tipo Linux: incluyen decenas de fuentes, muchas de ellas versiones[m
[32m+[m[32m       libres de las fuentes comerciales. TambiÃ©n es posible instalar las fuentes mÃ¡s populares de[m
[32m+[m[32m       Windows mediante el paquete Core Font (http://corefonts.sourceforge.net/) .[m
[32m+[m
[32m+[m[32mDebido a la presencia mayoritaria de los sistemas operativos Windows y la disponibilidad de[m
[32m+[m[32mmuchas de sus fuentes en otros sistemas operativos, la mayorÃ­a de diseÃ±adores utilizan[m
[32m+[m[32mexclusivamente las fuentes mÃ¡s populares de Windows.[m
[32m+[m
[32m+[m[32mAfortunadamente, existen varias tÃ©cnicas que permiten utilizar cualquier tipo de letra en el[m
[32m+[m[32mdiseÃ±o de una pÃ¡gina con la seguridad de que todos los usuarios la verÃ¡n correctamente.[m
[32m+[m
[32m+[m[32m1.7.1. La directiva @font-face[m
[32m+[m
[32m+[m[32mLa Ãºnica soluciÃ³n tÃ©cnicamente correcta desde el punto de vista de CSS es el uso de la directiva[m
[32m+[m[32m@font-face. Esta directiva se definiÃ³ en el estÃ¡ndar CSS 2, pero desapareciÃ³ en el estÃ¡ndar CSS[m
[32m+[m[32m2.1 que utilizan todos los navegadores de hoy en dÃ­a. La futura versiÃ³n de CSS 3 volverÃ¡ a incluir[m
[32m+[m[32mla directiva @font-face en el mÃ³dulo llamado Web Fonts (http://www.w3.org/TR/[m
[32m+[m[32mcss3-webfonts/) .[m
[32m+[m
[32m+[m[32mLa directiva @font-face permite describir las fuentes que utiliza una pÃ¡gina web. Como parte de[m
[32m+[m[32mla descripciÃ³n se puede indicar la direcciÃ³n o URL desde la que el navegador se puede descargar[m
[32m+[m[32mla fuente utilizada si el usuario no dispone de ella. A continuaciÃ³n se muestra un ejemplo de uso[m
[32m+[m[32mde la directiva @font-face:[m
[32m+[m
[32m+[m[32m     @font-face {[m
[32m+[m[32m         font-family: "Fuente muy rara";[m
[32m+[m[32m         src: url("http://www.ejemplo.com/fuentes/fuente_muy_rara.ttf");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  21[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         font-family: "Fuente muy rara", sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa directiva @font-face tambiÃ©n permite definir otras propiedades de la fuente, como su[m
[32m+[m[32mformato, grosor y estilo. A continuaciÃ³n se muestran otros ejemplos:[m
[32m+[m
[32m+[m[32m     @font-face {[m
[32m+[m[32m         font-family: Fontinsans;[m
[32m+[m[32m         src: url("fonts/Fontin_Sans_SC_45b.otf") format("opentype");[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m[32m         font-style: italic;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     @font-face {[m
[32m+[m[32m         font-family: Tagesschrift;[m
[32m+[m[32m         src: url("fonts/YanoneTagesschrift.ttf") format("truetype");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos ejemplos anteriores han sido extraÃ­dos de la pÃ¡gina 10 Great Free Fonts for @font-face[m
[32m+[m[32membedding (http://opentype.info/demo/webfontdemo.html) . Para ver el efecto de la directiva[m
[32m+[m[32m@font-face, debes acceder a esa pÃ¡gina utilizando un navegador como Safari.[m
[32m+[m
[32m+[m[32m1.7.2. Soluciones FIR[m
[32m+[m
[32m+[m[32mLas siglas FIR (Fahrner Image Replacement) abarcan decenas de tÃ©cnicas similares que tratan de[m
[32m+[m[32mresolver el problema de utilizar cualquier tipo de letra en una pÃ¡gina web. El propÃ³sito de estas[m
[32m+[m[32mtÃ©cnicas es sustituir el texto normal por una imagen que contenga el mismo texto escrito con la[m
[32m+[m[32mtipografÃ­a deseada. La primera tÃ©cnica se presentÃ³ en el artÃ­culo Using Background-Image to[m
[32m+[m[32mReplace Text (http://www.stopdesign.com/articles/replace_text/) .[m
[32m+[m
[32m+[m[32mSi se dispone de un tÃ­tulo de secciÃ³n <h1> que se quiere mostrar con una tipografÃ­a muy especial,[m
[32m+[m[32mse puede utilizar el siguiente cÃ³digo HTML y CSS para sustituirlo por una imagen:[m
[32m+[m
[32m+[m[32m     <h1><span>Lorem ipsum dolor sit amet</span></h1>[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         width: 450px;[m
[32m+[m[32m         height: 100px;[m
[32m+[m[32m         background: #FFF url("/imagenes/titular.png") no-repeat top left;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     h1 span {[m
[32m+[m[32m         display: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior muestra como imagen de fondo del elemento <h1> la imagen que contiene el[m
[32m+[m[32mtitular escrito con la tipografÃ­a deseada. Para sustituir el texto por la imagen, simplemente se[m
[32m+[m[32moculta el texto mediante la propiedad display: none.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  22[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mAunque se trata de una de las tÃ©cnicas FIR mÃ¡s sencillas, su principal problema es que el texto[m
[32m+[m[32moculto mediante display no lo leen correctamente los dispositivos lectores de pÃ¡ginas que[m
[32m+[m[32mutilizan las personas con discapacidades visuales.[m
[32m+[m
[32m+[m[32mLa evoluciÃ³n de la tÃ©cnica anterior consiste en reemplazar la propiedad display por[m
[32m+[m[32mtext-indent:[m
[32m+[m
[32m+[m[32m     <h1>Lorem ipsum dolor sit amet</h1>[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         width: 450px;[m
[32m+[m[32m         height: 100px;[m
[32m+[m[32m         background: #FFF url("/imagenes/titular.png") no-repeat top left;[m
[32m+[m[32m         text-indent: -5000px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mUtilizando un valor negativo muy grande en la propiedad text-indent del elemento que se[m
[32m+[m[32mquiere reemplazar, el texto no se oculta pero se desplaza fuera de la pantalla. Los navegadores[m
[32m+[m[32mnormales no muestran el texto y los lectores de pÃ¡ginas lo leen correctamente porque el texto no[m
[32m+[m[32mestÃ¡ oculto.[m
[32m+[m
[32m+[m[32mEl problema de la soluciÃ³n anterior es que si el navegador tiene activado CSS y desactivada la[m
[32m+[m[32mcarga de las imÃ¡genes, no se muestra nada. La soluciÃ³n consiste en volver a utilizar otro[m
[32m+[m[32melemento <span> dentro del elemento que se quiere reemplazar:[m
[32m+[m
[32m+[m[32m     <h1><span></span>Lorem ipsum dolor sit amet</h1>[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         width: 450px;[m
[32m+[m[32m         height: 100px;[m
[32m+[m[32m         position: relative;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     h1 span {[m
[32m+[m[32m         background: #FFF url("/imagenes/titular.png") no-repeat top left;[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         width: 100%;[m
[32m+[m[32m         height: 100%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn esta soluciÃ³n, la imagen se muestra por delante del texto, por lo que aunque el texto no se[m
[32m+[m[32moculta ni se desplaza, el usuario no puede verlo. El principal problema de esta tÃ©cnica es que no[m
[32m+[m[32mse pueden utilizar imÃ¡genes con transparencias.[m
[32m+[m
[32m+[m[32mEl artÃ­culo Revised Image Replacement (http://www.mezzoblue.com/tests/[m
[32m+[m[32mrevised-image-replacement/) presenta otras tÃ©cnicas FIR y discute sus problemas y limitaciones.[m
[32m+[m
[32m+[m[32mIndependientemente de los problemas tÃ©cnicos relacionados con CSS y los navegadores, el[m
[32m+[m[32mprincipal problema de las tÃ©cnicas FIR anteriores es que se deben crear tantas imÃ¡genes como[m
[32m+[m[32melementos se quieran reemplazar. Aunque el proceso de creaciÃ³n de imÃ¡genes sea automÃ¡tico, es[m
[32m+[m[32mun proceso pesado cuando se quiere modificar por ejemplo el tamaÃ±o o tipo de letra utilizado.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  23[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m1.7.3. Soluciones avanzadas[m
[32m+[m
[32m+[m[32mLas soluciones basadas exclusivamente en CSS suelen presentar problemas con los lectores de[m
[32m+[m[32mpÃ¡ginas que utilizan las personas discapacitadas para navegar. Por ese motivo se han ideado[m
[32m+[m[32motras soluciones basadas en diferentes lenguajes de programaciÃ³n.[m
[32m+[m
[32m+[m[32mEl programador Peter-Paul Koch ha creado una soluciÃ³n basada en JavaScript y que explica en su[m
[32m+[m[32martÃ­culo Image Replacement (http://www.quirksmode.org/dom/fir.html) . Esta soluciÃ³n[m
[32m+[m[32mmuestra las imÃ¡genes en todos aquellos navegadores que las soporten y muestra sÃ³lo el texto en[m
[32m+[m[32mcualquier otro caso. De esta forma, el texto original no se oculta de ninguna manera que pueda[m
[32m+[m[32mimpedir a los lectores de pÃ¡ginas acceder a los contenidos.[m
[32m+[m
[32m+[m[32mOtras soluciones permiten crear de forma dinÃ¡mica las imÃ¡genes que sustituyen al texto. El[m
[32m+[m[32mproceso es muy complejo porque hay que considerar aspectos como el espacio mÃ¡ximo que[m
[32m+[m[32mpuede ocupar la imagen y los posibles saltos de lÃ­nea en el texto. Existen multitud de soluciones[m
[32m+[m[32mde este tipo para diferentes lenguajes de programaciÃ³n, como por ejemplo el proyecto pcdtr[m
[32m+[m[32m(http://code.google.com/p/pcdtr/) para PHP.[m
[32m+[m
[32m+[m[32m1.8. SustituciÃ³n de texto por Flash[m
[32m+[m
[32m+[m[32mComo se explica en la secciÃ³n anterior, las soluciones basadas en CSS para sustituir el texto por[m
[32m+[m[32mimÃ¡genes presentan problemas tÃ©cnicos no resueltos: los lectores de pÃ¡ginas pueden no leer el[m
[32m+[m[32mtexto y los navegadores normales tienen problemas cuando no se pueden cargar las imÃ¡genes.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, estas soluciones basadas en CSS siempre tienen el inconveniente de que se deben crear[m
[32m+[m[32mtodas las imÃ¡genes que sustituyen al texto. Si las imÃ¡genes se crean a mano, el proceso es tedioso[m
[32m+[m[32my poco flexible. Si las imÃ¡genes se generan dinÃ¡micamente, la aplicaciÃ³n web puede sufrir una[m
[32m+[m[32mpenalizaciÃ³n apreciable en su rendimiento.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n definitiva de todos los problemas de las soluciones basadas en CSS es la tÃ©cnica sIFR[m
[32m+[m[32m(http://www.mikeindustries.com/blog/sifr/) (Scalable Inman Flash Replacement), que combina[m
[32m+[m[32mCSS, JavaScript y Flash para mostrar correctamente cualquier texto con cualquier tipografÃ­a[m
[32m+[m[32mdeseada.[m
[32m+[m
[32m+[m[32mLa versiÃ³n de sIFR recomendada para su uso en sitios web es la versiÃ³n sIFR 2[m
[32m+[m[32m(http://www.mikeindustries.com/blog/sifr/) , ya que la versiÃ³n sIFR 3[m
[32m+[m[32m(http://wiki.novemberborn.net/sifr3) todavÃ­a se encuentra en perÃ­odo de pruebas.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran los pasos que hay que seguir para sustituir el texto con la tÃ©cnica[m
[32m+[m[32msIFR:[m
[32m+[m
[32m+[m[32m1) Descarga la Ãºltima versiÃ³n disponible de los archivos de sIFR. Actualmente, la versiÃ³n estable[m
[32m+[m[32mes 2.0.2 y se puede descargar mediante el archivo comprimido sIFR2.0.2.zip[m
[32m+[m[32m(http://www.mikeindustries.com/blog/files/sifr/2.0/sIFR2.0.2.zip) . Descomprime este archivo[m
[32m+[m[32men cualquier carpeta del sistema.[m
[32m+[m
[32m+[m[32m2) El segundo paso consiste en crear un archivo Flash que incluya la fuente que se va a utilizar en[m
[32m+[m[32mla sustituciÃ³n. Abre el archivo sifr.fla con un editor de archivos de tipo Flash (como por[m
[32m+[m[32mejemplo el programa Flash Professional (http://www.adobe.com/es/products/flash/) ). Si no[m
[32m+[m
[32m+[m[32mwww.librosweb.es  24[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mdispones de ningÃºn editor de archivos Flash, mÃ¡s adelante se muestran varias herramientas y[m
[32m+[m[32mutilidades equivalentes.[m
[32m+[m
[32m+[m[32mCuando se abre el archivo sifr.fla, sÃ³lo se ve un rectÃ¡ngulo blanco. Pincha dos veces sobre ese[m
[32m+[m[32mrectÃ¡ngulo de forma que se muestre un texto. Selecciona el texto, modifica su fuente por la[m
[32m+[m[32mtipografÃ­a que quieres utilizar en el diseÃ±o de tu pÃ¡gina y guarda los cambios.[m
[32m+[m
[32m+[m[32mSi el texto que vas a sustituir contiene caracteres especiales o caracteres propios de algunos[m
[32m+[m[32midiomas, debes aÃ±adir todos esos caracteres mediante la paleta de Propiedades del texto.[m
[32m+[m
[32m+[m[32m3) Exporta el archivo Flash mediante la opciÃ³n File > Export > Export Movie (o Archivo >[m
[32m+[m[32mExportar). Una buena recomendaciÃ³n consiste en guardar el archivo con el mismo nombre del[m
[32m+[m[32mtipo de letra que incluye (arial.swf, verdana.swf, etc.). Una vez creado el archivo, guÃ¡rdalo en[m
[32m+[m[32mun directorio del servidor en el que guardes todas las fuentes de sIFR (puedes llamar a este[m
[32m+[m[32mdirectorio fuentes/ por ejemplo).[m
[32m+[m
[32m+[m[32m4) sIFR necesita varios archivos CSS y JavaScript para funcionar. Copia el archivo sifr.js en la[m
[32m+[m[32mcarpeta de archivos JavaScript de tu servidor web (normalmente este directorio se llama js/).[m
[32m+[m[32mCopia los archivos CSS sIFR-screen.css y sIFR-print.css en la carpeta de archivos CSS de tu[m
[32m+[m[32mservidor web (normalmente este directorio se llama css/).[m
[32m+[m
[32m+[m[32m5) Todas las pÃ¡ginas en las que se sustituye el texto por Flash deben incluir los archivos[m
[32m+[m[32mJavaScript y CSS. Para ello, aÃ±ade lo siguiente dentro de la secciÃ³n <head> de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     <head>[m
[32m+[m[32m         ...[m
[32m+[m[32m         <script src="js/sifr.js" type="text/javascript"></script>[m
[32m+[m[32m         ...[m
[32m+[m[32m         <link rel="stylesheet" href="css/sIFR-screen.css" type="text/css" media="screen" />[m
[32m+[m[32m         <link rel="stylesheet" href="css/sIFR-print.css" type="text/css" media="print" />[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32mEl valor de los atributos src y href debe contener la ruta completa (absoluta o relativa) hasta los[m
[32m+[m[32marchivos JavaScript y CSS respectivamente.[m
[32m+[m
[32m+[m[32mTambiÃ©n es posible aÃ±adir las reglas de los archivos CSS de sIFR en los archivos CSS propios de[m
[32m+[m[32mla pÃ¡gina y asÃ­ no tener que enlazar otros dos archivos CSS en cada pÃ¡gina.[m
[32m+[m
[32m+[m[32m6) A partir de este momento ya es posible sustituir cualquier texto por Flash utilizando[m
[32m+[m[32minstrucciones JavaScript sencillas. A continuaciÃ³n se muestra el cÃ³digo JavaScript necesario para[m
[32m+[m[32mmostrar todos los titulares de la pÃ¡gina con una tipografÃ­a propia:[m
[32m+[m
[32m+[m[32m     if(typeof sIFR == "function"){[m
[32m+[m[32m         sIFR.replaceElement("h1", named({sFlashSrc: "../fuentes/mifuente.swf"}));[m
[32m+[m
[32m+[m[32m     };[m
[32m+[m
[32m+[m[32mEl cÃ³digo JavaSript anterior lo puedes colocar en cualquier parte de la pÃ¡gina. Algunos[m
[32m+[m[32mdiseÃ±adores prefieren colocarlo en la secciÃ³n <head> donde se encuentran el resto de elementos[m
[32m+[m[32mde sIFR y otros diseÃ±adores prefieren colocarlo justo antes de la etiqueta </body> de cierre de la[m
[32m+[m[32mpÃ¡gina.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  25[m
[32m+[m[32mCSS avanzado                                                        CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mLa sustituciÃ³n requiere que en la funciÃ³n replaceElement() se indique el selector CSS de los[m
[32m+[m[32melementos que se van a sustituir y una serie de opciones que se deben tener en cuenta en la[m
[32m+[m[32msustituciÃ³n. La Ãºnica opciÃ³n obligatoria se denomina sFlashSrc e indica la ruta completa hasta[m
[32m+[m[32mel archivo .swf que contiene la tipografÃ­a deseada.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra una tabla con todas las propiedades de sFIR:[m
[32m+[m
[32m+[m[32mOpciÃ³n            DescripciÃ³n[m
[32m+[m
[32m+[m[32msSelector         El selector del elemento o elementos que se quieren reemplazar. Se puede indicar[m
[32m+[m[32m                  mediante esta opciÃ³n o como primer argumento de la funciÃ³n replaceElement(). Se[m
[32m+[m[32m                  pueden indicar varios selectores separÃ¡ndolos por comas. Los selectores soportados son[m
[32m+[m[32m                  los de etiqueta, clase, id y el selector de hijos.[m
[32m+[m
[32m+[m[32msFlashSrc         Ruta completa hasta el archivo .swf que contiene la fuente utilizada. Si indicas la ruta[m
[32m+[m[32m                  de forma relativa, el origen es la propia pÃ¡gina HTML.[m
[32m+[m
[32m+[m[32msColor            Color del texto indicado en formato hexadecimal, como por ejemplo #000000 o[m
[32m+[m[32m                  #CC0000[m
[32m+[m
[32m+[m[32msLinkColor        Color de los enlaces que puede contener el texto[m
[32m+[m
[32m+[m[32msHoverColor Color del estado :hover de los enlaces que puede contener el texto[m
[32m+[m
[32m+[m[32msBgColor          Color de fondo del texto indicado en formato hexadecimal[m
[32m+[m
[32m+[m[32mnPaddingTop[m
[32m+[m
[32m+[m[32mnPaddingRight     Relleno superior, izquierdo, inferior e izquierdo del texto[m
[32m+[m[32mnPaddingBottom[m
[32m+[m
[32m+[m[32mnPaddingLeft[m
[32m+[m
[32m+[m[32msCase             TransformaciÃ³n del texto. El valor upper transforma el texto a mayÃºsculas; el valor[m
[32m+[m[32m                  lower lo transforma a minÃºsculas[m
[32m+[m
[32m+[m[32msWmode            Esta opciÃ³n causa problemas en algunas versiones de algunos navegadores, por lo que[m
[32m+[m[32m                  no se recomienda su uso. Si se le asigna el valor transparent, el Flash que sustituye al[m
[32m+[m[32m                  texto tiene un fondo transparente. Si se emplea el valor opaque, el Flash tiene un color[m
[32m+[m[32m                  de fondo sÃ³lido.[m
[32m+[m
[32m+[m[32msFlashVars        Variables adicionales que pueden modificar el aspecto del texto sustituido.[m
[32m+[m[32m                  textalign=center centra el texto de forma horizontal[m
[32m+[m[32m                  offsetleft=5 desplaza el texto hacia la derecha los pÃ­xeles indicados por el nÃºmero[m
[32m+[m[32m                  offsetTop=5 desplaza el texto hacia abajo los pÃ­xeles indicados por el nÃºmero[m
[32m+[m[32m                  underline=true muestra los enlaces subrayados en el estado :hover[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra los titulares de secciÃ³n <h1>, <h2> y <h3> con el mismo tipo de letra[m
[32m+[m[32my color negro, mientras que sus posibles enlaces se muestran de color azul que cambia a rojo[m
[32m+[m[32mcuando se pasa el ratÃ³n por encima del texto:[m
[32m+[m
[32m+[m[32m     if(typeof sIFR == "function"){[m
[32m+[m[32m         sIFR.replaceElement("h1, h2, h3", named({sFlashSrc: "./sifr/vandenkeere.swf", sColor:[m
[32m+[m
[32m+[m[32m     "#000", sLinkColor: "#336699", sHoverColor: "#CC0000"}));[m
[32m+[m[32m     };[m
[32m+[m
[32m+[m[32mEl principal inconveniente de la tÃ©cnica sIFR es la creaciÃ³n del archivo .swf con la fuente que se[m
[32m+[m[32mquiere mostrar. AdemÃ¡s de ser un proceso manual, es necesario disponer de un editor de[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                            26[m
[32m+[m[32mCSS avanzado                                        CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32marchivos Flash. Afortunadamente, debido a la popularidad de sIFR, se han publicado numerosas[m
[32m+[m[32mherramientas para crear los archivos .swf necesarios:[m
[32m+[m
[32m+[m[32m    â–ª sIFR Generator (http://www.sifrgenerator.com/wizard.html) : aplicaciÃ³n web que genera[m
[32m+[m[32m       de forma rÃ¡pida y sencilla el archivo .swf a partir de una fuente de tipo TrueType[m
[32m+[m[32m       (extensiÃ³n .ttf).[m
[32m+[m
[32m+[m[32m    â–ª sIFR Font Embedder (http://digitalretrograde.com/Projects/sifrFontEmbedder/) :[m
[32m+[m[32m       aplicaciÃ³n de escritorio que genera el archivo .swf a partir de la fuente seleccionada.[m
[32m+[m[32m       Permite aÃ±adir fÃ¡cilmente todos los caracteres especiales deseados. Requiere el uso de un[m
[32m+[m[32m       programa externo llamado swfmill y del framework .NET versiÃ³n 2.0.[m
[32m+[m
[32m+[m[32m    â–ª ExtensiÃ³n para integrar sIFR en DreamWeaver (http://www.tecnorama.org/[m
[32m+[m[32m       document.php?id_doc=70) : extensiÃ³n para el conocido entorno de desarrollo de sitios[m
[32m+[m[32m       web Dreamweaver. Permite configurar todas las opciones de sIFR de forma visual y crea[m
[32m+[m[32m       automÃ¡ticamente los enlaces a los archivos CSS y JavaScript necesarios.[m
[32m+[m
[32m+[m[32m1.9. Esquinas redondeadas[m
[32m+[m
[32m+[m[32mEl actual estÃ¡ndar CSS 2.1 obliga a que todos los bordes de los elementos sean rectangulares.[m
[32m+[m[32mEsta limitaciÃ³n es una de las mÃ¡s criticadas por los diseÃ±adores, ya que les impide crear bordes[m
[32m+[m[32mcurvos o redondeados que se adapten mejor a sus diseÃ±os.[m
[32m+[m
[32m+[m[32mLa futura versiÃ³n CSS 3 incluye varias propiedades para definir bordes redondeados. La[m
[32m+[m[32mpropiedad border-radius establece la misma curvatura en todas las esquinas y tambiÃ©n se[m
[32m+[m[32mdefinen las propiedades border-top-right-radius, border-bottom-right-radius,[m
[32m+[m[32mborder-bottom-left-radius, border-top-left-radius para establecer la curvatura de cada[m
[32m+[m[32mesquina.[m
[32m+[m
[32m+[m[32mEn cada propiedad se debe indicar obligatoriamente una medida y se puede indicar[m
[32m+[m[32mopcionalmente una segunda medida. Cuando se indica una sola medida, la esquina es circular y[m
[32m+[m[32msu radio es igual a la medida indicada. Cuando se indican dos medidas, la esquina es elÃ­ptica,[m
[32m+[m[32msiendo la primera medida el radio horizontal de la elipse y la segunda medida su radio vertical.[m
[32m+[m
[32m+[m[32mAunque faltan muchos aÃ±os hasta que se publique la versiÃ³n definitiva de CSS 3, los navegadores[m
[32m+[m[32mque mÃ¡s se preocupan de los estÃ¡ndares ya incluyen soporte para crear esquinas redondeadas.[m
[32m+[m[32mEl siguiente ejemplo muestra cÃ³mo crear esquinas redondeadas con los navegadores Safari y[m
[32m+[m[32mFirefox:[m
[32m+[m
[32m+[m[32mdiv {                                /* Safari */[m
[32m+[m[32m   -webkit-border-radius: 5px 10px;  /* Firefox */[m
[32m+[m[32m   -moz-border-radius: 5px 10px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mLa soluciÃ³n basada en CSS 3 es la mÃ¡s sencilla y la mejor tÃ©cnicamente, pero hasta que todos los[m
[32m+[m[32mnavegadores no incluyan soporte para CSS 3, no es posible utilizar esta tÃ©cnica para crear[m
[32m+[m[32mesquinas redondeadas.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                    27[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mAfortunadamente, las esquinas redondeadas son uno de los recursos mÃ¡s solicitados por los[m
[32m+[m[32mdiseÃ±adores web y por eso se han definido decenas de tÃ©cnicas para mostrarlas. Las tÃ©cnicas se[m
[32m+[m[32mclasifican en:[m
[32m+[m
[32m+[m[32m    â–ª Soluciones basadas en CSS y que no utilizan imÃ¡genes.[m
[32m+[m
[32m+[m[32m    â–ª Soluciones basadas en CSS y que utilizan imÃ¡genes.[m
[32m+[m
[32m+[m[32m    â–ª Soluciones basadas en JavaScript.[m
[32m+[m
[32m+[m[32mLas soluciones basadas exclusivamente en CSS y que no utilizan imÃ¡genes combinan HTML y CSS[m
[32m+[m[32mpara engaÃ±ar al ojo del usuario y hacerle creer que la esquina es redondeada.[m
[32m+[m
[32m+[m[32mEl truco consiste en aÃ±adir varios elementos cuya longitud disminuye progresivamente para[m
[32m+[m[32mcrear un perfil curvo. La siguiente imagen muestra el resultado final de esta tÃ©cnica (izquierda),[m
[32m+[m[32mel nÃºmero de elementos necesarios para conseguirlo (centro) y un detalle ampliado de una[m
[32m+[m[32mesquina (derecha):[m
[32m+[m
[32m+[m[32m Figura 1.7. Esquinas redondeadas creadas con CSS y sin imÃ¡genes (resultado final y detalle de cÃ³mo[m
[32m+[m[32m                                                      se consigue)[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el cÃ³digo HTML y CSS necesarios para crear esquinas redondeadas[m
[32m+[m[32mcon CSS y sin imÃ¡genes:[m
[32m+[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m[32m     <b class="esquinas_superiores">[m
[32m+[m
[32m+[m[32m         <b class="r1"></b>[m
[32m+[m[32m         <b class="r2"></b>[m
[32m+[m[32m         <b class="r3"></b>[m
[32m+[m[32m         <b class="r4"></b>[m
[32m+[m[32m     </b>[m
[32m+[m
[32m+[m[32m     <!-- AquÃ­ se incluyen los contenidos -->[m
[32m+[m
[32m+[m[32m     <b class="esquinas_inferiores">[m
[32m+[m[32m         <b class="r4"></b>[m
[32m+[m[32m         <b class="r3"></b>[m
[32m+[m[32m         <b class="r2"></b>[m
[32m+[m[32m         <b class="r1"></b>[m
[32m+[m
[32m+[m[32mwww.librosweb.es  28[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m     </b>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     .esquinas_superiores, .esquinas_inferiores {[m
[32m+[m
[32m+[m[32m         display: block;[m
[32m+[m[32m     }[m
[32m+[m[32m     .esquinas_superiores *, .esquinas_inferiores * {[m
[32m+[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         height: 1px;[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m[32m     }[m
[32m+[m[32m     .r1 { margin: 0 5px; }[m
[32m+[m[32m     .r2 { margin: 0 3px; }[m
[32m+[m[32m     .r3 { margin: 0 2px; }[m
[32m+[m[32m     .r4 { margin: 0 1px; height: 2px; }[m
[32m+[m
[32m+[m[32mPara crear una esquina redondeada con esta tÃ©cnica es necesario incluir muchos elementos[m
[32m+[m[32mHTML adicionales. Por ese motivo se utiliza la etiqueta <b>, que hace que el cÃ³digo HTML siga[m
[32m+[m[32msiendo vÃ¡lido y su nombre sÃ³lo tiene una letra, por lo que aumenta lo mÃ­nimo posible el tamaÃ±o[m
[32m+[m[32mdel cÃ³digo HTML.[m
[32m+[m
[32m+[m[32mLas reglas CSS anteriores hacen que los elementos <b> tengan sÃ³lo 1px de altura y que cada vez[m
[32m+[m[32mse hagan mÃ¡s cortos, ya que aumentan sus mÃ¡rgenes laterales de forma progresiva. Modificando[m
[32m+[m[32mligeramente los margin de cada elemento se pueden crear esquinas con mÃ¡s o menos radio de[m
[32m+[m[32mcuvatura. AdemÃ¡s, tambiÃ©n se pueden crear curvas sÃ³lo en una de las esquinas.[m
[32m+[m
[32m+[m[32mEl principal problema de esta tÃ©cnica es que no es sencillo cambiar la forma de la esquina[m
[32m+[m[32mredondeada y que la curva es tan escalonada que los usuarios pueden apreciarlo.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n al segundo problema consiste en crear curvas que utilicen la tÃ©cnica del anti-aliasing[m
[32m+[m[32mpara suavizar sus bordes. Esta tÃ©cnica no es sencilla, ya que se debe tener en cuenta el radio de[m
[32m+[m[32mcurvatura, el color de la curva y el color de fondo del elemento contenedor.[m
[32m+[m
[32m+[m[32mAlgunas aplicaciones web generan automÃ¡ticamente el cÃ³digo HTML y CSS necesarios a partir de[m
[32m+[m[32mlos colores y el radio de curvatura deseado. A continuaciÃ³n se muestra el cÃ³digo HTML y CSS[m
[32m+[m[32mgenerados por la tÃ©cnica Spiffy Corners (http://www.spiffycorners.com/) :[m
[32m+[m
[32m+[m[32m     <div>[m
[32m+[m[32m         <b class="spiffy">[m
[32m+[m[32m         <b class="spiffy1"><b></b></b>[m
[32m+[m[32m         <b class="spiffy2"><b></b></b>[m
[32m+[m[32m         <b class="spiffy3"></b>[m
[32m+[m[32m         <b class="spiffy4"></b>[m
[32m+[m[32m         <b class="spiffy5"></b></b>[m
[32m+[m
[32m+[m[32m         <div class="spiffyfg">[m
[32m+[m[32m            <!-- AquÃ­ se incluyen los contenidos -->[m
[32m+[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <b class="spiffy">[m
[32m+[m[32m         <b class="spiffy5"></b>[m
[32m+[m[32m         <b class="spiffy4"></b>[m
[32m+[m[32m         <b class="spiffy3"></b>[m
[32m+[m[32m         <b class="spiffy2"><b></b></b>[m
[32m+[m
[32m+[m[32mwww.librosweb.es  29[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m         <b class="spiffy1"><b></b></b></b>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     .spiffy{display:block}[m
[32m+[m[32m     .spiffy *{[m
[32m+[m
[32m+[m[32m         display:block;[m
[32m+[m[32m         height:1px;[m
[32m+[m[32m         overflow:hidden;[m
[32m+[m[32m         font-size:.01em;[m
[32m+[m[32m         background:#000000}[m
[32m+[m[32m     .spiffy1{[m
[32m+[m[32m         margin-left:3px;[m
[32m+[m[32m         margin-right:3px;[m
[32m+[m[32m         padding-left:1px;[m
[32m+[m[32m         padding-right:1px;[m
[32m+[m[32m         border-left:1px solid #919191;[m
[32m+[m[32m         border-right:1px solid #919191;[m
[32m+[m[32m         background:#3f3f3f}[m
[32m+[m[32m     .spiffy2{[m
[32m+[m[32m         margin-left:1px;[m
[32m+[m[32m         margin-right:1px;[m
[32m+[m[32m         padding-right:1px;[m
[32m+[m[32m         padding-left:1px;[m
[32m+[m[32m         border-left:1px solid #e5e5e5;[m
[32m+[m[32m         border-right:1px solid #e5e5e5;[m
[32m+[m[32m         background:#303030}[m
[32m+[m[32m     .spiffy3{[m
[32m+[m[32m         margin-left:1px;[m
[32m+[m[32m         margin-right:1px;[m
[32m+[m[32m         border-left:1px solid #303030;[m
[32m+[m[32m         border-right:1px solid #303030;}[m
[32m+[m[32m     .spiffy4{[m
[32m+[m[32m         border-left:1px solid #919191;[m
[32m+[m[32m         border-right:1px solid #919191}[m
[32m+[m[32m     .spiffy5{[m
[32m+[m[32m         border-left:1px solid #3f3f3f;[m
[32m+[m[32m         border-right:1px solid #3f3f3f}[m
[32m+[m[32m     .spiffyfg{[m
[32m+[m[32m         background:#000000}[m
[32m+[m
[32m+[m[32mRoundedCornr (http://www.roundedcornr.com/) es otra aplicaciÃ³n web que permite generar[m
[32m+[m[32mautomÃ¡ticamente el cÃ³digo HTML y CSS necesarios para crear esquinas redondeadas avanzadas.[m
[32m+[m
[32m+[m[32mAdemÃ¡s de las esquinas redondeadas sencillas, muchos diseÃ±adores quieren utilizar en sus[m
[32m+[m[32mtrabajos esquinas complejas creadas a partir de imÃ¡genes. Una vez mÃ¡s, la futura versiÃ³n CSS 3[m
[32m+[m[32mincluirÃ¡ una propiedad llamada border-image para utilizar cualquier imagen como borde de un[m
[32m+[m[32melemento.[m
[32m+[m
[32m+[m[32mHasta que los navegadores no soporten CSS 3, la soluciÃ³n consiste en aplicar las imÃ¡genes[m
[32m+[m[32mmediante CSS y algunos elementos HTML especialmente preparados.[m
[32m+[m
[32m+[m[32mEsta tÃ©cnica requiere en primer lugar crear las imÃ¡genes de cada una de las cuatro esquinas del[m
[32m+[m[32melemento. Una vez creadas las imÃ¡genes, se aÃ±aden elementos en el cÃ³digo HTML. Utilizando[m
[32m+[m[32mCSS, se muestran las esquinas redondeadas como imÃ¡genes de fondo de esos elementos HTML.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  30[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mLos elementos HTML que se aÃ±aden pueden variar de una soluciÃ³n a otra, pero en general se[m
[32m+[m[32maÃ±aden elementos <b> porque es una etiqueta de una sola letra:[m
[32m+[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m[32m         <b class="superior">[m
[32m+[m[32m            <b></b>[m
[32m+[m[32m         </b>[m
[32m+[m[32m         <!-- AquÃ­ se incluyen los contenidos -->[m
[32m+[m[32m         <b class="inferior">[m
[32m+[m[32m            <b></b>[m
[32m+[m[32m         </b>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mCon el cÃ³digo HTML anterior, las reglas CSS necesarias para mostrar las imÃ¡genes de cada[m
[32m+[m[32mesquina son muy sencillas:[m
[32m+[m
[32m+[m[32m     b.superior { background:url("imagenes/esquina_superior_izquierda.png") no-repeat; }[m
[32m+[m[32m     b.superior b { background:url("imagenes/esquina_superior_derecha.png") no-repeat; }[m
[32m+[m
[32m+[m[32m     b.inferior { background:url("imagenes/esquina_inferior_izquierda.png") no-repeat; }[m
[32m+[m[32m     b.inferior b { background:url("imagenes/esquina_inferior_derecha.png") no-repeat; }[m
[32m+[m
[32m+[m[32mPor Ãºltimo, cuando las esquinas redondeadas no utilizan imÃ¡genes, es mÃ¡s conveniente utilizar[m
[32m+[m[32msoluciones basadas en JavaScript. La principal ventaja de esta tÃ©cnica es que no es necesario[m
[32m+[m[32mensuciar de forma permanente el cÃ³digo HTML con decenas de elementos de tipo <div> o <b>.[m
[32m+[m[32mCuando el usuario carga la pÃ¡gina, el cÃ³digo JavaScript crea en ese momento todos los elementos[m
[32m+[m[32mnecesarios y los aÃ±ade de forma dinÃ¡mica al cÃ³digo HTML de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, la otra gran ventaja de las soluciones basadas en JavaScript es que aÃ±aden decenas de[m
[32m+[m[32melementos para crear bordes redondeados tan perfectos que son indistinguibles de los que se[m
[32m+[m[32mpueden crear con imÃ¡genes.[m
[32m+[m
[32m+[m[32mAlgunas de las soluciones basadas en JavaScript mÃ¡s conocidas son jQuery Corner[m
[32m+[m[32m(http://methvin.com/jquery/jq-corner.html) , jQuery Curvy Corners (http://blue-anvil.com/[m
[32m+[m[32marchives/anti-aliased-rounded-corners-with-jquery) , jQuery Corners (http://www.atblabs.com/[m
[32m+[m[32mjquery.corners.html) y Nifty Corners Cube (http://www.html.it/articoli/niftycube/index.html) .[m
[32m+[m
[32m+[m[32mEl artÃ­culo CSS Rounded Corners Roundup (http://www.smileycat.com/miaow/archives/[m
[32m+[m[32m000044.php) compara decenas de tÃ©cnicas para crear esquinas redondeadas basadas en CSS y[m
[32m+[m[32mJavaScript.[m
[32m+[m
[32m+[m[32m1.10. Rollovers y sprites[m
[32m+[m
[32m+[m[32mSegÃºn varios estudios realizados por Yahoo!, hasta el 80% de la mejora en el rendimiento de la[m
[32m+[m[32mdescarga de pÃ¡ginas web depende de la parte del cliente. En el artÃ­culo Performance Research,[m
[32m+[m[32mPart 1: What the 80/20 Rule Tells Us about Reducing HTTP Requests (http://yuiblog.com/blog/[m
[32m+[m[32m2006/11/28/performance-research-part-1/) Yahoo! explica que generar dinÃ¡micamente el[m
[32m+[m[32mcÃ³digo HTML de la pÃ¡gina y servirla ocupa el 20% del tiempo total de descarga de la pÃ¡gina. El[m
[32m+[m[32m80% del tiempo restante los navegadores descargan las imÃ¡genes, archivos JavaScript, hojas de[m
[32m+[m[32mestilos y cualquier otro tipo de archivo enlazado.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  31[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mAdemÃ¡s, en la mayorÃ­a de pÃ¡ginas web normales, la mayor parte de ese 80% del tiempo se[m
[32m+[m[32mdedica a la descarga de las imÃ¡genes. Por tanto, aunque los mayores esfuerzos siempre se[m
[32m+[m[32mcentran en reducir el tiempo de generaciÃ³n dinÃ¡mica de las pÃ¡ginas, se consigue mÃ¡s y con[m
[32m+[m[32mmenos esfuerzo mejorando la descarga de las imÃ¡genes.[m
[32m+[m
[32m+[m[32mLa idea para mejorar el rendimiento de una pÃ¡gina que descarga por ejemplo 15 imÃ¡genes[m
[32m+[m[32mconsiste en crear una Ãºnica imagen grande que incluya las 15 imÃ¡genes individuales y utilizar las[m
[32m+[m[32mpropiedades CSS de las imÃ¡genes de fondo para mostrar cada imagen. Esta tÃ©cnica se presentÃ³[m
[32m+[m[32men el artÃ­culo CSS Sprites: Image Slicingâ€™s Kiss of Death (http://www.alistapart.com/articles/[m
[32m+[m[32msprites) y desde entonces se conoce con el nombre de sprites CSS.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo explica el uso de los sprites CSS en un sitio web que muestra la previsiÃ³n[m
[32m+[m[32mmeteorolÃ³gica de varias localidades utilizando iconos:[m
[32m+[m
[32m+[m[32m                   Figura 1.8. Aspecto de la previsiÃ³n meteorolÃ³gica mostrada con iconos[m
[32m+[m
[32m+[m[32mLa soluciÃ³n tradicional para crear la pÃ¡gina anterior consiste en utilizar cuatro elementos <img>[m
[32m+[m[32men el cÃ³digo HTML y disponer de cuatro imÃ¡genes correspondientes a los cuatro iconos:[m
[32m+[m
[32m+[m[32m     <h3>Previsiones meteorolÃ³gicas</h3>[m
[32m+[m[32m     <p id="localidad1"><img src="imagenes/sol.png" /> Localidad 1: soleado, mÃ¡x: 35Âº, mÃ­n:[m
[32m+[m[32m     23Âº</p>[m
[32m+[m[32m     <p id="localidad2"><img src="imagenes/sol_nubes.png" /> Localidad 2: nublado, mÃ¡x: 25Âº,[m
[32m+[m[32m     mÃ­n: 13Âº</p>[m
[32m+[m[32m     <p id="localidad3"><img src="imagenes/nubes.png" /> Localidad 3: muy nublado, mÃ¡x: 22Âº,[m
[32m+[m[32m     mÃ­n: 10Âº</p>[m
[32m+[m[32m     <p id="localidad4"><img src="imagenes/tormentas.png" /> Localidad 4: tormentas, mÃ¡x:[m
[32m+[m[32m     23Âº, mÃ­n: 11Âº</p>[m
[32m+[m
[32m+[m[32mAunque es una soluciÃ³n sencilla y que funciona muy bien, se trata de una soluciÃ³n[m
[32m+[m[32mcompletamente ineficiente. El navegador debe descargar cuatro imÃ¡genes diferentes para[m
[32m+[m[32mmostrar la pÃ¡gina, por lo que debe realizar cuatro peticiones al servidor.[m
[32m+[m
[32m+[m[32mDespuÃ©s del tamaÃ±o de los archivos descargados, el nÃºmero de peticiones realizadas al servidor[m
[32m+[m[32mes el factor que mÃ¡s penaliza el rendimiento en la descarga de pÃ¡ginas web. Utilizando la tÃ©cnica[m
[32m+[m
[32m+[m[32mwww.librosweb.es  32[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mde los sprites CSS se va a rehacer el ejemplo anterior para conseguir el mismo efecto con una sola[m
[32m+[m[32mimagen y por tanto, una sola peticiÃ³n al servidor.[m
[32m+[m
[32m+[m[32mEl primer paso consiste en crear una imagen grande que incluya las cuatro imÃ¡genes[m
[32m+[m[32mindividuales. Como los iconos son cuadrados de tamaÃ±o 32px, se crea una imagen de 32px x[m
[32m+[m[32m128px:[m
[32m+[m
[32m+[m[32m               Figura 1.9. Creando un sprite de CSS a partir de varias imÃ¡genes individuales[m
[32m+[m
[32m+[m[32mPara facilitar el uso de esta tÃ©cnica, todas las imÃ¡genes individuales ocupan el mismo sitio dentro[m
[32m+[m[32mde la imagen grande. De esta forma, los cÃ¡lculos necesarios para desplazar la imagen de fondo se[m
[32m+[m[32msimplifican al mÃ¡ximo.[m
[32m+[m
[32m+[m[32mEl siguiente paso consiste en simplificar el cÃ³digo HTML:[m
[32m+[m
[32m+[m[32m     <h3>Previsiones meteorolÃ³gicas</h3>[m
[32m+[m[32m     <p id="localidad1">Localidad 1: soleado, mÃ¡x: 35Âº, mÃ­n: 23Âº</p>[m
[32m+[m[32m     <p id="localidad2">Localidad 2: nublado, mÃ¡x: 25Âº, mÃ­n: 13Âº</p>[m
[32m+[m[32m     <p id="localidad3">Localidad 3: muy nublado, mÃ¡x: 22Âº, mÃ­n: 10Âº</p>[m
[32m+[m[32m     <p id="localidad4">Localidad 4: tormentas, mÃ¡x: 23Âº, mÃ­n: 11Âº</p>[m
[32m+[m
[32m+[m[32mLa clave de la tÃ©cnica de los sprites CSS consiste en mostrar las imÃ¡genes mediante la propiedad[m
[32m+[m[32mbackground-image. Para mostrar cada vez una imagen diferente, se utiliza la propiedad[m
[32m+[m[32mbackground-position que desplaza la imagen de fondo teniendo en cuenta la posiciÃ³n de cada[m
[32m+[m[32mimagen individual dentro de la imagen grande:[m
[32m+[m
[32m+[m[32m     #localidad1, #localidad2, #localidad3, #localidad4 {[m
[32m+[m[32m         padding-left: 38px;[m
[32m+[m[32m         height: 32px;[m
[32m+[m[32m         line-height: 32px;[m
[32m+[m[32m         background-image: url("imagenes/sprite.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #localidad1 {[m
[32m+[m[32m         background-position: 0 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #localidad2 {[m
[32m+[m
[32m+[m[32m         background-position: 0 -32px;[m
[32m+[m[32m     }[m
[32m+[m[32m     #localidad3 {[m
[32m+[m
[32m+[m[32m         background-position: 0 -64px;[m
[32m+[m
[32m+[m[32mwww.librosweb.es  33[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #localidad4 {[m
[32m+[m
[32m+[m[32m         background-position: 0 -96px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra lo que sucede con el segundo pÃ¡rrafo:[m
[32m+[m
[32m+[m[32m                         Figura 1.10. Funcionamiento de la tÃ©cnica de los sprites CSS[m
[32m+[m
[32m+[m[32mEl pÃ¡rrafo tiene establecida una altura de 32px, idÃ©ntica al tamaÃ±o de los iconos. DespuÃ©s de[m
[32m+[m[32maÃ±adir un padding-left al pÃ¡rrafo, se aÃ±ade la imagen de fondo mediante background-image.[m
[32m+[m[32mPara cambiar de una imagen a otra, sÃ³lo es necesario desplazar de forma ascendente o[m
[32m+[m[32mdescendente la imagen grande.[m
[32m+[m
[32m+[m[32mSi se quiere mostrar la segunda imagen, se desplaza de forma ascendente la imagen grande. Para[m
[32m+[m[32mdesplazarla en ese sentido, se utilizan valores negativos en el valor indicado en la propiedad[m
[32m+[m[32mbackground-position. Por Ãºltimo, como la imagen grande ha sido especialmente preparada, se[m
[32m+[m[32msabe que el desplazamiento necesario son 32 pÃ­xel, por lo que la regla CSS de este segundo[m
[32m+[m[32melemento resulta en:[m
[32m+[m
[32m+[m[32m     #localidad2 {[m
[32m+[m[32m         padding-left: 38px;[m
[32m+[m[32m         height: 32px;[m
[32m+[m[32m         line-height: 32px;[m
[32m+[m[32m         background-image: url("imagenes/sprite.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m[32m         background-position: 0 -32px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa soluciÃ³n original utilizaba cuatro imÃ¡genes y realizaba cuatro peticiones al servidor. La[m
[32m+[m[32msoluciÃ³n basada en sprites CSS sÃ³lo realiza una conexiÃ³n para descargar una sola imagen.[m
[32m+[m[32mAdemÃ¡s, los iconos del proyecto Tango (http://tango.freedesktop.org/) que se han utilizado en[m
[32m+[m[32meste ejemplo ocupan 7.441 bytes cuando se suman los tamaÃ±os de los cuatro iconos por[m
[32m+[m[32mseparado. Por su parte, la imagen grande que contiene los cuatro iconos sÃ³lo ocupa 2.238 bytes.[m
[32m+[m
[32m+[m[32mLos sprites que incluyen todas sus imÃ¡genes verticalmente son los mÃ¡s fÃ¡ciles de manejar. Si en[m
[32m+[m[32mel ejemplo anterior se emplea un sprite con las imÃ¡genes dispuestas tambiÃ©n horizontalmente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                   34[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m          Figura 1.11. Sprite complejo que dispone las imÃ¡genes de forma vertical y horizontal[m
[32m+[m
[32m+[m[32mAparentemente, utilizar este nuevo sprite sÃ³lo implica que la imagen de fondo se debe desplazar[m
[32m+[m[32mtambiÃ©n horizontalmente:[m
[32m+[m
[32m+[m[32m     #localidad1, #localidad2, #localidad3, #localidad4 {[m
[32m+[m[32m         padding-left: 38px;[m
[32m+[m[32m         height: 32px;[m
[32m+[m[32m         line-height: 32px;[m
[32m+[m[32m         background-image: url("imagenes/sprite.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #localidad1 {[m
[32m+[m[32m         background-position: 0 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #localidad2 {[m
[32m+[m
[32m+[m[32m         background-position: -32px 0;[m
[32m+[m[32m     }[m
[32m+[m[32m     #localidad3 {[m
[32m+[m
[32m+[m[32m         background-position: 0 -32px;[m
[32m+[m[32m     }[m
[32m+[m[32m     #localidad4 {[m
[32m+[m
[32m+[m[32m         background-position: -32px -32px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl problema del sprite anterior es que cuando una imagen tiene a su derecha o a su izquierda[m
[32m+[m[32motras imÃ¡genes, estas tambiÃ©n se ven:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  35[m
[32m+[m[32mCSS avanzado                      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m                        Figura 1.12. Errores producidos por utilizar un sprite complejo[m
[32m+[m
[32m+[m[32mLa soluciÃ³n de este problema es sencilla, aunque requiere algÃºn cambio en el cÃ³digo HTML:[m
[32m+[m
[32m+[m[32m     <h3>Previsiones meteorolÃ³gicas</h3>[m
[32m+[m[32m     <p id="localidad1"><img src="imagenes/pixel.gif" /> Localidad 1: soleado, mÃ¡x: 35Âº,[m
[32m+[m[32m     mÃ­n: 23Âº</p>[m
[32m+[m[32m     <p id="localidad2"><img src="imagenes/pixel.gif" /> Localidad 2: nublado, mÃ¡x: 25Âº,[m
[32m+[m[32m     mÃ­n: 13Âº</p>[m
[32m+[m[32m     <p id="localidad3"><img src="imagenes/pixel.gif" /> Localidad 3: muy nublado, mÃ¡x: 22Âº,[m
[32m+[m[32m     mÃ­n: 10Âº</p>[m
[32m+[m[32m     <p id="localidad4"><img src="imagenes/pixel.gif" /> Localidad 4: tormentas, mÃ¡x: 23Âº,[m
[32m+[m[32m     mÃ­n: 11Âº</p>[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior muestra uno de los trucos habituales para manejar sprites complejos. En[m
[32m+[m[32mprimer lugar se aÃ±ade una imagen transparente de 1px x 1px a todos los elementos mediante una[m
[32m+[m[32metiqueta <img>. A continuaciÃ³n, desde CSS se establece una imagen de fondo a cada elemento[m
[32m+[m[32m<img> y se limita su tamaÃ±o para que no deje ver las imÃ¡genes que se encuentran cerca:[m
[32m+[m
[32m+[m[32m     #localidad1 img, #localidad2 img, #localidad3 img, #localidad4 img {[m
[32m+[m[32m         height: 32px;[m
[32m+[m[32m         width: 32px;[m
[32m+[m[32m         background-image: url("imagenes/sprite2.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m[32m         vertical-align: middle;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m#localidad1 img {[m
[32m+[m[32m   background-position: 0 0;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m#localidad2 img {[m
[32m+[m
[32m+[m[32m   background-position: -32px 0;[m
[32m+[m[32m}[m
[32m+[m[32m#localidad3 img {[m
[32m+[m
[32m+[m[32m   background-position: 0 -32px;[m
[32m+[m[32m}[m
[32m+[m[32m#localidad4 img {[m
[32m+[m
[32m+[m[32mwww.librosweb.es                  36[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m         background-position: -32px -32px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mUtilizar sprites CSS es una de las tÃ©cnicas mÃ¡s eficaces para mejorar los tiempos de descarga de[m
[32m+[m[32mlas pÃ¡ginas web complejas. La siguiente imagen muestra un sprite complejo que incluye 241[m
[32m+[m[32miconos del proyecto Tango (http://tango.freedesktop.org/) y sÃ³lo ocupa 42 KB:[m
[32m+[m
[32m+[m[32m                  Figura 1.13. Sprite complejo que incluye 210 iconos en una sola imagen[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de sitios web profesionales utilizan sprites para mostrar sus imÃ¡genes de adorno. La[m
[32m+[m[32msiguiente imagen muestra el sprite del sitio web YouTube:[m
[32m+[m
[32m+[m[32m                  Figura 1.14. Sprite utilizado por el sitio web de YouTube[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                             37[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mLos principales inconvenientes de los sprites CSS son la poca flexibilidad que ofrece (aÃ±adir o[m
[32m+[m[32mmodificar una imagen individual no es inmediato) y el esfuerzo necesario para crear el sprite.[m
[32m+[m
[32m+[m[32mAfortunadamente, existen aplicaciones web como CSS Sprite Generator[m
[32m+[m[32m(http://spritegen.website-performance.org/) que generan el sprite a partir de un archivo[m
[32m+[m[32mcomprimido en formato ZIP con todas las imÃ¡genes individuales.[m
[32m+[m
[32m+[m[32m1.11. Texto[m
[32m+[m
[32m+[m[32m1.11.1. TamaÃ±o de letra[m
[32m+[m
[32m+[m[32mLa recomendaciÃ³n mÃ¡s importante cuando se trabaja con las propiedades tipogrÃ¡ficas de CSS[m
[32m+[m[32mestÃ¡ relacionada con el tamaÃ±o de la letra. La propiedad font-size permite utilizar cualquiera[m
[32m+[m[32mde las nueve unidades de medida definidas por CSS para establecer el tamaÃ±o de la letra. Sin[m
[32m+[m[32membargo, la recomendaciÃ³n es utilizar Ãºnicamente las unidades relativas % y em.[m
[32m+[m
[32m+[m[32mDe hecho, el documento CSS Techniques for Web Content Accessibility Guidelines 1.0[m
[32m+[m[32m(http://www.w3.org/TR/WCAG10-CSS-TECHS/) elaborado por el organismo W3C recomienda[m
[32m+[m[32mutilizar siempre esas unidades de medida para mejorar la accesibilidad de los contenidos web.[m
[32m+[m[32mLa siguiente versiÃ³n del documento (Techniques for WCAG 2.0 (http://www.w3.org/TR/[m
[32m+[m[32mWCAG20-GENERAL/) ) aÃºn se encuentra en proceso de elaboraciÃ³n, pero su borrador de trabajo[m
[32m+[m[32mrecoge exactamente las mismas recomendaciones en lo que se refiere al texto.[m
[32m+[m
[32m+[m[32mAdemÃ¡s de mejorar la accesibilidad de los contenidos de texto, las unidades de medida relativas[m
[32m+[m[32m% y em hacen que las pÃ¡ginas sean mÃ¡s flexibles y se adapten a cualquier medio y dispositivo sin[m
[32m+[m[32mapenas tener que realizar modificaciones. AdemÃ¡s, si se utilizan las unidades de medida relativas[m
[32m+[m[32mes posible modificar todos los tamaÃ±os de letra del sitio de forma consistente e inmediata.[m
[32m+[m
[32m+[m[32mAunque todos los diseÃ±adores web profesionales conocen esta recomendaciÃ³n y utilizan sÃ³lo las[m
[32m+[m[32munidades % y em para establecer todos sus tamaÃ±os de letra, los diseÃ±adores que comienzan a[m
[32m+[m[32mtrabajar con CSS encuentran dificultades para comprender estas unidades y prefieren utilizar la[m
[32m+[m[32munidad px.[m
[32m+[m
[32m+[m[32mSi tienes dificultades para comprender la unidad em y prefieres establecer los tamaÃ±os de letra[m
[32m+[m[32mmediante pÃ­xeles, puedes utilizar el siguiente truco. Como todos los navegadores establecen un[m
[32m+[m[32mtamaÃ±o de letra por defecto equivalente a 16px, si se utiliza la siguiente regla CSS:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         font-size: 62.5%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl tamaÃ±o de letra del elemento <body>, y por tanto el tamaÃ±o de letra base del resto de[m
[32m+[m[32melementos de la pÃ¡gina, se establece como el 62.5% del tamaÃ±o por defecto. Si se calcula el[m
[32m+[m[32mresultado de 16px x 62.5% se obtienen 10px.[m
[32m+[m
[32m+[m[32mLa ventaja de establecer el tamaÃ±o de letra del <body> de esa forma es que ahora se pueden[m
[32m+[m[32mutilizar em mientras se piensa en px. En efecto, las siguientes reglas muestran el truco en la[m
[32m+[m[32mprÃ¡ctica:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  38[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         font-size: 62.5%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         font-size: 2em; /* 2em = 2 x 10px = 20px */[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     p{[m
[32m+[m
[32m+[m[32m         font-size: 1.4em; /* 1.4em x 10px = 14px */[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mComo el tamaÃ±o base son 10px, cualquier valor de em cuya referencia sea el elemento <body>[m
[32m+[m[32mdebe multiplicarse por 10, por lo que se puede trabajar con em mientras se piensa en px.[m
[32m+[m
[32m+[m[32m1.11.2. Efectos grÃ¡ficos[m
[32m+[m
[32m+[m[32m1.11.2.1. Texto con sombra[m
[32m+[m
[32m+[m[32mMostrar texto con sombra es otra de las limitaciones de CSS que mÃ¡s irritan a los diseÃ±adores. En[m
[32m+[m[32mrealidad, la versiÃ³n CSS 2 incluÃ­a una propiedad llamada text-shadow para mostrar textos con[m
[32m+[m[32msombra. La versiÃ³n CSS 2.1 que utilizan todos los navegadores de hoy en dÃ­a elimina esta[m
[32m+[m[32mpropiedad, aunque se vuelve a recuperar en la futura versiÃ³n CSS 3.[m
[32m+[m
[32m+[m[32mEn los navegadores que mÃ¡s se preocupan por los estÃ¡ndares ya es posible utilizar la propiedad[m
[32m+[m[32mtext-shadow de CSS 3:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         color: #000;[m
[32m+[m[32m         text-shadow: #555 2px 2px 3px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa sintaxis de la propiedad text-shadow obliga a indicar dos medidas y permite establecer de[m
[32m+[m[32mforma opcional una tercera medida y un color. Las dos medidas obligatorias son[m
[32m+[m[32mrespectivamente el desplazamiento horizontal y vertical de la sombra respecto del texto. La[m
[32m+[m[32mtercera medida opcional indica lo nÃ­tido o borroso que se ve la sombra y el color establece[m
[32m+[m[32mdirectamente el color de la sombra.[m
[32m+[m
[32m+[m[32mLas Ãºltimas versiones de los navegadores Firefox, Safari y Opera ya soportan la propiedad[m
[32m+[m[32mtext-shadow, aunque no siempre de forma fiel a la descripciÃ³n del futuro estÃ¡ndar CSS 3.[m
[32m+[m
[32m+[m[32mPor otra parte, el navegador Internet Explorer no incluye la propiedad text-shadow, pero[m
[32m+[m[32mincluye un mecanismo propio que se puede utilizar para crear un efecto parecido. Una vez mÃ¡s,[m
[32m+[m[32mla soluciÃ³n se basa en el uso de los filtros de Internet Explorer (http://msdn.microsoft.com/[m
[32m+[m[32men-us/library/ms532853(VS.85).aspx) . Concretamente, el filtro shadow[m
[32m+[m[32m(http://msdn.microsoft.com/en-us/library/ms533086(VS.85).aspx) se puede emplear para[m
[32m+[m[32mcrear una sombra sobre cualquier elemento, por ejemplo un contenido de texto.[m
[32m+[m
[32m+[m[32mLa siguiente regla CSS muestra el filtro necesario para crear un efecto similar al del ejemplo[m
[32m+[m[32manterior:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         filter: shadow(color=#555555, direction=135, strength=2);[m
[32m+[m
[32m+[m[32mwww.librosweb.es  39[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32m         zoom: 1; /* necesario para activar la propiedad hasLayout */[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m1.11.2.2. Texto con relleno gradiente o degradado[m
[32m+[m
[32m+[m[32mCombinando el texto con imÃ¡genes semitransparentes, se pueden lograr fÃ¡cilmente efectos[m
[32m+[m[32mgrÃ¡ficos propios de los programas de diseÃ±o. A continuaciÃ³n se detalla cÃ³mo crear un texto que[m
[32m+[m[32mmuestra su color en forma de degradado o gradiente.[m
[32m+[m
[32m+[m[32mEl truco consiste en mostrar por encima del texto una imagen semitransparente que simule el[m
[32m+[m[32mefecto degradado. La siguiente imagen muestra el esquema de la soluciÃ³n:[m
[32m+[m
[32m+[m[32m             Figura 1.15. Mostrando texto avanzado gracias a una imagen semitransparente[m
[32m+[m
[32m+[m[32mEn el esquema anterior, la imagen semitransparente se muestra en el interior de un cuadrado de[m
[32m+[m[32mcolor negro para poder visualizar correctamente su aspecto real.[m
[32m+[m
[32m+[m[32mSi se dispone por ejemplo de un titular de secciÃ³n <h1>, el primer paso consiste en aÃ±adir un[m
[32m+[m[32melemento HTML adicional (normalmente un <span>) para mostrar la imagen semitransparente:[m
[32m+[m
[32m+[m[32m     <!-- Elemento original -->[m
[32m+[m[32m     <h1>Lorem Ipsum</h1>[m
[32m+[m
[32m+[m[32m     <!-- Elemento preparado para mostrar texto avanzado -->[m
[32m+[m[32m     <h1><span></span>Lorem Ipsum</h1>[m
[32m+[m
[32m+[m[32mUna vez preparado el cÃ³digo HTML, el truco consiste en mostrar la imagen semitransparente[m
[32m+[m[32mcomo imagen de fondo del elemento <span>. AdemÃ¡s, ese elemento <span> se muestra por[m
[32m+[m[32mdelante del contenido de texto del elemento <h1> y ocupando toda su longitud:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         position: relative;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     h1 span {[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         background: url("imagenes/gradiente.png") repeat-x;[m
[32m+[m[32m         width: 100%;[m
[32m+[m[32m         height: 31px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPara conseguir diferentes acabados en el degradado del texto, se modifica la posiciÃ³n de la[m
[32m+[m[32mimagen de fondo mediante las propiedades background o background-position.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  40[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 1. TÃ©cnicas imprescindibles[m
[32m+[m
[32m+[m[32mUtilizando este mismo truco pero con otras imÃ¡genes, se pueden conseguir efectos tan[m
[32m+[m[32mespectaculares como los que se pueden ver en los ejemplos del artÃ­culo CSS Gradient Text[m
[32m+[m[32m(http://www.webdesignerwall.com/demo/css-gradient-text/) .[m
[32m+[m
[32m+[m[32mwww.librosweb.es  41[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mCapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m2.1. Inicializar los estilos[m
[32m+[m
[32m+[m[32mCuando los navegadores muestran una pÃ¡gina web, ademÃ¡s de aplicar las hojas de estilo de los[m
[32m+[m[32mdiseÃ±adores, siempre aplican otras dos hojas de estilos: la del navegador y la del usuario.[m
[32m+[m
[32m+[m[32mLa hoja de estilos del navegador se utiliza para establecer el estilo inicial por defecto a todos los[m
[32m+[m[32melementos HTML: tamaÃ±os de letra, decoraciÃ³n del texto, mÃ¡rgenes, etc. Esta hoja de estilos[m
[32m+[m[32msiempre se aplica a todas las pÃ¡ginas web, por lo que cuando una pÃ¡gina no incluye ninguna hoja[m
[32m+[m[32mde estilos propia, el aspecto con el que se muestra en el navegador se debe a esta hoja de estilos[m
[32m+[m[32mdel navegador.[m
[32m+[m
[32m+[m[32mPor su parte, la hoja de estilos del usuario es la que puede aplicar el usuario mediante su[m
[32m+[m[32mnavegador. Aunque la inmensa mayorÃ­a de usuarios no utiliza esta caracterÃ­stica, en teorÃ­a es[m
[32m+[m[32mposible que los usuarios establezcan el tipo de letra, color y tamaÃ±o de los textos y cualquier otra[m
[32m+[m[32mpropiedad CSS de los elementos de la pÃ¡gina que muestra el navegador.[m
[32m+[m
[32m+[m[32mEl orden en el que se aplican las hojas de estilo es el siguiente:[m
[32m+[m
[32m+[m[32m                    Figura 2.1. Orden en el que se aplican las diferentes hojas de estilos[m
[32m+[m
[32m+[m[32mPor tanto, las reglas que menos prioridad tienen son las del CSS de los navegadores, ya que son[m
[32m+[m[32mlas primeras que se aplican. A continuaciÃ³n se aplican las reglas definidas por los usuarios y por[m
[32m+[m[32mÃºltimo se aplican las reglas CSS definidas por el diseÃ±ador, que por tanto son las que mÃ¡s[m
[32m+[m[32mprioridad tienen.[m
[32m+[m
[32m+[m[32m   Nota[m
[32m+[m[32m   CSS define la palabra reservada !important para controlar la prioridad de las declaraciones de las[m
[32m+[m[32m   diferentes hojas de estilos. Las reglas CSS que incluyen la palabra !important tienen prioridad sobre el[m
[32m+[m[32m   resto de las reglas CSS, independientemente del orden en el que se incluyan o definan las reglas.[m
[32m+[m
[32m+[m[32m   En caso de igualdad, las reglas !important de los usuarios son mÃ¡s importantes que las reglas[m
[32m+[m[32m   !important del diseÃ±ador. Gracias a esta caracterÃ­stica, si un usuario sufre deficiencias visuales, puede[m
[32m+[m[32m   crear una hoja de estilos CSS con reglas de tipo !important con la seguridad de que el navegador siempre[m
[32m+[m[32m   aplicarÃ¡ esas reglas por encima de cualquier otra regla definida por los diseÃ±adores.[m
[32m+[m
[32m+[m[32mEl principal problema de las hojas de estilo de los navegadores es que los valores que aplican por[m
[32m+[m[32mdefecto son diferentes en cada navegador. Aunque todos los navegadores coinciden en algunos[m
[32m+[m[32mvalores importantes (tipo de letra serif, color de letra negro, etc.) presentan diferencias en[m
[32m+[m[32mvalores tan importantes como los mÃ¡rgenes verticales (margin-bottom y margin-top) de los[m
[32m+[m
[32m+[m[32mwww.librosweb.es  42[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mtÃ­tulos de secciÃ³n (<h1>, ... <h6>), la tabulaciÃ³n izquierda de los elementos de las listas[m
[32m+[m[32m(margin-left o padding-left segÃºn el navegador) y el tamaÃ±o de lÃ­nea del texto (line-height).[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el cÃ³digo HTML de una pÃ¡gina de ejemplo y seguidamente, una[m
[32m+[m[32mimagen que muestra cÃ³mo la visualizan los navegadores Internet Explorer y Firefox:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/[m
[32m+[m[32m     xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />[m
[32m+[m[32m     <title>Reset</title>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <h1>Lorem ipsum dolor sit amet</h1>[m
[32m+[m[32m     <h2>Consectetuer adipiscing elit</h2>[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh[m
[32m+[m[32m     euismod tincidunt ut consectetuer adipiscing elit</p>[m
[32m+[m[32m     <ul>[m
[32m+[m
[32m+[m[32m         <li>Elemento 1</li>[m
[32m+[m[32m         <li>Elemento 2</li>[m
[32m+[m[32m         <li>Elemento 3</li>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m     <table summary="Lorem Ipsum">[m
[32m+[m[32m         <caption>Lorem Ipsum</caption>[m
[32m+[m[32m         <tr>[m
[32m+[m
[32m+[m[32m            <th>Celda 1-1</th>[m
[32m+[m[32m            <th>Celda 1-2</th>[m
[32m+[m[32m         </tr>[m
[32m+[m[32m         <tr>[m
[32m+[m[32m            <td>Celda 2-1</td>[m
[32m+[m[32m            <td>Celda 2-2</td>[m
[32m+[m[32m         </tr>[m
[32m+[m[32m     </table>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32m     Figura 2.2. VisualizaciÃ³n de una misma pÃ¡gina en los navegadores Internet Explorer y Firefox[m
[32m+[m
[32m+[m[32mComo todas las hojas de estilo de los navegadores son diferentes, cuando un diseÃ±ador prueba[m
[32m+[m[32msus estilos sobre diferentes navegadores, es comÃºn encontrarse con diferencias visuales[m
[32m+[m
[32m+[m[32mwww.librosweb.es  43[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mapreciables. La soluciÃ³n a este problema es muy sencilla y consiste en borrar o resetear los[m
[32m+[m[32mestilos que aplican por defecto los navegadores.[m
[32m+[m
[32m+[m[32mUna de las formas mÃ¡s sencillas de neutralizar algunos de los estilos de los navegadores consiste[m
[32m+[m[32men eliminar el margen y relleno a todos los elementos de la pÃ¡gina para establecerlos[m
[32m+[m[32mposteriormente de forma individual:[m
[32m+[m
[32m+[m[32m     *{[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAunque la regla CSS anterior se ha utilizado desde hace muchos aÃ±os, se trata de una soluciÃ³n[m
[32m+[m[32mmuy rudimentaria y limitada. La soluciÃ³n completa consiste en crear una hoja de estilos CSS que[m
[32m+[m[32mneutralice todos los estilos que aplican por defecto los navegadores y que pueden afectar al[m
[32m+[m[32maspecto visual de las pÃ¡ginas. Este tipo de hojas de estilos se suelen llamar "reset CSS".[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la hoja de estilos reset.css propuesta por el diseÃ±ador Eric Meyer[m
[32m+[m[32m(http://meyerweb.com/) :[m
[32m+[m
[32m+[m[32m     /* v1.0 | 20080212 */[m
[32m+[m
[32m+[m[32m     html, body, div, span, applet, object, iframe,[m
[32m+[m[32m     h1, h2, h3, h4, h5, h6, p, blockquote, pre,[m
[32m+[m[32m     a, abbr, acronym, address, big, cite, code,[m
[32m+[m[32m     del, dfn, em, font, img, ins, kbd, q, s, samp,[m
[32m+[m[32m     small, strike, strong, sub, sup, tt, var,[m
[32m+[m[32m     b, u, i, center,[m
[32m+[m[32m     dl, dt, dd, ol, ul, li,[m
[32m+[m[32m     fieldset, form, label, legend,[m
[32m+[m[32m     table, caption, tbody, tfoot, thead, tr, th, td {[m
[32m+[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m[32m         border: 0;[m
[32m+[m[32m         outline: 0;[m
[32m+[m[32m         font-size: 100%;[m
[32m+[m[32m         vertical-align: baseline;[m
[32m+[m[32m         background: transparent;[m
[32m+[m[32m     }[m
[32m+[m[32m     body {[m
[32m+[m[32m         line-height: 1;[m
[32m+[m[32m     }[m
[32m+[m[32m     ol, ul {[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote, q {[m
[32m+[m[32m         quotes: none;[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote:before, blockquote:after,[m
[32m+[m[32m     q:before, q:after {[m
[32m+[m[32m         content: '';[m
[32m+[m[32m         content: none;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  44[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m     /* No olvides definir estilos para focus */[m
[32m+[m[32m     :focus {[m
[32m+[m
[32m+[m[32m         outline: 0;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* No olvides resaltar de alguna manera el texto insertado/borrado */[m
[32m+[m[32m     ins {[m
[32m+[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m     }[m
[32m+[m[32m     del {[m
[32m+[m
[32m+[m[32m         text-decoration: line-through;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* En el cÃ³digo HTML es necesario aÃ±adir cellspacing="0" */[m
[32m+[m[32m     table {[m
[32m+[m
[32m+[m[32m         border-collapse: collapse;[m
[32m+[m[32m         border-spacing: 0;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl propio Eric Meyer recuerda que la hoja de estilos anterior es sÃ³lo un punto de partida que[m
[32m+[m[32mdebe ser adaptado por cada diseÃ±ador hasta obtener los resultados deseados. Utilizar una hoja[m
[32m+[m[32mde estilos de tipo reset es una de las buenas prÃ¡cticas imprescindibles para los diseÃ±adores web[m
[32m+[m[32mprofesionales.[m
[32m+[m
[32m+[m[32m2.2. Comprobar el diseÃ±o en varios navegadores[m
[32m+[m
[32m+[m[32m2.2.1. Principales navegadores[m
[32m+[m
[32m+[m[32mUna de las prÃ¡cticas imprescindibles de los diseÃ±adores web profesionales consiste en probar su[m
[32m+[m[32mtrabajo en varios navegadores diferentes. De esta forma, el diseÃ±ador puede descubrir los[m
[32m+[m[32merrores de su trabajo y tambiÃ©n los errores causados por los propios navegadores.[m
[32m+[m
[32m+[m[32mEl nÃºmero de navegadores y versiones diferentes que se deben probar depende de cada[m
[32m+[m[32mdiseÃ±ador. En el caso ideal, el diseÃ±ador conoce estadÃ­sticas de uso de los navegadores que[m
[32m+[m[32mutilizan los usuarios para acceder al sitio o aplicaciÃ³n web que estÃ¡ diseÃ±ando. Una buena[m
[32m+[m[32mprÃ¡ctica consiste en probar los diseÃ±os en aquellos navegadores y versiones que sumen un 90%[m
[32m+[m[32mde cuota de mercado.[m
[32m+[m
[32m+[m[32mCuando no se dispone de estadÃ­sticas de uso o el diseÃ±o es para un sitio web completamente[m
[32m+[m[32mnuevo, se debe probar el diseÃ±o en los navegadores mÃ¡s utilizados por los usuarios en general.[m
[32m+[m[32mAunque no existe ninguna estadÃ­stica completamente fiable y los resultados varÃ­an mucho de un[m
[32m+[m[32mpaÃ­s a otro, en general los siguientes navegadores y versiones suman mÃ¡s del 90% de cuota de[m
[32m+[m[32mmercado: Internet Explorer 6, Internet Explorer 7, Firefox 2, Firefox 3, Safari 3 y Opera 9.[m
[32m+[m
[32m+[m[32mEn primer lugar, los diseÃ±adores web profesionales disponen de todos los navegadores[m
[32m+[m[32mprincipales instalados en sus equipos de trabajo. Por lo tanto, si no lo has hecho ya, descarga e[m
[32m+[m[32minstala los siguientes navegadores:[m
[32m+[m
[32m+[m[32m    â–ª Firefox (http://www.mozilla.com/en-US/firefox/all.html) : disponible para sistemas[m
[32m+[m[32m       operativos Windows, Mac, Linux y en mÃ¡s de 45 idiomas.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  45[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m    â–ª Opera (http://www.opera.com/download/) : disponible para sistemas operativos[m
[32m+[m[32m       Windows, Mac, Linux y en mÃºltiples idiomas.[m
[32m+[m
[32m+[m[32m    â–ª Safari (http://www.apple.com/es/safari/) : disponible solamente para sistemas[m
[32m+[m[32m       operativos Windows y Mac.[m
[32m+[m
[32m+[m[32mRespecto al navegador Internet Explorer, la mayorÃ­a de diseÃ±adores trabajan en entornos[m
[32m+[m[32mWindows en los que ya estÃ¡ instalado por defecto. Si tienes la fortuna de trabajar con un sistema[m
[32m+[m[32moperativo tipo Linux, puedes instalar varias versiones de Internet Explorer mediante la[m
[32m+[m[32maplicaciÃ³n IEs4Linux (http://www.tatanka.com.br/ies4linux/page/Main_Page) . TambiÃ©n es[m
[32m+[m[32mposible instalar varias versiones de Internet Explorer en los sistemas operativos Mac OS X[m
[32m+[m[32mgracias a la aplicaciÃ³n ies4osx (http://www.kronenberg.org/ies4osx/) .[m
[32m+[m
[32m+[m[32m2.2.2. Probar el diseÃ±o en todos los navegadores[m
[32m+[m
[32m+[m[32mEn algunas ocasiones no es suficiente con probar los diseÃ±os en los navegadores mÃ¡s utilizados,[m
[32m+[m[32mya que el cliente quiere que su sitio o aplicaciÃ³n web se vea correctamente en muchos otros[m
[32m+[m[32mnavegadores. AdemÃ¡s, en otras ocasiones el diseÃ±ador ni siquiera dispone de los navegadores[m
[32m+[m[32mmÃ¡s utilizados por los usuarios, de forma que no puede probar correctamente sus diseÃ±os.[m
[32m+[m
[32m+[m[32mAfortunadamente, existe una aplicaciÃ³n web gratuita que permite solucionar todos estos[m
[32m+[m[32mproblemas. La aplicaciÃ³n Browsershots (http://browsershots.org) prueba la pÃ¡gina indicada en[m
[32m+[m[32mvarias versiones diferentes de cada navegador, crea una imagen de cÃ³mo se ve la pÃ¡gina en cada[m
[32m+[m[32muno de ellos y nos muestra esa imagen.[m
[32m+[m
[32m+[m[32mAunque el proceso es lento y mucho menos flexible que probar la pÃ¡gina realmente en cada[m
[32m+[m[32mnavegador, el resultado permite al diseÃ±ador comprobar si su trabajo se ve correctamente en[m
[32m+[m[32mmultitud de navegadores y sistemas operativos. En la actualidad, Browsershots comprueba el[m
[32m+[m[32maspecto de las pÃ¡ginas en 4 sistemas operativos y 72 navegadores diferentes.[m
[32m+[m
[32m+[m[32m2.2.3. Integrar Internet Explorer en Firefox[m
[32m+[m
[32m+[m[32mAlgunos diseÃ±adores prueban continuamente sus diseÃ±os en los navegadores Internet Explorer[m
[32m+[m[32my Firefox y despuÃ©s los comprueban en el resto de navegadores para corregir los Ãºltimos errores.[m
[32m+[m[32mSi este es tu caso, puedes mejorar tu productividad gracias a una extensiÃ³n de Firefox.[m
[32m+[m
[32m+[m[32mIE Tab (https://addons.mozilla.org/es-ES/firefox/addon/1419) es una extensiÃ³n que se instala[m
[32m+[m[32men el navegador Firefox y hace que Internet Explorer se integre en Firefox. Una vez instalada,[m
[32m+[m[32mesta extensiÃ³n permite ver las pÃ¡ginas con Internet Explorer dentro de Firefox.[m
[32m+[m
[32m+[m[32mAunque resulta sorprendente, IE Tab hace que las pÃ¡ginas en Firefox se puedan ver mediante[m
[32m+[m[32mInternet Explorer, de forma que los diseÃ±adores no tienen que cambiar constantemente de[m
[32m+[m[32mnavegador y por tanto aumenta considerablemente su productividad.[m
[32m+[m
[32m+[m[32m2.2.4. Diferentes versiones de Internet Explorer[m
[32m+[m
[32m+[m[32mEl principal problema de los diseÃ±adores web que quieren probar su trabajo en diferentes[m
[32m+[m[32mnavegadores y versiones es la imposibilidad de instalar varias versiones del navegador Internet[m
[32m+[m[32mExplorer en el mismo sistema operativo.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  46[m
[32m+[m[32mCSS avanzado            CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mAunque la empresa Microsoft, creadora de Internet Explorer, sigue sin resolver este problema,[m
[32m+[m[32mse han publicado soluciones no oficiales para disponer de varias versiones de Internet Explorer[m
[32m+[m[32men el mismo sistema operativo.[m
[32m+[m
[32m+[m[32mLa primera soluciÃ³n propuesta fue el Browser Archive (http://browsers.evolt.org/) , un[m
[32m+[m[32mrepositorio de navegadores desde el que se pueden descargar versiones antiguas de decenas de[m
[32m+[m[32mnavegadores diferentes, entre ellos Internet Explorer. Lamentablemente hace mucho tiempo que[m
[32m+[m[32mno se aÃ±aden nuevas versiones, por lo que la Ãºltima versiÃ³n disponible de Internet Explorer en la[m
[32m+[m[32m6.[m
[32m+[m
[32m+[m[32mMÃ¡s recientemente se ha presentado IETester (http://www.my-debugbar.com/wiki/IETester/[m
[32m+[m[32mHomePage) , una aplicaciÃ³n descargable gratuitamente y que permite disponer de Internet[m
[32m+[m[32mExplorer 5.5, 6, 7 y 8 en un mismo sistema operativo. De esta forma, IETester es una de las[m
[32m+[m[32mherramientas imprescindibles de los diseÃ±adores web profesionales.[m
[32m+[m
[32m+[m[32m2.3. Mejora progresiva[m
[32m+[m
[32m+[m[32mLa mejora progresiva ("progressive enhancement") es uno de los conceptos mÃ¡s importantes del[m
[32m+[m[32mdiseÃ±o web y a la vez uno de los mÃ¡s desconocidos. Su origen proviene de su concepto contrario,[m
[32m+[m[32mla degradaciÃ³n Ãºtil o "graceful degradation".[m
[32m+[m
[32m+[m[32mLa degradaciÃ³n Ãºtil es un concepto propuesto hace dÃ©cadas por el psicÃ³logo inglÃ©s David[m
[32m+[m[32mCourtenay Marr. Aplicada al diseÃ±o web, la degradaciÃ³n Ãºtil significa que un sitio web sigue[m
[32m+[m[32mfuncionando correctamente cuando el usuario accede con un navegador limitado o antiguo en el[m
[32m+[m[32mque no funcionan las caracterÃ­sticas mÃ¡s avanzadas.[m
[32m+[m
[32m+[m[32mLa mejora progresiva toma ese concepto y lo aplica de forma inversa. De esta forma, aplicada al[m
[32m+[m[32mdiseÃ±o web la mejora progresiva significa que el sitio web dispone de caracterÃ­sticas mÃ¡s[m
[32m+[m[32mavanzadas cuanto mÃ¡s avanzado sea el navegador con el que accede el usuario.[m
[32m+[m
[32m+[m[32mMuchos diseÃ±adores web y muchos de sus clientes estÃ¡n obsesionados con que sus diseÃ±os se[m
[32m+[m[32mvean exactamente igual en cualquier versiÃ³n de cualquier navegador. Aunque resulta[m
[32m+[m[32mprÃ¡cticamente imposible conseguirlo, este tipo de diseÃ±adores prefiere sacrificar cualquier[m
[32m+[m[32mcaracterÃ­stica interesante de CSS de manera que las pÃ¡ginas se vean igual en cualquier[m
[32m+[m[32mnavegador.[m
[32m+[m
[32m+[m[32mLa idea propuesta por la tÃ©cnica de la mejora progresiva consiste en que el diseÃ±o web permita[m
[32m+[m[32mel acceso completo y correcto a toda la informaciÃ³n de la pÃ¡gina independientemente del tipo de[m
[32m+[m[32mnavegador utilizado por el usuario. AdemÃ¡s, propone utilizar las caracterÃ­sticas mÃ¡s modernas[m
[32m+[m[32mde CSS 2 e incluso de CSS 3, aunque sÃ³lo los usuarios con navegadores mÃ¡s modernos sean[m
[32m+[m[32mcapaces de disfrutarlas.[m
[32m+[m
[32m+[m[32mLa tÃ©cnica de la mejora progresiva es mucho mejor que las soluciones alternativas que utilizan[m
[32m+[m[32malgunos diseÃ±adores:[m
[32m+[m
[32m+[m[32m    â–ª Utilizar sÃ³lo las caracterÃ­sticas de CSS que soporte correctamente el navegador obsoleto[m
[32m+[m[32m       Internet Explorer 6, porque un gran nÃºmero de usuarios siguen utilizÃ¡ndolo.[m
[32m+[m
[32m+[m[32m    â–ª Utilizar sÃ³lo las caracterÃ­sticas de CSS que soporten correctamente navegadores limitados[m
[32m+[m[32m       como Internet Explorer 7, ya que es el navegador mÃ¡s utilizado por los usuarios.[m
[32m+[m
[32m+[m[32mwww.librosweb.es        47[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m    â–ª Olvidarse completamente de navegadores limitados como Internet Explorer 6 y 7,[m
[32m+[m[32m       diseÃ±ando los sitios web sÃ³lo para los navegadores mÃ¡s modernos.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la mejora progresiva en la prÃ¡ctica mediante un ejemplo publicado en[m
[32m+[m[32mel artÃ­culo Progressive Enhancement with CSS 3: A better experience for modern browsers[m
[32m+[m[32m(http://dev.opera.com/articles/view/progressive-enhancement-with-css-3-a-be/) .[m
[32m+[m
[32m+[m[32mEl propÃ³sito del ejemplo es crear un menÃº de navegaciÃ³n que se ve mÃ¡s bonito cuanto mÃ¡s[m
[32m+[m[32mmoderno sea tu navegador. Como es habitual, el cÃ³digo HTML del menÃº se basa en una lista de[m
[32m+[m[32mtipo <ul>:[m
[32m+[m
[32m+[m[32m     <ul>[m
[32m+[m[32m         <li><a href="">Lorem Ipsum</a></li>[m
[32m+[m[32m         <li><a href="">Lorem Ipsum</a></li>[m
[32m+[m[32m         <li><a href="">Lorem Ipsum</a></li>[m
[32m+[m[32m         <li><a href="">Lorem Ipsum</a></li>[m
[32m+[m[32m         <li><a href="">Lorem Ipsum</a></li>[m
[32m+[m
[32m+[m[32m     </ul>[m
[32m+[m
[32m+[m[32mEl primer paso consiste en aplicar los estilos CSS bÃ¡sicos que interpretan correctamente todas[m
[32m+[m[32mlas versiones de todos los navegadores. Aunque estos estilos hacen que el menÃº tenga un[m
[32m+[m[32maspecto muy bÃ¡sico, permiten el acceso correcto a todos los contenidos.[m
[32m+[m
[32m+[m[32m     ul {[m
[32m+[m[32m         background-color: blue;[m
[32m+[m[32m         border-bottom: 1px dotted #999;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 15px;[m
[32m+[m[32m         width: 150px;[m
[32m+[m[32m         padding-left: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     li {[m
[32m+[m[32m         background-color: #FFF;[m
[32m+[m[32m         border: 1px dotted #999;[m
[32m+[m[32m         border-bottom-width: 0;[m
[32m+[m[32m         font: 1.2em/1.333 Verdana, Arial, sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     li a {[m
[32m+[m[32m         color: #000;[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         height: 100%;[m
[32m+[m[32m         padding: 0.25em 0;[m
[32m+[m[32m         text-align: center;[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     li a:hover { background-color: #EFEFEF; }[m
[32m+[m
[32m+[m[32mLas reglas CSS anteriores hacen que el menÃº de navegaciÃ³n tenga el siguiente aspecto en cada[m
[32m+[m[32mnavegador:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  48[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mFigura 2.3. Aspecto del menÃº en los navegadores Internet Explorer 6 y 7, Firefox 3, Safari 3 y Opera 9[m
[32m+[m
[32m+[m[32mComo se ve en la imagen anterior, incluso con unos estilos CSS tan bÃ¡sicos se producen[m
[32m+[m[32mdiferencias visuales entre los navegadores. El motivo es que Internet Explorer 6 no es capaz de[m
[32m+[m[32mmostrar un borde punteado de 1px de anchura y lo sustituye por un borde discontinuo.[m
[32m+[m
[32m+[m[32mEl siguiente paso consiste en utilizar el selector de hijos (uno de los selectores avanzados de[m
[32m+[m[32mCSS) para aÃ±adir nuevos estilos:[m
[32m+[m
[32m+[m[32m     body > ul { border-width: 0; }[m
[32m+[m
[32m+[m[32m     ul > li {[m
[32m+[m[32m         border: 1px solid #FFF;[m
[32m+[m[32m         border-width: 1px 0 0 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     li > a {[m
[32m+[m[32m         background-color: #666;[m
[32m+[m[32m         color: white;[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     li:first-child a { color: yellow; }[m
[32m+[m
[32m+[m[32m     li > a:hover{ background-color: #999; }[m
[32m+[m
[32m+[m[32mAhora el primer elemento del menÃº de navegaciÃ³n se muestra con otro estilo y cuando el[m
[32m+[m[32musuario pasa su ratÃ³n por encima de un elemento se muestra destacado:[m
[32m+[m
[32m+[m[32mFigura 2.4. Aspecto del menÃº en los navegadores Internet Explorer 6 y 7, Firefox 3, Safari 3 y Opera 9[m
[32m+[m
[32m+[m[32mEl navegador Internet Explorer 6 se queda atrÃ¡s y sigue mostrando el menÃº con el mismo[m
[32m+[m[32maspecto, ya que no es capaz de entender el selector de hijos. La mejora progresiva permite que[m
[32m+[m[32mlos usuarios de Internet Explorer 6 sigan accediendo a todos los contenidos y que el resto de[m
[32m+[m[32musuarios vean un menÃº mÃ¡s avanzado.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  49[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se modifica la opacidad de los elementos del menÃº, de forma que el elemento[m
[32m+[m[32mseleccionado se vea mÃ¡s claramente:[m
[32m+[m
[32m+[m[32m     li { opacity: 0.9; }[m
[32m+[m
[32m+[m[32m     li:hover{ opacity: 1; }[m
[32m+[m
[32m+[m[32mEn esta ocasiÃ³n, el navegador que se queda atrÃ¡s es Internet Explorer 7, ya que no incluye[m
[32m+[m[32msoporte para esa propiedad de CSS. En el resto de navegadores se muestra correctamente el[m
[32m+[m[32mefecto:[m
[32m+[m
[32m+[m[32mFigura 2.5. Aspecto del menÃº en los navegadores Internet Explorer 6 y 7, Firefox 3, Safari 3 y Opera 9[m
[32m+[m
[32m+[m[32mOtra posible mejora del menÃº consiste en aÃ±adir una sombra al texto del elemento seleccionado[m
[32m+[m[32mmediante la propiedad text-shadow de CSS:[m
[32m+[m
[32m+[m[32m     li a:hover { text-shadow: 2px 2px 4px #333; }[m
[32m+[m
[32m+[m[32mSolamente los navegadores Safari y Opera soportan la propiedad text-shadow, por lo que el[m
[32m+[m[32mnavegador Firefox se queda atrÃ¡s y no muestra esta mejora:[m
[32m+[m
[32m+[m[32mFigura 2.6. Aspecto del menÃº en los navegadores Internet Explorer 6 y 7, Firefox 3, Safari 3 y Opera 9[m
[32m+[m
[32m+[m[32mPor Ãºltimo, utilizando los selectores de CSS 3 se va a alternar el color de fondo de los elementos[m
[32m+[m[32mdel menÃº para mejorar su visualizaciÃ³n:[m
[32m+[m
[32m+[m[32m     li:nth-child(2n+1) a {[m
[32m+[m[32m         background-color: #333;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     li:nth-child(n) a:hover {[m
[32m+[m[32m         background-color: #AAA;[m
[32m+[m[32m         color: #000;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     li:first-child > a:hover{ color: yellow; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  50[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mSolamente los navegadores Opera y Safari incluyen todos los selectores de CSS 3, por lo que el[m
[32m+[m[32mresultado final del menÃº en cada navegador es el que muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32mFigura 2.7. Aspecto del menÃº en los navegadores Internet Explorer 6 y 7, Firefox 3, Safari 3 y Opera 9[m
[32m+[m
[32m+[m[32mComo se ha visto en este ejemplo, la mejora progresiva permite aprovechar todas las[m
[32m+[m[32mposibilidades de CSS sin perjudicar a los navegadores obsoletos o limitados. Los usuarios de[m
[32m+[m[32mInternet Explorer 6 visualizan un menÃº muy bÃ¡sico adecuado para un navegador obsoleto, pero[m
[32m+[m[32mque les permite el acceso a todos los contenidos. Los usuarios de Internet Explorer 7 visualizan[m
[32m+[m[32mun menÃº normal adecuado a las limitaciones de su navegador pero que tambiÃ©n permite el[m
[32m+[m[32macceso a todos los contenidos. Por Ãºltimo, los usuarios de los navegadores mÃ¡s avanzados[m
[32m+[m[32m(Opera y Safari) visualizan un menÃº avanzado que aprovecha todas las caracterÃ­sticas[m
[32m+[m[32mdisponibles en CSS.[m
[32m+[m
[32m+[m[32m2.4. DepuraciÃ³n[m
[32m+[m
[32m+[m[32mInevitablemente, todos los diseÃ±adores web cometen errores en los trabajos que realizan. En la[m
[32m+[m[32mmayorÃ­a de las ocasiones, los errores se descubren al probar el diseÃ±o en diferentes[m
[32m+[m[32mnavegadores. AdemÃ¡s de mostrar los errores, los principales navegadores disponen de[m
[32m+[m[32mherramientas que permiten descubrir de forma sencilla la causa concreta del error.[m
[32m+[m
[32m+[m[32mAntes de que existieran estas herramientas avanzadas, el trabajo del diseÃ±ador era mucho mÃ¡s[m
[32m+[m[32mcomplicado, ya que no era fÃ¡cil descubrir la causa exacta del error entre todas las posibles:[m
[32m+[m
[32m+[m[32m    â–ª El selector estÃ¡ mal escrito.[m
[32m+[m
[32m+[m[32m    â–ª Las propiedades estÃ¡n mal escritas o tienen valores no permitidos.[m
[32m+[m
[32m+[m[32m    â–ª Otros selectores tienen mÃ¡s prioridad y estÃ¡n sobreescribiendo una propiedad y/o valor.[m
[32m+[m
[32m+[m[32m    â–ª Las reglas y valores estÃ¡n bien escritos, pero los elementos no ocupan el espacio que a[m
[32m+[m[32m       simple vista parece que estÃ¡n ocupando en la pantalla.[m
[32m+[m
[32m+[m[32m    â–ª El navegador tiene un error que impide mostrar correctamente la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLos diseÃ±adores web idearon hace mucho tiempo soluciones ingeniosas para cada uno de los[m
[32m+[m[32mproblemas anteriores. En primer lugar, cuando no se estÃ¡ seguro de si todas las reglas CSS estÃ¡n[m
[32m+[m[32mbien escritas, lo mejor es validar la hoja de estilos utilizando el validador CSS del W3C[m
[32m+[m[32m(http://jigsaw.w3.org/css-validator/) .[m
[32m+[m
[32m+[m[32mUna vez descartado el error de sintaxis, el siguiente problema a resolver es por quÃ© una regla[m
[32m+[m[32mCSS no se aplica correctamente a un elemento. Una estrategia muy utilizada consistÃ­a en aÃ±adir[m
[32m+[m[32malguna propiedad que sea visualmente significativa para comprobar si realmente el selector se[m
[32m+[m
[32m+[m[32mwww.librosweb.es  51[m
[32m+[m[32mCSS avanzado                                 CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mestÃ¡ aplicando. Poner todo el texto del elemento en negrita, aumentar mucho su tamaÃ±o de letra[m
[32m+[m[32my cambiar el color de fondo eran algunas de las estrategias habituales. Cuando lo anterior no[m
[32m+[m[32mresultaba, se utilizaba directamente la palabra reservada !important para aumentar la prioridad[m
[32m+[m[32mde esa propiedad CSS.[m
[32m+[m
[32m+[m[32mOtro de los problemas habituales en el diseÃ±o web estÃ¡ relacionado con el espacio que ocupa[m
[32m+[m[32mcada elemento en pantalla. Como los elementos por defecto no muestran ningÃºn borde y su color[m
[32m+[m[32mde fondo es transparente, no es posible conocer a simple vista el espacio que ocupa cada[m
[32m+[m[32melemento. Por lo tanto, cuando se posicionan elementos de forma flotante o cuando se establecen[m
[32m+[m[32mmÃ¡rgenes, rellenos, alturas y anchuras mÃ¡ximas/mÃ­nimas, no es posible visualizar si el[m
[32m+[m[32mnavegador estÃ¡ mostrando correctamente todos los elementos.[m
[32m+[m
[32m+[m[32mPara solucionar este problema la tÃ©cnica habitual consistÃ­a en aÃ±adir un borde visible a los[m
[32m+[m[32melementos. Como los bordes visibles ocupan sitio en pantalla, el problema de esta soluciÃ³n es[m
[32m+[m[32mque modifica el propio diseÃ±o. La alternativa consistÃ­a en aÃ±adir un color de fondo diferente para[m
[32m+[m[32mcada elemento. Otra posible alternativa es el uso de la propiedad outline de CSS, que aÃ±ade un[m
[32m+[m[32mperfil en el contorno de un elemento pero no ocupa sitio y por tanto no modifica el diseÃ±o de la[m
[32m+[m[32mpÃ¡gina.[m
[32m+[m
[32m+[m[32mLos navegadores modernos como Safari, Opera y Firefox incluyen el soporte de la propiedad[m
[32m+[m
[32m+[m[32moutline, mientras que el navegador Internet Explorer 7 no es capaz de mostrar perfiles en los[m
[32m+[m
[32m+[m[32melementos de la pÃ¡gina. El diseÃ±ador Chris Page ha publicado un artÃ­culo llamado A Handy CSS[m
[32m+[m
[32m+[m[32mDebugging         Snippet  (http://homepage.mac.com/chrispage/iblog/C42511381/[m
[32m+[m
[32m+[m[32mE20060806095030/index.html) en el que muestra unas reglas CSS que hacen uso de outline y[m
[32m+[m
[32m+[m[32mpermiten depurar fÃ¡cilmente cualquier diseÃ±o sin utilizar herramientas avanzadas:[m
[32m+[m
[32m+[m[32m* { outline: 2px dotted red }[m
[32m+[m[32m* * { outline: 2px dotted green }[m
[32m+[m[32m* * * { outline: 2px dotted orange }[m
[32m+[m[32m* * * * { outline: 2px dotted blue }[m
[32m+[m[32m* * * * * { outline: 1px solid red }[m
[32m+[m[32m* * * * * * { outline: 1px solid green }[m
[32m+[m[32m* * * * * * * { outline: 1px solid orange }[m
[32m+[m[32m* * * * * * * * { outline: 1px solid blue }[m
[32m+[m
[32m+[m[32m2.4.1. Firebug[m
[32m+[m
[32m+[m[32mAl margen de soluciones manuales y tÃ©cnicas mÃ¡s o menos ingeniosas, los diseÃ±adores web[m
[32m+[m[32mprofesionales de hoy en dÃ­a utilizan herramientas avanzadas para averiguar con precisiÃ³n la[m
[32m+[m[32mcausa de los errores de diseÃ±o. De todas las herramientas disponibles, la mejor con mucha[m
[32m+[m[32mdiferencia es Firebug (https://addons.mozilla.org/es-ES/firefox/addon/1843) , una extensiÃ³n[m
[32m+[m[32mdel navegador Firefox.[m
[32m+[m
[32m+[m[32mFirebug dispone de todas las utilidades que necesitan los diseÃ±adores y programadores web en[m
[32m+[m[32msu trabajo. Firebug es una herramienta gratuita, completa, fÃ¡cil de utilizar y para la que se[m
[32m+[m[32mpublican nuevas versiones de forma continua.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                   52[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mDespuÃ©s de instalar Firebug, en la esquina inferior derecha del navegador Firefox aparece un[m
[32m+[m[32mnuevo icono. Para abrir Firebug, solamente hay que pinchar con el ratÃ³n sobre ese icono o pulsar[m
[32m+[m[32mdirectamente la tecla F12 despuÃ©s de cargar la pÃ¡gina que se quiere depurar.[m
[32m+[m
[32m+[m[32mFirebug muestra su informaciÃ³n dividida en los siguientes paneles:[m
[32m+[m
[32m+[m[32m    â–ª Consola: muestra mensajes de error, notificaciones y otros tipos de mensajes. No es muy[m
[32m+[m[32m       Ãºtil para los diseÃ±adores web.[m
[32m+[m
[32m+[m[32m    â–ª HTML: muestra el cÃ³digo HTML de la pÃ¡gina y permite seleccionar los elementos,[m
[32m+[m[32m       modificar sus contenidos y ver las reglas CSS que se le estÃ¡n aplicando.[m
[32m+[m
[32m+[m[32m    â–ª CSS: muestra todas las hojas de estilos incluidas en la pÃ¡gina y permite modificar sus[m
[32m+[m[32m       valores.[m
[32m+[m
[32m+[m[32m    â–ª GuiÃ³n y DOM: paneles relacionados con la programaciÃ³n JavaScript. No son muy Ãºtiles[m
[32m+[m[32m       para los diseÃ±adores web.[m
[32m+[m
[32m+[m[32m    â–ª Red: muestra toda la informaciÃ³n de todos los elementos descargados por la pÃ¡gina[m
[32m+[m[32m       (HTML, JavaScript, CSS, imÃ¡genes).[m
[32m+[m
[32m+[m[32mEl primero de los paneles importantes para los diseÃ±adores web es el panel HTML:[m
[32m+[m
[32m+[m[32m                                         Figura 2.8. Panel HTML de Firebug[m
[32m+[m
[32m+[m[32mEl panel HTML es el mÃ¡s utilizado por los diseÃ±adores web, ya que muestra toda la informaciÃ³n[m
[32m+[m[32mde la pÃ¡gina relacionada con HTML y CSS. En la parte izquierda del panel se muestra el cÃ³digo[m
[32m+[m[32mHTML de la pÃ¡gina y en la parte derecha la informaciÃ³n CSS.[m
[32m+[m
[32m+[m[32mSi se pulsa el botÃ³n "Inspeccionar" de la parte superior de Firebug, es posible seleccionar con el[m
[32m+[m[32mratÃ³n un elemento de la pÃ¡gina web. DespuÃ©s de pinchar sobre cualquier elemento, en la parte[m
[32m+[m[32mizquierda se muestra el cÃ³digo HTML de ese elemento y en la parte derecha todas las reglas CSS[m
[32m+[m[32mque se le aplican.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  53[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mSi se pulsa sobre el contenido de un elemento en la parte izquierda del panel HTML, se puede[m
[32m+[m[32mmodificar su valor y ver el resultado en tiempo real sobre la propia pÃ¡gina web. Desde este[m
[32m+[m[32mmismo panel tambiÃ©n es posible eliminar el elemento de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLa parte derecha del panel HTML es la mÃ¡s Ãºtil, ya que siempre muestra todas las reglas CSS que[m
[32m+[m[32mse aplican a un elemento de la pÃ¡gina. Gracias a esta informaciÃ³n es imposible dudar si un[m
[32m+[m[32mselector estÃ¡ bien escrito o si una regla CSS realmente se estÃ¡ aplicando a un elemento.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, como normalmente varias reglas CSS diferentes aplican valores diferentes a las mismas[m
[32m+[m[32mpropiedades de un mismo elemento, Firebug muestra tachadas todas las propiedades que en[m
[32m+[m[32mteorÃ­a se deben aplicar al elemento pero que no lo hacen porque existen otras reglas CSS con[m
[32m+[m[32mmÃ¡s prioridad.[m
[32m+[m
[32m+[m[32mLa parte derecha del panel HTML incluye otras utilidades interesantes como cuando se pasa el[m
[32m+[m[32mratÃ³n por encima de un color definido en formato hexadecimal y que hace que se vea realmente[m
[32m+[m[32mcuÃ¡l es el color. Igualmente, al pasar el ratÃ³n por encima de una url() utilizada para incluir una[m
[32m+[m[32mimagen, Firebug muestra de quÃ© imagen se trata. Las reglas CSS que se muestran en la parte[m
[32m+[m[32mderecha del panel HTML tambiÃ©n se pueden modificar, eliminar y bloquear temporalmente.[m
[32m+[m[32mTambiÃ©n es posible aÃ±adir nuevas propiedades a cualquier regla CSS.[m
[32m+[m
[32m+[m[32mFirebug muestra por defecto el valor de las reglas CSS tal y como se han establecido en las hojas[m
[32m+[m[32mde estilos. Sin embargo, muchas veces estos valores originales no son prÃ¡cticos. Â¿cuÃ¡l es el[m
[32m+[m[32mtamaÃ±o de letra de un elemento con font-size: 1em? Sin mÃ¡s informaciÃ³n es imposible saberlo.[m
[32m+[m[32mÂ¿cuÃ¡l es la anchura en pÃ­xeles de un elemento con la propiedad width: 60%? Imposible saberlo[m
[32m+[m[32msin conocer las anchuras de sus elementos contenedores.[m
[32m+[m
[32m+[m[32mPor todo ello, Firebug permite mostrar los valores que realmente utiliza Firefox para dibujar[m
[32m+[m[32mcada elemento en pantalla. Pulsando sobre el texto Opciones de la parte derecha del panel[m
[32m+[m[32mHTML, se puede activar la opciÃ³n Show Computed Style:[m
[32m+[m
[32m+[m[32m              Figura 2.9. Panel HTML de Firebug con la opciÃ³n Show Computed Style[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                   54[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mDespuÃ©s de activar esta opciÃ³n, los tamaÃ±os de letra y anchuras se muestran en pÃ­xeles y se[m
[32m+[m[32mmuestra el valor de todas las propiedades CSS del elemento, independientemente de si se han[m
[32m+[m[32mestablecido de forma explÃ­cita o de si se trata de los valores por defecto que aplica el navegador.[m
[32m+[m
[32m+[m[32mOtra de las utilidades mÃ¡s interesantes del panel HTML es la informaciÃ³n sobre la maquetaciÃ³n[m
[32m+[m[32mdel elemento, que se puede mostrar pinchando sobre la pestaÃ±a MaquetaciÃ³n de la parte derecha[m
[32m+[m[32mdel panel:[m
[32m+[m
[32m+[m[32m                        Figura 2.10. PestaÃ±a MaquetaciÃ³n del panel HTML de Firebug[m
[32m+[m
[32m+[m[32mLa opciÃ³n MaquetaciÃ³n muestra la informaciÃ³n completa del "box model" o modelo de cajas de[m
[32m+[m[32mun elemento: anchura, altura, rellenos, bordes y mÃ¡rgenes.[m
[32m+[m
[32m+[m[32mEl otro panel mÃ¡s utilizado por los diseÃ±adores web es el panel CSS, que muestra el contenido de[m
[32m+[m[32mtodas las hojas de estilos que se estÃ¡n aplicando en la pÃ¡gina y permite realizar cualquier[m
[32m+[m[32mmodificaciÃ³n sobre cualquier regla CSS viendo el resultado en tiempo real en la propia pÃ¡gina:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  55[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m                                          Figura 2.11. Panel CSS de Firebug[m
[32m+[m
[32m+[m[32mPor Ãºltimo, el panel Red de Firebug permite ver toda la informaciÃ³n sobre todos los elementos[m
[32m+[m[32mque se descarga el navegador para mostrar la pÃ¡gina:[m
[32m+[m
[32m+[m[32m                                         Figura 2.12. Panel Red de Firebug[m
[32m+[m
[32m+[m[32mDesde el punto de vista del diseÃ±ador, este panel se puede utilizar para mejorar el rendimiento[m
[32m+[m[32mde la pÃ¡gina reduciendo el nÃºmero de archivos CSS, reduciendo el nÃºmero de imÃ¡genes de[m
[32m+[m[32madorno mediante los sprites CSS, reduciendo el nÃºmero de peticiones HTTP realizadas al[m
[32m+[m[32mservidor y reduciendo el tamaÃ±o de los archivos.[m
[32m+[m
[32m+[m[32m2.4.2. Otras herramientas de depuraciÃ³n[m
[32m+[m
[32m+[m[32mFirebug es la mejor herramienta para depurar el diseÃ±o de los sitios web, pero sÃ³lo estÃ¡[m
[32m+[m[32mdisponible para el navegador Firefox. Como la mayorÃ­a de errores en el diseÃ±o web sÃ³lo se[m
[32m+[m[32mproducen en los navegadores de la familia Internet Explorer, Firebug no se puede utilizar.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  56[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mAfortunadamente, los creadores de Firebug han publicado una versiÃ³n reducida y simplificada[m
[32m+[m[32mde Firebug compatible con el resto de navegadores. La versiÃ³n reducida se denomina Firebug[m
[32m+[m[32mLite (http://getfirebug.com/lite.html) y requiere el uso de JavaScript. Aunque se puede[m
[32m+[m[32mdescargar Firebug Lite para utilizarlo desde nuestros propios servidores, la forma mÃ¡s sencilla[m
[32m+[m[32mde probarla es aÃ±adir el siguiente cÃ³digo en la pÃ¡gina que se quiere depurar:[m
[32m+[m
[32m+[m[32m     <script type="text/javascript" src="http://getfirebug.com/releases/lite/1.2/[m
[32m+[m[32m     firebug-lite-compressed.js"></script>[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior se puede colocar en cualquier zona de la pÃ¡gina, aunque normalmente se[m
[32m+[m[32mincluye dentro de la secciÃ³n <head>.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, como las empresas que desarrollan los navegadores consideran que Firebug es[m
[32m+[m[32minsuperable, desde hace un tiempo se dedican a copiar todas sus caracterÃ­sticas. Internet[m
[32m+[m[32mExplorer 8, Safari 3 y Opera 9 disponen de herramientas de depuraciÃ³n que son una rÃ©plica de[m
[32m+[m[32mFirebug.[m
[32m+[m
[32m+[m[32mInternet Explorer 8 ha denominado a su herramienta Developer Tools[m
[32m+[m[32m(http://msdn.microsoft.com/en-us/library/cc848894(VS.85).aspx) , mientras que Opera la ha[m
[32m+[m[32mdenominado Dragonfly (http://www.opera.com/products/dragonfly/) y en Safari estÃ¡[m
[32m+[m[32mdisponible desde el menÃº Desarrollo.[m
[32m+[m
[32m+[m[32m2.5. Hojas de estilos[m
[32m+[m
[32m+[m[32mLas hojas de estilos reales de los sitios web profesionales suelen contener cientos de reglas y[m
[32m+[m[32mocupan miles de lÃ­neas. Por este motivo, es imprescindible seguir unas buenas prÃ¡cticas al crear[m
[32m+[m[32mlas hojas de estilos para mejorar la producitivdad y reducir los posibles errores. A continuaciÃ³n[m
[32m+[m[32mse muestran algunas de las recomendaciones mÃ¡s Ãºtiles para crear hojas de estilos[m
[32m+[m[32mprofesionales.[m
[32m+[m
[32m+[m[32m2.5.1. Llaves[m
[32m+[m
[32m+[m[32mUno de los elementos bÃ¡sicos que los diseÃ±adores web deben acordar es el tipo de llaves que se[m
[32m+[m[32mutilizan para encerrar la declaraciÃ³n de cada regla CSS. Aunque se utilizan muchos modelos[m
[32m+[m[32mdiferentes, a continuaciÃ³n se muestran los mÃ¡s populares.[m
[32m+[m
[32m+[m[32mLlave de apertura en la misma lÃ­nea del selector y llave de cierre en una nueva lÃ­nea para separar[m
[32m+[m[32munas reglas de otras:[m
[32m+[m
[32m+[m[32m     selector {[m
[32m+[m[32m         propiedad1: valor1;[m
[32m+[m[32m         propiedad2: valor2;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mUna variante del modelo anterior consiste en mostrar cada llave en su propia lÃ­nea, para separar[m
[32m+[m[32maÃºn mÃ¡s el selector de su declaraciÃ³n. Este modelo lo utilizan normalmente los programadores[m
[32m+[m[32mweb:[m
[32m+[m
[32m+[m[32m     selector[m
[32m+[m[32m     {[m
[32m+[m
[32m+[m[32m         propiedad1: valor1;[m
[32m+[m
[32m+[m[32mwww.librosweb.es  57[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m         propiedad2: valor2;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPor Ãºltimo, existe un modelo compacto que no crea nuevas lÃ­neas para las llaves. Aunque es[m
[32m+[m[32mmucho mÃ¡s compacto, normalmente es mÃ¡s difÃ­cil de leer:[m
[32m+[m
[32m+[m[32m     selector {[m
[32m+[m[32m         propiedad1: valor1;[m
[32m+[m[32m         propiedad2: valor2; }[m
[32m+[m
[32m+[m[32m2.5.2. Tabulaciones[m
[32m+[m
[32m+[m[32mTabular el cÃ³digo facilita significativamente su lectura, por lo que tabular las propiedades CSS es[m
[32m+[m[32muna de las mejores prÃ¡cticas de los diseÃ±adores web profesionales. Como conocen la mayorÃ­a de[m
[32m+[m[32mprogramadores, no es recomendable insertar tabuladores en el cÃ³digo, sino que se deben[m
[32m+[m[32memplear 2 o 4 espacios en blanco.[m
[32m+[m
[32m+[m[32m     /* Propiedades sin tabular */[m
[32m+[m[32m     selector {[m
[32m+[m[32m     propiedad1: valor1;[m
[32m+[m[32m     propiedad2: valor2;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* Propiedades tabuladas con 2 espacios */[m
[32m+[m[32m     selector {[m
[32m+[m
[32m+[m[32m         propiedad1: valor1;[m
[32m+[m[32m         propiedad2: valor2;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mExtendiendo la prÃ¡ctica de tabular las propiedades, algunos diseÃ±adores recomiendan tabular[m
[32m+[m[32mtambiÃ©n las reglas CSS relacionadas. El siguiente ejemplo muestra tres reglas CSS relacionadas[m
[32m+[m[32mentre sÃ­:[m
[32m+[m
[32m+[m[32m     ul {[m
[32m+[m[32m         margin: 1em 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul li {[m
[32m+[m
[32m+[m[32m         list-style-type: square;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul li ul {[m
[32m+[m
[32m+[m[32m         font-style: italic;[m
[32m+[m[32m         list-style-type: disc;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa recomendaciÃ³n consiste en tabular las reglas CSS que estÃ¡n relacionadas porque sus[m
[32m+[m[32mselectores estÃ¡n anidados. Por tanto, la regla cuyo selector es ul li deberÃ­a estar tabulada[m
[32m+[m[32mrespecto de la regla ul y de la misma forma la regla cuyo selector es ul li ul deberÃ­a estar[m
[32m+[m[32mtabulada respecto de ul li:[m
[32m+[m
[32m+[m[32m     ul {[m
[32m+[m[32m         margin: 1em 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  58[m
[32m+[m[32mCSS avanzado                                                  CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m    ul li {[m
[32m+[m[32m       list-style-type: square;[m
[32m+[m
[32m+[m[32m    }[m
[32m+[m[32m       ul li ul {[m
[32m+[m[32m          font-style: italic;[m
[32m+[m[32m          list-style-type: disc;[m
[32m+[m[32m       }[m
[32m+[m
[32m+[m[32m2.5.3. Propiedades[m
[32m+[m
[32m+[m[32mCuando se establece la misma propiedad en varios selectores diferentes pero relacionados, se[m
[32m+[m[32mrecomienda escribir las reglas CSS en una Ãºnica lÃ­nea, para facilitar su lectura:[m
[32m+[m
[32m+[m[32m     #contenedor #principal h1 { font-size: 2em; }[m
[32m+[m[32m     #contenedor #principal h2 { font-size: 1.8em; }[m
[32m+[m[32m     #contenedor #principal h3 { font-size: 1.6em; }[m
[32m+[m
[32m+[m[32mCuando en el caso anterior las propiedades y/o selectores no ocupan el mismo sitio, se pueden[m
[32m+[m[32mutilizar espacios en blanco para crear una estructura similar a las columnas de una tabla:[m
[32m+[m
[32m+[m[32mh1                  { color: #000;                       text-align: center; }[m
[32m+[m
[32m+[m[32m#principal h2       { color: #C0C0C0; font-size: 1.8em;       }[m
[32m+[m
[32m+[m[32m#lateral blockquote {               font-size: 0.9em; text-align: justify; }[m
[32m+[m
[32m+[m[32mRespecto al orden en el que se indican las propiedades en la declaraciÃ³n, algunos diseÃ±adores[m
[32m+[m[32mrecomiendan agruparlas por su funcionalidad:[m
[32m+[m
[32m+[m[32mselector {              /* propiedades de posicionamiento */[m
[32m+[m[32m   position: absolute;[m
[32m+[m[32m   right: 0;[m
[32m+[m[32m   bottom: 10px;[m
[32m+[m
[32m+[m[32m    width: 300px;       /* propiedades de tamaÃ±o */[m
[32m+[m[32m    height: 250px;[m
[32m+[m
[32m+[m[32m   color: #000;         /* propiedades tipogrÃ¡ficas */[m
[32m+[m[32m   font-size: 2em;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mOtros diseÃ±adores recomiendan ordenar alfabÃ©ticamente las propipedades para facilitar su[m
[32m+[m[32mbÃºsqueda y evitar duplicidades:[m
[32m+[m
[32m+[m[32mselector {[m
[32m+[m[32m   bottom: 10px;[m
[32m+[m[32m   color: #000;[m
[32m+[m[32m   font-size: 2em;[m
[32m+[m[32m   height: 250px;[m
[32m+[m[32m   position: absolute;[m
[32m+[m[32m   right: 0;[m
[32m+[m[32m   width: 300px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                59[m
[32m+[m[32mCSS avanzado                                                    CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m2.5.4. Selectores[m
[32m+[m
[32m+[m[32mLos selectores deben ser descriptivos para facilitar la lectura de la hoja de estilos, por lo que hay[m
[32m+[m[32mque poner especial cuidado en elegir el nombre de los atributos id y class. AdemÃ¡s, aunque[m
[32m+[m[32maumenta el tamaÃ±o total de la hoja de estilos, se recomienda utilizar selectores lo mÃ¡s[m
[32m+[m[32mespecÃ­ficos posible para facilitar el mantenimiento de la hoja de estilos:[m
[32m+[m
[32m+[m[32mp.especial { ... }                  /* poco especÃ­fico */[m
[32m+[m
[32m+[m[32m#contenedor #principal p.especial { ... } /* muy especÃ­fico */[m
[32m+[m
[32m+[m[32mPor otra parte, cuando una regla CSS tiene varios selectores largos, es mejor colocar cada[m
[32m+[m[32mselector en su propia lÃ­nea:[m
[32m+[m
[32m+[m[32m#contenedor h1,[m
[32m+[m[32m#contenedor #principal h2,[m
[32m+[m[32m#contenedor #lateral blockquote {[m
[32m+[m
[32m+[m[32m   color: #000;[m
[32m+[m[32m   font-family: arial, sans-serif;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m2.5.5. OrganizaciÃ³n[m
[32m+[m
[32m+[m[32mCuando una hoja de estilos tiene cientos de reglas, es recomendable dividirla en secciones para[m
[32m+[m[32mfacilitar su mantenimiento. Aunque no existe ninguna organizaciÃ³n seguida por todos los[m
[32m+[m[32mdiseÃ±adores, en general se utilizan las siguientes secciones:[m
[32m+[m
[32m+[m[32m    â–ª Estilos bÃ¡sicos (estilos de <body>, tipo de letra por defecto, mÃ¡rgenes de <ul>, <ol> y <li>,[m
[32m+[m[32m       estilos de los enlaces, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Estilos de la estructura o layout (anchura, altura y posiciÃ³n de la cabecera, pie de pÃ¡gina,[m
[32m+[m[32m       zonas de contenidos, menÃºs de navegaciÃ³n, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Estilos del menÃº de navegaciÃ³n[m
[32m+[m
[32m+[m[32m    â–ª Estilos de cada una de las zonas (elementos de la cabecera, titulares y texto de la zona de[m
[32m+[m[32m       contenidos, enlaces, listas e imÃ¡genes de las zonas laterales, etc.)[m
[32m+[m
[32m+[m[32mSi la hoja de estilos tiene muchas secciones, algunos diseÃ±adores incluyen un Ã­ndice o tabla de[m
[32m+[m[32mcontenidos al principio del todo. En la hoja de estilos del sitio web mozilla.org[m
[32m+[m[32m(http://www.mozilla.org/css/base/content.css) utilizan la siguiente tabla de contenidos:[m
[32m+[m
[32m+[m[32m     /* TOC:[m
[32m+[m[32m          Random HTML Styles[m
[32m+[m[32m              Forms[m
[32m+[m[32m          General Structure[m
[32m+[m[32m          Navigation[m
[32m+[m[32m          Quotations[m
[32m+[m[32m          Comments and Other Asides[m
[32m+[m[32m          Emphasis[m
[32m+[m[32m          Computers - General[m
[32m+[m[32m          Code[m
[32m+[m[32m          Examples and Figures[m
[32m+[m[32m          Q and A (FAQ)[m
[32m+[m[32m          Tables[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                60[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m          Headers[m
[32m+[m[32m          Meta[m
[32m+[m[32m          Specific to Products Pages[m
[32m+[m[32m     */[m
[32m+[m
[32m+[m[32mOtra recomendaciÃ³n relacionada con la organizaciÃ³n de las hojas de estilos es la de utilizar[m
[32m+[m[32msiempre los mismos nombres para los mismos elementos. Si observas las hojas de estilos de los[m
[32m+[m[32mdiseÃ±adores profesionales, verÃ¡s que siempre llaman #cabecera o #header o #hd a la cabecera de[m
[32m+[m[32mla pÃ¡gina, #contenidos o #principal a la zona principal de contenidos y asÃ­ sucesivamente.[m
[32m+[m
[32m+[m[32mAlgunos de los atributos id mÃ¡s utilizados en los diseÃ±os web son: cabecera, cuerpo, pie,[m
[32m+[m[32mcontenidos, principal, secundario, lateral, buscador, contacto, logo.[m
[32m+[m
[32m+[m[32m2.5.6. Comentarios[m
[32m+[m
[32m+[m[32mSeparar las secciones de la hoja de estilos y otros bloques importantes es mucho mÃ¡s fÃ¡cil[m
[32m+[m[32mcuando se incluyen comentarios. Por este motivo se han definido decenas de tipos diferentes de[m
[32m+[m[32mcomentarios separadores.[m
[32m+[m
[32m+[m[32mEl modelo bÃ¡sico sÃ³lo aÃ±ade un comentario destacado para el inicio de cada secciÃ³n importante:[m
[32m+[m
[32m+[m[32m     /* ---------------------------------------*/[m
[32m+[m[32m     /* ---------->>> CONTENEDOR <<<-----------*/[m
[32m+[m[32m     /* ---------------------------------------*/[m
[32m+[m
[32m+[m[32mOtros diseÃ±adores emplean diferentes comentarios para indicar el comienzo de las secciones y el[m
[32m+[m[32mde las partes importantes dentro de una secciÃ³n:[m
[32m+[m
[32m+[m[32m     /* -------------------------------------------------------------[m
[32m+[m[32m         CABECERA[m
[32m+[m[32m         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */[m
[32m+[m
[32m+[m[32m     /* Logotipo[m
[32m+[m[32m         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */[m
[32m+[m
[32m+[m[32m     /* Buscador[m
[32m+[m[32m         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */[m
[32m+[m
[32m+[m[32mCombinando los comentarios y la tabulaciÃ³n de reglas, la estructura de la hoja de estilos estÃ¡[m
[32m+[m[32mcompletamente ordenada:[m
[32m+[m
[32m+[m[32m     /* -------------------------------------------------------------[m
[32m+[m[32m         CABECERA[m
[32m+[m[32m         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m         /* Logotipo[m
[32m+[m[32m            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */[m
[32m+[m
[32m+[m[32m         #cabecera #logo {[m
[32m+[m[32m            ...[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  61[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32m         /* Buscador[m
[32m+[m[32m            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */[m
[32m+[m
[32m+[m[32m         #cabecera #buscador {[m
[32m+[m[32m            ...[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m2.6. Rendimiento[m
[32m+[m
[32m+[m[32mAntes de su explicaciÃ³n detallada, se muestra a continuaciÃ³n la lista de estrategias Ãºtiles para[m
[32m+[m[32mmejorar el rendimiento de la parte de CSS de las pÃ¡ginas web:[m
[32m+[m
[32m+[m[32m    â–ª Utilizar sprites CSS para reducir el nÃºmero de imÃ¡genes de adorno a una Ãºnica imagen.[m
[32m+[m
[32m+[m[32m    â–ª No utilizar expresiones (expression()) en las hojas de estilos. El navegador Internet[m
[32m+[m[32m       Explorer revalÃºa continuamente el valor de las expresiones y puede penalizar el[m
[32m+[m[32m       rendimiento de la pÃ¡gina.[m
[32m+[m
[32m+[m[32m    â–ª No utilizar los filtros de Internet Explorer, ya que algunos filtros como AlphaImageLoader[m
[32m+[m[32m       bloquean la carga de la pÃ¡gina hasta que no se descarga la imagen utilizada por el filtro.[m
[32m+[m
[32m+[m[32m    â–ª Enlazar hojas de estilos externas en vez de incluir los estilos en la propia pÃ¡gina.[m
[32m+[m
[32m+[m[32m    â–ª Enlazar las hojas de estilos mediante <link> en vez de @import (en Internet Explorer las[m
[32m+[m[32m       reglas @import tienen el mismo efecto que enlazar los archivos CSS al final de la pÃ¡gina).[m
[32m+[m
[32m+[m[32m    â–ª Reducir el nÃºmero de archivos CSS de la pÃ¡gina.[m
[32m+[m
[32m+[m[32m    â–ª Combinar si es posible todos los archivos CSS individuales en un Ãºnico archivo CSS.[m
[32m+[m
[32m+[m[32m    â–ª Reducir el tamaÃ±o de las hojas de estilos comprimiendo los archivos con las herramientas[m
[32m+[m[32m       disponibles (CSS Tidy, YUI Compressor).[m
[32m+[m
[32m+[m[32m    â–ª Comprimir los archivos CSS en el servidor web antes de enviarlos al usuario.[m
[32m+[m
[32m+[m[32mSegÃºn los estudios realizados por Yahoo! y publicados en el artÃ­culo Performance Research, Part[m
[32m+[m[32m1: What the 80/20 Rule Tells Us about Reducing HTTP Requests (http://yuiblog.com/blog/2006/[m
[32m+[m[32m11/28/performance-research-part-1/) , del tiempo total que el usuario espera hasta que la[m
[32m+[m[32mpÃ¡gina solicitada se carga completamente, el 20% del tiempo corresponde a la parte del servidor[m
[32m+[m[32m(normalmente generar la pÃ¡gina HTML de forma dinÃ¡mica utilizado informaciÃ³n de una base de[m
[32m+[m[32mdatos) y el 80% restante corresponde a la parte del cliente (normalmente descargar hojas de[m
[32m+[m[32mestilos CSS, archivos JavaScript e imÃ¡genes).[m
[32m+[m
[32m+[m[32mDe esta forma, es mucho mÃ¡s fÃ¡cil mejorar el tiempo de respuesta de la pÃ¡gina mejorando el[m
[32m+[m[32mrendimiento de la parte del cliente. Como uno de los principales elementos de la parte del cliente[m
[32m+[m[32mestÃ¡ formado por las hojas de estilos CSS, a continuaciÃ³n se indican algunas de las tÃ©cnicas para[m
[32m+[m[32mmejorar su rendimiento.[m
[32m+[m
[32m+[m[32mEn primer lugar, en los estudios realizados por Yahoo! se demuestra que aproximadamente el[m
[32m+[m[32m20% de las pÃ¡ginas vistas de un sitio web no disponen de sus elementos guardados en la cache[m
[32m+[m[32mdel navegador del usuario. Esto supone que en el 20% de las pÃ¡ginas vistas, los navegadores de[m
[32m+[m[32mlos usuarios se descargan todos sus elementos: imÃ¡genes, archivos JavaScript y hojas de estilos[m
[32m+[m[32mCSS.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  62[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mLa conclusiÃ³n de lo anterior es que resulta mucho mejor reducir el nÃºmero de archivos[m
[32m+[m[32mdiferentes y no reducir el tamaÃ±o de cada archivo individual. El objetivo es reducir el nÃºmero de[m
[32m+[m[32mpeticiones HTTP que la pÃ¡gina realiza al servidor para descargar todos los contenidos.[m
[32m+[m
[32m+[m[32mLos navegadores limitan el nÃºmero de peticiones HTTP simultÃ¡neas que se pueden realizar a un[m
[32m+[m[32mmismo servidor. Aunque el nÃºmero mÃ¡ximo de peticiones varÃ­a de un navegador a otro, el lÃ­mite[m
[32m+[m[32mse encuentra entre 2 y 8. Por tanto, si el lÃ­mite del navegador son 2 peticiones HTTP simultÃ¡neas,[m
[32m+[m[32mcuando el navegador realice 2 peticiones, la descarga de la pÃ¡gina se bloquea hasta que alguna[m
[32m+[m[32mde las peticiones concluya.[m
[32m+[m
[32m+[m[32mComo demuestran los estudios realizados por Yahoo!, la descarga de las pÃ¡ginas web se realiza a[m
[32m+[m[32msaltos, descargando cada vez 2, 4 o 6 elementos de la pÃ¡gina. Por este motivo es fundamental[m
[32m+[m[32mreducir el nÃºmero de elementos de la pÃ¡gina, entre ellos el nÃºmero de hojas de estilos CSS, para[m
[32m+[m[32mreducir el nÃºmero de peticiones HTTP necesarias.[m
[32m+[m
[32m+[m[32mLa recomendaciÃ³n de reducir el nÃºmero de hojas de estilos CSS entra en conflicto con la[m
[32m+[m[32mrecomendaciÃ³n de modularizar el diseÃ±o CSS del sitio web separando de forma lÃ³gica todos sus[m
[32m+[m[32mestilos en varios archivos individuales.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n consiste en combinar todos los archivos CSS individuales en un Ãºnico archivo CSS.[m
[32m+[m[32mAunque la hoja de estilos resultante tiene un tamaÃ±o muy grande, el nÃºmero de peticiones HTTP[m
[32m+[m[32mrequeridas para la parte de CSS se reduce al mÃ­nimo posible.[m
[32m+[m
[32m+[m[32mEl siguiente paso consiste en reducir el tamaÃ±o de esa Ãºnica hoja de estilos grande. Como los[m
[32m+[m[32marchivos CSS normales incluyen muchos espacios en blanco, nuevas lÃ­neas, comentarios y[m
[32m+[m[32mpropiedades no optimizadas, es muy sencillo reducir su tamaÃ±o de forma considerable[m
[32m+[m[32meliminando todos los elementos sobrantes.[m
[32m+[m
[32m+[m[32mYahoo! ha desarrollado una herramienta llamada YUI compressor (http://developer.yahoo.com/[m
[32m+[m[32myui/compressor/) que permite reducir de forma segura el tamaÃ±o de los archivos JavaScript y[m
[32m+[m[32mCSS. Su uso no es muy cÃ³modo para los diseÃ±adores web, ya que requiere el uso de Java y la lÃ­nea[m
[32m+[m[32mde comandos.[m
[32m+[m
[32m+[m[32mOtra herramienta similar a la anterior es CSSTidy (http://csstidy.sourceforge.net/) , que permite[m
[32m+[m[32mreducir el tamaÃ±o de los archivos CSS eliminando los elementos sobrantes (comentarios,[m
[32m+[m[32mespacios en blanco, nuevas lÃ­neas) y optimizando las reglas CSS (sustituir propiedades[m
[32m+[m[32mindividuales por propiedades shorthand, utilizar la notaciÃ³n abreviada de nÃºmeros y colores,[m
[32m+[m[32metc.) CSS Tidy es una herramienta gratuita disponible para todos los sitemas operativos, se puede[m
[32m+[m[32mutilizar mediante la lÃ­nea de comandos y tambiÃ©n se puede integrar con el lenguaje de[m
[32m+[m[32mprogramaciÃ³n PHP.[m
[32m+[m
[32m+[m[32mAdemÃ¡s de las herramientas descargables, existen aplicaciones online que permiten reducir[m
[32m+[m[32mfÃ¡cilmente el tamaÃ±o del cÃ³digo CSS indicado. Una de las aplicaciones mÃ¡s conocidas es Clean[m
[32m+[m[32mCSS (http://www.cleancss.com/) , que utiliza internamente CSS Tidy.[m
[32m+[m
[32m+[m[32m2.7. Recursos imprescindibles[m
[32m+[m
[32m+[m[32mEl trabajo de los diseÃ±adores web se visualiza a travÃ©s de un navegador web la mayorÃ­a de las[m
[32m+[m[32mocasiones. Por este motivo, los diseÃ±adores siempre estÃ¡n limitados por las capacidades de los[m
[32m+[m
[32m+[m[32mwww.librosweb.es  63[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 2. Buenas prÃ¡cticas[m
[32m+[m
[32m+[m[32mnavegadores. AdemÃ¡s, los diseÃ±adores tambiÃ©n estÃ¡n expuestos a los errores que comete cada[m
[32m+[m[32mversiÃ³n de cada navegador.[m
[32m+[m
[32m+[m[32mDe esta forma, es imprescindible disponer de recursos para conocer las limitaciones y errores de[m
[32m+[m[32mcada navegador. A continuaciÃ³n se indica la localizaciÃ³n de la documentaciÃ³n tÃ©cnica oficial de[m
[32m+[m[32mcada navegador.[m
[32m+[m
[32m+[m[32mInformaciÃ³n tÃ©cnica general para diseÃ±adores y programadores web:[m
[32m+[m
[32m+[m[32m    â–ª Internet Explorer (http://msdn.microsoft.com/en-us/ie/default.aspx)[m
[32m+[m[32m    â–ª Firefox (http://developer.mozilla.org/en/Main_Page)[m
[32m+[m[32m    â–ª Safari (http://developer.apple.com/internet/safari/)[m
[32m+[m[32m    â–ª Opera (http://www.opera.com/docs/specs/)[m
[32m+[m
[32m+[m[32mInformaciÃ³n tÃ©cnica especÃ­fica de CSS:[m
[32m+[m
[32m+[m[32m    â–ª Internet Explorer (http://msdn.microsoft.com/en-us/library/cc351024(VS.85).aspx)[m
[32m+[m[32m    â–ª Firefox (http://developer.mozilla.org/en/CSS_Reference)[m
[32m+[m[32m    â–ª Safari (http://developer.apple.com/internet/safari/safari_css.html)[m
[32m+[m[32m    â–ª Opera (http://www.opera.com/docs/specs/css/)[m
[32m+[m
[32m+[m[32mAl margen de las referencias oficiales, existen sitios como http://positioniseverything.net/ que[m
[32m+[m[32mpublican artÃ­culos tÃ©cnicos sobre los errores mÃ¡s conocidos de cada navegador.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  64[m
[32m+[m[32mCSS avanzado            CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32mCapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32mConocer y dominar todos los selectores de CSS es imprescindible para crear diseÃ±os web[m
[32m+[m[32mprofesionales. El estÃ¡ndar de CSS 2.1 incluye una docena de tipos diferentes de selectores, que[m
[32m+[m[32mpermiten seleccionar de forma muy precisa elementos individuales o conjuntos de elementos[m
[32m+[m[32mdentro de una pÃ¡gina web.[m
[32m+[m
[32m+[m[32mUtilizando solamente los cinco selectores bÃ¡sicos de CSS 2.1 (universal, de tipo, descendente, de[m
[32m+[m[32mclase y de id) es posible diseÃ±ar cualquier pÃ¡gina web. No obstante, los selectores avanzados de[m
[32m+[m[32mCSS 2.1 permiten simplificar las reglas CSS y tambiÃ©n el cÃ³digo HTML.[m
[32m+[m
[32m+[m[32mDesafortunadamente, los navegadores obsoletos como Internet Explorer 6 y sus versiones[m
[32m+[m[32manteriores no soportan este tipo de selectores avanzados, por lo que su uso no era comÃºn hasta[m
[32m+[m[32mhace poco tiempo. Hoy en dÃ­a, todos los navegadores mÃ¡s utilizados soportan los selectores[m
[32m+[m[32mavanzados de CSS 2.1 y algunos de ellos tambiÃ©n soportan la mayorÃ­a o todos los selectores[m
[32m+[m[32mpropuestos por la futura versiÃ³n CSS 3.[m
[32m+[m
[32m+[m[32m3.1. Selector de hijos[m
[32m+[m
[32m+[m[32mSe trata de un selector similar al selector descendente, pero muy diferente en su funcionamiento.[m
[32m+[m[32mSe utiliza para seleccionar un elemento que es hijo de otro elemento y se indica mediante el[m
[32m+[m[32m"signo de mayor que" (>).[m
[32m+[m
[32m+[m[32mMientras que en el selector descendente sÃ³lo importa que un elemento estÃ© dentro de otro,[m
[32m+[m[32mindependientemente de lo profundo que se encuentre, en el selector de hijos el elemento debe[m
[32m+[m[32mser hijo directo de otro elemento.[m
[32m+[m
[32m+[m[32m     p > span { color: blue; }[m
[32m+[m
[32m+[m[32m     <p>[m
[32m+[m[32m         <span>Texto1</span>[m
[32m+[m
[32m+[m[32m     </p>[m
[32m+[m
[32m+[m[32m     <p>[m
[32m+[m[32m         <a href="#">[m
[32m+[m[32m            <span>Texto2</span>[m
[32m+[m[32m         </a>[m
[32m+[m
[32m+[m[32m     </p>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el selector p > span se interpreta como "cualquier elemento <span> que[m
[32m+[m[32msea hijo directo de un elemento <p>", por lo que el primer elemento <span> cumple la condiciÃ³n[m
[32m+[m[32mdel selector. Sin embargo, el segundo elemento <span> no la cumple porque es descendiente[m
[32m+[m[32mpero no es hijo directo de un elemento <p>.[m
[32m+[m
[32m+[m[32mUtilizando el mismo ejemplo anterior se pueden comparar las diferencias entre el selector[m
[32m+[m[32mdescendente y el selector de hijos:[m
[32m+[m
[32m+[m[32m     p a { color: red; }[m
[32m+[m[32m     p > a { color: red; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es        65[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32m     <p>[m
[32m+[m[32m         <a href="#">Enlace1</a>[m
[32m+[m
[32m+[m[32m     </p>[m
[32m+[m
[32m+[m[32m     <p>[m
[32m+[m[32m         <span>[m
[32m+[m[32m            <a href="#">Enlace2</a>[m
[32m+[m[32m         </span>[m
[32m+[m
[32m+[m[32m     </p>[m
[32m+[m
[32m+[m[32mEl primer selector es de tipo descendente (p a) y por tanto se aplica a todos los elementos <a>[m
[32m+[m[32mque se encuentran dentro de elementos <p>. En este caso, los estilos de este selector se aplican a[m
[32m+[m[32mlos dos enlaces.[m
[32m+[m
[32m+[m[32mEl segundo selector es de hijos (p > a) por lo que obliga a que el elemento <a> sea hijo directo[m
[32m+[m[32mde un elemento <p>. Por tanto, los estilos del selector p > a no se aplican al segundo enlace del[m
[32m+[m[32mejemplo anterior.[m
[32m+[m
[32m+[m[32m3.2. Selector adyacente[m
[32m+[m
[32m+[m[32mEl selector adyacente se emplea para seleccionar elementos que son hermanos (su elemento[m
[32m+[m[32mpadre es el mismo) y estÃ¡n seguidos en el cÃ³digo HTML. Este selector emplea en su sintaxis el[m
[32m+[m[32msÃ­mbolo +. Si se considera el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     h1 + h2 { color: red }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <h1>Titulo1</h1>[m
[32m+[m
[32m+[m[32m     <h2>SubtÃ­tulo</h2>[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32m     <h2>Otro subtÃ­tulo</h2>[m
[32m+[m[32m     ...[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mLos estilos del selector h1 + h2 se aplican al primer elemento <h2> de la pÃ¡gina, pero no al[m
[32m+[m[32msegundo <h2>, ya que:[m
[32m+[m
[32m+[m[32m    â–ª El elemento padre de <h1> es <body>, el mismo padre que el de los dos elementos <h2>.[m
[32m+[m[32m       AsÃ­, los dos elementos <h2> cumplen la primera condiciÃ³n del selector adyacente.[m
[32m+[m
[32m+[m[32m    â–ª El primer elemento <h2> aparece en el cÃ³digo HTML justo despuÃ©s del elemento <h1>, por[m
[32m+[m[32m       lo que este elemento <h2> tambiÃ©n cumple la segunda condiciÃ³n del selector adyacente.[m
[32m+[m
[32m+[m[32m    â–ª Por el contrario, el segundo elemento <h2> no aparece justo despuÃ©s del elemento <h1>,[m
[32m+[m[32m       por lo que no cumple la segunda condiciÃ³n del selector adyacente y por tanto no se le[m
[32m+[m[32m       aplican los estilos de h1 + h2.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo puede ser Ãºtil para los textos que se muestran como libros:[m
[32m+[m
[32m+[m[32m     p + p { text-indent: 1.5em; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  66[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32mEn muchos libros es habitual que la primera lÃ­nea de todos los pÃ¡rrafos estÃ© indentada, salvo la[m
[32m+[m[32mprimera lÃ­nea del primer pÃ¡rrafo. El selector p + p selecciona todos los pÃ¡rrafos que estÃ¡n[m
[32m+[m[32mdentro de un mismo elemento padre y que estÃ©n precedidos por otro pÃ¡rrafo. En otras palabras,[m
[32m+[m[32mel selector p + p selecciona todos los pÃ¡rrafos de un elemento salvo el primer pÃ¡rrafo.[m
[32m+[m
[32m+[m[32mEl selector adyacente requiere que los dos elementos sean hermanos, por lo que su elemento[m
[32m+[m[32mpadre debe ser el mismo. Si se considera el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     p + p { color: red; }[m
[32m+[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m     <div>[m
[32m+[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, solamente el segundo pÃ¡rrafo se ve de color rojo, ya que:[m
[32m+[m
[32m+[m[32m    â–ª El primer pÃ¡rrafo no va precedido de ningÃºn otro pÃ¡rrafo, por lo que no cumple una de las[m
[32m+[m[32m       condiciones de p + p[m
[32m+[m
[32m+[m[32m    â–ª El segundo pÃ¡rrafo va precedido de otro pÃ¡rrafo y los dos comparten el mismo padre, por[m
[32m+[m[32m       lo que se cumplen las dos condiciones del selector p + p y el pÃ¡rrafo muestra su texto de[m
[32m+[m[32m       color rojo.[m
[32m+[m
[32m+[m[32m    â–ª El tercer pÃ¡rrafo se encuentra dentro de un elemento <div>, por lo que no se cumple[m
[32m+[m[32m       ninguna condiciÃ³n del selector p + p ya que ni va precedido de un pÃ¡rrafo ni comparte[m
[32m+[m[32m       padre con ningÃºn otro pÃ¡rrafo.[m
[32m+[m
[32m+[m[32m3.3. Selector de atributos[m
[32m+[m
[32m+[m[32mEl Ãºltimo tipo de selectores avanzados lo forman los selectores de atributos, que permiten[m
[32m+[m[32mseleccionar elementos HTML en funciÃ³n de sus atributos y/o valores de esos atributos.[m
[32m+[m
[32m+[m[32mLos cuatro tipos de selectores de atributos son:[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo], selecciona los elementos que tienen establecido el atributo llamado[m
[32m+[m[32m       nombre_atributo, independientemente de su valor.[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo=valor], selecciona los elementos que tienen establecido un atributo[m
[32m+[m[32m       llamado nombre_atributo con un valor igual a valor.[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo~=valor], selecciona los elementos que tienen establecido un atributo[m
[32m+[m[32m       llamado nombre_atributo y cuyo valor es una lista de palabras separadas por espacios en[m
[32m+[m[32m       blanco en la que al menos una de ellas es exactamente igual a valor.[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo|=valor], selecciona los elementos que tienen establecido un atributo[m
[32m+[m[32m       llamado nombre_atributo y cuyo valor es una serie de palabras separadas con guiones,[m
[32m+[m[32m       pero que comienza con valor. Este tipo de selector sÃ³lo es Ãºtil para los atributos de tipo[m
[32m+[m[32m       lang que indican el idioma del contenido del elemento.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran algunos ejemplos de estos tipos de selectores:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  67[m
[32m+[m[32mCSS avanzado                                                                   CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que tengan[m
[32m+[m[32m          un atributo "class", independientemente de su valor */[m
[32m+[m
[32m+[m[32m     a[class] { color: blue; }[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que tengan[m
[32m+[m[32m          un atributo "class" con el valor "externo" */[m
[32m+[m
[32m+[m[32m     a[class="externo"] { color: blue; }[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que apunten[m
[32m+[m[32m          al sitio "http://www.ejemplo.com" */[m
[32m+[m
[32m+[m[32m     a[href="http://www.ejemplo.com"] { color: blue; }[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que tengan[m
[32m+[m[32m          un atributo "class" en el que al menos uno de sus valores[m
[32m+[m[32m          sea "externo" */[m
[32m+[m
[32m+[m[32m     a[class~="externo"] { color: blue; }[m
[32m+[m
[32m+[m[32m     /* Selecciona todos los elementos de la pÃ¡gina cuyo atributo[m
[32m+[m[32m          "lang" sea igual a "en", es decir, todos los elementos en inglÃ©s */[m
[32m+[m
[32m+[m[32m     *[lang=en] { ... }[m
[32m+[m
[32m+[m[32m     /* Selecciona todos los elementos de la pÃ¡gina cuyo atributo[m
[32m+[m[32m          "lang" empiece por "es", es decir, "es", "es-ES", "es-AR", etc. */[m
[32m+[m
[32m+[m[32m     *[lang|="es"] { color : red }[m
[32m+[m
[32m+[m[32m3.4. Pseudo-clases[m
[32m+[m
[32m+[m[32m3.4.1. La pseudo-clase :first-child[m
[32m+[m
[32m+[m[32mLa pseudo-clase :first-child selecciona el primer elemento hijo de un elemento. Si se[m
[32m+[m[32mconsidera el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     p em:first-child {[m
[32m+[m[32m         color: red;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <p>Lorem <span><em>ipsum dolor</em></span> sit amet, consectetuer adipiscing elit.[m
[32m+[m[32m     Praesent odio sem, tempor quis, <em>auctor eu</em>, tempus at, enim. Praesent nulla[m
[32m+[m[32m     ante, <em>ultricies</em> id, porttitor ut, pulvinar quis, dui.</p>[m
[32m+[m
[32m+[m[32mEl selector p em:first-child selecciona el primer elemento <em> que sea hijo de un elemento y[m
[32m+[m[32mque se encuentre dentro de un elemento <p>. Por tanto, en el ejemplo anterior sÃ³lo el primer[m
[32m+[m[32m<em> se ve de color rojo.[m
[32m+[m
[32m+[m[32mLa pseudo-clase :first-child tambiÃ©n se puede utilizar en los selectores simples, como se[m
[32m+[m[32mmuestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     p:first-child { ... }[m
[32m+[m
[32m+[m[32mLa regla CSS anterior aplica sus estilos al primer pÃ¡rrafo de cualquier elemento. Si se modifica el[m
[32m+[m[32mejemplo anterior y se utiliza un selector compuesto:[m
[32m+[m
[32m+[m[32m     p:first-child em {[m
[32m+[m[32m         color: red;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               68[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Lorem <span><em>ipsum dolor</em></span> sit amet, consectetuer adipiscing elit.[m
[32m+[m[32m     Praesent odio sem, tempor quis, <em>auctor eu</em>, tempus at, enim.</p>[m
[32m+[m
[32m+[m[32m     <p>Lorem <span><em>ipsum dolor</em></span> sit amet, consectetuer adipiscing elit.[m
[32m+[m[32m     Praesent odio sem, tempor quis, <em>auctor eu</em>, tempus at, enim.</p>[m
[32m+[m
[32m+[m[32m     <div>[m
[32m+[m[32m         <p>Lorem <span><em>ipsum dolor</em></span> sit amet, consectetuer adipiscing elit.[m
[32m+[m
[32m+[m[32m     Praesent odio sem, tempor quis, <em>auctor eu</em>, tempus at, enim.</p>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mEl selector p:first-child em selecciona todos aquellos elementos <em> que se encuentren[m
[32m+[m[32mdentro de un elemento <p> que sea el primer hijo de cualquier otro elemento.[m
[32m+[m
[32m+[m[32mEl primer pÃ¡rrafo del ejemplo anterior es el primer hijo de <body>, por lo que sus <em> se ven de[m
[32m+[m[32mcolor rojo. El segundo pÃ¡rrafo de la pÃ¡gina no es el primer hijo de ningÃºn elemento, por lo que[m
[32m+[m[32msus elementos <em> interiores no se ven afectados. Por Ãºltimo, el tercer pÃ¡rrafo de la pÃ¡gina es el[m
[32m+[m[32mprimer hijo del elemento <div>, por lo que sus elementos <em> se ven de la misma forma que los[m
[32m+[m[32mdel primer pÃ¡rrafo.[m
[32m+[m
[32m+[m[32m3.4.2. Las pseudo-clases :link y :visited[m
[32m+[m
[32m+[m[32mLas pseudo-clases :link y :visited se pueden utilizar para aplicar diferentes estilos a los[m
[32m+[m[32menlaces de una misma pÃ¡gina:[m
[32m+[m
[32m+[m[32m    â–ª La pseudo-clase :link se aplica a todos los enlaces que todavÃ­a no han sido visitados por[m
[32m+[m[32m       el usuario.[m
[32m+[m
[32m+[m[32m    â–ª La pseudo-clase :visited se aplica a todos los enlaces que han sido visitados al menos una[m
[32m+[m[32m       vez por el usuario.[m
[32m+[m
[32m+[m[32mEl navegador gestiona de forma automÃ¡tica el cambio de enlace no visitado a enlace visitado.[m
[32m+[m[32mAunque el usuario puede borrar la cache y el historial de navegaciÃ³n de forma explÃ­cita, los[m
[32m+[m[32mnavegadores tambiÃ©n borran de forma periÃ³dica la lista de enlaces visitados.[m
[32m+[m
[32m+[m[32mPor su propia definiciÃ³n, las pseudo-clases :link y :visited son mutuamente excluyentes, de[m
[32m+[m[32mforma que un mismo enlace no puede estar en los dos estados de forma simultÃ¡nea.[m
[32m+[m
[32m+[m[32mComo los navegadores muestran por defecto los enlaces de color azul y los enlaces visitados de[m
[32m+[m[32mcolor morado, es habitual modificar los estilos para adaptarlos a la guÃ­a de estilo del sitio web:[m
[32m+[m
[32m+[m[32m     a:link { color: red; }[m
[32m+[m[32m     a:visited { color: green; }[m
[32m+[m
[32m+[m[32m3.4.3. Las pseudo-clases :hover, :active y :focus[m
[32m+[m
[32m+[m[32mLas pseudo-clases :hover, :active y :focus permiten al diseÃ±ador web variar los estilos de un[m
[32m+[m[32melemento en respuesta a las acciones del usuario. Al contrario que las pseudo-clases :link y[m
[32m+[m
[32m+[m[32mwww.librosweb.es  69[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32m:visited que sÃ³lo se pueden aplicar a los enlaces, estas pseudo-clases se pueden aplicar a[m
[32m+[m[32mcualquier elemento.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indican las acciones del usuario que activan cada pseudo-clase:[m
[32m+[m
[32m+[m[32m    â–ª :hover, se activa cuando el usuario pasa el ratÃ³n o cualquier otro elemento apuntador por[m
[32m+[m[32m       encima de un elemento.[m
[32m+[m
[32m+[m[32m    â–ª :active, se activa cuando el usuario activa un elemento, por ejemplo cuando pulsa con el[m
[32m+[m[32m       ratÃ³n sobre un elemento. El estilo se aplica durante un espacio de tiempo prÃ¡cticamente[m
[32m+[m[32m       imperceptible, ya que sÃ³lo dura desde que el usuario pulsa el botÃ³n del ratÃ³n hasta que lo[m
[32m+[m[32m       suelta.[m
[32m+[m
[32m+[m[32m    â–ª :focus, se activa cuando el elemento tiene el foco del navegador, es decir, cuando el[m
[32m+[m[32m       elemento estÃ¡ seleccionado. Normalmente se aplica a los elementos <input> de los[m
[32m+[m[32m       formularios cuando estÃ¡n activados y por tanto, se puede escribir directamente en esos[m
[32m+[m[32m       campos.[m
[32m+[m
[32m+[m[32mDe las definiciones anteriores se desprende que un mismo elemento puede verse afectado por[m
[32m+[m[32mvarias pseudo-clases diferentes de forma simultÃ¡nea. Cuando se pulsa por ejemplo un enlace que[m
[32m+[m[32mfue visitado previamente, al enlace le afectan las pseudo-clases :visited, :hover y :active.[m
[32m+[m
[32m+[m[32mDebido a esta caracterÃ­stica y al comportamiento en cascada de los estilos CSS, es importante[m
[32m+[m[32mcuidar el orden en el que se establecen las diferentes pseudo-clases. El siguiente ejemplo[m
[32m+[m[32mmuestra el Ãºnico orden correcto para establecer las cuatro pseudo-clases principales en un[m
[32m+[m[32menlace:[m
[32m+[m
[32m+[m[32m     a:link { ... }[m
[32m+[m[32m     a:visited { ... }[m
[32m+[m[32m     a:hover { ... }[m
[32m+[m[32m     a:active { ... }[m
[32m+[m
[32m+[m[32mLos navegadores obsoletos como Internet Explorer 6 y sus versiones anteriores no son capaces[m
[32m+[m[32mde aplicar estas pseudo-clases a los elementos que no sean enlaces.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, tambiÃ©n es posible aplicar estilos combinando varias pseudo-clases compatibles[m
[32m+[m[32mentre sÃ­. La siguiente regla CSS por ejemplo sÃ³lo se aplica a aquellos enlaces que estÃ¡n[m
[32m+[m[32mseleccionados y en los que el usuario pasa el ratÃ³n por encima:[m
[32m+[m
[32m+[m[32m     a:focus:hover { ... }[m
[32m+[m
[32m+[m[32m3.4.4. La pseudo-clase :lang[m
[32m+[m
[32m+[m[32mLa pseudo-clase :lang se emplea para seleccionar elementos en funciÃ³n de su idioma. Los[m
[32m+[m[32mnavegadores utilizan los atributos lang, las etiquetas <meta> y la informaciÃ³n de la respuesta del[m
[32m+[m[32mservidor para determinar el idioma de cada elemento.[m
[32m+[m
[32m+[m[32mSi se considera el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     p { color: blue; }[m
[32m+[m[32m     p:lang(es) { color: red; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  70[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32mLos pÃ¡rrafos del ejemplo anterior se ven de color azul, salvo los pÃ¡rrafos cuyo contenido estÃ©[m
[32m+[m[32mescrito en espaÃ±ol, que se ven de color rojo.[m
[32m+[m
[32m+[m[32mComo los navegadores actuales no son capaces de inferir el idioma de un elemento a partir de su[m
[32m+[m[32mcontenido, el uso de esta clase estÃ¡ muy limitado salvo que la pÃ¡gina utilice de forma explÃ­cita los[m
[32m+[m[32matributos lang:[m
[32m+[m
[32m+[m[32m     <p lang="en">Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m     <div lang="fr">[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m     <p lang="es_ES">Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     <p lang="en">Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m     <ul>[m
[32m+[m
[32m+[m[32m         <li lang="fr">Lorem ipsum dolor sit amet...</li>[m
[32m+[m[32m     </ul>[m
[32m+[m
[32m+[m[32mLa pseudo-clase :lang(xx) es muy diferente al selector de atributos [lang|=xx], tal y como[m
[32m+[m[32mmuestran las siguientes reglas:[m
[32m+[m
[32m+[m[32m     *[lang|=es] { ... } /* selector de atributo */[m
[32m+[m[32m     *:lang(es) { ... } /* pseudo-clase */[m
[32m+[m
[32m+[m[32m     <body lang="es">[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mEl selector *[lang|=es] selecciona todos los elementos de la pÃ¡gina que tengan un atributo[m
[32m+[m[32mllamado lang cuyo valor empiece por es. En el ejemplo anterior, solamente el elemento <body>[m
[32m+[m[32mcumple con la condiciÃ³n del selector.[m
[32m+[m
[32m+[m[32mPor otra parte, el selector *:lang(es) selecciona todos los elementos de la pÃ¡gina cuyo idioma[m
[32m+[m[32msea el espaÃ±ol, sin tener en cuenta el mÃ©todo empleado por el navegador para averiguar el[m
[32m+[m[32midioma de cada elemento. En este caso, tanto el elemento <body> como el elemento <p> cumplen[m
[32m+[m[32mesta condiciÃ³n.[m
[32m+[m
[32m+[m[32m3.5. Pseudo-elementos[m
[32m+[m
[32m+[m[32mLos selectores de CSS, las pseudo-clases y todos los elementos HTML no son suficientes para[m
[32m+[m[32mpoder aplicar estilos a algunos elementos especiales. Si se desea por ejemplo cambiar el estilo de[m
[32m+[m[32mla primera lÃ­nea de texto de un elemento, no es posible hacerlo con las utilidades anteriores.[m
[32m+[m
[32m+[m[32mLa primera lÃ­nea del texto normalmente es variable porque el usuario puede aumentar y[m
[32m+[m[32mdisminuir la ventana del navegador, puede disponer de mÃ¡s o menos resoluciÃ³n en su monitor y[m
[32m+[m[32mtambiÃ©n puede aumentar o disminuir el tamaÃ±o de letra del texto.[m
[32m+[m
[32m+[m[32mLa Ãºnica forma de poder seleccionar estos elementos especiales es mediante los[m
[32m+[m[32mpseudo-elementos definidos por CSS para este propÃ³sito.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  71[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32m3.5.1. El pseudo-elemento :first-line[m
[32m+[m
[32m+[m[32mEl pseudo-elemento :first-line permite seleccionar la primera lÃ­nea de texto de un elemento.[m
[32m+[m[32mAsÃ­, la siguiente regla CSS muestra en mayÃºsculas la primera lÃ­nea de cada pÃ¡rrafo:[m
[32m+[m
[32m+[m[32m     p:first-line { text-transform: uppercase; }[m
[32m+[m
[32m+[m[32mEste pseudo-elemento sÃ³lo se puede utilizar con los elementos de bloque y las celdas de datos de[m
[32m+[m[32mlas tablas.[m
[32m+[m
[32m+[m[32mSe pueden combinar varios pseudo-elementos de tipo :first-line para crear efectos[m
[32m+[m[32mavanzados:[m
[32m+[m
[32m+[m[32m     div:first-line { color: red; }[m
[32m+[m[32m     p:first-line { text-transform: uppercase; }[m
[32m+[m
[32m+[m[32m     <div>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, la primera lÃ­nea del primer pÃ¡rrafo tambiÃ©n es la primera lÃ­nea del[m
[32m+[m[32melemento <div>, por lo que se le aplican las dos reglas CSS y su texto se ve en mayÃºsculas y de[m
[32m+[m[32mcolor rojo.[m
[32m+[m
[32m+[m[32m3.5.2. El pseudo-elemento :first-letter[m
[32m+[m
[32m+[m[32mEl pseudo-elemento :first-letter permite seleccionar la primera letra de la primera lÃ­nea de[m
[32m+[m[32mtexto de un elemento. De esta forma, la siguiente regla CSS muestra en mayÃºsculas la primera[m
[32m+[m[32mletra del texto de cada pÃ¡rrafo:[m
[32m+[m
[32m+[m[32m     p:first-letter { text-transform: uppercase; }[m
[32m+[m
[32m+[m[32mLos signos de puntuaciÃ³n y los caracteres como las comillas que se encuentran antes y despuÃ©s[m
[32m+[m[32mde la primera letra tambiÃ©n se ven afectados por este pseudo-elemento.[m
[32m+[m
[32m+[m[32mEste pseudo-elemento sÃ³lo se puede utilizar con los elementos de bloque y las celdas de datos de[m
[32m+[m[32mlas tablas.[m
[32m+[m
[32m+[m[32m3.5.3. Los pseudo-elementos :before y :after[m
[32m+[m
[32m+[m[32mLos pseudo-elementos :before y :after se utilizan en combinaciÃ³n con la propiedad content de[m
[32m+[m[32mCSS para aÃ±adir contenidos antes o despuÃ©s del contenido original de un elemento.[m
[32m+[m
[32m+[m[32mLas siguientes reglas CSS aÃ±aden el texto CapÃ­tulo - delante de cada tÃ­tulo de secciÃ³n <h1> y el[m
[32m+[m[32mcarÃ¡cter . detrÃ¡s de cada pÃ¡rrafo de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     h1:before { content: "CapÃ­tulo - "; }[m
[32m+[m[32m     p:after { content: "."; }[m
[32m+[m
[32m+[m[32mEl contenido insertado mediante los pseudo-elementos :before y :after se tiene en cuenta en[m
[32m+[m[32mlos otros pseudo-elementos :first-line y :first-letter.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  72[m
[32m+[m[32mCSS avanzado                                                      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32m3.6. Selectores de CSS 3[m
[32m+[m
[32m+[m[32mLa futura versiÃ³n CSS 3 incluye todos los selectores de CSS 2.1 y aÃ±ade otras decenas de[m
[32m+[m[32mselectores, pseudo-clases y pseudo-elementos. La lista provisional de novedades y su explicaciÃ³n[m
[32m+[m[32mdetallada se puede encontrar en el mÃ³dulo de selectores de CSS 3 (http://www.w3.org/TR/[m
[32m+[m[32mcss3-selectors/) .[m
[32m+[m
[32m+[m[32mEn primer lugar, CSS 3 aÃ±ade tres nuevos selectores de atributos:[m
[32m+[m
[32m+[m[32m    â–ª elemento[atributo^="valor"], selecciona todos los elementos que disponen de ese[m
[32m+[m[32m       atributo y cuyo valor comienza exactamente por la cadena de texto indicada.[m
[32m+[m
[32m+[m[32m    â–ª elemento[atributo$="valor"], selecciona todos los elementos que disponen de ese[m
[32m+[m[32m       atributo y cuyo valor termina exactamente por la cadena de texto indicada.[m
[32m+[m
[32m+[m[32m    â–ª elemento[atributo*="valor"], selecciona todos los elementos que disponen de ese[m
[32m+[m[32m       atributo y cuyo valor contiene la cadena de texto indicada.[m
[32m+[m
[32m+[m[32mDe esta forma, se pueden crear reglas CSS tan avazadas como las siguientes:[m
[32m+[m
[32m+[m[32m     /* Selecciona todos los enlaces que apuntan a una direcciÃ³n de correo electrÃ³nico */[m
[32m+[m[32m     a[href^="mailto:"] { ... }[m
[32m+[m
[32m+[m[32m/* Selecciona todos los enlaces que apuntan a una pÃ¡gina HTML */[m
[32m+[m[32ma[href$=".html"] { ... }[m
[32m+[m
[32m+[m[32m     /* Selecciona todos los tÃ­tulos h1 cuyo atributo title contenga la palabra "capÃ­tulo" */[m
[32m+[m[32m     h1[title*="capÃ­tulo"] { ... }[m
[32m+[m
[32m+[m[32mOtro de los nuevos selectores de CSS 3 es el "selector general de elementos hermanos", que[m
[32m+[m[32mgeneraliza el selector adyacente de CSS 2.1. Su sintaxis es elemento1 ~ elemento2 y selecciona[m
[32m+[m[32mel elemento2 que es hermano de elemento1 y se encuentra detrÃ¡s en el cÃ³digo HTML. En el[m
[32m+[m[32mselector adyacente la condiciÃ³n adicional era que los dos elementos debÃ­an estar uno detrÃ¡s de[m
[32m+[m[32motro en el cÃ³digo HTML, mientras que ahora la Ãºnica condiciÃ³n es que uno estÃ© detrÃ¡s de otro.[m
[32m+[m
[32m+[m[32mSi se considera el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     h1 + h2 { ... } /* selector adyacente */[m
[32m+[m[32m     h1 ~ h2 { ... } /* selector general de hermanos */[m
[32m+[m
[32m+[m[32m     <h1>...</h1>[m
[32m+[m[32m     <h2>...</h2>[m
[32m+[m[32m     <p>...</p>[m
[32m+[m[32m     <div>[m
[32m+[m
[32m+[m[32m         <h2>...</h2>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     <h2>...</h2>[m
[32m+[m
[32m+[m[32mEl primer selector (h1 + h2) sÃ³lo selecciona el primer elemento <h2> de la pÃ¡gina, ya que es el[m
[32m+[m[32mÃºnico que cumple que es hermano de <h1> y se encuentra justo detrÃ¡s en el cÃ³digo HTML. Por su[m
[32m+[m[32mparte, el segundo selector (h1 ~ h2) selecciona todos los elementos <h2> de la pÃ¡gina salvo el[m
[32m+[m[32msegundo. Aunque el segundo <h2> se encuentra detrÃ¡s de <h1> en el cÃ³digo HTML, no son[m
[32m+[m[32melementos hermanos porque no tienen el mismo elemento padre.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                  73[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32mLos pseudo-elementos de CSS 2.1 se mantienen en CSS 3, pero cambia su sintaxis y ahora se[m
[32m+[m[32mutilizan :: en vez de : delante del nombre de cada pseudo-elemento:[m
[32m+[m
[32m+[m[32m    â–ª ::first-line, selecciona la primera lÃ­nea del texto de un elemento.[m
[32m+[m
[32m+[m[32m    â–ª ::first-letter, selecciona la primera letra del texto de un elemento.[m
[32m+[m
[32m+[m[32m    â–ª ::before, selecciona la parte anterior al contenido de un elemento para insertar nuevo[m
[32m+[m[32m       contenido generado.[m
[32m+[m
[32m+[m[32m    â–ª ::after, selecciona la parte posterior al contenido de un elemento para insertar nuevo[m
[32m+[m[32m       contenido generado.[m
[32m+[m
[32m+[m[32mCSS 3 aÃ±ade ademÃ¡s un nuevo pseudo-elemento:[m
[32m+[m
[32m+[m[32m    â–ª ::selecion, selecciona el texto que ha seleccionado un usuario con su ratÃ³n o teclado.[m
[32m+[m
[32m+[m[32mLas mayores novedades de CSS 3 se producen en las pseudo-clases, ya que se aÃ±aden 12 nuevas,[m
[32m+[m[32mentre las cuales se encuentran:[m
[32m+[m
[32m+[m[32m    â–ª elemento:nth-child(numero), selecciona el elemento indicado pero con la condiciÃ³n de[m
[32m+[m[32m       que sea el hijo enÃ©simo de su padre. Este selector es Ãºtil para seleccionar el segundo[m
[32m+[m[32m       pÃ¡rrafo de un elemento, el quinto elemento de una lista, etc.[m
[32m+[m
[32m+[m[32m    â–ª elemento:nth-last-child(numero), idÃ©ntico al anterior pero el nÃºmero indicado se[m
[32m+[m[32m       empieza a contar desde el Ãºltimo hijo.[m
[32m+[m
[32m+[m[32m    â–ª elemento:empty, selecciona el elemento indicado pero con la condiciÃ³n de que no tenga[m
[32m+[m[32m       ningÃºn hijo. La condiciÃ³n implica que tampoco puede tener ningÃºn contenido de texto.[m
[32m+[m
[32m+[m[32m    â–ª elemento:first-child y elemento:last-child, seleccionan los elementos indicados pero[m
[32m+[m[32m       con la condiciÃ³n de que sean respectivamente los primeros o Ãºltimos hijos de su elemento[m
[32m+[m[32m       padre.[m
[32m+[m
[32m+[m[32m    â–ª elemento:nth-of-type(numero), selecciona el elemento indicado pero con la condiciÃ³n de[m
[32m+[m[32m       que sea el enÃ©simo elemento hermano de ese tipo.[m
[32m+[m
[32m+[m[32m    â–ª elemento:nth-last-of-type(numero), idÃ©ntico al anterior pero el nÃºmero indicado se[m
[32m+[m[32m       empieza a contar desde el Ãºltimo hijo.[m
[32m+[m
[32m+[m[32mAlgunas pseudo-clases como :nth-child(numero) permiten el uso de expresiones complejas[m
[32m+[m[32mpara realizar selecciones avanzadas:[m
[32m+[m
[32m+[m[32m     li:nth-child(2n+1) { ... } /* selecciona todos los elementos impares de una lista */[m
[32m+[m[32m     li:nth-child(2n) { ... } /* selecciona todos los elementos pares de una lista */[m
[32m+[m
[32m+[m[32m     /* Las siguientes reglas alternan cuatro estilos diferentes para los pÃ¡rrafos */[m
[32m+[m[32m     p:nth-child(4n+1) { ... }[m
[32m+[m[32m     p:nth-child(4n+2) { ... }[m
[32m+[m[32m     p:nth-child(4n+3) { ... }[m
[32m+[m[32m     p:nth-child(4n+4) { ... }[m
[32m+[m
[32m+[m[32mEmpleando la pseudo-clase :nth-of-type(numero) se pueden crear reglas CSS que alternen la[m
[32m+[m[32mposiciÃ³n de las imÃ¡genes en funciÃ³n de la posiciÃ³n de la imagen anterior:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  74[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 3. Selectores[m
[32m+[m
[32m+[m[32m     img:nth-of-type(2n+1) { float: right; }[m
[32m+[m[32m     img:nth-of-type(2n) { float: left; }[m
[32m+[m
[32m+[m[32mOtro de los nuevos selectores que incluirÃ¡ CSS 3 es :not(), que se puede utilizar para seleccionar[m
[32m+[m[32mtodos los elementos que no cumplen con la condiciÃ³n de un selector:[m
[32m+[m
[32m+[m[32m     :not(p) { ... } /* selecciona todos los elementos de la pÃ¡gina que no sean pÃ¡rrafos */[m
[32m+[m[32m     :not(#especial) { ... } /* selecciona cualquier elemento cuyo atributo id no sea[m
[32m+[m[32m     "especial" */[m
[32m+[m
[32m+[m[32mAunque todavÃ­a faltan muchos aÃ±os hasta que la versiÃ³n CSS 3 sustituya a la actual versiÃ³n CSS[m
[32m+[m[32m2.1, los navegadores que mÃ¡s se preocupan por los estÃ¡ndares (Opera, Safari y Firefox) incluyen[m
[32m+[m[32msoporte para varios o casi todos los selectores de CSS 3.[m
[32m+[m
[32m+[m[32mExiste una herramienta llamada CSS Selectors test (http://www.css3.info/selectors-test/) que[m
[32m+[m[32mpermite comprobar los selectores que soporta el navegador con el que se hace la prueba.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  75[m
[32m+[m[32mCSS avanzado                                                          CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mCapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar CSS 2.1 incluye 115 propiedades que abarcan el modelo de cajas (box model), la[m
[32m+[m[32mtipografÃ­a, las tablas, las listas, el posicionamiento de los elementos, la generaciÃ³n de contenidos[m
[32m+[m[32my los medios impresos y auditivos.[m
[32m+[m
[32m+[m[32mAunque la mayorÃ­a de diseÃ±adores web conocen y utilizan casi todas las propiedades de CSS 2.1,[m
[32m+[m[32mno siempre hacen uso de todas sus posibilidades. Algunas propiedades de CSS 2.1 han sido[m
[32m+[m[32minfrautilizadas hasta hace poco tiempo porque los navegadores no las soportaban.[m
[32m+[m
[32m+[m[32mAfortunadamente, los navegadores que mÃ¡s se preocupan por los estÃ¡ndares (Firefox, Safari y[m
[32m+[m[32mOpera) ya incluyen soporte completo de casi todas las propiedades de CSS 2.1, con la Ãºnica[m
[32m+[m[32mexcepciÃ³n de las propiedades relacionadas con los medios auditivos. Por su parte, Internet[m
[32m+[m[32mExplorer 8 promete que incluirÃ¡ soporte completo de todas las propiedades de CSS 2.1.[m
[32m+[m
[32m+[m[32m4.1. Propiedad white-space[m
[32m+[m
[32m+[m[32mDefiniciÃ³n        Establece el tratamiento de los espacios en blanco[m
[32m+[m
[32m+[m[32mValores           Uno y sÃ³lo uno de los siguientes valores:[m
[32m+[m[32mpermitidos[m
[32m+[m[32m                  â–ª normal    â–ª pre                                   â–ª nowrap[m
[32m+[m
[32m+[m[32m                  â–ª pre-wrap  â–ª pre-line                              â–ª inherit[m
[32m+[m
[32m+[m[32mValor inicial     normal[m
[32m+[m[32mSe aplica a       Todos los elementos[m
[32m+[m[32mVÃ¡lida en         medios visuales[m
[32m+[m[32mSe hereda         si[m
[32m+[m[32mDefiniciÃ³n en[m
[32m+[m[32mel estÃ¡ndar       http://www.w3.org/TR/CSS21/text.html#propdef-white-space[m
[32m+[m
[32m+[m[32mEl tratamiento de los espacios en blanco en el cÃ³digo HTML es una de las caracterÃ­sticas mÃ¡s[m
[32m+[m[32mdesconcertantes para los diseÃ±adores web que comienzan a crear pÃ¡ginas. A continuaciÃ³n se[m
[32m+[m[32mmuestra cÃ³mo visualizan los navegadores dos pÃ¡rrafos de ejemplo:[m
[32m+[m
[32m+[m[32mLorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus vulputate[m
[32m+[m[32mlobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum tincidunt pede, et blandit[m
[32m+[m[32msem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc in leo.[m
[32m+[m
[32m+[m[32mLorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus vulputate[m
[32m+[m[32mlobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum tincidunt pede, et blandit[m
[32m+[m[32msem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc in leo.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 76[m
[32m+[m[32mCSS avanzado                                CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mAunque los dos pÃ¡rrafos anteriores se visualizan de la misma forma, en realidad su cÃ³digo HTML[m
[32m+[m[32mes completamente diferente:[m
[32m+[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus[m
[32m+[m[32m     vulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum[m
[32m+[m[32m     tincidunt pede, et blandit sem pede suscipit pede. Nulla cursus porta sem. Donec mollis[m
[32m+[m[32m     nunc in leo.</p>[m
[32m+[m
[32m+[m[32m<p>Lorem ipsum dolor sit amet, consectetuer adipiscing    elit.[m
[32m+[m
[32m+[m[32mSed non sem quis tellus vulputate        lobortis. Vivamus fermentum, tortor[m
[32m+[m
[32m+[m[32mid ornare ultrices, ligula ipsum tincidunt  pede, et blandit[m
[32m+[m
[32m+[m[32msem pede suscipit  pede. Nulla cursus porta sem. Donec mollis nunc in leo.</p>[m
[32m+[m
[32m+[m[32mEl segundo pÃ¡rrafo contiene numerosos espacios en blanco y saltos de lÃ­nea. Sin embargo, como[m
[32m+[m[32mlos navegadores eliminan automÃ¡ticamente todos los espacios en blanco sobrantes, los dos[m
[32m+[m[32mpÃ¡rrafos se ven exactamente igual.[m
[32m+[m
[32m+[m[32mEn el estÃ¡ndar HTML un "espacio en blanco" puede ser un salto de lÃ­nea, un tabulador y un[m
[32m+[m[32mespacio en blanco normal. Los navegadores eliminan de forma automÃ¡tica todos los espacios en[m
[32m+[m[32mblanco sobrantes salvo el espacio en blanco que separa las palabras del texto.[m
[32m+[m
[32m+[m[32mLa Ãºnica excepciÃ³n de este comportamiento es la etiqueta <pre> de HTML, utilizada para[m
[32m+[m[32mmostrar texto que ya tiene formato (su nombre viene de preformateado) y que por tanto respeta[m
[32m+[m[32mtodos los espacios en blanco y todos los saltos de lÃ­nea:[m
[32m+[m
[32m+[m[32mLorem ipsum dolor sit amet, consectetuer adipiscing           elit.[m
[32m+[m
[32m+[m[32mSed non sem quis tellus vulputate           lobortis. Vivamus fermentum, tortor[m
[32m+[m
[32m+[m[32mid ornare ultrices, ligula ipsum tincidunt  pede, et blandit[m
[32m+[m
[32m+[m[32msem pede suscipit  pede. Nulla cursus porta sem. Donec mollis nunc in leo.[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML del ejemplo anterior es:[m
[32m+[m
[32m+[m[32m<pre>Lorem ipsum dolor sit amet, consectetuer adipiscing      elit.[m
[32m+[m
[32m+[m[32mSed non sem quis tellus vulputate        lobortis. Vivamus fermentum, tortor[m
[32m+[m
[32m+[m[32mid ornare ultrices, ligula ipsum tincidunt  pede, et blandit[m
[32m+[m
[32m+[m[32msem pede suscipit  pede. Nulla cursus porta sem. Donec mollis nunc in leo.</pre>[m
[32m+[m
[32m+[m[32mLa propiedad white-space permite variar el comportamiento de los espacios en blanco. El[m
[32m+[m[32mestÃ¡ndar CSS 2.1 define cinco modelos diferentes de tratamiento de espacios en blanco:[m
[32m+[m
[32m+[m[32mâ–ª normal: los espacios en blanco sobrantes y los saltos de lÃ­nea se eliminan. No obstante, el[m
[32m+[m[32m   texto se muestra en tantas lÃ­neas como sea necesario para que sus contenidos no se salgan[m
[32m+[m[32m   del elemento contenedor.[m
[32m+[m
[32m+[m[32mâ–ª pre: no se eliminan los espacios en blanco sobrantes y sÃ³lo se muestran los saltos de lÃ­nea[m
[32m+[m[32m   incluidos en el texto original. Este comportamiento puede provocar que los contenidos de[m
[32m+[m[32m   texto se salgan de su elemento contenedor.[m
[32m+[m
[32m+[m[32mâ–ª nowrap: se comporta igual que normal en los espacios en blanco, pero no aÃ±ade saltos de[m
[32m+[m[32m   lÃ­nea en el texto original, por lo que los contenidos se pueden salir de su elemento[m
[32m+[m[32m   contenedor.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 77[m
[32m+[m[32mCSS avanzado                              CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m    â–ª pre-wrap: se comporta igual que pre, pero se introducen los saltos de lÃ­nea que sean[m
[32m+[m[32m       necesarios para que los contenidos de texto nunca se salgan de su elemento contenedor.[m
[32m+[m
[32m+[m[32m    â–ª pre-line: se eliminan los espacios en blanco sobrantes, pero se respetan los saltos de[m
[32m+[m[32m       lÃ­nea originales y se crean tantos saltos de lÃ­nea como sean necesarios para que el[m
[32m+[m[32m       contenido de texto no se salga de su elemento contenedor.[m
[32m+[m
[32m+[m[32mComo las explicaciones incluÃ­das en el estÃ¡ndar CSS 2.1 pueden llegar a ser confusas, la siguiente[m
[32m+[m[32mtabla resume el comportamiento de cada valor:[m
[32m+[m
[32m+[m[32mValor         Respeta espacios en blanco  Respeta saltos de lÃ­nea  Ajusta las lÃ­neas[m
[32m+[m[32mnormal        no                          no                       si[m
[32m+[m[32mpre           si                          si                       no[m
[32m+[m[32mnowrap        no                          no                       no[m
[32m+[m[32mpre-wrap      si                          si                       si[m
[32m+[m[32mpre-line      no                          si                       si[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el efecto de cada modelo de tratamiento de espacios en blanco sobre[m
[32m+[m[32mun mismo pÃ¡rrafo que contiene espacios en blanco y saltos de lÃ­nea y que se encuentra dentro de[m
[32m+[m[32mun elemento contenedor de anchura limitada:[m
[32m+[m
[32m+[m[32m[white-space: normal] Lorem ipsum dolor sit[m
[32m+[m[32mamet, consectetuer adipiscing elit. Vestibulum[m
[32m+[m[32mdictum. Class aptent taciti sociosqu ad litora[m
[32m+[m[32mtorquent per conubia nostra, per inceptos[m
[32m+[m[32mhymenaeos.[m
[32m+[m
[32m+[m[32m[white-space: pre] Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m[32mVestibulum dictum. Class aptent taciti sociosqu ad litora torquent per[m
[32m+[m[32mconubia nostra, per inceptos hymenaeos.[m
[32m+[m
[32m+[m[32m[white-space: pre-wrap] Lorem ipsum dolor[m
[32m+[m[32msit amet, consectetuer adipiscing elit.[m
[32m+[m[32mVestibulum dictum. Class aptent taciti[m
[32m+[m[32msociosqu ad litora torquent per[m
[32m+[m[32mconubia nostra, per inceptos hymenaeos.[m
[32m+[m
[32m+[m[32m[white-space: nowrap] Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Vestibulum dictum. Class[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      78[m
[32m+[m[32mCSS avanzado                                     CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m[white-space: pre-line] Lorem ipsum dolor[m
[32m+[m[32msit amet, consectetuer adipiscing elit.[m
[32m+[m[32mVestibulum dictum. Class aptent taciti sociosqu[m
[32m+[m[32mad litora torquent per[m
[32m+[m[32mconubia nostra, per inceptos hymenaeos.[m
[32m+[m
[32m+[m[32mLos valores mÃ¡s utilizados son normal, pre y pre-wrap. El valor normal se puede emplear por[m
[32m+[m[32mejemplo en un elemento <pre> que se quiere mostrar como si fuera un pÃ¡rrafo:[m
[32m+[m
[32m+[m[32m<pre>Lorem ipsum dolor sit amet, consectetuer adipiscing           elit.[m
[32m+[m
[32m+[m[32mSed non sem quis tellus vulputate                lobortis. Vivamus fermentum, tortor[m
[32m+[m
[32m+[m[32mid ornare ultrices, ligula ipsum tincidunt       pede, et blandit[m
[32m+[m
[32m+[m[32msem pede suscipit  pede. Nulla cursus porta sem. Donec mollis nunc in leo.</pre>[m
[32m+[m
[32m+[m[32m<pre style="white-space: normal">Lorem ipsum dolor sit amet, consectetuer[m
[32m+[m[32madipiscing elit. Sed non sem quis tellus vulputate lobortis. Vivamus[m
[32m+[m[32mfermentum, tortor id ornare ultrices, ligula ipsum tincidunt pede, et blandit[m
[32m+[m[32msem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc in[m
[32m+[m[32mleo.</pre>[m
[32m+[m
[32m+[m[32mDe la misma forma, el valor pre se puede emplear en un pÃ¡rrafo de texto que se quiere mostrar[m
[32m+[m[32mcomo si fuera un elemento <pre>:[m
[32m+[m
[32m+[m[32m<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus[m
[32m+[m[32mvulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum tincidunt pede,[m
[32m+[m[32met blandit sem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc in leo.</p>[m
[32m+[m
[32m+[m[32m <p style="white-space: pre">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m[32m Sed non sem quis tellus vulputate lobortis. Vivamus fermentum, tortor[m
[32m+[m[32m id ornare ultrices, ligula ipsum tincidunt pede, et blandit[m
[32m+[m[32m sem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc in leo.</p>[m
[32m+[m
[32m+[m[32mPor Ãºltimo, el valor pre-wrap es muy Ãºtil cuando se quiere mostrar un texto de la forma mÃ¡s fiel[m
[32m+[m[32mposible a su formato original (respetando espacios en blanco y saltos de lÃ­nea) pero sin que el[m
[32m+[m[32mcontenido de texto se salga de su elemento contenedor.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      79[m
[32m+[m[32mCSS avanzado                                                          CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m4.2. Propiedad display[m
[32m+[m
[32m+[m[32mDefiniciÃ³n        Establece el tipo de caja generada por un elemento[m
[32m+[m
[32m+[m[32mValores           Uno y sÃ³lo uno de los siguientes valores:[m
[32m+[m[32mpermitidos[m
[32m+[m[32m                  â–ª inline        â–ª block                             â–ª list-item[m
[32m+[m
[32m+[m[32m                  â–ª run-in        â–ª inline-block                      â–ª table[m
[32m+[m
[32m+[m[32m                  â–ª inline-table  â–ª table-row-group                   â–ª table-header-group[m
[32m+[m
[32m+[m[32m                  â–ª table-footer-group â–ª table-row                    â–ª table-column-group[m
[32m+[m
[32m+[m[32m                  â–ª table-column  â–ª table-cell                        â–ª table-caption[m
[32m+[m
[32m+[m[32m                  â–ª none          â–ª inherit[m
[32m+[m
[32m+[m[32mValor inicial     inline[m
[32m+[m[32mSe aplica a       Todos los elementos[m
[32m+[m[32mVÃ¡lida en         all[m
[32m+[m[32mSe hereda         no[m
[32m+[m[32mDefiniciÃ³n en[m
[32m+[m[32mel estÃ¡ndar       http://www.w3.org/TR/CSS21/visuren.html#propdef-display[m
[32m+[m
[32m+[m[32mLa propiedad display es una de las propiedades CSS mÃ¡s infrautilizadas. Aunque todos los[m
[32m+[m[32mdiseÃ±adores conocen esta propiedad y utilizan sus valores inline, block y none, las[m
[32m+[m[32mposibilidades de display son mucho mÃ¡s avanzadas.[m
[32m+[m
[32m+[m[32mDe hecho, la propiedad display es una de las mÃ¡s complejas de CSS 2.1, ya que establece el tipo[m
[32m+[m[32mde la caja que genera cada elemento. La propiedad display es tan compleja que casi ningÃºn[m
[32m+[m[32mnavegador es capaz de mostrar correctamente todos sus valores.[m
[32m+[m
[32m+[m[32mEl valor mÃ¡s sencillo de display es none que hace que el elemento no genere ninguna caja. El[m
[32m+[m[32mresultado es que el elemento desaparece por completo de la pÃ¡gina y no ocupa sitio, por lo que[m
[32m+[m[32mlos elementos adyacentes ocupan su lugar. Si se utiliza la propiedad display: none sobre un[m
[32m+[m[32melemento, todos sus descendientes tambiÃ©n desaparecen por completo de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mSi se quiere hacer un elemento invisible, es decir, que no se vea pero que siga ocupando el[m
[32m+[m[32mmismo sitio, se debe utilizar la propiedad visibility. La propiedad display: none se utiliza[m
[32m+[m[32mhabitualmente en aplicaciones web dinÃ¡micas creadas con JavaScript y que muestran/ocultan[m
[32m+[m[32mcontenidos cuando el usuario realiza alguna acciÃ³n como pulsar un botÃ³n o un enlace.[m
[32m+[m
[32m+[m[32mLos otros dos valores mÃ¡s utilizados son block e inline que hacen que la caja de un elemento[m
[32m+[m[32msea de bloque o en lÃ­nea respectivamente. El siguiente ejemplo muestra un pÃ¡rrafo y varios[m
[32m+[m[32menlaces a los que se les ha aÃ±adido un borde para mostrar el espacio ocupado por cada caja:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                            80[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m  Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m
[32m+[m[32m  Lorem ipsum (#) Donec mollis nunc in leo (#) Vivamus fermentum (#)[m
[32m+[m
[32m+[m[32mComo el pÃ¡rrafo es por defecto un elemento de bloque ("block element"), ocupa todo el espacio[m
[32m+[m[32mdisponible hasta el final de su lÃ­nea, aunque sus contenidos no ocupen todo el sitio. Por su parte,[m
[32m+[m[32mlos enlaces por defecto son elementos en lÃ­nea ("inline element"), por lo que su caja sÃ³lo ocupa el[m
[32m+[m[32mespacio necesario para mostrar sus contenidos.[m
[32m+[m[32mSi se aplica la propiedad display: inline al pÃ¡rrafo del ejemplo anterior, su caja se convierte[m
[32m+[m[32men un elemento en lÃ­nea y por tanto sÃ³lo ocupa el espacio necesario para mostrar sus[m
[32m+[m[32mcontenidos:[m
[32m+[m
[32m+[m[32m  [display: inline] Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Lorem ipsum[m
[32m+[m[32m (#) Donec mollis nunc in leo (#) Vivamus fermentum (#)[m
[32m+[m
[32m+[m[32mPara visualizar mÃ¡s claramente el cambio en el tipo de caja, el siguiente ejemplo muestra un[m
[32m+[m[32mmismo pÃ¡rrafo largo con display: block y display: inline:[m
[32m+[m
[32m+[m[32m  [display: block] Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis[m
[32m+[m[32m  tellus vulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum[m
[32m+[m[32m  tincidunt pede, et blandit sem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc[m
[32m+[m[32m  in leo.[m
[32m+[m
[32m+[m[32m  [display: inline] Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis[m
[32m+[m[32m tellus vulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum tincidunt[m
[32m+[m[32m pede, et blandit sem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc in leo.[m
[32m+[m
[32m+[m[32mDe la misma forma, si en los enlaces del ejemplo anterior se emplea la propiedad display:[m
[32m+[m[32mblock se transforman en elementos de bloque, por lo que siempre empiezan en una nueva lÃ­nea[m
[32m+[m[32my siempre ocupan todo el espacio disponible en la lÃ­nea, aunque sus contenidos no ocupen todo[m
[32m+[m[32mel sitio:[m
[32m+[m
[32m+[m[32m  Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m
[32m+[m[32m  [display: block] Lorem ipsum (#)[m
[32m+[m
[32m+[m[32m  [display: block] Donec mollis nunc in leo (#)[m
[32m+[m
[32m+[m[32m  [display: block] Vivamus fermentum (#)[m
[32m+[m
[32m+[m[32mwww.librosweb.es  81[m
[32m+[m[32mCSS avanzado            CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mUno de los valores mÃ¡s curiosos de display es inline-block, que crea cajas que son de bloque y[m
[32m+[m[32men lÃ­nea de forma simultÃ¡nea. Una caja de tipo inline-block se comporta como si fuera de[m
[32m+[m[32mbloque, pero respecto a los elementos que la rodean es una caja en lÃ­nea.[m
[32m+[m
[32m+[m[32mEl enlace del siguiente ejemplo es de tipo inline-block, lo que permite por ejemplo establecerle[m
[32m+[m[32mun tamaÃ±o mediante la propiedad width:[m
[32m+[m
[32m+[m[32mLorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus vulputate[m
[32m+[m[32mlobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum tincidunt pede, et[m
[32m+[m[32mblandit sem pede suscipit pede. Nulla cursus porta sem. Donec mollis nunc in leo.[m
[32m+[m
[32m+[m[32m[display:               Integer lobortis accumsan felis. Cras venenatis. Morbi cursus,[m
[32m+[m[32minline-block, width:[m
[32m+[m[32m25%] Quisque semper,[m
[32m+[m[32mmagna sed pharetra[m
[32m+[m[32mtincidunt, quam urna[m
[32m+[m[32mdapibus dolor, a[m
[32m+[m[32mdignissim sem neque[m
[32m+[m[32mid purus. Etiam luctus[m
[32m+[m[32mviverra nisi. (#)[m
[32m+[m
[32m+[m[32mtellus vitae iaculis pulvinar, turpis nibh posuere nisl, sed vehicula massa orci at dui. Morbi[m
[32m+[m[32mpede ipsum, porta quis, venenatis et, ullamcorper in, metus. Nulla facilisi. Quisque laoreet[m
[32m+[m[32mmolestie mi. Ut mollis elit eget urna.[m
[32m+[m
[32m+[m[32mSi tu navegador soporta el valor inline-block, el ejemplo anterior se debe visualizar tal y como[m
[32m+[m[32mmuestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m                  Figura 4.1. Ejemplo del valor inline-block de la propiedad display[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      82[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mOtro de los valores definidos por la propiedad display es list-item, que hace que cualquier[m
[32m+[m[32melemento de cualquier tipo se muestre como si fuera un elemento de una lista (elemento <li>).[m
[32m+[m[32mEl siguiente ejemplo muestra tres pÃ¡rrafos que utilizan la propiedad display: list-item para[m
[32m+[m[32msimular que son una lista de elementos de tipo <ul>:[m
[32m+[m
[32m+[m[32mâ€¢Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m
[32m+[m[32mâ€¢Sed non sem quis tellus vulputate lobortis.[m
[32m+[m
[32m+[m[32mâ€¢Vivamus fermentum, tortor id ornare ultrices, ligula ipsum tincidunt pede, et blandit sem[m
[32m+[m[32m pede suscipit pede.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el cÃ³digo HTML del ejemplo anterior:[m
[32m+[m
[32m+[m[32m     <p style="display: list-item; margin-left: 2em">Lorem ipsum dolor sit amet,[m
[32m+[m[32m     consectetuer adipiscing elit.</p>[m
[32m+[m[32m     <p style="display: list-item; margin-left: 2em">Sed non sem quis tellus vulputate[m
[32m+[m[32m     lobortis.</p>[m
[32m+[m[32m     <p style="display: list-item; margin-left: 2em">Vivamus fermentum, tortor id ornare[m
[32m+[m[32m     ultrices, ligula ipsum tincidunt pede, et blandit sem pede suscipit pede.</p>[m
[32m+[m
[32m+[m[32mLos elementos con la propiedad display: list-item son exactamente iguales que los[m
[32m+[m[32melementos <li> a efectos de su visualizaciÃ³n, por lo que se pueden utilizar las propiedades de[m
[32m+[m[32mlistas como list-style-type, list-style-image, list-style-position y list-style.[m
[32m+[m
[32m+[m[32mUno de los valores mÃ¡s curiosos de la propiedad display es run-in, que genera una caja de[m
[32m+[m[32mbloque o una caja en lÃ­nea dependiendo del contexto, es decir, dependiendo de sus elementos[m
[32m+[m[32madyacentes. El comportamiento de las cajas de tipo run-in se rige por las siguientes reglas:[m
[32m+[m
[32m+[m[32m    â–ª Si la caja run-in contiene una caja de bloque, la caja run-in se convierte en una caja de[m
[32m+[m[32m       bloque.[m
[32m+[m
[32m+[m[32m    â–ª Si despuÃ©s de la caja run-in se encuentra una caja de bloque (que no estÃ© posicionada de[m
[32m+[m[32m       forma absoluta y tampoco estÃ© posicionada de forma flotante), la caja run-in se convierte[m
[32m+[m[32m       en una caja en lÃ­nea en el interior de la caja de bloque.[m
[32m+[m
[32m+[m[32m    â–ª En cualquier otro caso, la caja run-in se convierte en una caja de bloque.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra una misma caja de tipo run-in que se visualiza de forma muy[m
[32m+[m[32mdiferente en funciÃ³n del tipo de caja que existe a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m [display: run-in] Lorem ipsum [display: block] dolor sit amet, consectetuer adipiscing[m
[32m+[m[32melit.[m
[32m+[m
[32m+[m[32m[display: run-in] Lorem ipsum [display: inline] dolor sit amet, consectetuer adipiscing[m
[32m+[m[32melit.[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS del ejemplo anterior se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                      83[m
[32m+[m[32mCSS avanzado                    CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m     <p style="display: run-in; border: 2px dashed #C00;"><strong>[display: run-in]</strong>[m
[32m+[m[32m     Lorem ipsum</p>[m
[32m+[m[32m     <p style="display: block; border: 2px solid #000;"><strong>[display: block]</strong>[m
[32m+[m[32m     dolor sit amet, consectetuer adipiscing elit.</p>[m
[32m+[m
[32m+[m[32m     <p style="display: run-in; border: 2px dashed #C00;"><strong>[display: run-in]</strong>[m
[32m+[m[32m     Lorem ipsum</p>[m
[32m+[m[32m     <p style="display: inline; border: 2px solid #000;"><strong>[display: inline]</strong>[m
[32m+[m[32m     dolor sit amet, consectetuer adipiscing elit.</p>[m
[32m+[m
[32m+[m[32mEn la actualidad sÃ³lo la Ãºltima versiÃ³n del navegador Opera es capaz de mostrar correctamente[m
[32m+[m[32mel ejemplo anterior, tal y como muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m                          Figura 4.2. Ejemplo del valor run-in de la propiedad display[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar CSS 2.1 incluye un ejemplo del posible uso del valor run-in. En este ejemplo, un[m
[32m+[m[32mtÃ­tulo de secciÃ³n <h3> crea una caja run-in, de forma que cuando va seguido de un pÃ¡rrafo, el[m
[32m+[m[32mtitular se mete dentro del pÃ¡rrafo:[m
[32m+[m
[32m+[m[32m     <h3 style="display: run-in">Lorem ipsum dolor sit amet</h3>[m
[32m+[m[32m     <p>Sed non sem quis tellus vulputate lobortis. Vivamus fermentum, tortor id ornare[m
[32m+[m[32m     ultrices, ligula ipsum tincidunt pede, et blandit sem pede suscipit pede. Nulla cursus[m
[32m+[m[32m     porta sem. Donec mollis nunc in leo. Integer lobortis accumsan felis.</p>[m
[32m+[m
[32m+[m[32mEl resto de valores de la propiedad display estÃ¡n relacionados con las tablas y hacen que un[m
[32m+[m[32melemento se muestre como si fuera una parte de una tabla: fila, columna, celda o grupos de filas/[m
[32m+[m[32mcolumnas. Los valores definidos por la propiedad display son inline-table, table-row-group,[m
[32m+[m[32mtable-header-group, table-footer-group, table-row, table-column-group, table-column,[m
[32m+[m[32mtable-cell, table-caption.[m
[32m+[m
[32m+[m[32mAunque los valores relacionados con las tablas son los mÃ¡s avanzados, tambiÃ©n son los que peor[m
[32m+[m[32msoportan los navegadores. A continuaciÃ³n se muestra un ejemplo con tres pÃ¡rrafos de texto que[m
[32m+[m[32mestablecen la propiedad display: table-cell:[m
[32m+[m
[32m+[m[32m[display: table-cell] [display: table-cell] In [display: table-cell] Morbi sed nisl[m
[32m+[m
[32m+[m[32mLorem ipsum dolor sit molestie suscipit libero. sed dui consequat sodales. Vivamus[m
[32m+[m
[32m+[m[32mamet,         consectetuer Cras sem. Nunc non tellus ornare felis nec est. Phasellus massa[m
[32m+[m
[32m+[m[32madipiscing elit. Maecenas et urna mattis tempor. justo, ornare sed, malesuada a,[m
[32m+[m
[32m+[m[32mnon tortor. Vestibulum Nulla nec tellus a quam dignissim a, nibh. Vestibulum vitae[m
[32m+[m
[32m+[m[32mante ipsum primis in hendrerit  venenatis. nunc at lectus euismod feugiat. Nullam[m
[32m+[m
[32m+[m[32mfaucibus orci luctus et Suspendisse pellentesque eleifend. Class aptent taciti sociosqu[m
[32m+[m
[32m+[m[32multrices posuere cubilia odio et est. Morbi sed nisl ad litora torquent per conubia nostra,[m
[32m+[m
[32m+[m[32mCurae; Sed fermentum sed dui consequat per inceptos himenaeos. In ut ipsum.[m
[32m+[m
[32m+[m[32mlorem a velit.    sodales.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                             84[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mLa propiedad display: table-cell hace que cualquier elemento se muestre como si fuera una[m
[32m+[m[32mcelda de una tabla. Como en el ejemplo anterior los tres elementos <p> utilizan la propiedad[m
[32m+[m[32mdisplay: table-cell, el resultado es visualmente idÃ©ntico a utilizar una tabla y tres elementos[m
[32m+[m[32m<td>.[m
[32m+[m
[32m+[m[32mSi utilizas un navegador con soporte completo de CSS 2.1, el ejemplo anterior se visualiza tal y[m
[32m+[m[32mcomo muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m                        Figura 4.3. Ejemplo del valor table-cell de la propiedad display[m
[32m+[m
[32m+[m[32mComo los valores relacionados con las tablas hacen que cualquier elemento que no sea una tabla[m
[32m+[m[32mse muestre y comporte como si lo fuera, se pueden utilizar para crear los layouts de las pÃ¡ginas.[m
[32m+[m[32mHace aÃ±os, la estructura de las pÃ¡ginas se definÃ­a mediante tablas, filas y columnas. Esta soluciÃ³n[m
[32m+[m[32mtiene innumerables desventajas y por eso todos los diseÃ±adores web profesionales crean la[m
[32m+[m[32mestructura de sus pÃ¡ginas mediante CSS y elementos <div>.[m
[32m+[m
[32m+[m[32mNo obstante, las tablas tienen algunas ventajas en su comportamiento respecto a los elementos[m
[32m+[m[32m<div> posicionados de forma absoluta o flotante. La principal ventaja es que todas las celdas de[m
[32m+[m[32muna fila siempre tienen la misma altura, por lo que si se utilizan tablas no se sufre el problema de[m
[32m+[m[32mlas columnas de pÃ¡gina con diferente altura.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, la estructura creada con una tabla nunca se rompe, ya que las celdas de datos nunca se[m
[32m+[m[32mvisualizan una debajo de otra cuando la ventana del navegador se hace muy pequeÃ±a. Sin[m
[32m+[m[32membargo, cuando se define la estructura mediante elementos <div> posicionados es posible que[m
[32m+[m[32mla pÃ¡gina se rompa y alguna columna se muestre debajo de otros contenidos.[m
[32m+[m
[32m+[m[32mUtilizando la propiedad display de forma avanzada es posible crear una estructura de pÃ¡gina[m
[32m+[m[32mque sea semÃ¡nticamente correcta, estÃ© diseÃ±ada exclusivamente con CSS y que se comporte[m
[32m+[m[32mexactamente igual que como lo hacen las tablas.[m
[32m+[m
[32m+[m[32mEl siguiente cÃ³digo HTML corresponde a la estructura de una pÃ¡gina con tres columnas:[m
[32m+[m
[32m+[m[32m     ...[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m
[32m+[m[32m         <div id="contenidos">[m
[32m+[m[32m            <div id="secundario">[m
[32m+[m[32m               Curabitur rutrum...[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div id="principal">[m
[32m+[m[32m               Lorem ipsum dolor sit amet...[m
[32m+[m[32m            </div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es  85[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m            <div id="lateral">[m
[32m+[m[32m               Nam erat massa...[m
[32m+[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32mUtilizando las siguientes reglas CSS y la propiedad display es posible hacer que los elementos[m
[32m+[m[32m<div> anteriores se comporten como si fueran elementos <tr> y <td>:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         display: table;[m
[32m+[m[32m         border-spacing: 5px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenidos {[m
[32m+[m
[32m+[m[32m         display: table-row;[m
[32m+[m[32m     }[m
[32m+[m[32m     #principal, #secundario, #lateral {[m
[32m+[m
[32m+[m[32m         display: table-cell;[m
[32m+[m[32m     }[m
[32m+[m[32m     #principal {[m
[32m+[m
[32m+[m[32m         width: 60%;[m
[32m+[m[32m     }[m
[32m+[m[32m     #secundario, #lateral {[m
[32m+[m
[32m+[m[32m         width: 20%;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl elemento #contenedor se visualiza como una tabla porque se le aplica la propiedad display:[m
[32m+[m[32mtable. De esta forma, se pueden aplicar al elemento #contenedor propiedades exclusivas de las[m
[32m+[m[32mtablas como border-spacing. El elemento #contenidos se visualiza como si fuese una fila de[m
[32m+[m[32mtabla (etiqueta <tr>). En su interior se encuentran las tres columnas de la pÃ¡gina que se[m
[32m+[m[32mvisualizan como si fueran tres elementos <td> gracias a la propiedad display: table-cell.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el resultado obtenido al aplicar estas reglas CSS al cÃ³digo HTML[m
[32m+[m[32manterior:[m
[32m+[m
[32m+[m[32mCurabitur         Lorem ipsum dolor sit amet, consectetuer        Nam erat[m
[32m+[m[32mrutrum eros       adipiscing elit. Maecenas non tortor.           massa,[m
[32m+[m[32ma risus. Cum      Vestibulum ante ipsum primis in faucibus orci   blandit in,[m
[32m+[m[32msociis            luctus et ultrices posuere cubilia Curae; Sed   dapibus sit[m
[32m+[m[32mnatoque           fermentum lorem a velit. Lorem ipsum dolor      amet,[m
[32m+[m[32mpenatibus et      sit amet, consectetuer adipiscing elit. Proin   vestibulum[m
[32m+[m[32mmagnis dis        sodales, enim in volutpat vehicula, leo turpis  et, augue.[m
[32m+[m[32mparturient        vehicula magna, ut rutrum arcu lorem ac         Suspendisse[m
[32m+[m[32mmontes,           pede. Curabitur rutrum eros a risus. Cum        ac risus.[m
[32m+[m[32mnascetur          sociis natoque penatibus et magnis dis[m
[32m+[m[32mridiculus         parturient montes, nascetur ridiculus mus. In[m
[32m+[m[32mmus. In           molestie suscipit libero. Cras sem. Nunc non[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               86[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mmolestie          tellus et urna mattis tempor. Nulla nec tellus a[m
[32m+[m[32msuscipit          quam hendrerit venenatis. Suspendisse[m
[32m+[m[32mlibero. Cras      pellentesque odio et est. Morbi sed nisl sed[m
[32m+[m[32msem. Nunc         dui consequat sodales. Donec porta porta[m
[32m+[m[32mnon tellus et     ligula. Nam erat massa, blandit in, dapibus sit[m
[32m+[m[32murna mattis       amet, vestibulum et, augue. Suspendisse ac[m
[32m+[m[32mtempor.           risus. Duis semper fringilla sem. Praesent[m
[32m+[m[32mNulla nec         augue arcu, scelerisque nec, ornare[m
[32m+[m[32mtellus a quam     malesuada, posuere a, neque. Nullam nulla[m
[32m+[m[32mhendrerit         nisi, ultrices quis, adipiscing non, varius ut,[m
[32m+[m[32mvenenatis.        dui. Nulla viverra pellentesque sem.[m
[32m+[m[32mSuspendisse[m
[32m+[m[32mpellentesque[m
[32m+[m[32modio et est.[m
[32m+[m
[32m+[m[32mLa estructura de la pÃ¡gina del ejemplo anterior estÃ¡ diseÃ±ada exclusivamente con CSS pero se[m
[32m+[m[32mcomporta como si fuera una tabla. Todas las columnas de la pÃ¡gina tienen la misma altura sin[m
[32m+[m[32mnecesidad de recurrir a ningÃºn truco y la pÃ¡gina nunca se rompe por muy pequeÃ±a que se haga[m
[32m+[m[32mla ventana del navegador.[m
[32m+[m
[32m+[m[32mSi visualizas esta pÃ¡gina con un navegador que soporte correctamente la propiedad display de[m
[32m+[m[32mCSS 2.1, el ejemplo anterior se ve tal y como muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m          Figura 4.4. Ejemplo de los valores table, table-row y table-cell de la propiedad display[m
[32m+[m
[32m+[m[32mPor Ãºltimo, aunque el estÃ¡ndar CSS 2.1 establece que el valor por defecto de la propiedad[m
[32m+[m[32mdisplay es inline, todos los navegadores obvian esta recomendaciÃ³n y asignan por defecto el[m
[32m+[m[32mvalor block a los elementos de bloque y el valor inline a los elementos en lÃ­nea.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                    87[m
[32m+[m[32mCSS avanzado                                                         CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m4.3. Propiedad outline[m
[32m+[m
[32m+[m[32mDefiniciÃ³n     Establece algunas o todas las propiedades de todos los perfiles de los elementos[m
[32m+[m[32m               Alguno o todos los siguientes valores y en cualquier orden:[m
[32m+[m[32mValores        â–ª Color de perfil (./outline-color.html)[m
[32m+[m[32mpermitidos     â–ª Estilo de perfil (./outline-style.html)[m
[32m+[m[32m               â–ª Anchura de perfil (./outline-width.html)[m
[32m+[m
[32m+[m[32mValor inicial  Cada propiedad define su propio valor por defecto[m
[32m+[m[32mSe aplica a    Todos los elementos[m
[32m+[m[32mVÃ¡lida en      medios visuales, medios interactivos (./medios.html)[m
[32m+[m[32mSe hereda      no[m
[32m+[m[32mDefiniciÃ³n en[m
[32m+[m[32mel estÃ¡ndar    http://www.w3.org/TR/CSS21/ui.html#propdef-outline[m
[32m+[m
[32m+[m[32mLa propiedad outline es una de las "propiedades shorthand" que define CSS y que se utilizan[m
[32m+[m[32mpara establecer de forma abreviada el valor de una o mÃ¡s propiedades individuales. En este caso,[m
[32m+[m[32mse utiliza para establecer el mismo grosor, estilo y/o anchura de todos los perfiles de un[m
[32m+[m[32melemento.[m
[32m+[m
[32m+[m[32mAunque es cierto que guarda muchas similitudes con la propiedad border, en realidad se[m
[32m+[m[32mdiferencian en algunos aspectos muy importantes:[m
[32m+[m
[32m+[m[32m      1. Los perfiles no ocupan espacio, mientras que los bordes normales sÃ­.[m
[32m+[m[32m      2. Los perfiles pueden tener formas no rectangulares.[m
[32m+[m
[32m+[m[32mDesde el punto de vista del diseÃ±o, la primera caracterÃ­stica es la mÃ¡s importante. Los perfiles u[m
[32m+[m[32moutline siempre se dibujan "por encima del elemento", por lo que no modifican la posiciÃ³n o el[m
[32m+[m[32mtamaÃ±o total de los elementos.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo se muestran dos cajas; la primera muestra un borde muy grueso y la[m
[32m+[m[32msegunda muestra un perfil de la misma anchura:[m
[32m+[m
[32m+[m[32mdiv { border: 5px solid #369; }[m
[32m+[m
[32m+[m[32mdiv { outline: 5px solid #369; }[m
[32m+[m
[32m+[m[32mEl perfil de la segunda caja se dibuja justo por el exterior de su borde. Aunque visualmente no lo[m
[32m+[m[32mparece, el perfil y el borde no se encuentran en el mismo plano. De esta forma, el perfil no se[m
[32m+[m[32mtiene en cuenta para calcular la anchura total de un elemento y no influye en el resto de[m
[32m+[m[32melementos cercanos.[m
[32m+[m
[32m+[m[32mLa segunda caracterÃ­stica importante de los perfiles pueden tener formas no rectangulares. En el[m
[32m+[m[32msiguiente ejemplo se muestra un texto muy largo encerrado en una caja muy estrecha, lo que[m
[32m+[m[32mprovoca que el texto se muestre en varias lÃ­neas:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                 88[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m span { border:[m
[32m+[m[32m 2px solid[m
[32m+[m[32m #369; }[m
[32m+[m[32m Ejemplo de[m
[32m+[m[32m texto largo que[m
[32m+[m[32m ocupa varias[m
[32m+[m[32m lÃ­neas[m
[32m+[m
[32m+[m[32m span { outline:[m
[32m+[m[32m 2px solid #369;[m
[32m+[m[32m } Ejemplo de[m
[32m+[m[32m texto largo que[m
[32m+[m[32m ocupa varias[m
[32m+[m[32m lÃ­neas[m
[32m+[m
[32m+[m[32mEl primer texto se encierra con un borde que produce un resultado estÃ©tico poco afortunado.[m
[32m+[m[32mCada lÃ­nea muestra un borde superior e inferior, aunque sÃ³lo la primera y Ãºltima lÃ­neas cierran[m
[32m+[m[32mel borde lateralmente.[m
[32m+[m
[32m+[m[32mMientras tanto, el segundo texto se encierra con un perfil. Como indica su nombre, la propiedad[m
[32m+[m[32moutline perfila los contenidos del elemento y los encierra con una forma no rectangular. No[m
[32m+[m[32mobstante, si visualizas esta misma pÃ¡gina en diferentes navegadores, verÃ¡s que todos los[m
[32m+[m[32mnavegadores dibujan el perfil de forma diferente, al contrario de lo que sucede con el borde.[m
[32m+[m
[32m+[m[32mPor este motivo, al contrario que los bordes, no existe el concepto de perfil izquierdo o perfil[m
[32m+[m[32msuperior. El perfil de un elemento es Ãºnico y sus propiedades son idÃ©nticas para cada uno de los[m
[32m+[m[32mcuatro lados.[m
[32m+[m
[32m+[m[32mComo sucede con muchas propiedades de tipo shorthand, el orden en el que se indican los[m
[32m+[m[32mvalores de la propiedd outline es indiferente:[m
[32m+[m
[32m+[m[32m div { outline: 1px solid #C00; }[m
[32m+[m[32m div { outline: solid 1px #C00; }[m
[32m+[m[32m div { outline: #C00 1px solid; }[m
[32m+[m[32m div { outline: #C00 solid 1px; }[m
[32m+[m
[32m+[m[32mLa propiedad outline no requiere que se indiquen las tres propiedades que definen el estilo de[m
[32m+[m[32mlos perfiles. Si no se indica alguna propiedad, su valor se obtiene mediante el valor por defecto[m
[32m+[m[32mde esa propiedad.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo sÃ³lo se indica el estilo del perfil, por lo que el navegador asigna[m
[32m+[m[32mautomÃ¡ticamente el valor medium a su grosor y el color se escoge para que tenga el mÃ¡ximo[m
[32m+[m[32mcontraste con el fondo de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m div { outline: solid; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  89[m
[32m+[m[32mCSS avanzado                  CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo se omite el grosor del perfil, por lo que el navegador le asigna[m
[32m+[m[32mautomÃ¡ticamente el valor medium:[m
[32m+[m
[32m+[m[32mdiv { outline: solid blue; }[m
[32m+[m
[32m+[m[32mNo obstante, como el valor por defecto del estilo de un perfil es none, si no se indica[m
[32m+[m[32mexplÃ­citamente el estilo del perfil, el resultado es que el navegador no muestra ese perfil:[m
[32m+[m
[32m+[m[32mdiv { outline: 2px blue; }[m
[32m+[m
[32m+[m[32mEl grosor del perfil se puede establecer de cualquiera de las diferentes formas de indicar una[m
[32m+[m[32mmedida en CSS. El color tambiÃ©n se puede establecer de alguna de las diferentes formas de[m
[32m+[m[32mindicar un color en CSS, con la particularidad del valor invert que selecciona el color que tenga[m
[32m+[m[32mmÃ¡s contraste con el color de fondo. Por Ãºltimo, el estilo del perfil se establece con los mismos[m
[32m+[m[32mvalores que los que se utilizan en la propiedad border-style.[m
[32m+[m
[32m+[m[32mAunque la propiedad outline es infinitamente menos utilizada que la propiedad border, la has[m
[32m+[m[32mvisto muchas mÃ¡s veces de las que crees. Si pulsas repetidamente la tecla del tabulador en una[m
[32m+[m[32mpÃ¡gina web, el navegador va seleccionando de forma secuencial todos los elementos pinchables o[m
[32m+[m[32mseleccionables: enlaces, botones, controles de formulario, etc.[m
[32m+[m
[32m+[m[32mPara indicar el elemento que estÃ¡ seleccionado, el navegador muestra un perfil muy fino de 1px[m
[32m+[m[32mde ancho, de estilo punteado y del color que mÃ¡s contrasta con el color de fondo de la pÃ¡gina. En[m
[32m+[m[32mla mayorÃ­a de las pÃ¡ginas web, el perfil que se muestra por defecto es outline: 1px dotted[m
[32m+[m[32m#000.[m
[32m+[m
[32m+[m[32mLos navegadores mÃ¡s avanzados incluyen una pseudo-clase llamada :focus que permite[m
[32m+[m[32mestablecer el estilo de los elementos seleccionados. Utilizando la propiedad outline junto con[m
[32m+[m[32m:focus se puede modificar el estilo por defecto del navegador:[m
[32m+[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     :focus { outline: 2px solid red; }[m
[32m+[m[32m     </style>[m
[32m+[m
[32m+[m[32mSi pruebas a pulsar repetidamente la tecla Tabulador en una pÃ¡gina que incluya la regla CSS[m
[32m+[m[32manterior, verÃ¡s que el navegador selecciona secuencialmente los enlaces de la pÃ¡gina y muestra[m
[32m+[m[32mun perfil continuo de color rojo para indicar el elemento que estÃ¡ seleccionado en cada[m
[32m+[m[32mmomento.[m
[32m+[m
[32m+[m[32mDe hecho, segÃºn el estÃ¡ndar oficial, ese es el propÃ³sito para el que se crearon los perfiles: indicar[m
[32m+[m[32mde forma clara el elemento (botÃ³n, enlace, otros controles de formulario) que estÃ¡ seleccionado[m
[32m+[m[32men cada momento.[m
[32m+[m
[32m+[m[32mwww.librosweb.es              90[m
[32m+[m[32mCSS avanzado                                                     CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m4.4. Propiedad quotes[m
[32m+[m
[32m+[m[32mDefiniciÃ³n        Establece los caracteres utilizados para mostrar las comillas[m
[32m+[m[32m                  Uno y sÃ³lo uno de los siguientes valores:[m
[32m+[m[32mValores           â–ª Un nÃºmero par de cadenas de texto[m
[32m+[m[32mpermitidos        â–ª none[m
[32m+[m[32m                  â–ª inherit[m
[32m+[m
[32m+[m[32mValor inicial     Depende de cada navegador[m
[32m+[m[32mSe aplica a       Todos los elementos[m
[32m+[m[32mVÃ¡lida en         medios visuales[m
[32m+[m[32mSe hereda         si[m
[32m+[m[32mDefiniciÃ³n en[m
[32m+[m[32mel estÃ¡ndar       http://www.w3.org/TR/CSS21/generate.html#propdef-quotes[m
[32m+[m
[32m+[m[32mLa propiedad quotes sÃ³lo tiene sentido cuando se utiliza junto con la propiedad content y los[m
[32m+[m[32mpseudo-elementos :after y :before. La propiedad quote se puede emplear para establecer los[m
[32m+[m[32mcaracteres que se utilizan al mostrar las comillas en un elemento.[m
[32m+[m
[32m+[m[32mPor defecto, cuando se utiliza la propiedad content junto con los valores open-quote y[m
[32m+[m[32mclose-quote, el navegador muestra unas determinadas comillas. Por tanto, si se considera el[m
[32m+[m[32msiguiente cÃ³digo HTML y CSS:[m
[32m+[m
[32m+[m[32m     blockquote:before { content: open-quote; }[m
[32m+[m[32m     blockquote:after { content: close-quote; }[m
[32m+[m
[32m+[m[32m     <blockquote>Lorem ipsum dolor sit amet...</blockquote>[m
[32m+[m
[32m+[m[32mEl navegador muestra el ejemplo anterior de la siguiente forma:[m
[32m+[m
[32m+[m[32mâ€œLorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus[m
[32m+[m[32mvulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum[m
[32m+[m[32mtincidunt pede, et blandit sem pede suscipit pede. Nulla cursus porta sem. Donec[m
[32m+[m[32mmollis nunc in leo.â€[m
[32m+[m
[32m+[m[32mSi utilizas un navegador moderno con soporte de la propiedad quotes, el ejemplo anterior se[m
[32m+[m[32mvisualiza como muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m                  Figura 4.5. Ejemplo de la propiedad quotes[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                    91[m
[32m+[m[32mCSS avanzado                      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mLa imagen anterior corresponde al navegador Firefox. Como el estÃ¡ndar CSS 2.1 no indica las[m
[32m+[m[32mcomillas que se deben utilizar por defecto, se pueden producir diferencias visuales en cada[m
[32m+[m[32mnavegador.[m
[32m+[m
[32m+[m[32mLa propiedad quotes se utiliza para establecer de forma explÃ­cita las comillas que debe utilizar el[m
[32m+[m[32mnavegador y por tanto, neutraliza las posibles diferencias entre navegadores. Las comillas[m
[32m+[m[32msiempre se indican por pares, siendo la primera la comilla de apertura y la segunda la comilla de[m
[32m+[m[32mcierre.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo modifica el anterior para utilizar las comillas Â« y Â»:[m
[32m+[m
[32m+[m[32m     blockquote {[m
[32m+[m[32m         quotes: "Â«" "Â»";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote:before { content: open-quote; }[m
[32m+[m[32m     blockquote:after { content: close-quote; }[m
[32m+[m
[32m+[m[32m     <blockquote>Lorem ipsum dolor sit amet...</blockquote>[m
[32m+[m
[32m+[m[32mAhora, el navegador muestra el ejemplo anterior de la siguiente forma:[m
[32m+[m
[32m+[m[32mâ€œLorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus[m
[32m+[m[32mvulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum[m
[32m+[m[32mtincidunt pede, et blandit sem pede suscipit pede. Nulla cursus porta sem. Donec[m
[32m+[m[32mmollis nunc in leo.â€[m
[32m+[m
[32m+[m[32mSi se visualiza esta pÃ¡gina con un navegador que soporte la propiedad quotes, el ejemplo[m
[32m+[m[32manterior se visualiza como muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m                                    Figura 4.6. Ejemplo de la propiedad quotes[m
[32m+[m
[32m+[m[32mLa propiedad quotes permite indicar un nÃºmero ilimitado de pares de comillas. Cuando sÃ³lo se[m
[32m+[m[32mdefine un par, se muestran siempre que se utilice open-quote y close-quote. Cuando se definen[m
[32m+[m[32mvarios pares, se van alternando cada vez que se muestran unas comillas dentro de otro elemento[m
[32m+[m[32mque ya tiene comillas. Cada comilla se separa de las demÃ¡s mediante un espacio en blanco, por lo[m
[32m+[m[32mque no debe utilizarse una coma o cualquier otro caracter de separaciÃ³n.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo define dos pares de comillas en cada elemento de modo que se alternan las[m
[32m+[m[32mcomillas cada vez que un elemento se encuentra dentro de otro elemento que tambiÃ©n muestra[m
[32m+[m[32mcomillas:[m
[32m+[m
[32m+[m[32m     blockquote, span {[m
[32m+[m[32m         quotes: "Â«" "Â»" '"' '"';[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mblockquote:before, span:before {[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                    92[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m         content: open-quote;[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote:after, span:after {[m
[32m+[m
[32m+[m[32m         content: close-quote;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <blockquote>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis[m
[32m+[m[32m     tellus vulputate lobortis. <span>Vivamus fermentum</span>, tortor id ornare ultrices,[m
[32m+[m[32m     ligula ipsum tincidunt pede, et blandit <span>sem pede suscipit pede.</span> Nulla[m
[32m+[m[32m     cursus porta sem. Donec mollis nunc in leo.</blockquote>[m
[32m+[m
[32m+[m[32mLas reglas CSS anteriores indican que el navegador debe utilizar diferentes comillas cuando el[m
[32m+[m[32mnivel de anidamiento sea diferente:[m
[32m+[m
[32m+[m[32mâ€œLorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus[m
[32m+[m[32mvulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum[m
[32m+[m[32mtincidunt pede, et blandit sem pede suscipit pede. Nulla cursus porta sem. Donec[m
[32m+[m[32mmollis nunc in leo.â€[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, tanto <blockquote> como <abbr> establecen dos pares de comillas.[m
[32m+[m[32mCuando uno de estos dos elementos se encuentre dentro de otro elemento que ya muestra[m
[32m+[m[32mcomillas, la propiedad quotes indica que se debe utilizar el segundo par de comillas en vez del[m
[32m+[m[32mprimero. Por lo tanto, si utilizas un navegador que soporta la propiedad quotes, el ejemplo[m
[32m+[m[32manterior se visualiza de la siguiente forma:[m
[32m+[m
[32m+[m[32m                                    Figura 4.7. Ejemplo de la propiedad quotes[m
[32m+[m
[32m+[m[32mLos valores de la propiedad quotes se indican mediante cadenas de texto. Una cadena de texto es[m
[32m+[m[32mun conjunto de uno o mÃ¡s caracteres encerrados por las comillas dobles (") o las comillas[m
[32m+[m[32msimples ('). Si la cadena contiene comillas dobles, se encierra con las comillas simples y[m
[32m+[m[32mviceversa. Si una cadena de texto tiene tanto comillas simples como dobles, las comillas[m
[32m+[m[32mproblemÃ¡ticas se modifican y se les aÃ±ade la barra invertida \ por delante:[m
[32m+[m
[32m+[m[32m     /* Comillas simples encerradas por comillas dobles */[m
[32m+[m[32m     .selector { quotes: "'" "'"; }[m
[32m+[m
[32m+[m[32m     /* Comillas dobles encerradas por comillas simples */[m
[32m+[m[32m     .selector { quotes: '"' '"'; }[m
[32m+[m
[32m+[m[32m     /* Comillas simples y dobles encerradas por comillas dobles */[m
[32m+[m[32m     .selector { quotes: "\"" "\"" "'" "'"; }[m
[32m+[m
[32m+[m[32m     /* Comillas simples y dobles encerradas por comillas simples */[m
[32m+[m[32m     .selector { quotes: '"' '"' '\'' '\''; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                    93[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mComo las comillas se indican mediante cadenas de texto, no estÃ¡n limitadas a un solo carÃ¡cter.[m
[32m+[m[32mEn el siguiente ejemplo se utilizan unas comillas poco habituales formadas por varios caracteres:[m
[32m+[m
[32m+[m[32m     blockquote, span {[m
[32m+[m[32m         quotes: "Â«Â«Â«" "Â»Â»Â»" "--" "--";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     blockquote:before, span:before {[m
[32m+[m[32m         content: open-quote;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote:after, span:after {[m
[32m+[m
[32m+[m[32m         content: close-quote;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <blockquote>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis[m
[32m+[m[32m     tellus vulputate lobortis. <span>Vivamus fermentum</span>, tortor id ornare ultrices,[m
[32m+[m[32m     ligula ipsum tincidunt pede, et blandit <span>sem pede suscipit pede.</span> Nulla[m
[32m+[m[32m     cursus porta sem. Donec mollis nunc in leo.</blockquote>[m
[32m+[m
[32m+[m[32mLas reglas CSS anteriores producen el siguiente resultado en el navegador:[m
[32m+[m
[32m+[m[32mâ€œLorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non sem quis tellus[m
[32m+[m[32mvulputate lobortis. Vivamus fermentum, tortor id ornare ultrices, ligula ipsum[m
[32m+[m[32mtincidunt pede, et blandit sem pede suscipit pede. Nulla cursus porta sem. Donec[m
[32m+[m[32mmollis nunc in leo.â€[m
[32m+[m
[32m+[m[32mEn un navegador con soporte de la propiedad quotes, el ejemplo anterior se visualiza de la[m
[32m+[m[32msiguiente forma:[m
[32m+[m
[32m+[m[32m                                    Figura 4.8. Ejemplo de la propiedad quotes[m
[32m+[m
[32m+[m[32mUtilizando el pseudo-selector :lang() es posible incluso definir diferentes tipos de comillas en[m
[32m+[m[32mfunciÃ³n del idioma del contenido:[m
[32m+[m
[32m+[m[32m     blockquote:lang(en) { quotes: '"' '"' "'" "'" } /* comillas para inglÃ©s */[m
[32m+[m[32m     blockquote:lang(es) { quotes: "Â«" "Â»" '"' '"' } /* comillas para espaÃ±ol */[m
[32m+[m
[32m+[m[32mLa propiedad quotes define otro valor llamado none que hace que no se muestre ninguna comilla[m
[32m+[m[32mcuando se utiliza el valor open-quote y close-quote de la propiedad content.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, el estÃ¡ndar de CSS 2.1 recomienda utilizar directamente los cÃ³digos definidos en el[m
[32m+[m[32mestÃ¡ndar ISO 10646 para indicar la comilla que se quiere utilizar.[m
[32m+[m
[32m+[m[32mDe esta forma, las dos siguientes reglas CSS son equivalentes:[m
[32m+[m
[32m+[m[32m     blockquote, abbr {[m
[32m+[m[32m         quotes: "Â«" "Â»" "'" "'";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                    94[m
[32m+[m[32mCSS avanzado                        CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m     blockquote, abbr {[m
[32m+[m[32m         quotes: "\00AB" "\00BB" "\0027" "\0027";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa siguiente tabla recoge las comillas mÃ¡s utilizadas y sus cÃ³digos correspondientes:[m
[32m+[m
[32m+[m[32mCarÃ¡cter tipogrÃ¡fico de la comilla  CÃ³mo la muestran los navegadores          CÃ³digo ISO 10646[m
[32m+[m[32m"                                   "                                         0022[m
[32m+[m[32m'                                   '                                         0027[m
[32m+[m[32mâ€¹                                   <                                         2039[m
[32m+[m[32mâ€º                                   >                                         203A[m
[32m+[m[32mÂ«                                   Â«                                         00AB[m
[32m+[m[32mÂ»                                   Â»                                         00BB[m
[32m+[m[32mâ€˜                                   `                                         2018[m
[32m+[m[32mâ€™                                   '                                         2019[m
[32m+[m[32mâ€œ                                   ``                                        201C[m
[32m+[m[32mâ€                                   ''                                        201D[m
[32m+[m[32mâ€ž                                   ,,                                        201E[m
[32m+[m
[32m+[m[32m4.5. Propiedad counter-reset[m
[32m+[m
[32m+[m[32mDefiniciÃ³n    Inicializa el valor de uno o mÃ¡s contadores[m
[32m+[m
[32m+[m[32mValores       Uno y sÃ³lo uno de los siguientes valores:[m
[32m+[m[32mpermitidos    â–ª Uno o mÃ¡s nombres de contadores seguidos opcionalmente por un nÃºmero entero cada[m
[32m+[m
[32m+[m[32m                  uno[m
[32m+[m[32m              â–ª none[m
[32m+[m[32m              â–ª inherit[m
[32m+[m
[32m+[m[32mValor inicial none[m
[32m+[m
[32m+[m[32mSe aplica a Todos los elementos[m
[32m+[m
[32m+[m[32mVÃ¡lida en all[m
[32m+[m
[32m+[m[32mSe hereda no[m
[32m+[m
[32m+[m[32mDefiniciÃ³n    http://www.w3.org/TR/CSS21/generate.html#propdef-counter-reset[m
[32m+[m[32men[m
[32m+[m[32mel estÃ¡ndar[m
[32m+[m
[32m+[m[32mLa propiedad counter-reset se emplea para controlar la numeraciÃ³n automÃ¡tica de CSS 2.1 que[m
[32m+[m[32mse utiliza en las funciones counter() y counters() de la propiedad content.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                  95[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mEl funcionamiento bÃ¡sico de la propiedad counter-reset es sencillo, pero su flexibilidad y la[m
[32m+[m[32mcombinaciÃ³n con otras propiedades y funciones de CSS pueden complicar mucho su[m
[32m+[m[32minterpretaciÃ³n.[m
[32m+[m
[32m+[m[32mEn el caso mÃ¡s sencillo, la propiedad counter-reset indica el nombre de un contador seguido[m
[32m+[m[32mopcionalmente por un nÃºmero entero que indica el valor al que se inicializa el contador:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         counter-reset: numero_capitulo 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa regla CSS anterior hace que se inicialice a 0 un contador llamado numero_capitulo cuando el[m
[32m+[m[32mnavegador encuentre el elemento <body>. Si el contador no existÃ­a, el estÃ¡ndar CSS 2.1 indica que[m
[32m+[m[32mse crea cuando se encuentre el primer elemento <body>, es decir, al principio de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLa regla CSS anterior se puede emplear para crear el contador que se utiliza posteriormente en[m
[32m+[m[32mlas propiedades counter-increment y content:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         counter-reset: numero_capitulo 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h1:before {[m
[32m+[m
[32m+[m[32m         content: "CapÃ­tulo " counter(numero_capitulo);[m
[32m+[m[32m         counter-increment: numero_capitulo 1;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mCuando se inicializa y se actualiza el valor de un contador en un mismo elemento, primero se[m
[32m+[m[32minicializa su valor y despuÃ©s se actualiza segÃºn la propiedad counter-increment.[m
[32m+[m
[32m+[m[32mSi no se indica el nÃºmero entero opcional, los navegadores suponen que vale 0, por lo que las[m
[32m+[m[32msiguientes reglas CSS son equivalentes a las anteriores:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         counter-reset: numero_capitulo;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h1:before {[m
[32m+[m
[32m+[m[32m         content: "CapÃ­tulo " counter(numero_capitulo);[m
[32m+[m[32m         counter-increment: numero_capitulo 1;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa propiedad counter-reset tambiÃ©n cumple con el comportamiento en cascada de las[m
[32m+[m[32mpropiedades CSS, por lo que en el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         counter-reset: parrafos;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ...[m
[32m+[m[32m     p{[m
[32m+[m
[32m+[m[32m         counter-reset: elementos;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLas reglas CSS anteriores provocan un colisiÃ³n en el valor de la propiedad counter-reset. SegÃºn[m
[32m+[m[32mlas normas de resoluciÃ³n de colisiones, en este caso gana la Ãºltima regla y los elementos de tipo[m
[32m+[m[32m<p> sÃ³lo inicializan el valor del contador elementos.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  96[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mAdemÃ¡s de inicializar el valor de los contadores a 0, tambiÃ©n es posible inicializarlos a cualquier[m
[32m+[m[32motro valor entero positivo o negativo, tal y como muestra el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         counter-reset: numero_capitulo -1;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h1:before {[m
[32m+[m
[32m+[m[32m         content: "CapÃ­tulo " counter(numero_capitulo);[m
[32m+[m[32m         counter-increment: numero_capitulo;[m
[32m+[m[32m         counter-reset: numero_seccion -1;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa propiedad counter-reset tambiÃ©n permite indicar varios contadores para inicializarlos de[m
[32m+[m[32mforma simultÃ¡nea:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         counter-reset: numero_seccion numero_tabla numero_imagen;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa regla CSS anterior inicializa a 0 los contadores numero_seccion, numero_tabla y[m
[32m+[m[32mnumero_imagen cada vez que se encuentra un elemento <h1> en la pÃ¡gina. TambiÃ©n es posible[m
[32m+[m[32mindicar diferentes valores iniciales para cada contador:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         counter-reset: numero_seccion 0 numero_tabla -1 numero_imagen -1;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAdemÃ¡s, tambiÃ©n es posible indicar el mismo contador mÃ¡s de una vez en la propiedad[m
[32m+[m[32mcounter-reset. En este caso, se realizan todas las inicializaciones en el orden indicado:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         counter-reset: parrafos parrafos -1 parrafos 3;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         counter-reset: parrafos parrafos -1 parrafos 3 parrafos;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa primera regla del ejemplo anterior inicializa el valor del contador parrafos a 3, mientras que[m
[32m+[m[32mla segunda regla inicializa el contador parrafos a 0. Como el navegador procesa las[m
[32m+[m[32minicializaciones en el mismo orden indicado, la Ãºnica que se tiene en cuenta es la Ãºltima.[m
[32m+[m
[32m+[m[32mLos contadores tienen en cuenta el anidamiento de los elementos HTML. Si se consideran las[m
[32m+[m[32msiguientes reglas CSS:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         counter-reset: numero_parrafo;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     div p:before {[m
[32m+[m
[32m+[m[32m         content: "Parrafo " counter(numero_parrafo) " ";[m
[32m+[m[32m         counter-increment: numero_parrafo;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  97[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mLa propiedad counter-reset crea o inicializa el valor del contador numero_parrafo cada vez que[m
[32m+[m[32mencuentra un elemento <div>. De esta forma, si la regla CSS anterior se aplica al siguiente cÃ³digo[m
[32m+[m[32mHTML:[m
[32m+[m
[32m+[m[32m     <div>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m         <div>[m
[32m+[m[32m            <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            <div>[m
[32m+[m[32m               <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m               <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m               <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el navegador crea automÃ¡ticamente tres contadores diferentes pero con[m
[32m+[m[32mel mismo nombre (numero_parrafo). Cada vez que se encuentra un elemento <div>, el[m
[32m+[m[32mnavegador crea o inicializa un contador llamado numero_parrafo, por lo que todos los pÃ¡rrafos[m
[32m+[m[32mdel ejemplo anterior disponen de la misma numeraciÃ³n (1, 2 y 3).[m
[32m+[m
[32m+[m[32mSi se visualiza el ejemplo anterior con un navegador que soporte completamente las propiedades[m
[32m+[m[32mcounter-reset, counter-increment y content, el resultado es el que muestra la siguiente[m
[32m+[m[32mimagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  98[m
[32m+[m[32mCSS avanzado                 CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mFigura 4.9. Ejemplo de las propiedades counter-reset, counter-increment y content[m
[32m+[m
[32m+[m[32mLos elementos ocultos mediante la propiedad display (display: none) no pueden modificar el[m
[32m+[m[32mvalor de los contadores, mientras que los elementos ocultos mediante la propiedad visibility[m
[32m+[m[32m(visibility: hidden) si que los actualizan:[m
[32m+[m
[32m+[m[32mp.oculto {                   /* No se inicializa porque el elemento[m
[32m+[m[32m   display: none;                se ha ocultado mediante display: none */[m
[32m+[m[32m   counter-reset: parrafos;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mp.invisible {                /* Se inicializa a 0 porque el elemento[m
[32m+[m[32m   visibility: hidden;           se ha hecho invisible con visibility: hidden */[m
[32m+[m[32m   counter-reset: parrafos;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                   99[m
[32m+[m[32mCSS avanzado                      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m4.6. Propiedad counter-increment[m
[32m+[m
[32m+[m[32mDefiniciÃ³n    Actualiza el valor de uno o mÃ¡s contadores[m
[32m+[m
[32m+[m[32mValores       Uno y sÃ³lo uno de los siguientes valores:[m
[32m+[m[32mpermitidos    â–ª Uno o mÃ¡s nombres de contadores seguidos opcionalmente por un nÃºmero entero cada[m
[32m+[m
[32m+[m[32m                  uno[m
[32m+[m[32m              â–ª none[m
[32m+[m[32m              â–ª inherit[m
[32m+[m
[32m+[m[32mValor inicial none[m
[32m+[m
[32m+[m[32mSe aplica a Todos los elementos[m
[32m+[m
[32m+[m[32mVÃ¡lida en all[m
[32m+[m
[32m+[m[32mSe hereda no[m
[32m+[m
[32m+[m[32mDefiniciÃ³n    http://www.w3.org/TR/CSS21/generate.html#propdef-counter-increment[m
[32m+[m[32men[m
[32m+[m[32mel estÃ¡ndar[m
[32m+[m
[32m+[m[32mLa propiedad counter-increment se emplea para controlar la numeraciÃ³n automÃ¡tica de CSS 2.1[m
[32m+[m[32mque se utiliza en las funciones counter() y counters() de la propiedad content.[m
[32m+[m
[32m+[m[32mEl funcionamiento bÃ¡sico de la propiedad counter-increment es sencillo, pero su flexibilidad y[m
[32m+[m[32mla combinaciÃ³n con otras propiedades y funciones de CSS pueden complicar mucho su[m
[32m+[m[32minterpretaciÃ³n.[m
[32m+[m
[32m+[m[32mEn el caso mÃ¡s sencillo, la propiedad counter-increment indica el nombre de un contador[m
[32m+[m[32mseguido opcionalmente por un nÃºmero entero que indica la cantidad en la que se incrementa:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         counter-increment: numero_capitulo 1;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa regla CSS anterior hace que se incremente en una unidad el valor de un contador llamado[m
[32m+[m[32mnumero_capitulo cada vez que la pÃ¡gina incluya un elemento <h1>. Si el contador no existÃ­a, el[m
[32m+[m[32mestÃ¡ndar CSS 2.1 indica que cuando se encuentre el primer elemento <h1>, se crea el contador, se[m
[32m+[m[32minicializa al valor 0 y posteriormente se actualiza su valor segÃºn la propiedad[m
[32m+[m[32mcounter-increment indicada.[m
[32m+[m
[32m+[m[32mEste contador bÃ¡sico se puede emplear para aÃ±adir una numeraciÃ³n automÃ¡tica a los elementos[m
[32m+[m[32m<h1> de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     h1:before {[m
[32m+[m[32m         content: "CapÃ­tulo " counter(numero_capitulo);[m
[32m+[m[32m         counter-increment: numero_capitulo 1;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mCuando se actualiza y se utiliza el valor de un contador en un mismo elemento, primero se[m
[32m+[m[32mactualiza su valor y despuÃ©s se utiliza en la propiedad content.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  100[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mSi no se indica el nÃºmero entero opcional, los navegadores suponen que vale 1, por lo que la[m
[32m+[m[32msiguiente regla CSS es equivalente a la anterior:[m
[32m+[m
[32m+[m[32m     h1:before {[m
[32m+[m[32m         content: "CapÃ­tulo " counter(numero_capitulo);[m
[32m+[m[32m         counter-increment: numero_capitulo;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAdemÃ¡s de incrementar el valor de los contadores, tambiÃ©n es posible decrementarlo o no[m
[32m+[m[32mmodificarlo. El siguiente ejemplo amplÃ­a el anterior para no incrementar el valor del contador en[m
[32m+[m[32malgunos elementos <h1> especiales:[m
[32m+[m
[32m+[m[32m     h1:before {[m
[32m+[m[32m         content: "CapÃ­tulo " counter(numero_capitulo);[m
[32m+[m[32m         counter-increment: numero_capitulo;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h1.especial {[m
[32m+[m
[32m+[m[32m         counter-increment: numero_capitulo 0;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mNo obstante, si se quiere inicializar un contador para que vuelva a valer 0 o cualquier otro valor[m
[32m+[m[32mnumÃ©rico, es preciso utilizar la propiedad counter-reset.[m
[32m+[m
[32m+[m[32mLa propiedad counter-increment tambiÃ©n permite indicar varios contadores para actualizarlos[m
[32m+[m[32mde forma simultÃ¡nea:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         counter-increment: elementos parrafos especial 2;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa regla CSS anterior incrementa en una unidad el valor de los contadores elementos y parrafos[m
[32m+[m[32mcada vez que se encuentra un elemento <p> en la pÃ¡gina. AdemÃ¡s, incrementa en 2 unidades el[m
[32m+[m[32mvalor de otro contador llamado especial cada vez que encuentra un elemento <p>.[m
[32m+[m
[32m+[m[32mTambiÃ©n es posible indicar el mismo contador mÃ¡s de una vez en la propiedad[m
[32m+[m[32mcounter-increment:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         counter-increment: elementos parrafos especial 2 parrafos elementos 3;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, cada vez que se encuentra un elemento <p> en la pÃ¡gina se incrementa 4[m
[32m+[m[32munidades el valor del contador elementos, 2 unidades el valor del contador parrafos y 2[m
[32m+[m[32munidades el valor del contador especial.[m
[32m+[m
[32m+[m[32mLos contadores tienen en cuenta el anidamiento de los elementos HTML. Si se consideran las[m
[32m+[m[32msiguientes reglas CSS:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         counter-reset: numero_parrafo;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     div p:before {[m
[32m+[m
[32m+[m[32m         content: "Parrafo " counter(numero_parrafo) " ";[m
[32m+[m
[32m+[m[32mwww.librosweb.es  101[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m         counter-increment: numero_parrafo;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa propiedad counter-reset crea o inicializa el valor del contador numero_parrafo cada vez que[m
[32m+[m[32mencuentra un elemento <div>. De esta forma, si la regla CSS anterior se aplica al siguiente cÃ³digo[m
[32m+[m[32mHTML:[m
[32m+[m
[32m+[m[32m     <div>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m         <div>[m
[32m+[m[32m            <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            <div>[m
[32m+[m[32m               <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m               <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m               <p>Lorem ipsum dolor sit amet</p>[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el navegador crea automÃ¡ticamente tres contadores diferentes pero con[m
[32m+[m[32mel mismo nombre (numero_parrafo). Cada vez que se encuentra un elemento <div>, el[m
[32m+[m[32mnavegador crea o inicializa un contador llamado numero_parrafo, por lo que todos los pÃ¡rrafos[m
[32m+[m[32mdel ejemplo anterior disponen de la misma numeraciÃ³n (1, 2 y 3).[m
[32m+[m
[32m+[m[32mSi se visualiza el ejemplo anterior con un navegador que soporte completamente las propiedades[m
[32m+[m[32mcounter-increment, counter-reset y content, el resultado es el que muestra la siguiente[m
[32m+[m[32mimagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  102[m
[32m+[m[32mCSS avanzado                     CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mFigura 4.10. Ejemplo de las propiedades counter-increment, counter-reset y content[m
[32m+[m
[32m+[m[32mLos elementos ocultos mediante la propiedad display (display: none) no modifican el valor de[m
[32m+[m[32mlos contadores, mientras que los elementos ocultos mediante la propiedad visibility[m
[32m+[m[32m(visibility: hidden) si que los actualizan:[m
[32m+[m
[32m+[m[32mp.oculto {                       /* No se actualiza porque el elemento[m
[32m+[m[32m   display: none;                    se ha ocultado mediante display: none */[m
[32m+[m[32m   counter-increment: parrafos;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mp.invisible {                    /* Se actualiza porque el elemento[m
[32m+[m[32m   visibility: hidden;               se ha hecho invisible con visibility: hidden */[m
[32m+[m[32m   counter-increment: parrafos;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      103[m
[32m+[m[32mCSS avanzado                                                   CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m4.7. Propiedad content[m
[32m+[m
[32m+[m[32mDefiniciÃ³n     Genera contenido de forma dinÃ¡mica[m
[32m+[m
[32m+[m[32m               Existen cuatro opciones diferentes para establecer el valor o valores de esta propiedad:[m
[32m+[m[32m                      1. Uno o mÃ¡s de los siguientes valores:[m
[32m+[m
[32m+[m[32m                      â–ª cadena de texto  â–ª URL                 â–ª contador[m
[32m+[m
[32m+[m[32mValores               â–ª valor de un atributo â–ª open-quote      â–ª close-quote[m
[32m+[m[32mpermitidos[m
[32m+[m
[32m+[m[32m                      â–ª no-open-quote    â–ª no-close-quote[m
[32m+[m
[32m+[m[32m                    2. normal[m
[32m+[m[32m                    3. none[m
[32m+[m[32m                    4. inherit[m
[32m+[m
[32m+[m[32mValor inicial normal[m
[32m+[m
[32m+[m[32mSe aplica a Solamente a los pseudo-elementos :before y :after[m
[32m+[m
[32m+[m[32mVÃ¡lida en      all[m
[32m+[m
[32m+[m[32mSe hereda no[m
[32m+[m
[32m+[m[32mDefiniciÃ³n en  http://www.w3.org/TR/CSS21/generate.html#propdef-content[m
[32m+[m[32mel estÃ¡ndar[m
[32m+[m
[32m+[m[32mLa propiedad content es una de las propiedades CSS mÃ¡s poderosas y a la vez mÃ¡s[m
[32m+[m[32mcontrovertidas. La propiedad content se emplea para generar nuevo contenido de forma[m
[32m+[m[32mdinÃ¡mica e insertarlo en la pÃ¡gina HTML. Como CSS es un lenguaje de hojas de estilos cuyo Ãºnico[m
[32m+[m[32mpropÃ³sito es controlar el aspecto o presentaciÃ³n de los contenidos, algunos diseÃ±adores[m
[32m+[m[32mdefienden que no es correcto generar nuevos contenidos mediante CSS.[m
[32m+[m
[32m+[m[32mEn primer lugar, el estÃ¡ndar CSS 2.1 indica que la propiedad content sÃ³lo puede utilizarse en los[m
[32m+[m[32mpseudo-elementos :before y :after. Como su propio nombre indica, estos pseudo-elementos[m
[32m+[m[32mpermiten seleccionar (y por tanto modificar) la parte anterior o posterior de un elemento de la[m
[32m+[m[32mpÃ¡gina.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra cÃ³mo aÃ±adir la palabra CapÃ­tulo delante del contenido de cada[m
[32m+[m[32mtÃ­tulo de secciÃ³n <h1>:[m
[32m+[m
[32m+[m[32m     h1:before {[m
[32m+[m[32m         content: "CapÃ­tulo ";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos pseudo-elementos :before y :after se pueden utilizar sobre cualquier elemento de la[m
[32m+[m[32mpÃ¡gina. El siguiente ejemplo aÃ±ade la palabra Nota: delante de cada pÃ¡rrafo cuya clase CSS sea[m
[32m+[m[32mnota:[m
[32m+[m
[32m+[m[32m     p.nota:before {[m
[32m+[m[32m         content: "Nota: ";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                         104[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mCombinando las propiedades content y quotes con los pseudo-elementos :before y :after, se[m
[32m+[m[32mpueden aÃ±adir de forma dinÃ¡mica comillas de apertura y de cierre a todos los elementos[m
[32m+[m[32m<blockquote> de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     blockquote:before {[m
[32m+[m[32m         content: open-quote;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote:after {[m
[32m+[m
[32m+[m[32m         content: close-quote;[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote {[m
[32m+[m
[32m+[m[32m         quotes: "Â«" "Â»";[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos contenidos insertados dinÃ¡micamente en un elemento son a todos los efectos parte de ese[m
[32m+[m[32mmismo elemento, por lo que heredan el valor de todas sus propiedades CSS.[m
[32m+[m
[32m+[m[32mLos dos valores mÃ¡s sencillos de la propiedad content son none y normal. En la prÃ¡ctica, estos[m
[32m+[m[32mdos valores tienen el mismo efecto ya que hacen que el pseudo-elemento no se genere.[m
[32m+[m
[32m+[m[32mEl siguiente valor que se puede indicar en la propiedad content es una cadena de texto. En el[m
[32m+[m[32mestÃ¡ndar CSS 2.1, una cadena de texto es un conjunto de uno o mÃ¡s caracteres encerrados por las[m
[32m+[m[32mcomillas dobles (") o las comillas simples ('). Si la cadena contiene comillas dobles, se encierra[m
[32m+[m[32mcon las comillas simples y viceversa. Si una cadena de texto tiene tanto comillas simples como[m
[32m+[m[32mdobles, las comillas problemÃ¡ticas se modifican y se les aÃ±ade la barra invertida \ por delante:[m
[32m+[m
[32m+[m[32m     p:before {[m
[32m+[m[32m         content: "Contenido generado \"dinÃ¡micamente\" mediante CSS. ";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #ultimo:after {[m
[32m+[m
[32m+[m[32m         content: " Fin de los 'contenidos' de la pÃ¡gina.";[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLas cadenas de texto sÃ³lo permiten incluir texto bÃ¡sico. Si se incluye alguna etiqueta HTML en la[m
[32m+[m[32mcadena de texto, el navegador muestra la etiqueta tal y como estÃ¡ escrita, ya que no las[m
[32m+[m[32minterpreta. Para incluir un salto de lÃ­nea en el contenido generado, se utiliza el caracter especial[m
[32m+[m[32m\A[m
[32m+[m
[32m+[m[32mEl siguiente valor aceptado por la propiedad content es una URL, que suele utilizarse para[m
[32m+[m[32mindicar la URL de una imagen que se quiere aÃ±adir de forma dinÃ¡mica al contenido. La sintaxis es[m
[32m+[m[32midÃ©ntica al resto de URL que se pueden indicar en otras propiedades CSS:[m
[32m+[m
[32m+[m[32m     span.especial:after {[m
[32m+[m[32m         content: url("imagenes/imagen.png");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mOtros valores que se pueden indicar en la propiedad content son open-quote, close-quote,[m
[32m+[m[32mno-open-quote y no-close-quote. Los dos primeros indican que se debe mostar una comilla de[m
[32m+[m[32mapertura o de cierre respectivamente. Las comillas utilizadas se establecen mediante la[m
[32m+[m[32mpropiedad quotes:[m
[32m+[m
[32m+[m[32m     blockquote { quotes: "Â«" "Â»" '"' '"' }[m
[32m+[m[32m     blockquote:before {[m
[32m+[m
[32m+[m[32mwww.librosweb.es  105[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m         content: open-quote;[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote:after {[m
[32m+[m
[32m+[m[32m         content: close-quote;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos valores no-open-quote y no-close-quote se utilizan para no mostrar ninguna comilla en ese[m
[32m+[m[32melemento, pero incrementando el nivel de anidamiento de las comillas. De esta forma se puede[m
[32m+[m[32mevitar mostrar una comilla en un determinado elemento mientras se mantiene la jerarquÃ­a de[m
[32m+[m[32mcomillas establecida por la propiedad quotes.[m
[32m+[m
[32m+[m[32mUno de los valores mÃ¡s avanzados de la propiedad content es attr(), que permite obtener el[m
[32m+[m[32mvalor de un atributo del elemento sobre el que se utiliza la propiedad content. En el siguiente[m
[32m+[m[32mejemplo, se modifican los elementos <abbr> y <acronym> para que muestren entre parÃ©ntesis el[m
[32m+[m[32mvalor de sus atributos title:[m
[32m+[m
[32m+[m[32m     abbr:after, acronym:after {[m
[32m+[m[32m         content: " (" attr(title) ")"[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl valor de la propiedad content anterior en realidad es la combinaciÃ³n de tres valores:[m
[32m+[m
[32m+[m[32m    â–ª Cadena de texto " (", que es el parÃ©ntesis de apertura tras el cual se muestra el valor del[m
[32m+[m[32m       atributo title.[m
[32m+[m
[32m+[m[32m    â–ª Atributo title del elemento obtenido mediante attr(title)[m
[32m+[m
[32m+[m[32m    â–ª Cadena de texto ")", que es el parÃ©ntesis de cierre que se muestra detrÃ¡s del valor del[m
[32m+[m[32m       atributo title.[m
[32m+[m
[32m+[m[32mSi el elemento no dispone del atributo solicitado, la funciÃ³n attr(nombre_del_atributo)[m
[32m+[m[32mdevuelve una cadena de texto vacÃ­a. Utilizando attr() solamente se puede obtener el valor de[m
[32m+[m[32mlos atributos del elemento al que se aplica la propiedad content.[m
[32m+[m
[32m+[m[32mLa funciÃ³n attr() es muy Ãºtil por ejemplo para mostrar la direcciÃ³n a la que apuntan los enlaces[m
[32m+[m[32mde la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     a:after {[m
[32m+[m[32m         content: " (" attr(href) ")";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos Ãºltimos valores que se pueden indicar en la propiedad content son los contadores creados[m
[32m+[m[32mcon las propiedades counter-increment y counter-reset. Los contadores mÃ¡s sencillos se[m
[32m+[m[32mmuestran con la funciÃ³n counter(nombre_del_contador). El siguiente ejemplo crea dos[m
[32m+[m[32mcontadores llamado capitulo y seccion para utilizarlos con los elementos <h1> y <h2>:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         counter-reset: capitulo;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h1 {[m
[32m+[m
[32m+[m[32m         counter-reset: seccion;[m
[32m+[m[32m     }[m
[32m+[m[32m     h1:before {[m
[32m+[m
[32m+[m[32mwww.librosweb.es  106[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m         content: "CapÃ­tulo " counter(capitulo) ". ";[m
[32m+[m[32m         counter-increment: capitulo;[m
[32m+[m[32m     }[m
[32m+[m[32m     h2:before {[m
[32m+[m[32m         content: counter(capitulo) "." counter(seccion) " ";[m
[32m+[m[32m         counter-increment: seccion;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, se crea e inicializa su valor a 0 un contador llamado capitulo cuando se[m
[32m+[m[32mencuentre el elemento <body>, es decir, al comienzo de la pÃ¡gina. AdemÃ¡s, se crea e inicializa su[m
[32m+[m[32mvalor a 0 otro contador llamado seccion cada vez que se encuentra un elemento <h1> en la[m
[32m+[m[32mpÃ¡gina.[m
[32m+[m
[32m+[m[32mPosteriormente, se aÃ±ade de forma dinÃ¡mica a los elementos <h1> y <h2> el contenido generado[m
[32m+[m[32mmediante los contadores. Los elementos <h1> utilizan el contador capitulo y lo incrementan en[m
[32m+[m[32muna unidad cada vez que lo utilizan. Los elementos <h2> utilizan los dos contadores para generar[m
[32m+[m[32mun contenido que muestra su numeraciÃ³n completa. AdemÃ¡s, los elementos <h2> actualizan el[m
[32m+[m[32mvalor del contador seccion.[m
[32m+[m
[32m+[m[32mCuando un mismo elemento inicializa/actualiza un contador y lo utiliza en la propiedad content,[m
[32m+[m[32men primer lugar se inicializa/actualiza y despuÃ©s, el valor actualizado es el que se utiliza[m
[32m+[m[32mmediante counter().[m
[32m+[m
[32m+[m[32mAdemÃ¡s de mostrar el valor de un contador bÃ¡sico, la funciÃ³n counter() permite indicar el estilo[m
[32m+[m[32mcon el que se muestra el valor del contador. La lista de estilos permitidos son los mismos que los[m
[32m+[m[32mde la propiedad list-style-type.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo modifica el anterior para mostrar el valor de los contadores en nÃºmeros[m
[32m+[m[32mromanos:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         counter-reset: capitulo;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h1 {[m
[32m+[m
[32m+[m[32m         counter-reset: seccion;[m
[32m+[m[32m     }[m
[32m+[m[32m     h1:before {[m
[32m+[m
[32m+[m[32m         content: "CapÃ­tulo " counter(capitulo, upper-roman) ". ";[m
[32m+[m[32m         counter-increment: capitulo;[m
[32m+[m[32m     }[m
[32m+[m[32m     h2:before {[m
[32m+[m[32m         content: counter(capitulo, upper-roman) "." counter(seccion, upper-roman) " ";[m
[32m+[m[32m         counter-increment: seccion;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos estilos de los contadores tambiÃ©n se pueden emplear para no mostrar el valor de los[m
[32m+[m[32mcontadores en algunos elementos:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         counter-increment: parrafos;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     p:before {[m
[32m+[m
[32m+[m[32m         content: counter(parrafos);[m
[32m+[m
[32m+[m[32mwww.librosweb.es  107[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #especial p:before {[m
[32m+[m
[32m+[m[32m         content: counter(parrafos, none);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAunque el valor de los contadores siempre es nÃºmerico, tambiÃ©n es pueden emplear estilos[m
[32m+[m[32mgrÃ¡ficos como square, disc o circle:[m
[32m+[m
[32m+[m[32m     h2 {[m
[32m+[m[32m         counter-increment: seccion;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h2:before {[m
[32m+[m
[32m+[m[32m         content: counter(seccion, disc);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa funciÃ³n counter() solamente muestra el valor de un contador. Por su parte, la funciÃ³n[m
[32m+[m[32mcounters() se utiliza para mostrar de forma simultÃ¡nea el valor de todos los contadores[m
[32m+[m[32masociados con el elemento. Como se explica en la descripciÃ³n de las propiedades[m
[32m+[m[32mcounter-increment y counter-reset, los contadores se pueden anidar y un mismo elemento[m
[32m+[m[32mpuede tener asociados varios contadores diferentes con el mismo nombre.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra unas reglas CSS que crean un contador para los elementos de una[m
[32m+[m[32mlista <ol>:[m
[32m+[m
[32m+[m[32m     ol {[m
[32m+[m[32m         counter-reset: elemento;[m
[32m+[m[32m         list-style-type: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     li:before {[m
[32m+[m
[32m+[m[32m         content: counter(elemento) ". ";[m
[32m+[m[32m         counter-increment: elemento;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se considera el siguiente cÃ³digo HTML:[m
[32m+[m
[32m+[m[32m     <ol>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m[32m         <li>Elemento[m
[32m+[m[32m            <ol>[m
[32m+[m[32m                   <li>Elemento</li>[m
[32m+[m[32m                   <li>Elemento[m
[32m+[m[32m                      <ol>[m
[32m+[m[32m                         <li>Elemento</li>[m
[32m+[m[32m                         <li>Elemento</li>[m
[32m+[m[32m                         <li>Elemento</li>[m
[32m+[m[32m                      </ol>[m
[32m+[m[32m                   </li>[m
[32m+[m[32m                   <li>Elemento</li>[m
[32m+[m[32m            </ol>[m
[32m+[m[32m         </li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m
[32m+[m[32m     </ol>[m
[32m+[m
[32m+[m[32mwww.librosweb.es  108[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mSi se aplican las reglas CSS al cÃ³digo HTML anterior, se crean tres contadores diferentes con el[m
[32m+[m[32mmismo nombre (elemento) y el resultado es el que muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m                                  Figura 4.11. Ejemplo de la propiedad content[m
[32m+[m
[32m+[m[32mSin embargo, si se utiliza la funciÃ³n counters() en las reglas CSS anteriores:[m
[32m+[m
[32m+[m[32m     ol {[m
[32m+[m[32m         counter-reset: elemento;[m
[32m+[m[32m         list-style-type: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     li:before {[m
[32m+[m
[32m+[m[32m         content: counters(elemento, '. ') ". ";[m
[32m+[m[32m         counter-increment: elemento;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAhora, el aspecto que muestra la lista de elementos es el de la siguiente imagen:[m
[32m+[m
[32m+[m[32m                  Figura 4.12. Ejemplo de la propiedad content[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                   109[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 4. Propiedades avanzadas[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, cada vez que se encuentra un elemento <ol> se crea un contador llamado[m
[32m+[m[32melemento. Por este motivo, los elementos <li> anidados se ven afectados por varios contadores[m
[32m+[m[32mllamados elemento. La funciÃ³n counter() sÃ³lo muestra el valor del contador que afecta mÃ¡s[m
[32m+[m[32mdirectamente al elemento, mientras que la funciÃ³n counters() muestra todos los contadores[m
[32m+[m[32mempezando desde el mÃ¡s externo hasta llegar al mÃ¡s interno.[m
[32m+[m
[32m+[m[32mEl segundo argumento de la funciÃ³n counters() es una cadena de texto que se emplea para[m
[32m+[m[32mseparar los valores de los diferentes contadores. CSS 2.1 no permite utilizar diferentes[m
[32m+[m[32mseparadores para cada nivel jerÃ¡rquico.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, la funciÃ³n counters() tambiÃ©n permite indicar el estilo con el que se muestra el[m
[32m+[m[32mvalor de los contadores. De esta forma, el siguiente ejemplo modifica el anterior para mostrar el[m
[32m+[m[32mvalor de todos los contadores en nÃºmeros romanos:[m
[32m+[m
[32m+[m[32m     ol {[m
[32m+[m[32m         counter-reset: elemento;[m
[32m+[m[32m         list-style-type: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     li:before {[m
[32m+[m
[32m+[m[32m         content: counters(elemento, '. ', upper-roman) ". ";[m
[32m+[m[32m         counter-increment: elemento;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  110[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mCapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mLos frameworks se utilizan en el Ã¡mbito de la programaciÃ³n de aplicaciones desde hace dÃ©cadas.[m
[32m+[m[32mRecientemente han comenzado a utilizarse para crear aplicaciones web y ya han aparecido[m
[32m+[m[32mdecenas de frameworks para CSS.[m
[32m+[m
[32m+[m[32mGenÃ©ricamente, un framework es un conjunto de herramientas, librerÃ­as, convenciones y buenas[m
[32m+[m[32mprÃ¡cticas que pretenden encapsular las tareas repetitivas en mÃ³dulos genÃ©ricos fÃ¡cilmente[m
[32m+[m[32mreutilizables.[m
[32m+[m
[32m+[m[32mDe la misma forma, un framework CSS es un conjunto de herramientas, hojas de estilos y buenas[m
[32m+[m[32mprÃ¡cticas que permiten al diseÃ±ador web olvidarse de las tareas repetitivas para centrarse en los[m
[32m+[m[32melementos Ãºnicos de cada diseÃ±o en los que puede aportar valor.[m
[32m+[m
[32m+[m[32mÂ¿QuÃ© aporta a un diseÃ±ador descubrir en cada diseÃ±o que debe neutralizar los estilos por defecto[m
[32m+[m[32mque aplican los navegadores? Â¿QuÃ© aporta un diseÃ±ador que se dedica continuamente a resolver[m
[32m+[m[32mlos mismos problemas que se producen al crear layouts complejos? Â¿Por quÃ© el diseÃ±ador se[m
[32m+[m[32mdedica a tareas y problemas que han sido resueltos satisfactoriamente hace mucho tiempo?[m
[32m+[m
[32m+[m[32mLos frameworks CSS mÃ¡s completos incluyen utilidades para que el diseÃ±ador no tenga que[m
[32m+[m[32mtrabajar en ningÃºn aspecto genÃ©rico del diseÃ±o web. Por este motivo, es habitual que los mejores[m
[32m+[m[32mframeworks CSS incluyan herramientas para:[m
[32m+[m
[32m+[m[32m    â–ª Neutralizar los estilos por defecto que aplican los navegadores. Se trata de la habitual hoja[m
[32m+[m[32m       de estilos reset.css que todos los diseÃ±adores profesionales utilizan.[m
[32m+[m
[32m+[m[32m    â–ª Manejar correctamente el texto, de forma que se todos los contenidos se vean exactamente[m
[32m+[m[32m       igual en todos los navegadores y que sean adaptables para mejorar su accesibilidad y[m
[32m+[m[32m       permitir su acceso en cualquier medio y/o dispositivo.[m
[32m+[m
[32m+[m[32m    â–ª Crear cualquier estructura compleja o layout de forma sencilla, con la seguridad de que[m
[32m+[m[32m       funciona correctamente en cualquier versiÃ³n de cualquier navegador.[m
[32m+[m
[32m+[m[32mActualmente existen decenas de frameworks CSS, tal y como se recoge en la pÃ¡gina List of CSS[m
[32m+[m[32mframeworks (http://en.wikipedia.org/wiki/List_of_CSS_frameworks) de la Wikipedia. En las[m
[32m+[m[32msiguientes secciones se explica detalladamente el framework YUI creado por Yahoo![m
[32m+[m
[32m+[m[32m5.1. El framework YUI[m
[32m+[m
[32m+[m[32mEl framework o librerÃ­a YUI (http://developer.yahoo.com/yui/) (Yahoo! User Interface) es un[m
[32m+[m[32mconjunto de utilidades y controles escritos en JavaScript que se utilizan para crear aplicaciones[m
[32m+[m[32mweb dinÃ¡micas complejas. AdemÃ¡s, la librerÃ­a YUI incluye varias utilidades relacionadas con CSS,[m
[32m+[m[32mpor lo que tambiÃ©n se considera un framework CSS.[m
[32m+[m
[32m+[m[32mYahoo! distribuye gratuitamente la librerÃ­a YUI en forma de software libre y bajo la licencia BSD[m
[32m+[m[32m(http://developer.yahoo.com/yui/license.html) , que permite utilizar YUI para proyectos de[m
[32m+[m[32mcualquier tipo, incluso comerciales.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  111[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mLo mejor de YUI es que cuenta con el respaldo de Yahoo!, que utiliza su librerÃ­a en muchas de sus[m
[32m+[m[32mmiles de millones de pÃ¡ginas vistas diarias. AdemÃ¡s, YUI cuenta con una gran documentaciÃ³n[m
[32m+[m[32mque incluye cientos de ejemplos de uso.[m
[32m+[m
[32m+[m[32mYUI se ejecuta correctamente en todos los navegadores modernos e incluso en algÃºn navegador[m
[32m+[m[32mobsoleto. El soporte de los navegadores se puede consultar en la lista de los navegadores[m
[32m+[m[32msoportados por YUI (http://developer.yahoo.com/yui/articles/gbs/) , que se actualiza[m
[32m+[m[32mperiÃ³dicamente. A continuaciÃ³n se muestra la lista de navegadores soportados en cada sistema[m
[32m+[m[32moperativo:[m
[32m+[m
[32m+[m[32m    â–ª Windows XP: Firefox 2 y 3, Internet Explorer 6 y 7, Opera 9.5[m
[32m+[m
[32m+[m[32m    â–ª Windows Vista: Firefox 3, Internet Explorer 7[m
[32m+[m
[32m+[m[32m    â–ª Mac OS X 10.5: Firefox 2 y 3, Opera 9.5, Safari 3.1[m
[32m+[m
[32m+[m[32m5.2. Primeros pasos con el framework YUI[m
[32m+[m
[32m+[m[32mPara empezar a trabajar con YUI, lo primero que debes hacer es descargar la librerÃ­a completa.[m
[32m+[m[32mDesde la pÃ¡gina principal de YUI (http://developer.yahoo.com/yui/) se puede pulsar[m
[32m+[m[32mdirectamente sobre el botÃ³n Download YUI para que nos redirija automÃ¡ticamente hasta la[m
[32m+[m[32mpÃ¡gina de descarga. La versiÃ³n de YUI que se utiliza actualmente es la 2, aunque la versiÃ³n en[m
[32m+[m[32mpruebas de YUI 3 ya se ha publicado. YUI 2 se descarga mediante un archivo comprimido que[m
[32m+[m[32mocupa unos 9 MB.[m
[32m+[m
[32m+[m[32mUna vez descargado, descomprime el archivo en cualquier directorio del sistema y verÃ¡s que[m
[32m+[m[32mincluye varios directorios. De todos ellos, los mÃ¡s importantes para el programador y diseÃ±ador[m
[32m+[m[32mson los siguientes:[m
[32m+[m
[32m+[m[32m    â–ª docs/: incluye mÃ¡s de 300 pÃ¡ginas de documentaciÃ³n y ayuda sobre todos los[m
[32m+[m[32m       componentes de YUI[m
[32m+[m
[32m+[m[32m    â–ª examples/: incluye casi 300 ejemplos de uso de todos y cada uno de los componentes de[m
[32m+[m[32m       YUI[m
[32m+[m
[32m+[m[32m    â–ª build/: incluye todos los archivos JavaScript y CSS que se deben incluir en las pÃ¡ginas que[m
[32m+[m[32m       utilizan YUI[m
[32m+[m
[32m+[m[32m5.2.1. Componentes CSS del framework YUI[m
[32m+[m
[32m+[m[32mLa librerÃ­a YUI incluye los siguientes cuatro componentes de CSS que se pueden utilizar de forma[m
[32m+[m[32mseparada, conjunta o combinada de cualquier forma:[m
[32m+[m
[32m+[m[32m    â–ª reset.css: conjunto de estilos que eliminan y neutralizan todas las inconsistencias en el[m
[32m+[m[32m       estilo por defecto que aplican los navegadores a los elementos HTML.[m
[32m+[m
[32m+[m[32m    â–ª base.css: conjunto de estilos que se pueden aplicar despuÃ©s de neutralizar los estilos por[m
[32m+[m[32m       defecto del navegador y que muestran cada elemento HTML de forma adecuada.[m
[32m+[m
[32m+[m[32m    â–ª fonts.css: conjunto de estilos que permiten mostrar el texto con un tamaÃ±o consistente[m
[32m+[m[32m       en cualquier navegador.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  112[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m    â–ª grids.css: conjunto de estilos que permiten crear cientos de layouts o estructuras de[m
[32m+[m[32m       pÃ¡ginas comunes.[m
[32m+[m
[32m+[m[32mLos componentes CSS de YUI funcionan tanto en el modo quirks como en el modo standards de[m
[32m+[m[32mlos navegadores. No obstante, YUI recomienda activar el modo standards utilizando el siguiente[m
[32m+[m[32mDOCTYPE en las pÃ¡ginas:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32m     strict.dtd">[m
[32m+[m
[32m+[m[32m5.2.2. Enlazando los archivos del framework YUI[m
[32m+[m
[32m+[m[32mTodas las pÃ¡ginas que hacen uso de los componentes de la librerÃ­a YUI deben enlazar sus[m
[32m+[m[32marchivos. La arquitectura de YUI es tan modular que permite enlazar Ãºnicamene los archivos que[m
[32m+[m[32mnecesita cada pÃ¡gina y no todos los archivos de la librerÃ­a, lo que mejora el rendimiento de la[m
[32m+[m[32maplicaciÃ³n.[m
[32m+[m
[32m+[m[32mSi sÃ³lo quieres utilizar uno de los componentes CSS de YUI, solamente debes enlazar una hoja de[m
[32m+[m[32mestilos mediante la etiqueta <link>. Si por ejemplo sÃ³lo se quiere utilizar el componente[m
[32m+[m[32mreset.css para inicializar todos los estilos del navegador, los pasos necesarios son los[m
[32m+[m[32msiguientes:[m
[32m+[m
[32m+[m[32m1) Copia el archivo reset.css que se encuentra en el directorio build/reset al directorio en el[m
[32m+[m[32mque guardas todas tus hojas de estilos CSS.[m
[32m+[m
[32m+[m[32m2) Enlaza la hoja de estilos reset.css en tus pÃ¡ginas utilizando la siguiente etiqueta <link>:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/reset.css">[m
[32m+[m
[32m+[m[32mEl valor del atributo href debe contener la ruta completa (absoluta o relativa) hasta el archivo[m
[32m+[m[32mCSS enlazado.[m
[32m+[m
[32m+[m[32mAunque esta forma de enlazar los recursos CSS de YUI es la mÃ¡s sencilla, tambiÃ©n es la mÃ¡s[m
[32m+[m[32mineficiente. El motivo es que los archivos CSS originales incluyen comentarios, espacios en[m
[32m+[m[32mblanco, saltos de lÃ­nea y otros elementos que aumentan innecesariamente el tamaÃ±o de los[m
[32m+[m[32marchivos.[m
[32m+[m
[32m+[m[32mPor este motivo, sÃ³lo se recomienda el uso de los archivos CSS normales cuando el diseÃ±ador se[m
[32m+[m[32mencuentra diseÃ±ando la pÃ¡gina y puede necesitar consultar el contenido de los archivos CSS de[m
[32m+[m[32mYUI. Cuando la pÃ¡gina se encuentra terminada, la recomendaciÃ³n es utilizar los archivos CSS[m
[32m+[m[32mcomprimidos que proporciona YUI.[m
[32m+[m
[32m+[m[32mLos archivos comprimidos se encuentran en los mismos directorios que los archivos CSS[m
[32m+[m[32mnormales. La Ãºnica diferencia es que los archivos comprimidos aÃ±aden el prefijo -min en su[m
[32m+[m[32mnombre, indicando que se trata de una versiÃ³n minimizada de los archivos CSS normales.[m
[32m+[m
[32m+[m[32mSiguiendo con el ejemplo anterior, para enlazar la versiÃ³n comprimida de la hoja de estilos[m
[32m+[m[32mreset.css se debe utilizar la siguiente etiqueta <link>:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/reset-min.css">[m
[32m+[m
[32m+[m[32mwww.librosweb.es  113[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mSi se utilizan varios componentes CSS de YUI, se sigue el mismo razonamiento para enlazar todas[m
[32m+[m[32mlas hojas de estilos. El siguiente ejemplo muestra el caso en el que se utilizan las hojas de estilos[m
[32m+[m[32mreset.css, fonts.css y grids.css:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/reset-min.css">[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/fonts-min.css">[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/grids-min.css">[m
[32m+[m
[32m+[m[32mComo es muy habitual enlazar varias hojas de estilos a la vez, YUI proporciona un mÃ©todo[m
[32m+[m[32malternativo para hacerlo de forma mucho mÃ¡s eficiente. En concreto, YUI proporciona las hojas[m
[32m+[m[32mde estilos reset-fonts.css y reset-fonts-grids.css por ser las combinaciones de hojas de[m
[32m+[m[32mestilos mÃ¡s habituales. De esta forma, el ejemplo anterior se puede rehacer utilizando una sola[m
[32m+[m[32metiqueta <link>:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/reset-fonts-grids.css">[m
[32m+[m
[32m+[m[32mLa hoja de estilos reset-fonts-grids.css combina las versiones comprimidas de las tres hojas[m
[32m+[m[32mde estilos individuales. AdemÃ¡s de la reducciÃ³n en el tamaÃ±o total del archivo, la gran ventaja es[m
[32m+[m[32mque sÃ³lo se realiza una peticiÃ³n al servidor, en vez de las tres peticiones necesarias en el ejemplo[m
[32m+[m[32manterior.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, existe otra forma aÃºn mÃ¡s eficiente de enlazar los componentes CSS necesarios.[m
[32m+[m[32mDesde hace unos meses, Yahoo! ofrece la posibilidad de enlazar gratuitamente las hojas de[m
[32m+[m[32mestilos CSS desde sus propios servidores. En efecto, nuestras pÃ¡ginas pueden descargar los[m
[32m+[m[32marchivos de YUI directamente desde los servidores de Yahoo! y de forma completamente[m
[32m+[m[32mgratuita.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la etiqueta <link> necesaria para descargar las mismas hojas de[m
[32m+[m[32mestilos del ejemplo anterior directamente desde los servidores de Yahoo!:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/[m
[32m+[m[32m     reset-fonts-grids/reset-fonts-grids.css">[m
[32m+[m
[32m+[m[32mSi sÃ³lo se emplean por ejemplo los componentes reset.css y base.css, las etiquetas necesarias[m
[32m+[m[32mse muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/reset/[m
[32m+[m[32m     reset-min.css">[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/base/[m
[32m+[m[32m     base-min.css">[m
[32m+[m
[32m+[m[32mAunque deducir las direcciones completas de cada componente CSS es trivial, YUI proporciona[m
[32m+[m[32muna herramienta grÃ¡fica llamada YUI: Configuration and Hosting (http://developer.yahoo.com/[m
[32m+[m[32myui/articles/hosting/) que genera automÃ¡ticamente las etiquetas <link> de los componentes[m
[32m+[m[32mCSS seleccionados.[m
[32m+[m
[32m+[m[32mLas ventajas de utilizar los propios servidores de Yahoo! para servir los archivos de YUI son[m
[32m+[m[32mnumerosas:[m
[32m+[m
[32m+[m[32m    â–ª Yahoo! dispone de miles de servidores repartidos por todo el mundo y la descarga se[m
[32m+[m[32m       realiza siempre desde el servidor mÃ¡s cercano al usuario. De hecho, los servidores que[m
[32m+[m[32m       proporciona Yahoo! son exactamente los mismos que utiliza Yahoo! en sus aplicaciones.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  114[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m    â–ª Yahoo! sirve todos sus archivos comprimidos mediante el servidor web y con la[m
[32m+[m[32m       informaciÃ³n precisa para que el navegador los almacene en su cache local. La compresiÃ³n[m
[32m+[m[32m       reduce el tamaÃ±o de los archivos CSS hasta un 60% y el control de la cache evita que el[m
[32m+[m[32m       usuario tenga que descargar repetidamente el mismo archivo.[m
[32m+[m
[32m+[m[32m    â–ª Los servidores de Yahoo! son infinitamente mÃ¡s potentes y fiables que cualquier servidor[m
[32m+[m[32m       web propio. AdemÃ¡s, la velocidad de transmisiÃ³n de los archivos tambiÃ©n es infinitamente[m
[32m+[m[32m       mÃ¡s rÃ¡pida que la conseguida con cualquier conexiÃ³n de red propia.[m
[32m+[m
[32m+[m[32m    â–ª El servicio es completamente gratuito y permite enlazar cualquier versiÃ³n actual o pasada[m
[32m+[m[32m       de la librerÃ­a YUI.[m
[32m+[m
[32m+[m[32m5.3. Inicializando estilos con el framework YUI[m
[32m+[m
[32m+[m[32mEl primer componente CSS de YUI es reset.css, una hoja de estilos utilizada para neutralizar los[m
[32m+[m[32mestilos que aplican por defecto los navegadores a todos los elementos HTML.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el contenido completo de reset.css:[m
[32m+[m
[32m+[m[32m     /*[m
[32m+[m[32m     Copyright (c) 2008, Yahoo! Inc. All rights reserved.[m
[32m+[m[32m     Code licensed under the BSD License:[m
[32m+[m[32m     http://developer.yahoo.net/yui/license.txt[m
[32m+[m[32m     version: 2.5.2[m
[32m+[m[32m     */[m
[32m+[m[32m     html{color:#000;background:#FFF;}[m
[32m+[m[32m     body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquo[m
[32m+[m[32m     table{border-collapse:collapse;border-spacing:0;}[m
[32m+[m[32m     fieldset,img{border:0;}[m
[32m+[m[32m     address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal;}[m
[32m+[m[32m     li{list-style:none;}[m
[32m+[m[32m     caption,th{text-align:left;}[m
[32m+[m[32m     h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}[m
[32m+[m[32m     q:before,q:after{content:'';}[m
[32m+[m[32m     abbr,acronym {border:0;font-variant:normal;}[m
[32m+[m[32m     /* to preserve line-height and selector appearance */[m
[32m+[m[32m     sup {vertical-align:text-top;}[m
[32m+[m[32m     sub {vertical-align:text-bottom;}[m
[32m+[m[32m     input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit;}[m
[32m+[m[32m     /*to enable resizing for IE*/[m
[32m+[m[32m     input,textarea,select{*font-size:100%;}[m
[32m+[m[32m     /*because legend doesn't inherit in IE */[m
[32m+[m[32m     legend{color:#000;}[m
[32m+[m
[32m+[m[32mAl contrario que las hojas de estilo de tipo reset de otras librerÃ­as y frameworks, el archivo[m
[32m+[m[32mreset.css solamente neutraliza los estilos que aplica por defecto el navegador. El cambio mÃ¡s[m
[32m+[m[32mevidente que provoca el reset.css de YUI es que el texto de todos los elementos se muestra con[m
[32m+[m[32mel mismo aspecto. No importa si se trata de un pÃ¡rrafo <p>, una etiqueta <strong> o un tÃ­tulo de[m
[32m+[m[32msecciÃ³n <h1>, ya que el reset.css anterior hace que todos se vean igual. Por tanto, las pÃ¡ginas a[m
[32m+[m[32mlas que sÃ³lo se aplica la hoja de estilos reset.css no estÃ¡n preparadas para mostrarlas a los[m
[32m+[m[32musuarios.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  115[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mLas hojas de estilo reset.css de otros frameworks neutralizan los estilos por defecto y depuÃ©s[m
[32m+[m[32maplican unos estilos adecuados para poder mostrar correctamente las pÃ¡ginas: cada tÃ­tulo de[m
[32m+[m[32msecciÃ³n tiene un tamaÃ±o mayor que el siguiente, los elementos <strong> se ven en negrita, los[m
[32m+[m[32mmÃ¡rgenes son adecuados para separar los contenidos de texto, etc.[m
[32m+[m
[32m+[m[32mYUI dispone de otro componente CSS llamado base.css para aplicar unos estilos adecuados a las[m
[32m+[m[32mpÃ¡ginas que han sido neutralizadas mediante reset.css. Por lo tanto, una pÃ¡gina a la que se le[m
[32m+[m[32maplican las hojas de estilos reset.css y base.css ya estÃ¡n listas para mostrarse a los usuarios, a[m
[32m+[m[32mfalta de la personalizaciÃ³n del aspecto que realice posteriormente el diseÃ±ador.[m
[32m+[m
[32m+[m[32mEl contenido de la hoja de estilos base.css de YUI se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     /*[m
[32m+[m[32m     Copyright (c) 2008, Yahoo! Inc. All rights reserved.[m
[32m+[m[32m     Code licensed under the BSD License:[m
[32m+[m[32m     http://developer.yahoo.net/yui/license.txt[m
[32m+[m[32m     version: 2.5.2[m
[32m+[m[32m     */[m
[32m+[m[32m     /* base.css, part of YUI's CSS Foundation */[m
[32m+[m[32m     h1 {[m
[32m+[m
[32m+[m[32m         font-size:138.5%;[m
[32m+[m[32m     }[m
[32m+[m[32m     h2 {[m
[32m+[m
[32m+[m[32m         font-size:123.1%;[m
[32m+[m[32m     }[m
[32m+[m[32m     h3 {[m
[32m+[m
[32m+[m[32m         font-size:108%;[m
[32m+[m[32m     }[m
[32m+[m[32m     h1,h2,h3 {[m
[32m+[m
[32m+[m[32m         margin:1em 0;[m
[32m+[m[32m     }[m
[32m+[m[32m     h1,h2,h3,h4,h5,h6,strong {[m
[32m+[m
[32m+[m[32m         font-weight:bold;[m
[32m+[m[32m     }[m
[32m+[m[32m     abbr,acronym {[m
[32m+[m
[32m+[m[32m         border-bottom:1px dotted #000;[m
[32m+[m[32m         cursor:help;[m
[32m+[m[32m     }[m
[32m+[m[32m     em {[m
[32m+[m[32m         font-style:italic;[m
[32m+[m[32m     }[m
[32m+[m[32m     blockquote,ul,ol,dl {[m
[32m+[m[32m         margin:1em;[m
[32m+[m[32m     }[m
[32m+[m[32m     ol,ul,dl {[m
[32m+[m[32m         margin-left:2em;[m
[32m+[m[32m     }[m
[32m+[m[32m     ol li {[m
[32m+[m[32m         list-style: decimal outside;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul li {[m
[32m+[m[32m         list-style: disc outside;[m
[32m+[m[32m     }[m
[32m+[m[32m     dl dd {[m
[32m+[m
[32m+[m[32mwww.librosweb.es  116[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m         margin-left:1em;[m
[32m+[m[32m     }[m
[32m+[m[32m     th,td {[m
[32m+[m
[32m+[m[32m         border:1px solid #000;[m
[32m+[m[32m         padding:.5em;[m
[32m+[m[32m     }[m
[32m+[m[32m     th {[m
[32m+[m[32m         font-weight:bold;[m
[32m+[m[32m         text-align:center;[m
[32m+[m[32m     }[m
[32m+[m[32m     caption {[m
[32m+[m[32m         margin-bottom:.5em;[m
[32m+[m[32m         text-align:center;[m
[32m+[m[32m     }[m
[32m+[m[32m     p,fieldset,table,pre {[m
[32m+[m[32m         margin-bottom:1em;[m
[32m+[m[32m     }[m
[32m+[m[32m     input[type=text],input[type=password],textarea{width:12.25em;*width:11.9em;}[m
[32m+[m
[32m+[m[32mDespuÃ©s de aplicar reset.css todos los contenidos de texto de la pÃ¡gina se muestran con un[m
[32m+[m[32mtamaÃ±o de letra de 16px. La hoja de estilos base.css hace que los tÃ­tulos de secciÃ³n <h1>, <h2> y[m
[32m+[m[32m<h3> se muestren mÃ¡s grandes que el resto de texto y tambiÃ©n hace que se muestren en negrita.[m
[32m+[m[32mOtros de los estilos comunes que establece base.css son los marcadores que muestran los[m
[32m+[m[32melementos de las listas, los bordes de las celdas de tabla y los mÃ¡rgenes verticales y laterales de[m
[32m+[m[32mlos elementos.[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de pÃ¡ginas creadas con los componentes CSS de YUI utilizan reset.css y base.css,[m
[32m+[m[32mpor lo que es comÃºn que incluyan las siguientes etiquetas <link>:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/reset-min.css">[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/base-min.css">[m
[32m+[m
[32m+[m[32mRecuerda que tambiÃ©n puedes enlazar estas mismas hojas de estilos directamente desde los[m
[32m+[m[32mservidores de Yahoo!:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/reset/[m
[32m+[m[32m     reset-min.css">[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/base/[m
[32m+[m[32m     base-min.css">[m
[32m+[m
[32m+[m[32m5.4. Texto con el framework YUI[m
[32m+[m
[32m+[m[32mEl manejo del texto es una de las grandes ventajas aportadas por el uso del framework. Definir[m
[32m+[m[32mlas propiedades del texto de la forma que indica YUI asegura que tus pÃ¡ginas se ven exactamente[m
[32m+[m[32migual en cualquier versiÃ³n de cualquier navegador. AdemÃ¡s, garantiza que las propiedades del[m
[32m+[m[32mtexto de tus pÃ¡ginas serÃ¡n consistentes y que los contenidos de texto se adaptan perfectamente a[m
[32m+[m[32mcualquier medio y/o dispositivo.[m
[32m+[m
[32m+[m[32mEn primer lugar, el tercer componente CSS de YUI es fonts.css, una hoja de estilos tan sencilla[m
[32m+[m[32mcomo se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     /*[m
[32m+[m[32m     Copyright (c) 2008, Yahoo! Inc. All rights reserved.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  117[m
[32m+[m[32mCSS avanzado                            CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m     Code licensed under the BSD License:[m
[32m+[m[32m     http://developer.yahoo.net/yui/license.txt[m
[32m+[m[32m     version: 2.5.2[m
[32m+[m[32m     */[m
[32m+[m[32m     body {font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}[m
[32m+[m[32m     table {font-size:inherit;font:100%;}[m
[32m+[m[32m     pre,code,kbd,samp,tt {font-family:monospace;*font-size:108%;line-height:100%;}[m
[32m+[m
[32m+[m[32mDespuÃ©s de aplicar reset.css, base.css y fonts.css, las pÃ¡ginas muestran el texto normal con[m
[32m+[m[32mun tamaÃ±o de letra de 13px y un interlineado de 16px. Los tÃ­tulos <h1> se muestran con un[m
[32m+[m[32mtamaÃ±o de 18px, los tÃ­tulos <h2> con un tamaÃ±o de 16px y los tÃ­tulos <h3> con un tamaÃ±o de 14px.[m
[32m+[m[32mAdemÃ¡s, todos los elementos de texto se muestran con el tipo de letra Arial o similar, salvo los[m
[32m+[m[32melementos <code> y <pre> que se muestran con una fuente de ancho fijo.[m
[32m+[m
[32m+[m[32mYUI recomienda establecer todos los tamaÃ±os de letra utilizando el porcentaje como unidad de[m
[32m+[m[32mmedida, porque asegura que el texto se muestra de forma mÃ¡s consistente que al utilizar la[m
[32m+[m[32munidad em. Como el tamaÃ±o de letra base establecido por fonts.css es 13px, esta medida es la[m
[32m+[m[32mque corresponde al valor 100%. Utilizando una sencilla operaciÃ³n se puede obtener el porcentaje[m
[32m+[m[32mcorrespondiente a cualquier tamaÃ±o en pÃ­xeles. La siguiente tabla muestra algunos de los[m
[32m+[m[32mvalores mÃ¡s comunes:[m
[32m+[m
[32m+[m[32mPara obtener este tamaÃ±o en pÃ­xeles...  ...utiliza el siguiente valor de porcentaje[m
[32m+[m[32m10px                                    77%[m
[32m+[m[32m11px                                    85%[m
[32m+[m[32m12px                                    93%[m
[32m+[m[32m13px                                    100%[m
[32m+[m[32m14px                                    108%[m
[32m+[m[32m15px                                    116%[m
[32m+[m[32m16px                                    123.1%[m
[32m+[m[32m17px                                    131%[m
[32m+[m[32m18px                                    138.5%[m
[32m+[m[32m19px                                    146.5%[m
[32m+[m[32m20px                                    153.9%[m
[32m+[m[32m21px                                    161.6%[m
[32m+[m[32m22px                                    167%[m
[32m+[m[32m23px                                    174%[m
[32m+[m[32m24px                                    182%[m
[32m+[m[32m25px                                    189%[m
[32m+[m[32m26px                                    197%[m
[32m+[m
[32m+[m[32mPor lo tanto, si se quiere modificar por ejemplo el tamaÃ±o de letra de los pÃ¡rrafos y de los tÃ­tulos[m
[32m+[m[32mde secciÃ³n <h1> y <h2>, debes utilizar las siguientes reglas en tu hoja de estilos propia:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                     118[m
[32m+[m[32mCSS avanzado                                                      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mp{                     /* equivale a 16px */[m
[32m+[m[32m   font-size: 123.1%;  /* equivale a 24px */[m
[32m+[m[32m                       /* equivale a 22px */[m
[32m+[m[32m}                      /* equivale a 20px */[m
[32m+[m[32mh1 {[m
[32m+[m
[32m+[m[32m   font-size: 182%;[m
[32m+[m[32m}[m
[32m+[m[32mh2 {[m
[32m+[m
[32m+[m[32m   font-size: 167%;[m
[32m+[m[32m}[m
[32m+[m[32mh3 {[m
[32m+[m
[32m+[m[32m   font-size: 153.9%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mDe la misma forma, tambiÃ©n es posible modificar el tipo de letra de cualquier elemento de la[m
[32m+[m[32mpÃ¡gina. Las siguientes reglas hacen que los pÃ¡rrafos se muestren con un tipo de letra Georgia o[m
[32m+[m[32msimilar y los tÃ­tulos de secciÃ³n con un tipo de letra Verdana o similar:[m
[32m+[m
[32m+[m[32mp{[m
[32m+[m[32m   font-family: Georgia, "Times New Roman", Times, serif;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32mh1, h2, h3, h4, h5, h6 {[m
[32m+[m
[32m+[m[32m   font-family: Verdana, Arial, Helvetica, sans-serif;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mPara hacer uso de los estilos proporcionados por el componente fonts.css es necesario que las[m
[32m+[m[32mpÃ¡ginas enlacen esa hoja de estilos:[m
[32m+[m
[32m+[m[32m<link rel="stylesheet" type="text/css" href="css/fonts-min.css">[m
[32m+[m
[32m+[m[32mRecuerda que tambiÃ©n puedes enlazar esta misma hoja de estilos directamente desde los[m
[32m+[m[32mservidores de Yahoo!:[m
[32m+[m
[32m+[m[32m<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/fonts/[m
[32m+[m[32mfonts-min.css">[m
[32m+[m
[32m+[m[32mPor Ãºltimo, como es muy comÃºn utilizar todos los componentes CSS de forma simultÃ¡nea, YUI[m
[32m+[m[32mincluye una hoja de estilos que combina todas las hojas de estilos individuales. AdemÃ¡s de[m
[32m+[m[32mreducir el tamaÃ±o total de los archivos, disponer de una sola hoja de estilos reduce el nÃºmero de[m
[32m+[m[32mpeticiones realizadas al servidor. Para utilizar la hoja de estilos completa sÃ³lo es necesario[m
[32m+[m[32mutilizar la siguiente etiqueta <link>:[m
[32m+[m
[32m+[m[32m<link rel="stylesheet" type="text/css" href="css/reset-fonts-grids.css">[m
[32m+[m
[32m+[m[32mLa hoja de estilos completa tambiÃ©n se puede enlazar directamente desde los servidores de[m
[32m+[m[32mYahoo!:[m
[32m+[m
[32m+[m[32m<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/[m
[32m+[m[32mreset-fonts-grids/reset-fonts-grids.css">[m
[32m+[m
[32m+[m[32m5.5. Layouts con el framework YUI[m
[32m+[m
[32m+[m[32mEl Ãºltimo componente CSS de YUI es grids.css, una hoja de estilos sencilla que permite crear[m
[32m+[m[32mmÃ¡s de 1.000 layouts diferentes. DiseÃ±ar layouts con YUI es muy sencillo y tiene la ventaja de que[m
[32m+[m[32mtodos los diseÃ±os se ven exactamente igual en cualquier versiÃ³n de cualquier navegador.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                    119[m
[32m+[m[32mCSS avanzado                                                             CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m5.5.1. Primeros pasos[m
[32m+[m
[32m+[m[32mYUI recomienda utilizar un DOCTYPE que asegure que el navegador muestra sus contenidos en[m
[32m+[m[32mel modo standards en vez del modo quirks. De hecho, Yahoo! utiliza el siguiente DOCTYPE en[m
[32m+[m[32mtodos los sitios diseÃ±ados con YUI:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/html4/strict.dtd">[m
[32m+[m
[32m+[m[32mNo obstante, ten en cuenta que el DOCTYPE anterior corresponde a una pÃ¡gina HTML y por[m
[32m+[m[32mtanto, no es vÃ¡lido si utilizas XHTML en tus pÃ¡ginas. Si se quiere emplear YUI en pÃ¡ginas XHTML[m
[32m+[m[32mpuedes utilizar uno de los dos siguientes DOCTYPE:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">[m
[32m+[m
[32m+[m[32mAntes de crear layouts con el componente grids.css, es necesario enlazar su hoja de estilos:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/grids-min.css">[m
[32m+[m
[32m+[m[32mLa hoja de estilos tambiÃ©n se puede enlazar directamente desde los servidores de Yahoo!:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/grids/[m
[32m+[m[32m     grids-min.css">[m
[32m+[m
[32m+[m[32mEl componente grids.css depende de los valores iniciales establecidos por el componente[m
[32m+[m[32mfonts.css, por lo que tambiÃ©n es necesario enlazar este Ãºltimo. Como las pÃ¡ginas diseÃ±adas con[m
[32m+[m[32mYUI tambiÃ©n utilizan el componente reset.css, es habitual utilizar la hoja de estilos global que[m
[32m+[m[32mincluye estos tres componentes individuales:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/reset-fonts-grids.css">[m
[32m+[m
[32m+[m[32mPara obtener el mÃ¡ximo rendimiento tambiÃ©n es posible enlazar esta hoja de estilos completa[m
[32m+[m[32mdirectamente desde los servidores de Yahoo!:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/[m
[32m+[m[32m     reset-fonts-grids/reset-fonts-grids.css">[m
[32m+[m
[32m+[m[32m5.5.2. PÃ¡gina, plantilla y rejilla[m
[32m+[m
[32m+[m[32mYUI recomienda utilizar la siguiente estructura general en las pÃ¡ginas:[m
[32m+[m
[32m+[m[32m<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32mstrict.dtd">[m
[32m+[m[32m<html>[m
[32m+[m[32m<head>[m
[32m+[m
[32m+[m[32m   <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m   <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m<div id="doc">[m
[32m+[m[32m   <div id="hd">[m
[32m+[m
[32m+[m[32m      <!-- contenidos de la cabecera -->[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                120[m
[32m+[m[32mCSS avanzado                                                                               CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <div id="bd">[m
[32m+[m
[32m+[m[32m            <!-- contenidos principales de la pÃ¡gina -->[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <div id="ft">[m
[32m+[m
[32m+[m[32m            <!-- contenidos del pie de pÃ¡gina -->[m
[32m+[m[32m         </div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mLa pÃ¡gina se divide en tres partes:[m
[32m+[m
[32m+[m[32m    â–ª Cabecera (#hd): zona en la que se incluyen normalmente los elementos invariantes de la[m
[32m+[m[32m       pÃ¡gina tales como el logotipo, el buscador y el menÃº principal de navegaciÃ³n.[m
[32m+[m
[32m+[m[32m    â–ª Cuerpo (#bd): zona en la que se incluyen todos los contenidos especÃ­ficos de la pÃ¡gina. Se[m
[32m+[m[32m       trata de la zona mÃ¡s importante y la que suele tener una estructura mÃ¡s compleja.[m
[32m+[m
[32m+[m[32m    â–ª Pie (#ft): zona en la que se incluyen otros elementos invariantes de la pÃ¡gina que son de[m
[32m+[m[32m       menor importancia, tales como el aviso de copyright, enlaces a las secciones de contacto,[m
[32m+[m[32m       privacidad, tÃ©rminos y condiciones y otros elementos que dependen del tipo de pÃ¡gina.[m
[32m+[m
[32m+[m[32mLa divisiÃ³n anterior de la pÃ¡gina no es obligatoria y YUI permite crear layouts sin utilizar esa[m
[32m+[m[32mestructura. No obstante, se trata de una estructura muy recomendable porque es vÃ¡lida para la[m
[32m+[m[32minmensa mayorÃ­a de sitios web y ayuda a estructurar los contenidos de la pÃ¡gina de forma lÃ³gica.[m
[32m+[m
[32m+[m[32mLos nombres utilizados como identificador (#hd de header o cabecera, #bd de body o cuerpo y[m
[32m+[m[32m#ft de footer o pie) tampoco son obligatorios, aunque su uso estÃ¡ muy extendido entre los[m
[32m+[m[32mdiseÃ±adores profesionales y al ser tan cortos permiten hacer reglas CSS mÃ¡s concisas.[m
[32m+[m
[32m+[m[32mAntes de diseÃ±ar layouts con YUI es necesario comprender las partes en las que YUI divide la[m
[32m+[m[32mestructura de una pÃ¡gina:[m
[32m+[m
[32m+[m[32m                            Figura 5.1. PÃ¡gina, plantilla y rejilla en los layouts de YUI[m
[32m+[m[32mYUI divide la estructura de una pÃ¡gina en tres partes:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                           121[m
[32m+[m[32mCSS avanzado                                CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mâ–ª PÃ¡gina: establece la anchura total de la pÃ¡gina y su comportamiento (anchura fija o[m
[32m+[m[32m   variable). Utiliza los selectores #doc, #doc2, #doc3 y #doc4.[m
[32m+[m
[32m+[m[32mâ–ª Plantilla: establece la divisiÃ³n en columnas del cuerpo de la pÃ¡gina. Utiliza los selectores[m
[32m+[m[32m   .yui-b, .yui-t1, .yui-t2, .yui-t3, .yui-t4, .yui-t5 y .yui-t6.[m
[32m+[m
[32m+[m[32mâ–ª Rejilla: establece las divisiones internas de cada columna. Utiliza los selectores .yui-u,[m
[32m+[m[32m   .yui-g, .yui-gb, .yui-gc, .yui-gd, .yui-ge, .yui-gf.[m
[32m+[m
[32m+[m[32m5.5.3. PÃ¡gina[m
[32m+[m
[32m+[m[32mLa primera parte de la estructura de la pÃ¡gina es la propia pÃ¡gina, concretamente su anchura y[m
[32m+[m[32msu comportamiento. YUI incluye por defecto cuatro tipos de pÃ¡ginas que corresponden a los[m
[32m+[m[32mdiseÃ±os mÃ¡s utilizados hoy en dÃ­a:[m
[32m+[m
[32m+[m[32mSelector      CaracterÃ­sticas de la pÃ¡gina  Recomendada para[m
[32m+[m[32m#doc          Centrada, anchura 750px       ResoluciÃ³n de 800x600 o superior[m
[32m+[m[32m#doc2         Centrada, anchura 950px       ResoluciÃ³n de 1024x768 o superior[m
[32m+[m[32m#doc3         Anchura 100%                  Cualquier resoluciÃ³n[m
[32m+[m[32m#doc4         Centrada, anchura 974px       ResoluciÃ³n de 1024x768 o superior[m
[32m+[m
[32m+[m[32m   Nota[m
[32m+[m[32m   El diseÃ±o #doc3 en realidad no ocupa el 100% de la pÃ¡gina, ya que incluye 10px de margen izquierdo y[m
[32m+[m[32m   otros 10px de margen derecho. De esta forma se evita que los contenidos de la pÃ¡gina puedan llegar a[m
[32m+[m[32m   invadir el espacio ocupado por el propio navegador. No obstante, si quieres eliminar estos mÃ¡rgenes[m
[32m+[m[32m   laterales tan sÃ³lo debes aÃ±adir la siguiente regla CSS en la hoja de estilos propia de la pÃ¡gina: #doc3 {[m
[32m+[m[32m   margin: auto; }[m
[32m+[m
[32m+[m[32mPara utilizar una u otra pÃ¡gina, sÃ³lo es necesario cambiar el atributo id del elemento <div> que[m
[32m+[m[32mencierra todos los contenidos. El ejemplo mostrado anteriormente utiliza el selector #doc,[m
[32m+[m[32mcorrespondiente a una pÃ¡gina de anchura fija de 750px:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32m     strict.dtd">[m
[32m+[m[32m     <html>[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m     </head>[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="doc"> <!-- 750px, centrada -->[m
[32m+[m[32m         ...[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mSi se quiere modificar la pÃ¡gina anterior para que su anchura sea del 100%, sÃ³lo es necesario[m
[32m+[m[32mmodificar ligeramente el selector del elemento <div> que encierra a todos los contenidos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               122[m
[32m+[m[32mCSS avanzado                                            CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32mstrict.dtd">[m
[32m+[m[32m<html>[m
[32m+[m[32m<head>[m
[32m+[m
[32m+[m[32m   <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m   <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m<div id="doc3"> <!-- 100% -->[m
[32m+[m[32m   ...[m
[32m+[m[32m</div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32mAunque los cuatro tipos de pÃ¡gina incluÃ­dos en YUI corresponden a los diseÃ±os mÃ¡s utilizados,[m
[32m+[m[32mtambiÃ©n es posible crear una anchura de pÃ¡gina completamente personalizada. Como las[m
[32m+[m[32manchuras de pÃ¡gina en YUI se establecen mediante la unidad de medida em, el proceso requiere[m
[32m+[m[32mrealizar alguna operaciÃ³n matemÃ¡tica.[m
[32m+[m
[32m+[m[32mPara obtener la anchura en em, divide la anchura deseada en pÃ­xeles por 13. Para el navegador[m
[32m+[m[32mInternet Explorer es preciso dividir la anchura en pÃ­xeles por 13.3333. Si por ejemplo se quiere[m
[32m+[m[32mestablecer una anchura de pÃ¡gina de 1300px, el cÃ¡lculo que se debe realizar es el siguiente:[m
[32m+[m
[32m+[m[32mâ–ª Navegador Internet Explorer: 1300 / 13.3333 = 97.50. Por tanto, la anchura de pÃ¡gina es[m
[32m+[m[32m   97.50em.[m
[32m+[m
[32m+[m[32mâ–ª Resto de navegadores: 1300 / 13 = 100. Por tanto, la anchura de pÃ¡gina es 100em.[m
[32m+[m
[32m+[m[32mUna vez calculada la anchura en em, se utiliza la siguiente regla CSS para crear el tamaÃ±o de[m
[32m+[m[32mpÃ¡gina propio:[m
[32m+[m
[32m+[m[32m#doc-propio {[m
[32m+[m
[32m+[m[32m   text-align:left; /* obligatorio */[m
[32m+[m
[32m+[m[32m   margin:auto;   /* para centrar la pÃ¡gina */[m
[32m+[m
[32m+[m[32m   width: 100em;  /* resto de navegadores */[m
[32m+[m
[32m+[m[32m   *width: 97.50em; /* navegador Internet Explorer */[m
[32m+[m
[32m+[m[32m   min-width: 1300px; /* opcional, pero recomendada */[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mLa propiedad text-align: left es obligatoria para mostrar el texto alineado a la izquierda, ya[m
[32m+[m[32mque en la hoja de estilos grids.css el elemento <body> establece la propiedad text-align:[m
[32m+[m[32mcenter;. La propiedad margin: auto sÃ³lo es necesaria si se quiere centrar la pÃ¡gina respecto de[m
[32m+[m[32mla ventana del navegador.[m
[32m+[m
[32m+[m[32mLa anchura de todos los navegadores menos Internet Explorer se establece directamente[m
[32m+[m[32mmediante la propiedad width. En el caso de Internet Explorer, su anchura se establece mediante[m
[32m+[m[32mun hack muy conocido que hace que sÃ³lo Internet Explorer interprete la propiedad *width. Esta[m
[32m+[m[32mpropiedad *width siempre se debe incluir despuÃ©s de la propiedad width.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, la propiedad min-width es opcional, pero se recomienda establecerla con el mismo[m
[32m+[m[32mvalor de la anchura en pÃ­xeles. Su funciÃ³n es evitar que la estructura de la pÃ¡gina se rompa[m
[32m+[m[32mcuando la ventana del navegador reduce su tamaÃ±o.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                123[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m5.5.4. Plantilla[m
[32m+[m
[32m+[m[32mEl siguiente nivel en el que divide YUI la estructura de una pÃ¡gina es la plantilla, que estÃ¡[m
[32m+[m[32mformada por las columnas de contenidos de la pÃ¡gina. Normalmente, las pÃ¡ginas disponen de[m
[32m+[m[32muna zona central de contenidos y otra zona lateral con otros contenidos secundarios.[m
[32m+[m
[32m+[m[32mYUI permite crear estructuras de pÃ¡ginas con dos columnas de diferentes anchuras y en[m
[32m+[m[32mdiferentes posiciones (izquierda o derecha). En primer lugar se definen las columnas de la[m
[32m+[m[32mpÃ¡gina mediante lo que YUI llama bloques. Cada bloque se crea mediante un elemento <div> con[m
[32m+[m[32mla clase yui-b. En el siguiente ejemplo se supone que la pÃ¡gina estÃ¡ formada por dos columnas,[m
[32m+[m[32mpor lo que se crean dos bloques dentro del cuerpo de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32m     strict.dtd">[m
[32m+[m[32m     <html>[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m     </head>[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="doc">[m
[32m+[m[32m         <div id="hd"><!-- cabecera --></div>[m
[32m+[m[32m         <div id="bd">[m
[32m+[m
[32m+[m[32m            <!-- cuerpo -->[m
[32m+[m[32m            <div class="yui-b">...</div>[m
[32m+[m[32m            <div class="yui-b">...</div>[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <div id="ft"><!-- pie --></div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mIndicar que la pÃ¡gina tiene dos bloques no es suficiente, ya que tambiÃ©n es necesario indicar cuÃ¡l[m
[32m+[m[32mde los dos bloques es el principal. Para ello, se encierra el bloque principal con otro elemento[m
[32m+[m[32m<div> cuyo id es yui-main:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32m     strict.dtd">[m
[32m+[m[32m     <html>[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m     </head>[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="doc">[m
[32m+[m[32m         <div id="hd"><!-- cabecera --></div>[m
[32m+[m[32m         <div id="bd">[m
[32m+[m
[32m+[m[32m            <!-- cuerpo -->[m
[32m+[m[32m            <div id="yui-main">[m
[32m+[m
[32m+[m[32m               <div class="yui-b">[m
[32m+[m[32m                   <!-- bloque principal -->[m
[32m+[m
[32m+[m[32m               </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="yui-b">[m
[32m+[m
[32m+[m[32mwww.librosweb.es  124[m
[32m+[m[32mCSS avanzado                                       CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m         <!-- bloque secundario -->[m
[32m+[m[32m      </div>[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <div id="ft"><!-- pie --></div>[m
[32m+[m[32m</div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32mNota[m
[32m+[m[32mLa forma en la que estÃ¡ diseÃ±ado YUI permite que el orden en el que se definen sus bloques en el cÃ³digo[m
[32m+[m[32mHTML sea independiente a su visualizaciÃ³n. Algunos diseÃ±adores prefieren colocar el lateral secundario lo[m
[32m+[m[32mantes posible dentro del cÃ³digo HTML, ya que suele incluir el menÃº de navegaciÃ³n y por razones de[m
[32m+[m[32maccesibilidad y de SEO es recomendable que aparezca lo antes posible. Con YUI es posible incluir el bloque[m
[32m+[m[32msecundario en primer lugar en el cÃ³digo HTML con la seguridad de que se visualizarÃ¡ correctamente en la[m
[32m+[m[32mposiciÃ³n establecida.[m
[32m+[m
[32m+[m[32mDespuÃ©s de crear los bloques de la pÃ¡gina y despuÃ©s de indicar cuÃ¡l es el bloque principal, el[m
[32m+[m[32msiguiente paso consiste en utilizar la plantilla adecuada para establecer las anchuras de cada[m
[32m+[m[32mbloque y su posiciÃ³n. YUI incluye por defecto seis tipos de plantillas, que corresponden a los[m
[32m+[m[32mdiseÃ±os mÃ¡s comunes y estÃ¡n preparados para mostrar los formatos publicitarios mÃ¡s[m
[32m+[m[32mutilizados:[m
[32m+[m
[32m+[m[32mSelector          CaracterÃ­sticas de los bloques[m
[32m+[m[32m.yui-t1           Lateral de 160px a la izquierda[m
[32m+[m[32m.yui-t2           Lateral de 180px a la izquierda[m
[32m+[m[32m.yui-t3           Lateral de 300px a la izquierda[m
[32m+[m[32m.yui-t4           Lateral de 180px a la derecha[m
[32m+[m[32m.yui-t5           Lateral de 240px a la derecha[m
[32m+[m[32m.yui-t6           Lateral de 300px a la derecha[m
[32m+[m
[32m+[m[32m   Nota[m
[32m+[m[32m   Existe una sÃ©ptima plantilla especial que utiliza el selector .yui-t7 y que se puede emplear en las pÃ¡ginas[m
[32m+[m[32m   que no estÃ¡n divididas en columnas o bloques.[m
[32m+[m
[32m+[m[32mSi la pÃ¡gina ya ha definido sus bloques, utilizar una plantilla u otra es tan sencillo como[m
[32m+[m[32mmodificar el valor de la clase del elemento <div> que encierra a todos los contenidos:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32m     strict.dtd">[m
[32m+[m[32m     <html>[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m     </head>[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="doc" class="yui-t"> <!-- plantilla con el lateral izquierdo de 160px -->[m
[32m+[m[32m         <div id="hd"><!-- cabecera --></div>[m
[32m+[m[32m         <div id="bd">[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                   125[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m            <!-- cuerpo -->[m
[32m+[m[32m            <div id="yui-main">[m
[32m+[m
[32m+[m[32m               <div class="yui-b">[m
[32m+[m[32m                   <!-- bloque principal -->[m
[32m+[m
[32m+[m[32m               </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="yui-b">[m
[32m+[m
[32m+[m[32m               <!-- bloque secundario -->[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <div id="ft"><!-- pie --></div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se modifica la pÃ¡gina anterior para utilizar la plantilla que muestra el lateral a la[m
[32m+[m[32mderecha y con una anchura de 300px:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32m     strict.dtd">[m
[32m+[m[32m     <html>[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m     </head>[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="doc" class="yui-t6"> <!-- plantilla con el lateral derecho de 300px -->[m
[32m+[m[32m         <div id="hd"><!-- cabecera --></div>[m
[32m+[m[32m         <div id="bd">[m
[32m+[m
[32m+[m[32m            <!-- cuerpo -->[m
[32m+[m[32m            <div id="yui-main">[m
[32m+[m
[32m+[m[32m               <div class="yui-b">[m
[32m+[m[32m                   <!-- bloque principal -->[m
[32m+[m
[32m+[m[32m               </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="yui-b">[m
[32m+[m
[32m+[m[32m               <!-- bloque secundario -->[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <div id="ft"><!-- pie --></div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mLas plantillas ofrecidas por YUI son las mÃ¡s utilizadas en el diseÃ±o web, pero en muchas[m
[32m+[m[32mocasiones las pÃ¡ginas presentan otras estructuras mÃ¡s complejas. Cuando la estructura estÃ¡[m
[32m+[m[32mdividida en mÃ¡s columnas, no se utilizan las plantillas, sino que se define directamente una[m
[32m+[m[32mrejilla.[m
[32m+[m
[32m+[m[32m5.5.5. Rejilla[m
[32m+[m
[32m+[m[32mEl tercer elemento que forma la estructura de las pÃ¡ginas en YUI es la rejilla, que permite[m
[32m+[m[32mrealizar diseÃ±os mucho mÃ¡s complejos que los que se realizan Ãºncamente con las plantillas. La[m
[32m+[m[32mestructura en rejilla se puede utilizar junto con las plantillas o de forma independiente.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  126[m
[32m+[m[32mCSS avanzado                                                   CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32mLas rejillas permiten crear divisiones muy complejas y se definen mediante dos elementos:[m
[32m+[m
[32m+[m[32m      1. El contenedor de la rejilla establece el tipo de divisiÃ³n.[m
[32m+[m[32m      2. Las unidades son los elementos individuales en los que estÃ¡ dividida la rejilla.[m
[32m+[m
[32m+[m[32mLa rejilla mÃ¡s utilizada y mÃ¡s sencilla es .yui.g, que divide un elemento en dos partes iguales. El[m
[32m+[m[32mcÃ³digo HTML necesario es el siguiente:[m
[32m+[m
[32m+[m[32m     <div class="yui-g">[m
[32m+[m[32m         <div class="yui-u"></div>[m
[32m+[m[32m         <div class="yui-u"></div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEl elemento <div class="yui-g"> crea una nueva divisiÃ³n o rejilla. Como se trata de una[m
[32m+[m[32mdivisiÃ³n en dos partes iguales, en su interior se deben definir dos unidades mediante <div[m
[32m+[m[32mclass="yui-u"></div>. AdemÃ¡s, YUI obliga a indicar explÃ­citamente cuÃ¡l de las dos unidades es[m
[32m+[m[32mla primera mediante la clase first. De esta forma, el cÃ³digo correcto del ejemplo anterior se[m
[32m+[m[32mmuestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <div class="yui-g">[m
[32m+[m[32m         <div class="yui-u first"></div>[m
[32m+[m[32m         <div class="yui-u"></div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mLa siguiente tabla muestra las seis rejillas incluidas por defecto en YUI y sus caracterÃ­sticas:[m
[32m+[m
[32m+[m[32mSelector          Tipo de divisiÃ³n[m
[32m+[m[32m.yui.g            2 unidades a partes iguales (1/2, 1/2)[m
[32m+[m[32m.yui.gb           3 unidades a partes iguales (1/3, 1/3, 1/3)[m
[32m+[m[32m.yui.gc           2 unidades (2/3, 1/3)[m
[32m+[m[32m.yui.gd           2 unidades (1/3, 2/3)[m
[32m+[m[32m.yui.ge           2 unidades (3/4, 1/4)[m
[32m+[m[32m.yui.gf           2 unidades (1/4, 3/4)[m
[32m+[m
[32m+[m[32mUtilizando varias de las rejillas predefinidas es posible crear estructuras de pÃ¡gina muy[m
[32m+[m[32mcomplejas. El siguiente ejemplo muestra el cÃ³digo de una pÃ¡gina cuyo cuerpo estÃ¡ dividido en[m
[32m+[m[32mdos columnas en su parte superior y en tres columnas en su parte inferior:[m
[32m+[m
[32m+[m[32m<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/[m
[32m+[m[32mstrict.dtd">[m
[32m+[m[32m<html>[m
[32m+[m[32m<head>[m
[32m+[m
[32m+[m[32m   <title>PÃ¡gina diseÃ±ada con YUI</title>[m
[32m+[m[32m   <link rel="stylesheet" type="text/css" href="reset-fonts-grids.css">[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m<div id="doc" class="yui-t7">[m
[32m+[m[32m   <div id="hd"><!-- cabecera --></div>[m
[32m+[m[32m   <div id="bd">[m
[32m+[m
[32m+[m[32m      <!-- cuerpo -->[m
[32m+[m[32m      <div id="yui-main">[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                127[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m               <div class="yui-b"><!-- bloque principal -->[m
[32m+[m[32m                   <!-- rejilla 1/2, 1/2 -->[m
[32m+[m[32m                   <div class="yui-g">[m
[32m+[m[32m                      <div class="yui-u first"></div>[m
[32m+[m[32m                      <div class="yui-u"></div>[m
[32m+[m[32m                   </div>[m
[32m+[m
[32m+[m[32m                   <!-- rejilla 1/3, 1/3, 1/3 -->[m
[32m+[m[32m                   <div class="yui-gb">[m
[32m+[m
[32m+[m[32m                      <div class="yui-u first"></div>[m
[32m+[m[32m                      <div class="yui-u"></div>[m
[32m+[m[32m                      <div class="yui-u"></div>[m
[32m+[m[32m                   </div>[m
[32m+[m[32m               </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="yui-b"><!-- bloque secundario -->[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <div id="ft"><!-- pie --></div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mCombinando las rejillas bÃ¡sicas se pueden obtener otro tipo de rejillas muy utilizadas. La rejilla[m
[32m+[m[32m1/4, 1/4, 1/4, 1/4 se puede obtener combinando dos rejillas 1/2, 1/2:[m
[32m+[m
[32m+[m[32m     ...[m
[32m+[m[32m         <div id="bd">[m
[32m+[m[32m            <!-- cuerpo -->[m
[32m+[m[32m            <div id="yui-main">[m
[32m+[m[32m               <div class="yui-b"><!-- bloque principal -->[m
[32m+[m[32m                   <!-- rejilla 1/2, 1/2 -->[m
[32m+[m[32m                   <div class="yui-g">[m
[32m+[m[32m                      <div class="yui-u first">[m
[32m+[m
[32m+[m[32m                         <!-- rejilla 1/2, 1/2 -->[m
[32m+[m[32m                         <div class="yui-g">[m
[32m+[m
[32m+[m[32m                             <div class="yui-u first"></div>[m
[32m+[m[32m                             <div class="yui-u"></div>[m
[32m+[m[32m                         </div>[m
[32m+[m
[32m+[m[32m                      </div>[m
[32m+[m
[32m+[m[32m                      <div class="yui-u">[m
[32m+[m
[32m+[m[32m                         <!-- rejilla 1/2, 1/2 -->[m
[32m+[m[32m                         <div class="yui-g">[m
[32m+[m
[32m+[m[32m                             <div class="yui-u first"></div>[m
[32m+[m[32m                             <div class="yui-u"></div>[m
[32m+[m[32m                         </div>[m
[32m+[m
[32m+[m[32m                      </div>[m
[32m+[m[32m                   </div>[m
[32m+[m
[32m+[m[32m               </div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es  128[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 5. Frameworks[m
[32m+[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="yui-b"><!-- bloque secundario -->[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m[32m         ...[m
[32m+[m[32m     </div>[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32mCrear estructuras complejas con YUI es realmente sencillo aunque requiere de un perÃ­odo de[m
[32m+[m[32maprendizaje. Por ese motivo, para los diseÃ±adores que estÃ¡n empezando puede ser de utilidad la[m
[32m+[m[32mherramienta YUI: CSS Grid Builder (http://developer.yahoo.com/yui/grids/builder/) que[m
[32m+[m[32mpermite configurar la estructura de la pÃ¡gina de forma grÃ¡fica.[m
[32m+[m
[32m+[m[32m5.6. Otros frameworks[m
[32m+[m
[32m+[m[32mYUI (http://developer.yahoo.com/yui/) no es el Ãºnico framework CSS disponible, pero si es el[m
[32m+[m[32mmÃ¡s completo. El motivo es que YUI ni siquiera es un framework CSS, sino que es una completa[m
[32m+[m[32mlibrerÃ­a de componentes listos para crear aplicaciones web dinÃ¡micas. YUI incluye decenas de[m
[32m+[m[32mutilidades de todo tipo para facilitar la programaciÃ³n con Javascript, incluye componentes[m
[32m+[m[32mprediseÃ±ados listos para utilizar, herramientas para comprimir el cÃ³digo JavaScript y el cÃ³digo[m
[32m+[m[32mCSS, componentes para facilitar el diseÃ±o web con CSS y otros muchos componentes de todo[m
[32m+[m[32mtipo.[m
[32m+[m
[32m+[m[32mAdemÃ¡s de YUI, existen muchos otros frameworks que facilitan el diseÃ±o de pÃ¡ginas web con CSS.[m
[32m+[m[32mAunque no son tan completos como YUI, cuentan con la ventaja de que sÃ³lo son frameworks CSS,[m
[32m+[m[32mpor lo que estÃ¡n mucho mÃ¡s especializados.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indican los tres frameworks mÃ¡s populares al margen de YUI:[m
[32m+[m
[32m+[m[32m    â–ª 960 Grid System (http://960.gs/) : su nombre proviene de 960px, que es la anchura para la[m
[32m+[m[32m       que optimiza el diseÃ±o de los layouts. Este framework divide los 960px de anchura de la[m
[32m+[m[32m       pÃ¡gina en 12 o 16 columnas de 60px y 40px de anchura respectivamente y les aÃ±ade un[m
[32m+[m[32m       margen izquierdo y derecho de 20px a cada columna. El archivo comprimido del[m
[32m+[m[32m       framework tambiÃ©n incluye una plantilla de papel en formato PDF y plantillas para los[m
[32m+[m[32m       programas Fireworks, OmniGraffle, Photoshop y Visio.[m
[32m+[m
[32m+[m[32m    â–ª YAML (http://www.yaml.de/) : su nombre proviene de "Yet Another Multicolumn Layout"[m
[32m+[m[32m       y es uno de los frameworks mÃ¡s completos. Soporta todas las versiones de todos los[m
[32m+[m[32m       navegadores, incluyendo navegadores tan obsoletos como Internet Explorer 5. La[m
[32m+[m[32m       documentaciÃ³n de YAML estÃ¡ formada por un libro en formato PDF de mÃ¡s de 110[m
[32m+[m[32m       pÃ¡ginas. Al igual que YUI, el framework YAML tambiÃ©n dispone de una herramienta[m
[32m+[m[32m       llamada YAML Builder (http://builder.yaml.de/) que permite configurar grÃ¡ficamente la[m
[32m+[m[32m       estructura de la pÃ¡gina.[m
[32m+[m
[32m+[m[32m    â–ª Blueprint (http://blueprintcss.org/) : framework muy similar en concepto a 960 Grid[m
[32m+[m[32m       System, ya que por defecto la pÃ¡gina tiene una anchura de 950px dividida en 24 columnas[m
[32m+[m[32m       de 30px de ancho y 10px de mÃ¡rgenes laterales.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  129[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mCapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m6.1. ImÃ¡genes embebidas[m
[32m+[m
[32m+[m[32mSegÃºn los estudios realizados por Yahoo! el tiempo de carga de una pÃ¡gina media depende en un[m
[32m+[m[32m80% de la parte del cliente y en un 20% de la parte del servidor. Los navegadores de los usuarios[m
[32m+[m[32mdedican la mayor parte del tiempo a descargar imÃ¡genes, archivos JavaScript, hojas de estilos[m
[32m+[m[32mCSS y otros recursos externos.[m
[32m+[m
[32m+[m[32mPor este motivo, las mejoras en la parte del cliente generan muchos mÃ¡s beneficios que las[m
[32m+[m[32mmejoras en la parte del servidor. De todos los elementos de la parte del cliente, las imÃ¡genes son[m
[32m+[m[32mnormalmente las que mÃ¡s penalizan el rendimiento. AdemÃ¡s del peso de cada imagen, el[m
[32m+[m[32mrendimiento se resiente porque cada imagen requiere realizar una peticiÃ³n al servidor. Como los[m
[32m+[m[32mnavegadores tienen un lÃ­mite de conexiones simultÃ¡neas con el servidor (entre 2 y 8), la[m
[32m+[m[32mdescarga de una pÃ¡gina con muchas imÃ¡genes se bloquea continuamente.[m
[32m+[m
[32m+[m[32mComo ya se explicÃ³ en las secciones anteriores, la soluciÃ³n para mejorar el rendimiento de las[m
[32m+[m[32mimÃ¡genes consiste en combinarlas en una imagen grande llamada sprite CSS y utilizar la[m
[32m+[m[32mpropiedad background-image en cada elemento HTML.[m
[32m+[m
[32m+[m[32mAdemÃ¡s de los sprites CSS existe otra tÃ©cnica que permite embeber o incluir las imÃ¡genes en la[m
[32m+[m[32mpropia pÃ¡gina HTML u hoja de estilos CSS. La tÃ©cnica se suele denominar "imÃ¡genes embebidas" o[m
[32m+[m[32m"imÃ¡genes en lÃ­nea".[m
[32m+[m
[32m+[m[32mNormalmente, en las hojas de estilos y pÃ¡ginas HTML sÃ³lo se indica la URL de la imagen que[m
[32m+[m[32mdebe descargar el navegador. En la tÃ©cnica de las imÃ¡genes embebedidas no se indica la URL,[m
[32m+[m[32msino que se incluyen directamente los bytes de la imagen, para que el navegador pueda[m
[32m+[m[32mmostrarla de forma inmediata.[m
[32m+[m
[32m+[m[32mLos datos de la imagen se incluyen mediante un esquema especial llamado data:, de la misma[m
[32m+[m[32mforma que las URL se indican mediante el esquema http:, las direcciones de correo electrÃ³nico[m
[32m+[m[32mmediante el esquema mailto:, etc. El esquema data: se define en el estÃ¡ndar RFC 2397[m
[32m+[m[32m(http://www.ietf.org/rfc/rfc2397.txt) y su sintaxis es la siguiente:[m
[32m+[m
[32m+[m[32m     data:[<mediatype>][;base64],<data>[m
[32m+[m
[32m+[m[32mEl atributo <mediatype> corresponde al tipo de contenido de los bytes que se incluyen. Los tipos[m
[32m+[m[32mde contenido estÃ¡n estandarizados y los que utilizan habitualmente las imÃ¡genes son: image/[m
[32m+[m[32mgif, image/jpeg y image/png. Si no se indica el tipo de forma explÃ­cita, el navegador supone que[m
[32m+[m[32mes text/plain, es decir, texto normal y corriente.[m
[32m+[m
[32m+[m[32mEl valor base64 es opcional e indica que los datos de la imagen se han codificado segÃºn el[m
[32m+[m[32mformato base64. Si no se indica este valor, el navegador supone que los bytes de la imagen no[m
[32m+[m[32mestÃ¡n codificados.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el ejemplo de una imagen HTML (<img>) que no se indica mediante[m
[32m+[m[32muna URL sino que se incluyen sus bytes directamente en la pÃ¡gina:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                130[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m<!-- Imagen externa que el navegador debe descargar desde el servidor -->[m
[32m+[m[32m<img alt="Icono de un libro" width="16" height="16" src="/imagenes/icono_libro.png" />[m
[32m+[m
[32m+[m[32m     <!-- Imagen embebida que el navegador puede mostrar directamente porque ya dispone de[m
[32m+[m[32m     sus bytes -->[m
[32m+[m[32m     <img alt="Icono de un libro" width="16" height="16" src="data:image/png;base64,iV[m
[32m+[m[32m     BORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHd[m
[32m+[m[32m     hcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHjSURBVDjLdZO/alVBEMZ/5+TemxAbFUUskqAoSOJNp4KC[m
[32m+[m[32m     4AsoPoGFIHY+gA+jiJXaKIiChbETtBYLUbSMRf6Aydndmfks9kRjvHdhGVh2fvN9uzONJK7fe7Ai6algA[m
[32m+[m[32m     3FZCAmQqEF/dnihpK1v7x7dPw0woF64Izg3Xl5s1n9uIe0lQYUFCtjc+sVuEqHBKfpVAXB1vLzQXFtdYP[m
[32m+[m[32m     HkGFUCoahVo1Y/fnie+bkBV27c5R8A0pHxyhKvPn5hY2MHRQAQeyokFGJze4cuZfav3gLNYDTg7Pklzpw[m
[32m+[m[32m     4ijtIQYRwFx6BhdjtCk+erU0CCPfg+/o2o3ZI13WUlLGo58YMg+GIY4dmCWkCAAgPzAspJW5ePFPlV3VI[m
[32m+[m[32m     4uHbz5S5IQfy/yooHngxzFser30iFcNcuAVGw3A0Ilt91IkAsyCXQg5QO0szHEIrogkiguwN2acCoJhjn[m
[32m+[m[32m     ZGKYx4Ujz5WOA2YD1BMU+BBSYVUvNpxkXuIuWgbsOxTHrG3UHIFWIhsgXtQQpTizNBS5jXZQkhkcywZqQ[m
[32m+[m[32m     QlAjdRwiml7wU5xWLaL1AvZa8WIjALzIRZ7YVWDW5CiIj48Z8F2pYLl1ZR0+AuzEX0UX035mxIkLq0dhD[m
[32m+[m[32m     w5vXL97fr5O3rfwQHJhPx4uuH57f2AL8BfPrVlrs6xwsAAAAASUVORK5CYII=" />[m
[32m+[m
[32m+[m[32mEl atributo src de la imagen del ejemplo anterior utiliza el esquema data: para incluir en la[m
[32m+[m[32mpÃ¡gina los bytes de la imagen. El valor image/png indica que los datos corresponden a una[m
[32m+[m[32mimagen en formato PNG. El valor base64 indica que los datos incluidos estÃ¡n codificados segÃºn el[m
[32m+[m[32mformato base64.[m
[32m+[m
[32m+[m[32mAunque el ejemplo anterior funciona correctamente, como todos los datos se incluyen en el[m
[32m+[m[32mpropio cÃ³digo HTML, el navegador no puede hacer uso de la cachÃ© para reutilizarlos[m
[32m+[m[32mposteriormente. El resultado es que el nÃºmero de peticiones HTTP se reduce drÃ¡sticamente,[m
[32m+[m[32mpero aumenta significativamente el tamaÃ±o de todas las pÃ¡ginas HTML.[m
[32m+[m
[32m+[m[32mEl siguiente paso consiste en utilizar las imÃ¡genes embebidas en las hojas de estilos CSS, de[m
[32m+[m[32mforma que se mantengan las ventajas del ejemplo anterior y se solucionen todas sus desventajas.[m
[32m+[m[32mPara embeber las imÃ¡genes en CSS se sigue la misma estrategia que en HTML, ya que sÃ³lo es[m
[32m+[m[32mnecesario sustituir la URL por el esquema data:, tal y como muestra el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     /* Imagen externa que el navegador debe descargar desde el servidor */[m
[32m+[m[32m     ul#menu li { background: #FFF no-repeat center center url("/imagenes/icono_libro.png");[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* Imagen embebida que el navegador puede mostrar directamente porque ya dispone de sus[m
[32m+[m[32m     bytes */[m
[32m+[m[32m     ul#menu li {[m
[32m+[m
[32m+[m[32m         background: #FFF no-repeat center center url("data:image/png;base64,iVBORw0KGgo[m
[32m+[m[32m         AAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQW[m
[32m+[m[32m         RvYmUgSW1hZ2VSZWFkeXHJZTwAAAHjSURBVDjLdZO/alVBEMZ/5+TemxAbFUUskqAoSOJNp4KC4AsoP[m
[32m+[m[32m         oGFIHY+gA+jiJXaKIiChbETtBYLUbSMRf6Aydndmfks9kRjvHdhGVh2fvN9uzONJK7fe7Ai6algA3FZ[m
[32m+[m[32m         CAmQqEF/dnihpK1v7x7dPw0woF64Izg3Xl5s1n9uIe0lQYUFCtjc+sVuEqHBKfpVAXB1vLzQXFtdYPH[m
[32m+[m[32m         kGFUCoahVo1Y/fnie+bkBV27c5R8A0pHxyhKvPn5hY2MHRQAQeyokFGJze4cuZfav3gLNYDTg7Pklzp[m
[32m+[m[32m         w4ijtIQYRwFx6BhdjtCk+erU0CCPfg+/o2o3ZI13WUlLGo58YMg+GIY4dmCWkCAAgPzAspJW5ePFPlV[m
[32m+[m[32m         3VI4uHbz5S5IQfy/yooHngxzFser30iFcNcuAVGw3A0Ilt91IkAsyCXQg5QO0szHEIrogkiguwN2acC[m
[32m+[m[32m         oJhjnZGKYx4Ujz5WOA2YD1BMU+BBSYVUvNpxkXuIuWgbsOxTHrG3UHIFWIhsgXtQQpTizNBS5jXZQkh[m
[32m+[m[32m         kcywZqQQlAjdRwiml7wU5xWLaL1AvZa8WIjALzIRZ7YVWDW5CiIj48Z8F2pYLl1ZR0+AuzEX0UX035m[m
[32m+[m[32m         xIkLq0dhDw5vXL97fr5O3rfwQHJhPx4uuH57f2AL8BfPrVlrs6xwsAAAAASUVORK5CYII=");[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa ventaja de utilizar las imÃ¡genes embebidas en CSS es que sÃ³lo aumenta el tamaÃ±o de las hojas[m
[32m+[m[32mde estilos y no el de todas las pÃ¡ginas HTML del sitio. AdemÃ¡s, los navegadores guardan en su[m
[32m+[m
[32m+[m[32mwww.librosweb.es  131[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mcache las hojas de estilos completas, por lo que el aumento en su tamaÃ±o no penaliza en exceso[m
[32m+[m[32mel rendimiento global de la descarga de pÃ¡ginas.[m
[32m+[m
[32m+[m[32mEl proceso de codificaciÃ³n de los bytes de las imÃ¡genes segÃºn el formato base64 es una tarea[m
[32m+[m[32mmÃ¡s propia de programadores web que de diseÃ±adores web. Si conoces por ejemplo el lenguaje[m
[32m+[m[32mde programaciÃ³n PHP puedes utilizar la siguiente instrucciÃ³n:[m
[32m+[m
[32m+[m[32m     $bytesCodificados = base64_encode(file_get_contents("/ruta/hasta/la/imagen.png"));[m
[32m+[m
[32m+[m[32mSi no dispones de conocimientos de programaciÃ³n, puedes utilizar alguna de las herramientas[m
[32m+[m[32monline que codifican directamente los contenidos del archivo indicado:[m
[32m+[m
[32m+[m[32m    â–ª Base64 encoder/decoder (http://www.motobit.com/util/base64-decoder-encoder.asp)[m
[32m+[m
[32m+[m[32m    â–ª Binary File to Base64 Encoder / Translator (http://www.greywyvern.com/code/php/[m
[32m+[m[32m       binary2base64)[m
[32m+[m
[32m+[m[32mLas principales ventajas de la tÃ©cnica de las imÃ¡genes embebidas son las siguientes:[m
[32m+[m
[32m+[m[32m    â–ª Reduce drÃ¡sticamente el nÃºmero de peticiones HTTP, lo que mejora notablemente el[m
[32m+[m[32m       rendimiento.[m
[32m+[m
[32m+[m[32m    â–ª Permite guardar una pÃ¡gina HTML completa en un Ãºnico archivo HTML (embebiendo[m
[32m+[m[32m       todas sus imÃ¡genes en su hoja de estilos o en el propio cÃ³digo HTML).[m
[32m+[m
[32m+[m[32m    â–ª Mejora el rendimiento de las peticiones HTTPS en las que las imÃ¡genes no se guardan en la[m
[32m+[m[32m       cache.[m
[32m+[m
[32m+[m[32mPor contra, sus desventajas son considerables:[m
[32m+[m
[32m+[m[32m    â–ª El esquema data: sÃ³lo funciona en los navegadores modernos que se preocupan de los[m
[32m+[m[32m       estÃ¡ndares (Firefox, Safari y Opera). Internet Explorer 6 y 7 no son capaces de procesar el[m
[32m+[m[32m       esquema data:. Internet Explorer 8 asegura que permitirÃ¡ utilizar data:, pero solamente[m
[32m+[m[32m       para embeber imÃ¡genes en CSS.[m
[32m+[m
[32m+[m[32m    â–ª El proceso completo es lento y poco flexible, ya que es necesario codificar las imÃ¡genes en[m
[32m+[m[32m       base64 y recodificarlas cada vez que se quieren modificar.[m
[32m+[m
[32m+[m[32m    â–ª Las imÃ¡genes embebidas aumentan considerablemente el tamaÃ±o de la hoja de estilos CSS.[m
[32m+[m[32m       AdemÃ¡s, la codificaciÃ³n base64 tambiÃ©n aumenta mucho el tamaÃ±o de los datos de la[m
[32m+[m[32m       imagen respecto a sus bytes originales.[m
[32m+[m
[32m+[m[32m    â–ª Los navegadores limitan el tamaÃ±o mÃ¡ximo de los datos que se pueden embeber mediante[m
[32m+[m[32m       data:. Algunos navegadores como Opera permiten unos 4.000 bytes de datos, mientras[m
[32m+[m[32m       que el navegador Firefox permite hasta 100.000 bytes por cada data:.[m
[32m+[m
[32m+[m[32m6.2. Mapas de imagen[m
[32m+[m
[32m+[m[32mLos mapas de imagen se llevan utilizando desde los orÃ­genes de HTML. Combinando las[m
[32m+[m[32metiquetas <map> y <area> junto con el atributo usemap de la etiqueta <img> es posible definir[m
[32m+[m[32mdiferentes zonas pinchables dentro de una misma imagen.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  132[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mHoy en dÃ­a los mapas de imagen HTML han sido sustituidos por otras soluciones como Flash, que[m
[32m+[m[32mson mÃ¡s fÃ¡ciles de utilizar y disponen de mÃ¡s posibilidades. No obstante, recientemente ha[m
[32m+[m[32msurgido un nuevo tipo de mapa de imagen creado sÃ³lo con CSS.[m
[32m+[m
[32m+[m[32mEstos mapas de imagen CSS no suelen utilizarse para definir zonas pinchables dentro de una[m
[32m+[m[32mimagen, sino que se emplean para mostrar informaciÃ³n adicional y comentarios sobre las[m
[32m+[m[32mdiferentes zonas de una imagen. El sitio de fotografÃ­a Flickr (http://www.flickr.com/) utiliza los[m
[32m+[m[32mmapas de imagen para mostrar notas y comentarios de los usuarios. Otros sitios web como[m
[32m+[m[32mFacebook (http://www.facebook.com/) utilizan los mapas de imagen para que los usuarios[m
[32m+[m[32metiqueten las fotografÃ­as indicando el nombre de las personas que aparecen en cada una.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se explican los pasos necesarios para crear un mapa de imagen exclusivamente[m
[32m+[m[32mcon CSS similar a los de Flickr y Facebook.[m
[32m+[m
[32m+[m[32mEn primer lugar, selecciona la imagen en la que se van a mostrar las notas. En este ejemplo se[m
[32m+[m[32mutiliza una imagen de la fotÃ³grafa visualpanic (http://www.flickr.com/photos/visualpanic/) que[m
[32m+[m[32mse puede utilizar libremente y que estÃ¡ disponible en Flickr (http://www.flickr.com/photos/[m
[32m+[m[32mvisualpanic/233508614/) :[m
[32m+[m
[32m+[m[32m                  Figura 6.1. Imagen original en la que se va a mostrar el mapa de imagen[m
[32m+[m
[32m+[m[32mEl funcionamiento del mapa de imagen terminado es el que muestra la siguiente secuencia de[m
[32m+[m[32mimÃ¡genes:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  133[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m                       Figura 6.2. Funcionamiento del mapa de imagen creado con CSS[m
[32m+[m
[32m+[m[32mLa imagen por defecto no muestra ninguna zona activa. Cuando el usuario pasa el ratÃ³n por[m
[32m+[m[32mencima de cualquier parte de la imagen, se muestra el recuadro de todas las zonas activas[m
[32m+[m[32mdisponibles. AdemÃ¡s, cuando el usuario pasa el ratÃ³n por encima de una zona activa, se muestra[m
[32m+[m[32mel comentario asociado.[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML del mapa de imagen creado con CSS varÃ­a mucho en funciÃ³n de la soluciÃ³n[m
[32m+[m[32mutilizada. Aunque algunas soluciones crean varios <div> y tablas por cada nota/comentario, en[m
[32m+[m[32meste ejemplo se simplifica al mÃ¡ximo el cÃ³digo HTML y sÃ³lo se utiliza un elemento <div> y una[m
[32m+[m[32mlista <ul>:[m
[32m+[m
[32m+[m[32m     <div class="mapa_imagen">[m
[32m+[m[32m         <img src="imagenes/mar.jpg" />[m
[32m+[m
[32m+[m[32m         <ul class="notas">[m
[32m+[m[32m            <li id="nota1"><p>Todo el mar es suyo :)</p></li>[m
[32m+[m[32m            <li id="nota2"><p>Â¡Me encanta este color azul!</p></li>[m
[32m+[m[32m            <li id="nota3"><p>Dan ganas de tirarse...</p></li>[m
[32m+[m
[32m+[m[32m         </ul>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEl elemento <div class="mapa_imagen"> encierra todos los elementos que forman el mapa de[m
[32m+[m[32mimagen (la imagen original y las notas/comentarios). Los comentarios se incluyen mediante una[m
[32m+[m[32mlista no ordenada <ul>, en la que cada elemento <li> es un comentario.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  134[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mEl elemento <div> y la lista <ul> deben utilizar el atributo class y no id porque en una misma[m
[32m+[m[32mpÃ¡gina puede haber varios mapas de imagen. Por su parte, los elementos <li> de cada[m
[32m+[m[32mcomentario deben utilizar atributos id, ya que cada comentario se muestra en una posiciÃ³n[m
[32m+[m[32mÃºnica y tiene unas dimensiones Ãºnicas de anchura y altura.[m
[32m+[m
[32m+[m[32mLa clave de los mapas de imagen CSS consiste en posicionar cada <li> de forma absoluta[m
[32m+[m[32mrespecto de la imagen y asignarles una anchura/altura adecuadas. Posteriormente, se emplea la[m
[32m+[m[32mpseudo-clase :hover para mostrar/ocultar elementos cuando el usuario pasa el ratÃ³n por[m
[32m+[m[32mencima.[m
[32m+[m
[32m+[m[32m1) Posicionar de forma absoluta cada nota:[m
[32m+[m
[32m+[m[32m     div.mapa_imagen {[m
[32m+[m[32m         position: relative[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li {[m
[32m+[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m2) Aplicar los estilos bÃ¡sicos a las notas (borde blanco y sin adornos de lista):[m
[32m+[m
[32m+[m[32m     ul.notas li {[m
[32m+[m[32m         border: medium solid #FFF;[m
[32m+[m[32m         list-style: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m3) Ocultar por defecto las notas y mostrarlas cuando se pasa el ratÃ³n por encima de la imagen:[m
[32m+[m
[32m+[m[32m     ul.notas li {[m
[32m+[m[32m         display: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     div.mapa_imagen:hover ul.notas li {[m
[32m+[m
[32m+[m[32m         display: block;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m4) Aplicar los estilos bÃ¡sicos al texto de las notas y posicionarlo debajo de cada nota:[m
[32m+[m
[32m+[m[32m     ul.notas li p {[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         top: 100%;[m
[32m+[m
[32m+[m[32m         background: #FFF;[m
[32m+[m[32m         opacity: 0.65;[m
[32m+[m
[32m+[m[32m         margin: 10px 0 0 0;[m
[32m+[m[32m         padding: 0.3em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m5) Ocultar por defecto el texto de las notas y mostrarlo cuando se pasa el ratÃ³n por encima de la[m
[32m+[m[32mnota:[m
[32m+[m
[32m+[m[32m     ul.notas li p {[m
[32m+[m[32m         display: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li:hover p {[m
[32m+[m
[32m+[m[32mwww.librosweb.es  135[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m         display: block;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m6) Establecer la posiciÃ³n y dimensiones de cada nota:[m
[32m+[m
[32m+[m[32m     ul.notas li#nota1 {[m
[32m+[m[32m         width: 140px; height: 110px; top: 130px; left: 345px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li#nota2 {[m
[32m+[m
[32m+[m[32m         width: 30px; height: 200px; top: 10px; left: 10px;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li#nota3 {[m
[32m+[m
[32m+[m[32m         width: 60px; height: 60px; top: 200px; left: 150px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAplicando las reglas CSS anteriores el mapa de imagen CSS ya funciona correctamente en los[m
[32m+[m[32mnavegadores Firefox y Safari. Desafortunadamente, los navegadores Internet Explorer y Opera[m
[32m+[m[32mtienen errores que impiden que el ejemplo funcione correctamente. El problema reside en que[m
[32m+[m[32mlos elementos <li> tienen un fondo transparente y tanto Internet Explorer como Opera tienen[m
[32m+[m[32mproblemas con la pseudo-clase :hover sobre estos elementos.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n consiste en aÃ±adir un fondo (color o imagen) sobre los elementos <li>. Como lo[m
[32m+[m[32mÃºnico importante es aÃ±adir un fondo, independientemente de si el fondo es real o no, la siguiente[m
[32m+[m[32mregla CSS es suficiente:[m
[32m+[m
[32m+[m[32m     ul.notas li {[m
[32m+[m[32m         background: url("esta_imagen_no_existe");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS completo del mapa de imagen que funciona en todos los navegadores es el[m
[32m+[m[32msiguiente:[m
[32m+[m
[32m+[m[32m     div.mapa_imagen {[m
[32m+[m[32m         position: relative[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li {[m
[32m+[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         display: none;[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         border: medium solid white;[m
[32m+[m[32m         background: url("esta_imagen_no_existe");[m
[32m+[m[32m     }[m
[32m+[m[32m     div.mapa_imagen:hover ul.notas li {[m
[32m+[m[32m         display: block;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li p {[m
[32m+[m[32m         margin: 10px 0 0 0;[m
[32m+[m[32m         padding: .3em;[m
[32m+[m[32m         display: none;[m
[32m+[m[32m         background: #FFF;[m
[32m+[m[32m         opacity: 0.65;[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         top: 100%;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li:hover p {[m
[32m+[m
[32m+[m[32mwww.librosweb.es  136[m
[32m+[m[32mCSS avanzado                                                    CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m         display: block;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul.notas li#nota1 {[m
[32m+[m[32m         width: 140px; height: 110px; top: 130px; left: 345px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li#nota2 {[m
[32m+[m
[32m+[m[32m         width: 30px; height: 200px; top: 10px; left: 10px;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.notas li#nota3 {[m
[32m+[m
[32m+[m[32m         width: 60px; height: 60px; top: 200px; left: 150px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl resultado final es el que muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32m                          Figura 6.3. Mapa de imagen con todas sus zonas activadas[m
[32m+[m
[32m+[m[32m6.3. Variables en las hojas de estilos[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de diseÃ±adores web profesionales creen que CSS carece de un mecanismo[m
[32m+[m[32mfundamental para facilitar su trabajo: las variables en las hojas de estilos. Cuando se define una[m
[32m+[m[32mhoja de estilos como la siguiente:[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         background-color: #369;[m
[32m+[m[32m         color: #FFF;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                137[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m     #contenidos h1, #contenidos h2 {[m
[32m+[m[32m         color: #369;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     a{[m
[32m+[m
[32m+[m[32m         color: #557E29;[m
[32m+[m[32m     }[m
[32m+[m[32m     span {[m
[32m+[m
[32m+[m[32m         background-color: #557E29;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos buenos diseÃ±adores utilizan en sus trabajos un nÃºmero muy reducido de colores que[m
[32m+[m[32mcombinan entre sÃ­ para diseÃ±ar cada elemento de la pÃ¡gina. De esta forma, en las hojas de estilos[m
[32m+[m[32mprofesionales se repiten una y otra vez los mismos valores. No obstante, CSS no permite definir[m
[32m+[m[32mvariables para almacenar los valores que se utilizan constantemente.[m
[32m+[m
[32m+[m[32mSi el diseÃ±ador quiere modificar el color verde #557E29 de la hoja de estilos anterior, Â¿cÃ³mo[m
[32m+[m[32mcambia todas las apariciones de ese color verde en la hoja de estilos? Modificar ese color de[m
[32m+[m[32mforma manual es un proceso tedioso y demasiado lento. Afortunadamente, los editores de texto[m
[32m+[m[32mdisponen de herramientas para sustituir un valor por otro, aunque tampoco es una soluciÃ³n[m
[32m+[m[32mÃ³ptima.[m
[32m+[m
[32m+[m[32mPor otra parte, tambiÃ©n es comÃºn diseÃ±ar sitios web idÃ©nticos o muy similares en los que sÃ³lo[m
[32m+[m[32mcambia su aspecto definido con CSS. En este caso, es habitual que un sitio web se diferencie de[m
[32m+[m[32motro solamente en algunos pocos valores de su hoja de estilos CSS. La soluciÃ³n consiste[m
[32m+[m[32mnuevamente en modificar todos los valores de colores y tipos de letra para modificar el aspecto[m
[32m+[m[32mdel sitio web.[m
[32m+[m
[32m+[m[32mLos problemas anteriores se podrÃ­an resolver fÃ¡cilmente si CSS permitiera definir variables[m
[32m+[m[32mcomo en la siguiente hoja de estilos:[m
[32m+[m
[32m+[m[32m     $colorAzul = #369;[m
[32m+[m[32m     $colorVerde = #557E29;[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         background-color: $colorAzul;[m
[32m+[m[32m         color: #FFF;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenidos h1, #contenidos h2 {[m
[32m+[m
[32m+[m[32m         color: $colorAzul;[m
[32m+[m[32m     }[m
[32m+[m[32m     a{[m
[32m+[m
[32m+[m[32m         color: $colorVerde;[m
[32m+[m[32m     }[m
[32m+[m[32m     span {[m
[32m+[m
[32m+[m[32m         background-color: $colorVerde;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn la hoja de estilos anterior, el diseÃ±ador puede cambiar el tono de verde o de azul haciendo un[m
[32m+[m[32msolo cambio en la hoja de estilos y con la seguridad absoluta de que se modifican todos los[m
[32m+[m[32melementos de la pÃ¡gina y no se comete ningÃºn error.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  138[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mNo obstante, si la hoja de estilos anterior se quiere reutilizar para otros diseÃ±os con colores[m
[32m+[m[32mcompletamente diferentes, el nombre de las variables anteriores no serÃ­a correcto. Por ello, lo[m
[32m+[m[32mmÃ¡s correcto serÃ­a crear variables cuyo nombre no incluya informaciÃ³n sobre su aspecto:[m
[32m+[m
[32m+[m[32m     $colorPrincipal = #369;[m
[32m+[m[32m     $colorSecundario = #557E29;[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         background-color: $colorPrincipal;[m
[32m+[m[32m         color: #FFF;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenidos h1, #contenidos h2 {[m
[32m+[m
[32m+[m[32m         color: $colorPrincipal;[m
[32m+[m[32m     }[m
[32m+[m[32m     a{[m
[32m+[m
[32m+[m[32m         color: $colorSecundario;[m
[32m+[m[32m     }[m
[32m+[m[32m     span {[m
[32m+[m
[32m+[m[32m         background-color: $colorSecundario;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLamentablemente, CSS no permite utilizar variables en las hojas de estilos. Por este motivo se[m
[32m+[m[32mhan desarrollado varias soluciones que hacen uso del servidor web y de los lenguajes de[m
[32m+[m[32mprogramaciÃ³n de servidor para incluir variables en las hojas de estilos CSS.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n mÃ¡s sencilla consiste en utilizar el mecanismo SSI (Server Side Includes) de los[m
[32m+[m[32mservidores web Apache y Microsoft IIS. A continuaciÃ³n se muestra el proceso completo para el[m
[32m+[m[32mservidor web Apache 2.2:[m
[32m+[m
[32m+[m[32m1) Modificar el archivo de configuraciÃ³n de Apache: dependiendo de tu instalaciÃ³n puede ser el[m
[32m+[m[32marchivo general de configuraciÃ³n httpd.conf o el archivo de configuraciÃ³n .htaccess[m
[32m+[m
[32m+[m[32mEn cualquier caso, es necesario aÃ±adir las siguientes opciones de configuraciÃ³n:[m
[32m+[m
[32m+[m[32m     Options +Includes[m
[32m+[m[32m     AddType text/css .scss[m
[32m+[m[32m     AddOutputFilter INCLUDES .scss[m
[32m+[m
[32m+[m[32mLa configuraciÃ³n anterior le indica al servidor web que los archivos cuya extensiÃ³n sea .scss[m
[32m+[m[32mson archivos CSS de servidor y que por tanto, se deben procesar antes de enviarlos al usuario.[m
[32m+[m
[32m+[m[32mPara que los cambios en la configuraciÃ³n sean efectivos, no olvides reiniciar el servidor web.[m
[32m+[m
[32m+[m[32m2) Crear la hoja de estilos y guardar el archivo con extensiÃ³n .scss[m
[32m+[m
[32m+[m[32m3) AÃ±adir las variables a la hoja de estilos utilizando la siguiente sintaxis:[m
[32m+[m
[32m+[m[32mPara definir la variable:[m
[32m+[m
[32m+[m[32m     <!--#set var="nombre_de_la_variable" value="valor_de_la_variable" -->[m
[32m+[m
[32m+[m[32mPara utilizar la variable[m
[32m+[m
[32m+[m[32m     <!--#echo var="nombre_de_la_variable" -->[m
[32m+[m
[32m+[m[32mwww.librosweb.es  139[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mSiguiendo con la hoja de estilos de los ejemplos anteriores, el resultado es el que se muestra a[m
[32m+[m[32mcontinuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <!--#set var="colorPrincipal" value="#369" -->[m
[32m+[m[32m     <!--#set var="colorSecundario" value="#557E29" -->[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         background-color: <!--#echo var="colorPrincipal" -->;[m
[32m+[m[32m         color: #FFF;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenidos h1, #contenidos h2 {[m
[32m+[m
[32m+[m[32m         color: <!--#echo var="colorPrincipal" -->;[m
[32m+[m[32m     }[m
[32m+[m[32m     a{[m
[32m+[m
[32m+[m[32m         color: <!--#echo var="colorSecundario" -->;[m
[32m+[m[32m     }[m
[32m+[m[32m     span {[m
[32m+[m
[32m+[m[32m         background-color: <!--#echo var="colorSecundario" -->;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi no se quiere utilizar otra extensiÃ³n para los archivos CSS procesados por el servidor, es[m
[32m+[m[32mposible hacer uso de la directiva XBitHack, tal y como se explica en la documentaciÃ³n oficial de[m
[32m+[m[32mApache 2.2 sobre SSI (http://httpd.apache.org/docs/2.2/howto/ssi.html) .[m
[32m+[m
[32m+[m[32m6.3.1. Lenguajes de programaciÃ³n de servidor[m
[32m+[m
[32m+[m[32mLa soluciÃ³n alternativa al uso de las directivas SSI del servidor web consiste en emplear un[m
[32m+[m[32mlenguaje de programaciÃ³n de servidor. Aunque se trata de una tÃ©cnica diferente, tambiÃ©n se basa[m
[32m+[m[32men procesar las hojas de estilos en el servidor antes de enviarlas al usuario.[m
[32m+[m
[32m+[m[32mLos detalles tÃ©cnicos de la soluciÃ³n dependen del lenguaje de programaciÃ³n utilizado, pero el[m
[32m+[m[32mmecanismo que se utiliza es idÃ©ntico en todos los casos. A continuaciÃ³n se muestra un ejemplo[m
[32m+[m[32mque hace uso del lenguaje de programaciÃ³n PHP.[m
[32m+[m
[32m+[m[32mPara incluir variables en las hojas de estilos CSS, se crea un archivo con extensiÃ³n .php y se[m
[32m+[m[32mutiliza la sintaxis que se muestra en el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     <?php[m
[32m+[m[32m     header('content-type:text/css');[m
[32m+[m
[32m+[m[32m     $nombre_variable1 = 'valor_variable1';[m
[32m+[m[32m     $nombre_variable2 = 'valor_variable2';[m
[32m+[m
[32m+[m[32m     echo <<<FINCSS[m
[32m+[m[32m     selector {[m
[32m+[m
[32m+[m[32m         propiedad1: $nombre_variable1;[m
[32m+[m[32m         propiedad2: $nombre_variable2;[m
[32m+[m[32m     }[m
[32m+[m[32m     FINCSS;[m
[32m+[m[32m     ?>[m
[32m+[m
[32m+[m[32mSiguiendo con la hoja de estilos de los ejemplos anteriores, el archivo PHP completo es el[m
[32m+[m[32msiguiente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es  140[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m     <?php[m
[32m+[m[32m     header('content-type:text/css');[m
[32m+[m
[32m+[m[32m     $colorPrincipal = '#369';[m
[32m+[m[32m     $colorSecundario = '#557E29';[m
[32m+[m
[32m+[m[32m     echo <<<FINCSS[m
[32m+[m[32m     #cabecera {[m
[32m+[m
[32m+[m[32m         background-color: $colorPrincipal;[m
[32m+[m[32m         color: #FFF;[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenidos h1, #contenidos h2 {[m
[32m+[m[32m         color: $colorPrincipal;[m
[32m+[m[32m     }[m
[32m+[m[32m     a{[m
[32m+[m[32m         color: $colorSecundario;[m
[32m+[m[32m     }[m
[32m+[m[32m     span {[m
[32m+[m[32m         background-color: $colorSecundario;[m
[32m+[m[32m     }[m
[32m+[m[32m     FINCSS;[m
[32m+[m[32m     ?>[m
[32m+[m
[32m+[m[32mPor Ãºltimo, cuando enlaces la hoja de estilos generada con este mÃ©todo, no olvides utilizar la[m
[32m+[m[32mextensiÃ³n .php en el nombre del archivo de la hoja de estilos:[m
[32m+[m
[32m+[m[32m     <link type="text/css" rel="stylesheet" href="/css/estilos.php" />[m
[32m+[m
[32m+[m[32m6.3.2. CSS como lenguaje de programaciÃ³n[m
[32m+[m
[32m+[m[32mLas soluciones que permiten utilizar variables en las hojas de estilos han evolucionado de tal[m
[32m+[m[32mmanera que alguna de ellas permite utilizar CSS como si fuera un lenguaje de programaciÃ³n. Una[m
[32m+[m[32mde estas soluciones es CSS Cacheer (http://www.shauninman.com/archive/2008/05/30/[m
[32m+[m[32mcheck_out_css_cacheer) , ideada por el diseÃ±ador Shaun Inman.[m
[32m+[m
[32m+[m[32mEn primer lugar, CSS Cacheer permite utilizar variables en las hojas de estilos, aunque en esta[m
[32m+[m[32msoluciÃ³n se denominan "constantes":[m
[32m+[m
[32m+[m[32m     @constants {[m
[32m+[m[32m         nombre_de_la_constante: valor_de_la_constante;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     selector {[m
[32m+[m[32m         propiedad: const(nombre_de_la_constante);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mCSS Cacheer tambiÃ©n permite definir unos estilos base que se reutilizan en diferentes elementos:[m
[32m+[m
[32m+[m[32m     @base(tipografia_basica) {[m
[32m+[m[32m         font-family: Arial, sans-serif;[m
[32m+[m[32m         line-height: 1.5;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         based-on: base(tipografia_basica);[m
[32m+[m
[32m+[m[32mwww.librosweb.es  141[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m         font-size: 110%;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         based-on: base(tipografia_basica);[m
[32m+[m[32m         font-size: 200%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mCSS Cacheer es tan avanzado que permite incluso anidar selectores como se muestra en el[m
[32m+[m[32msiguiente ejemplo:[m
[32m+[m
[32m+[m[32m     ul {[m
[32m+[m[32m         propiedad1: valor1;[m
[32m+[m
[32m+[m[32m         li {[m
[32m+[m[32m            propiedad2: valor2;[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se procesan las reglas CSS anteriores con CSS Cacheer, el resultado es el siguiente:[m
[32m+[m
[32m+[m[32m     ul {[m
[32m+[m[32m         propiedad1: valor1;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li {[m
[32m+[m[32m         propiedad2: valor2;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m6.4. Estilos alternativos[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de sitios web disponen de una o varias hojas de estilos CSS que se aplican[m
[32m+[m[32mautomÃ¡ticamente al cargar cada pÃ¡gina en el navegador. En realidad, el estÃ¡ndar HTML/XHTML[m
[32m+[m[32mpermite definir varias hojas de estilos CSS alternativas en una misma pÃ¡gina.[m
[32m+[m
[32m+[m[32mDe esta forma, el usuario puede seleccionar el estilo con el que se muestra la pÃ¡gina entre una[m
[32m+[m[32mserie de estilos definidos por el diseÃ±ador web. En ocasiones los estilos alternativos se emplean[m
[32m+[m[32mpor pura estÃ©tica, por ejemplo para ofrecer temas y esquemas de colores diferentes en un sitio[m
[32m+[m[32mweb. Sin embargo, el uso mÃ¡s adecuado de los estilos alternativos es la mejora de la accesibilidad[m
[32m+[m[32mofreciendo hojas de estilos que faciliten el acceso a los contenidos para las personas[m
[32m+[m[32mdiscapacitadas.[m
[32m+[m
[32m+[m[32mLas hojas de estilos CSS que se enlazan en una pÃ¡gina HTML mediante la etiqueta <link> pueden[m
[32m+[m[32mser de tres tipos:[m
[32m+[m
[32m+[m[32m    â–ª Permanentes ("persistent"): las hojas de estilos que se aplican siempre.[m
[32m+[m
[32m+[m[32m    â–ª Preferentes ("preferred"): las hojas de estilos alternativas que se aplican por defecto.[m
[32m+[m
[32m+[m[32m    â–ª Alternativas ("alternate"): las hojas de estilos alternativas que el usuario puede[m
[32m+[m[32m       seleccionar.[m
[32m+[m
[32m+[m[32mLas hojas de estilos permanentes se aplican siempre independientemente del resto de hojas de[m
[32m+[m[32mestilos definidas o de la hoja de estilo alternativa utilizada por el usuario. Para indicar que una[m
[32m+[m
[32m+[m[32mwww.librosweb.es  142[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mhoja de estilos CSS es permanente, se utiliza el atributo rel="stylesheet" y no se establece el[m
[32m+[m[32matributo title en la etiqueta <link>:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/estilos.css" />[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/otros_estilos.css" />[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, las dos hojas de estilos CSS se aplican siempre independientemente del[m
[32m+[m[32mmedio y de otras posibles hojas de estilos definidas por la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLas hojas de estilos preferentes son las hojas de estilos alternativas que se aplican por defecto.[m
[32m+[m[32mPor lo tanto, si el usuario no selecciona explÃ­citamente otra CSS alternativa, en la pÃ¡gina tambiÃ©n[m
[32m+[m[32mse aplican las hojas de estilos preferentes. Para indicar que una hoja de estilos CSS es preferente,[m
[32m+[m[32mse utiliza el atributo rel="stylesheet" y se establece el atributo title en la etiqueta <link>:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo" type="text/css" href="css/[m
[32m+[m[32m     estilos.css" />[m
[32m+[m
[32m+[m[32mLa hoja de estilos enlazada en el ejemplo anterior se aplica en la pÃ¡gina siempre que el usuario[m
[32m+[m[32mno seleccione otra hoja de estilos alternativa. El estÃ¡ndar HTML/XHTML permite crear grupos de[m
[32m+[m[32mhojas de estilos preferentes. Si dos o mÃ¡s hojas de estilos enlazadas tienen el mismo tÃ­tulo, el[m
[32m+[m[32mnavegador considera que forman parte de un grupo y las aplica de forma conjunta:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo" type="text/css" href="css/[m
[32m+[m[32m     estilos1.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo" type="text/css" href="css/[m
[32m+[m[32m     estilos2.css" />[m
[32m+[m
[32m+[m[32mLas etiquetas <link> del ejemplo anterior enlazan dos hojas de estilos diferentes con el mismo[m
[32m+[m[32mvalor en su atributo title, por lo que el navegador considera que forman un grupo. Como se[m
[32m+[m[32mtrata de hojas de estilos preferentes (porque tienen un atributo rel="stylesheet" y un atributo[m
[32m+[m[32mtitle no vacÃ­o) el navegador aplica todas las hojas de estilos del grupo a no ser que el usuario[m
[32m+[m[32mseleccione explÃ­citamente otra hoja de estilos alternativa.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo incluye hojas de estilos permanentes y preferentes:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/estilos1.css" />[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/estilos2.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo" type="text/css" href="css/[m
[32m+[m[32m     estilos3.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo" type="text/css" href="css/[m
[32m+[m[32m     estilos4.css" />[m
[32m+[m
[32m+[m[32mLas dos primeras hojas de estilos del ejemplo anterior son de tipo permanente, por lo que el[m
[32m+[m[32mnavegador las aplica siempre. Las otras dos hojas de estilos son de tipo preferente, por lo que el[m
[32m+[m[32mnavegador tambiÃ©n las aplica a menos que el usuario seleccione otras hojas de estilo[m
[32m+[m[32malternativas.[m
[32m+[m
[32m+[m[32mEl Ãºltimo tipo de hojas de estilos son las alternativas, que sÃ³lo se aplican si el usuario las[m
[32m+[m[32mselecciona explÃ­citamente. Para indicar que una hoja de estilos CSS es alternativa, se utiliza el[m
[32m+[m[32matributo rel="alternate stylesheet" y se establece el atributo title en la etiqueta <link>:[m
[32m+[m
[32m+[m[32m     <link rel="alternate stylesheet" title="Estilo alternativo" type="text/css" href="css/[m
[32m+[m[32m     estilos.css" />[m
[32m+[m
[32m+[m[32mwww.librosweb.es  143[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mLa hoja de estilos del ejemplo anterior no se aplica en la pÃ¡gina a menos que el usuario la[m
[32m+[m[32mseleccione entre todas las hojas de estilos alternativas. Esta caracterÃ­stica no estÃ¡ disponible en[m
[32m+[m[32mtodos los navegadores, por lo que los diseÃ±adores no deben suponer que el usuario podrÃ¡[m
[32m+[m[32mutilizarla.[m
[32m+[m
[32m+[m[32mEn los navegadores como Firefox y Opera, cuando una pÃ¡gina dispone de varias hojas de estilos[m
[32m+[m[32malternativas, el usuario puede acceder a todas ellas y seleccionar la que desee a travÃ©s del menÃº[m
[32m+[m[32mVer > Estilo o Ver > Estilo de pÃ¡gina.[m
[32m+[m
[32m+[m[32mSi se considera una pÃ¡gina HTML que enlaza las siete hojas de estilos siguientes:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/estilos1.css" />[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="css/estilos2.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo 1" type="text/css" href="css/[m
[32m+[m[32m     estilos3.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo 1" type="text/css" href="css/[m
[32m+[m[32m     estilos4.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo 2" type="text/css" href="css/[m
[32m+[m[32m     estilos5.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo 2" type="text/css" href="css/[m
[32m+[m[32m     estilos6.css" />[m
[32m+[m[32m     <link rel="stylesheet" title="Estilo alternativo 3" type="text/css" href="css/[m
[32m+[m[32m     estilos7.css" />[m
[32m+[m
[32m+[m[32mInicialmente, las hojas de estilos que se aplican en la pÃ¡gina son:[m
[32m+[m
[32m+[m[32m    â–ª Las dos primeras hojas de estilos (estilos1.css y estilos2.css) por ser de tipo[m
[32m+[m[32m       permanente y que por tanto, se aplican bajo cualquier circunstancia.[m
[32m+[m
[32m+[m[32m    â–ª Las dos siguientes hojas de estilos (estilos3.css y estilos4.css) por ser de tipo[m
[32m+[m[32m       preferente y que por tanto, se aplican siempre que el usuario no seleccione explÃ­citamente[m
[32m+[m[32m       otro tipo de hoja de estilos alternativa.[m
[32m+[m
[32m+[m[32mSi el usuario utiliza un navegador avanzado (Firefox, Opera) y pulsa sobre el menÃº Ver >[m
[32m+[m[32mEstilo, se muestran las siguientes opciones:[m
[32m+[m
[32m+[m[32m    â–ª Estilo alternativo 1, seleccionado por defecto y que hace que se apliquen las hojas de[m
[32m+[m[32m       estilos estilos3.css y estilos4.css y se dejen de aplicar el resto de hojas de estilos[m
[32m+[m[32m       alternativas.[m
[32m+[m
[32m+[m[32m    â–ª Estilo alternativo 2, que hace que se apliquen las hojas de estilos estilos5.css y[m
[32m+[m[32m       estilos6.css y se dejen de aplicar el resto de hojas de estilos alternativas, incluyendo las[m
[32m+[m[32m       hojas de estilos preferentes estilos3.css y estilos4.css.[m
[32m+[m
[32m+[m[32m    â–ª Estilo alternativo 3, que hace que se aplique la hoja de estilos estilos7.css y se dejen[m
[32m+[m[32m       de aplicar el resto de hojas de estilos alternativas, incluyendo las hojas de estilos[m
[32m+[m[32m       preferentes estilos3.css y estilos4.css.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, recuerda que independientemente del tipo de hoja de estilos enlazada, los[m
[32m+[m[32mnavegadores tambiÃ©n tienen en cuenta los medios (atributo media) al aplicar cada hoja de estilos[m
[32m+[m[32men cada dispositivo con el que accede el usuario.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  144[m
[32m+[m[32mCSS avanzado                                     CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m6.5. Comentarios condicionales, filtros y hacks[m
[32m+[m
[32m+[m[32m6.5.1. Comentarios condicionales[m
[32m+[m
[32m+[m[32mEn ocasiones, cuando se diseÃ±a un sitio web, es preciso aplicar diferentes reglas y estilos en[m
[32m+[m[32mfunciÃ³n del navegador. De esta forma, se pueden corregir los errores y limitaciones de un[m
[32m+[m[32mnavegador sin afectar al resto de navegadores.[m
[32m+[m
[32m+[m[32mMicrosoft introdujo en su navegador Internet Explorer 5 un mecanismo llamado "comentarios[m
[32m+[m[32mcondicionales", que todavÃ­a incluyen las versiones mÃ¡s recientes como Internet Explorer 8, y que[m
[32m+[m[32mpermite aplicar diferentes estilos CSS segÃºn la versiÃ³n del navegador.[m
[32m+[m
[32m+[m[32mLa sintaxis de los comentarios condicionales se basa en la de los comentarios normales de HTML:[m
[32m+[m
[32m+[m[32m     <!-- Comentario normal de HTML -->[m
[32m+[m
[32m+[m[32m     <!--[if expresion]> Comentario condicional <![endif]-->[m
[32m+[m
[32m+[m[32mLa sintaxis de los comentarios condicionales permite que su contenido se ignore en cualquier[m
[32m+[m[32mnavegador que no sea de la familia Internet Explorer.[m
[32m+[m
[32m+[m[32mLas expresiones se crean combinando identificadores, operadores y valores. El Ãºnico[m
[32m+[m[32midentificador definido es IE, que permite crear el comentario condicional mÃ¡s simple:[m
[32m+[m
[32m+[m[32m     <!--[if IE]>[m
[32m+[m[32m         Este navegador es cualquier versiÃ³n de Internet Explorer[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mEl operador mÃ¡s sencillo definido por los comentarios condicionales es el operador de negaciÃ³n[m
[32m+[m[32m(!), que se indica delante de una expresiÃ³n para obtener el resultado contrario:[m
[32m+[m
[32m+[m[32m     <!--[if !IE]>[m
[32m+[m[32m         Este navegador es cualquiera salvo Internet Explorer[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mSi se quiere restringir el alcance del comentario condicional a una Ãºnica versiÃ³n de Internet[m
[32m+[m[32mExplorer, se puede indicar directamente el nÃºmero de la versiÃ³n:[m
[32m+[m
[32m+[m[32m     <!--[if IE 5.5]>[m
[32m+[m[32m         Este navegador es Internet Explorer 5.5[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if IE 6]>[m
[32m+[m[32m         Este navegador es Internet Explorer 6[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if IE 8]>[m
[32m+[m[32m         Este navegador es Internet Explorer 8[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mAdemÃ¡s de las versiones especÃ­ficas, tambiÃ©n es posible restringir los comentarios condicionales[m
[32m+[m[32ma un grupo de versiones de Internet Explorer mediante los operadores "menor que" (lt), "mayor[m
[32m+[m[32mque" (gt), "menor o igual que" (lte), "mayor o igual que" (gte).[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                 145[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m     <!--[if lt IE 7]>[m
[32m+[m[32m         Este navegador es cualquier versiÃ³n anterior a Internet Explorer 7[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if lte IE 6]>[m
[32m+[m[32m         Este navegador es Internet Explorer 6 o cualquier versiÃ³n anterior[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if gt IE 7]>[m
[32m+[m[32m         Este navegador es cualquier versiÃ³n mÃ¡s reciente que Internet Explorer 7[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if gte IE 8]>[m
[32m+[m[32m         Este navegador es Internet Explorer 8 o cualquier versiÃ³n mÃ¡s reciente[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mPor Ãºltimo, tambiÃ©n se pueden utilizar otros operadores mÃ¡s complejos similares a los que se[m
[32m+[m[32mpueden encontrar en los lenguajes de programaciÃ³n. El operador AND (&) combina dos[m
[32m+[m[32mexpresiones para crear una condiciÃ³n que sÃ³lo se cumple si se cumplen las dos expresiones. El[m
[32m+[m[32moperador OR (|) tambiÃ©n combina dos expresiones y crea condiciones que se cumplen cuando al[m
[32m+[m[32mmenos una de las dos expresiones se cumple. TambiÃ©n se pueden utilizar parÃ©ntesis para crear[m
[32m+[m[32mexpresiones avanzadas:[m
[32m+[m
[32m+[m[32m     <!--[if !(IE 7)]>[m
[32m+[m[32m         Este navegador es cualquier versiÃ³n diferente a Internet Explorer 7[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if (IE 7) | (IE 8)]>[m
[32m+[m[32m         Este navegador es Internet Explorer 7 o Internet Explorer 8[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if (gt IE 5) & !(IE 8)]>[m
[32m+[m[32m         Este navegador es cualquier versiÃ³n mÃ¡s reciente que Internet Explorer 5 pero que no[m
[32m+[m
[32m+[m[32m     sea Internet Explorer 8[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if (gte IE 5) & (lt IE 8)]>[m
[32m+[m[32m         Este navegador es Internet Explorer 5 o cualquier versiÃ³n mÃ¡s reciente que sea[m
[32m+[m
[32m+[m[32m     anterior a Internet Explorer 8[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mLas principales ventajas de los comentarios condicionales son:[m
[32m+[m
[32m+[m[32m    â–ª Compatibilidad con cualquier navegador, ya que el resto de navegadores consideran que[m
[32m+[m[32m       los comentarios condicionales son comentarios normales de HTML e ignoran su contenido.[m
[32m+[m
[32m+[m[32m    â–ª No requiere el uso de lenguajes de programaciÃ³n como JavaScript, aunque se puede[m
[32m+[m[32m       combinar con este tipo de tÃ©cnicas para detectar dinÃ¡micamente el tipo y versiÃ³n de[m
[32m+[m[32m       navegador.[m
[32m+[m
[32m+[m[32mNota[m
[32m+[m[32mBasÃ¡ndose en la idea de los comentarios condicionales, se ha desarrollado una tÃ©cnica que permite crear[m
[32m+[m[32mhojas de estilos condicionales que aplican diferentes propiedades en funciÃ³n de la versiÃ³n del navegador.[m
[32m+[m
[32m+[m[32mwww.librosweb.es  146[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mEsta tÃ©cnica se denomina Conditional CSS (http://www.conditional-css.com/) y requiere procesar las hojas[m
[32m+[m[32mde estilos en el servidor antes de servirlas a los usuarios. Los lenguajes de programaciÃ³n de servidor[m
[32m+[m[32msoportados son PHP, C y C++.[m
[32m+[m
[32m+[m[32m6.5.2. Filtros y hacks[m
[32m+[m
[32m+[m[32mLos filtros y hacks es otra de las tÃ©cnicas disponibles para aplicar diferentes estilos y reglas CSS[m
[32m+[m[32men funciÃ³n del navegador que visualiza los contenidos. Al contrario que los comentarios[m
[32m+[m[32mcondicionales, los filtros y hacks constituyen una forma poco elegante y tÃ©cnica de solucionar[m
[32m+[m[32meste problema.[m
[32m+[m
[32m+[m[32mLa idea de los filtros y hacks consiste en aprovechar los errores y carencias de los navegadores[m
[32m+[m[32mpara ocultar los estilos CSS que no se deben aplicar en ese navegador. El siguiente ejemplo[m
[32m+[m[32mmuestra uno de los hacks mÃ¡s antiguos y conocidos que aprovecha un error en las versiones[m
[32m+[m[32mobsoletas de Internet Explorer:[m
[32m+[m
[32m+[m[32m     #elemento {[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m         voice-family: "\"}\"";[m
[32m+[m[32m         voice-family: inherit;[m
[32m+[m[32m         width: 250px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     html > body #elemento {[m
[32m+[m[32m         width: 300px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mInternet Explorer 5 y 5.5 no interpretan correctamente el modelo de cajas de CSS, por lo que no[m
[32m+[m[32mmuestran los elementos con la misma anchura que el resto de navegadores. Si se quiere realizar[m
[32m+[m[32mun diseÃ±o con el mismo aspecto en cualquier navegador, es preciso utilizar propiedades[m
[32m+[m[32mdiferentes para Internet Explorer 5/5.5 y el resto de navegadores.[m
[32m+[m
[32m+[m[32mEntre los muchos errores de Internet Explorer 5/5.5 se encuentra la imposibilidad de procesar[m
[32m+[m[32mcorrectamente la declaraciÃ³n voice-family: "\"}\"";. Por tanto, las reglas CSS anteriores se[m
[32m+[m[32minterpretan de la siguiente forma en cada navegador:[m
[32m+[m
[32m+[m[32m     /* Internet Explorer 5/5.5 */[m
[32m+[m[32m     #elemento {[m
[32m+[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* Internet Explorer 6 */[m
[32m+[m[32m     #elemento {[m
[32m+[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m         width: 250px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* Resto de navegadores */[m
[32m+[m[32m     #elemento {[m
[32m+[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m         width: 250px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es  147[m
[32m+[m[32mCSS avanzado      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m     html > body #elemento {[m
[32m+[m[32m         width: 250px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl resultado final del hack anterior es que Internet Explorer 5/5.5 aplica un valor de 300px a la[m
[32m+[m[32mpropiedad width y el resto de navegadores aplican un valor de 250px. Si se tienen en cuenta los[m
[32m+[m[32mmÃ¡rgenes, bordes y rellenos, el elemento se muestra con el mismo aspecto en cualquier[m
[32m+[m[32mnavegador.[m
[32m+[m
[32m+[m[32mAlgunos filtros y hacks son mucho mÃ¡s sencillos que el mostrado anteriormente. De hecho,[m
[32m+[m[32mexisten tres filtros muy simples que se utilizan para aplicar diferentes estilos a cada versiÃ³n de[m
[32m+[m[32mInternet Explorer. El primer filtro es * html, que aplica las reglas CSS a las versiones de Internet[m
[32m+[m[32mExplorer anteriores a la 7:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         color: red;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     * html p {[m
[32m+[m
[32m+[m[32m         color: blue;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se aÃ±ade * html delante del selector de cualquier regla CSS, esa regla sÃ³lo se aplica a los[m
[32m+[m[32mnavegadores de la familia Internet Explorer anteriores a la versiÃ³n 7. De esta forma, en el[m
[32m+[m[32mejemplo anterior los pÃ¡rrafos de la pÃ¡gina se muestran de color azul en los navegadores Internet[m
[32m+[m[32mExplorer 5, 5.5 y 6, mientras que se muestran de color rojo en el resto de navegadores.[m
[32m+[m
[32m+[m[32mOtro de los hacks mÃ¡s utilizados es _ (guiÃ³n bajo) que hace que una propiedad sÃ³lo se aplique a[m
[32m+[m[32mlos navegadores de la familia Internet Explorer anteriores a la versiÃ³n 7:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         color: red;[m
[32m+[m[32m         _color: blue;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa regla CSS anterior muestra los pÃ¡rrafos de la pÃ¡gina de color rojo en cualquier navegador[m
[32m+[m[32msalvo en los navegadores Internet Explorer 5, 5.5 y 6, donde se muestran de color azul.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, tambiÃ©n existe el hack * (asterisco) que hace que una propiedad sÃ³lo se aplique en[m
[32m+[m[32mlos navegadores de la familia Internet Explorer anteriores a la versiÃ³n 8:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         color: red;[m
[32m+[m[32m         *color: blue;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, los pÃ¡rrafos de la pÃ¡gina se muestran de color azul en cualquier[m
[32m+[m[32mnavegador de la familia Internet Explorer cuya versiÃ³n sea anterior a la 8 y se muestran de color[m
[32m+[m[32mrojo en cualquier otro navegador.[m
[32m+[m
[32m+[m[32mSe puede consultar la lista completa de filtros y hacks para cada navegador y cada versiÃ³n en el[m
[32m+[m[32msitio web http://centricle.com/ref/css/filters/[m
[32m+[m
[32m+[m[32mwww.librosweb.es  148[m
[32m+[m[32mCSS avanzado                CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mEl uso de los filtros y hacks siempre debe considerarse como el Ãºltimo recurso para conseguir[m
[32m+[m[32mque los diseÃ±os tengan el mismo aspecto en cualquier navegador. Como los filtros y hacks se[m
[32m+[m[32mbasan en aprovechar errores de los navegadores, su principal problema es que no garantizan su[m
[32m+[m[32mfuncionamiento con las versiones mÃ¡s modernas de los navegadores. AdemÃ¡s, los filtros y hacks[m
[32m+[m[32mcomplican el cÃ³digo CSS y lo hacen mÃ¡s difÃ­cil de leer y de mantener.[m
[32m+[m
[32m+[m[32mLa mejor alternativa a los filtros y hacks es el uso de comentarios condicionales. Si no es posible[m
[32m+[m[32mel uso de comentarios condicionales, es preferible que el diseÃ±o de la pÃ¡gina muestre ligeras[m
[32m+[m[32mdiferencias visuales en cada navegador.[m
[32m+[m
[32m+[m[32mAfortunadamente, la importancia de los filtros y hacks es cada vez menor, ya que todos los[m
[32m+[m[32mnavegadores modernos solucionan los graves errores de sus versiones anteriores e introducen[m
[32m+[m[32mmenos errores nuevos.[m
[32m+[m
[32m+[m[32m6.6. Selector de navegador[m
[32m+[m
[32m+[m[32mLos selectores de navegador permiten aplicar reglas CSS a navegadores especÃ­ficos. Aunque se[m
[32m+[m[32mtrata de una idea similar a los comentarios condicionales, su gran ventaja es que funcionan en[m
[32m+[m[32mcualquier navegador y que no se limitan a seleccionar solamente el navegador.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra cÃ³mo aplicar diferentes reglas CSS en funciÃ³n del navegador[m
[32m+[m[32mutilizando los selectores de navegador:[m
[32m+[m
[32m+[m[32m.ie p { ... }     /* estilos de los pÃ¡rrafos en Internet Explorer */[m
[32m+[m[32m.ie6 p { ... }    /* estilos de los pÃ¡rrafos en Internet Explorer 6 */[m
[32m+[m[32m.ff3 p { ... }    /* estilos de los pÃ¡rrafos en Firefox 3 */[m
[32m+[m
[32m+[m[32mComo CSS no incluye por defecto los selectores de navegador, se debe recurrir a soluciones[m
[32m+[m[32mbasadas en el lenguaje de programaciÃ³n JavaScript. Una de estas soluciones ha sido creada por el[m
[32m+[m[32mdiseÃ±ador Rafael Lima y se denomina CSS Browser Selector (http://rafael.adm.br/[m
[32m+[m[32mcss_browser_selector/) .[m
[32m+[m
[32m+[m[32mLa soluciÃ³n de CSS Browser Selector consiste en ejecutar un pequeÃ±o cÃ³digo JavaScript cuando se[m
[32m+[m[32mcarga la pÃ¡gina de forma que se aÃ±ada una clase en el elemento <html> en funciÃ³n del navegador[m
[32m+[m[32mutilizado por el usuario.[m
[32m+[m
[32m+[m[32mEl primer paso consiste en aÃ±adir el siguiente cÃ³digo JavaScript en la secciÃ³n <head> de la[m
[32m+[m[32mpÃ¡gina:[m
[32m+[m
[32m+[m[32m<head>[m
[32m+[m[32m...[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32m/*[m
[32m+[m[32mCSS Browser Selector v0.2.7[m
[32m+[m[32mRafael Lima (http://rafael.adm.br)[m
[32m+[m[32mhttp://rafael.adm.br/css_browser_selector[m
[32m+[m[32mLicense: http://creativecommons.org/licenses/by/2.5/[m
[32m+[m[32mContributors: http://rafael.adm.br/css_browser_selector#contributors[m
[32m+[m[32m*/[m
[32m+[m[32mvar css_browser_selector = function() {[m
[32m+[m[32mvar ua=navigator.userAgent.toLowerCase(),[m
[32m+[m[32mis=function(t){return ua.indexOf(t) != -1;},[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                        149[m
[32m+[m[32mCSS avanzado                                                      CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32m     h=document.getElementsByTagName('html')[0],[m
[32m+[m[32m     b=(!(/opera|webtv/i.test(ua))&&/msie (\d)/.test(ua))?('ie ie'+RegExp.$1):is('firefox/[m
[32m+[m[32m     2')?'gecko ff2':is('firefox/3')?'gecko ff3':is('gecko/')?'gecko':is('opera/9')?'opera[m
[32m+[m[32m     opera9':/opera (\d)/.test(ua)?'opera[m
[32m+[m[32m     opera'+RegExp.$1:is('konqueror')?'konqueror':is('applewebkit/')?'webkit[m
[32m+[m[32m     safari':is('mozilla/')?'gecko':'',[m
[32m+[m[32m     os=(is('x11')||is('linux'))?' linux':is('mac')?' mac':is('win')?' win':'';[m
[32m+[m[32m     var c=b+os+' js'; h.className += h.className?' '+c:c;[m
[32m+[m[32m     }();[m
[32m+[m[32m     </script>[m
[32m+[m[32m     ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32mUna vez aÃ±adido el cÃ³digo anterior, cada vez que un usuario accede a la pÃ¡gina se aÃ±ade una[m
[32m+[m[32mclase al elemento <html> que indica el navegador y sistema operativo utilizados:[m
[32m+[m
[32m+[m[32m     /* navegador Firefox3, sistema operativo Windows, JavaScript habilitado */[m
[32m+[m[32m     <html class="gecko ff3 win js" ...>[m
[32m+[m
[32m+[m[32m/* navegador Internet Explorer, sistema operativo Windows, JavaScript habilitado */[m
[32m+[m[32m<html class="ie ie8 win js" ...>[m
[32m+[m
[32m+[m[32m     /* navegador Firefox 3, sistema operativo Linux, JavaScript habilitado */[m
[32m+[m[32m     <html class="gecko ff3 linux js" ...>[m
[32m+[m
[32m+[m[32mLas siguientes tablas muestran las clases que aÃ±ade CSS Browser Selector en funciÃ³n del[m
[32m+[m[32mnavegador y sistema operativo:[m
[32m+[m
[32m+[m[32mClase             Sistema Operativo[m
[32m+[m[32mwin               Cualquier versiÃ³n de Windows[m
[32m+[m[32mlinux             Cualquier versiÃ³n y/o distribuciÃ³n de Linux[m
[32m+[m[32mmac               Cualquier versiÃ³n de Mac OS[m
[32m+[m
[32m+[m[32mClase             Navegador[m
[32m+[m[32mie                Cualquier versiÃ³n de Internet Explorer[m
[32m+[m[32mie5               Internet Explorer 5[m
[32m+[m[32mie6               Internet Explorer 6[m
[32m+[m[32mie7               Internet Explorer 7[m
[32m+[m[32mie8               Internet Explorer 8[m
[32m+[m[32mgecko             Cualquier versiÃ³n de Mozilla, Firefox y Camino[m
[32m+[m[32mff2               Firefox 2[m
[32m+[m[32mff3               Firefox 3[m
[32m+[m[32mopera             Cualquier versiÃ³n de Opera[m
[32m+[m[32mopera8            Opera 8[m
[32m+[m[32mopera9            Opera 9[m
[32m+[m[32mkonqueror         Cualquier versiÃ³n de Konqueror[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                     150[m
[32m+[m[32mCSS avanzado                                            CapÃ­tulo 6. TÃ©cnicas avanzadas[m
[32m+[m
[32m+[m[32mwebkit            Cualquier versiÃ³n de Safari y Shiira[m
[32m+[m[32msafari[m
[32m+[m
[32m+[m[32mAdemÃ¡s, tambiÃ©n se aÃ±ade la clase js cuando el navegador tiene activado el soporte de[m
[32m+[m[32mJavaScript.[m
[32m+[m
[32m+[m[32mComo todos los valores anteriores se aÃ±aden como clase de <html>, en los navegadores que[m
[32m+[m[32msoportan correctamente los estÃ¡ndares es posible combinar varias clases para restringir aÃºn[m
[32m+[m[32mmÃ¡s el alcance del selector:[m
[32m+[m
[32m+[m[32m     /* estilos de los pÃ¡rrafos en Firefox 3 de Windows */[m
[32m+[m[32m     .ff3.win p { ... }[m
[32m+[m[32m     /* estilos de los pÃ¡rrafos en Firefox 3 de Linux */[m
[32m+[m[32m     .ff3.linux p { ... }[m
[32m+[m[32m     /* estilos de los pÃ¡rrafos en Firefox 3 de Mac OS */[m
[32m+[m[32m     .ff3.mac p { ... }[m
[32m+[m
[32m+[m[32mLa versiÃ³n mÃ¡s reciente de CSS Browser Selector se puede obtener a travÃ©s del repositorio[m
[32m+[m[32mhttp://github.com/rafaelp/css_browser_selector/ donde tambiÃ©n se encuentra una versiÃ³n[m
[32m+[m[32mcomprimida para mejorar ligeramente el rendimiento.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                        151[m
[32m+[m[32m[m
[1mdiff --git a/dibujarCirculo.html b/dibujarCirculo.html[m
[1mnew file mode 100644[m
[1mindex 0000000..0acdd44[m
[1m--- /dev/null[m
[1m+++ b/dibujarCirculo.html[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32m<canvas width="600" height="400"></canvas>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m	[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m	[32mpincel.fillStyle = "lightgray";[m
[32m+[m	[32mpincel.fillRect(0,0,600,400);[m
[32m+[m
[32m+[m	[32mfunction dibujarCirculo(x, y, radio, color){[m
[32m+[m
[32m+[m		[32mpincel.fillStyle = color;[m
[32m+[m		[32mpincel.beginPath();[m
[32m+[m		[32mpincel.arc(x, y, radio, 0,2*3.14);[m
[32m+[m		[32mpincel.fill();[m
[32m+[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m	[32mfunction dibujarFlor(x,y){[m
[32m+[m
[32m+[m		[32mdibujarCirculo(x, y, 50, "red");[m
[32m+[m		[32mdibujarCirculo(x+100, 200, 50, "black");[m
[32m+[m		[32mdibujarCirculo(x-100, 200, 50, "orange");[m
[32m+[m		[32mdibujarCirculo(300, y+100, 50, "blue");[m
[32m+[m		[32mdibujarCirculo(x, y-100, 50, "yellow");[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m[41m	[m
[32m+[m	[32mdibujarFlor(300,200);[m
[32m+[m[41m	[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/escuadra.html b/escuadra.html[m
[1mnew file mode 100644[m
[1mindex 0000000..63684aa[m
[1m--- /dev/null[m
[1m+++ b/escuadra.html[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m<canvas width="600" height="400">[m
[32m+[m[41m	[m
[32m+[m
[32m+[m[32m</canvas>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m	[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m[41m		[m
[32m+[m	[32mpincel.fillStyle = "black";[m
[32m+[m	[32mpincel.beginPath();[m
[32m+[m	[32mpincel.moveTo(50,50);[m
[32m+[m	[32mpincel.lineTo(50,400);[m
[32m+[m	[32mpincel.lineTo(400,400);[m
[32m+[m	[32mpincel.fill();[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "white";[m
[32m+[m	[32mpincel.beginPath();[m
[32m+[m	[32mpincel.moveTo(100,175);[m
[32m+[m	[32mpincel.lineTo(100,350);[m
[32m+[m	[32mpincel.lineTo(275,350);[m
[32m+[m	[32mpincel.fill();[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/futbol.html b/futbol.html[m
[1mnew file mode 100644[m
[1mindex 0000000..9ff5f9a[m
[1m--- /dev/null[m
[1m+++ b/futbol.html[m
[36m@@ -0,0 +1,48 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>PROGRAMA CALCULAR PUNTOS DE UN EQUIPO DE FUTBOL</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar  victoria = parseInt (prompt ("Informe la cantidad de victorias:"));[m
[32m+[m	[32mvar 	 empates =parseInt (prompt ("Informe la cantidad de empates:"));[m
[32m+[m
[32m+[m	[32mvar puntosTotal =  (victoria * 3) + empates;[m
[32m+[m
[32m+[m	[32mimprimir("El total de puntos del equipo es: " + puntosTotal);[m
[32m+[m
[32m+[m	[32mif (puntosTotal>28) {[m
[32m+[m
[32m+[m		[32mimprimir("El equipo esta mejor que el aÃ±o pasado")[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mif (puntosTotal<28) {[m
[32m+[m
[32m+[m		[32mimprimir("El equipo esta peor que el aÃ±o pasado")[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mif (puntosTotal==28) {[m
[32m+[m
[32m+[m		[32mimprimir("El equipo esta igual que el aÃ±o pasado")[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
[1mdiff --git a/imc.html b/imc.html[m
[1mnew file mode 100644[m
[1mindex 0000000..abeebac[m
[1m--- /dev/null[m
[1m+++ b/imc.html[m
[36m@@ -0,0 +1,61 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>INDICE DE MASA CORPORAL</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mfunction calcularimc(peso, altura){[m
[32m+[m
[32m+[m[41m		[m
[32m+[m		[32mreturn (peso / (altura*altura));[m
[32m+[m
[32m+[m[41m		[m
[32m+[m	[32m}[m
[32m+[m	[32mnombre = prompt ("Informe su nombre")[m
[32m+[m	[32mpesoInformado = prompt (nombre + " Informe su peso: ")[m
[32m+[m	[32malturaInformado = prompt (nombre + " Informe su altura:")[m
[32m+[m
[32m+[m	[32m//promt es para ingresar datos[m
[32m+[m
[32m+[m	[32mimcCalculado = calcularimc (pesoInformado, alturaInformado)[m
[32m+[m
[32m+[m	[32mimprimir (nombre + " El imc calculado es: " + imcCalculado)[m
[32m+[m
[32m+[m	[32m//imprimir("El promedio del imc calculado de Miguel y Felipe es: " + (calcularimc(80,1.77) + calcularimc(75,1.85))/2);[m
[32m+[m[41m	[m
[32m+[m	[32m//imprimir("El promedio del imc calculado de Pedro y Juan es: " + (calcularimc(80,1.77) + calcularimc(75,1.85))/2);[m
[32m+[m
[32m+[m	[32mif (imcCalculado<=18.5) {[m
[32m+[m
[32m+[m		[32mimprimir("Estas flaco.")[m
[32m+[m	[32m}[m
[32m+[m	[32mif (imcCalculado>=25 && imcCalculado <= 29.9) {[m
[32m+[m		[32mimprimir("Estas gordo")[m
[32m+[m	[32m}[m
[32m+[m	[32mif (imcCalculado>=18.5 && imcCalculado <= 24.9) {[m
[32m+[m
[32m+[m		[32mimprimir("Estas normal")[m
[32m+[m	[32m}[m
[32m+[m	[32mif (imcCalculado>= 30) {[m
[32m+[m		[32mimprimir("Estas obeso")[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m[32m</script>[m
[1mdiff --git a/index.html b/index.html[m
[1mnew file mode 100644[m
[1mindex 0000000..0993728[m
[1m--- /dev/null[m
[1m+++ b/index.html[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m[32m<html lang = "en">[m
[32m+[m[32m<head>[m
[32m+[m[32m     <meta charset = "UTF-8">[m
[32m+[m[32m     <title> Cursos de Alura </title>[m
[32m+[m[32m</head>[m
[32m+[m[32m<body>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m         <li> Vagrant </li>[m
[32m+[m[32m         <li> Docker </li>[m
[32m+[m[32m         <li> Ansible </li>[m
[32m+[m[32m         <li> IntegraciÃ³n continua </li>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
\ No newline at end of file[m
[1mdiff --git a/introduccion_css.pdf b/introduccion_css.pdf[m
[1mnew file mode 100644[m
[1mindex 0000000..77d6f7b[m
[1m--- /dev/null[m
[1m+++ b/introduccion_css.pdf[m
[36m@@ -0,0 +1,10430 @@[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m
[32m+[m[32m     IntroducciÃ³n a[m
[32m+[m
[32m+[m[32m  CSS[m
[32m+[m
[32m+[m[32m                                      Javier EguÃ­luz PÃ©rez[m
[32m+[m[32mIntroducciÃ³n a CSS[m
[32m+[m
[32m+[m[32mSobre este libro...[m
[32m+[m
[32m+[m[32m    â–ª Los contenidos de este libro estÃ¡n bajo una licencia Creative Commons[m
[32m+[m[32m       Reconocimiento - No Comercial - Sin Obra Derivada 3.0[m
[32m+[m[32m       (http://creativecommons.org/licenses/by-nc-nd/3.0/deed.es)[m
[32m+[m
[32m+[m[32m    â–ª Esta versiÃ³n impresa se creÃ³ el 8 de mayo de 2009 y todavÃ­a estÃ¡ incompleta.[m
[32m+[m[32m       La versiÃ³n mÃ¡s actualizada de los contenidos de este libro se puede encontrar en[m
[32m+[m[32m       http://www.librosweb.es/css[m
[32m+[m
[32m+[m[32m    â–ª Si quieres aportar sugerencias, comentarios, crÃ­ticas o informar sobre errores,[m
[32m+[m[32m       puedes enviarnos un mensaje a contacto@librosweb.es[m
[32m+[m
[32m+[m[32mwww.librosweb.es  2[m
[32m+[m[32mIntroducciÃ³n a CSS[m
[32m+[m
[32m+[m[32mCapÃ­tulo 1. IntroducciÃ³n ............................................................................................................... 5[m
[32m+[m[32m   1.1. Â¿QuÃ© es CSS? ............................................................................................................................ 5[m
[32m+[m[32m   1.2. Breve historia de CSS ................................................................................................................ 5[m
[32m+[m[32m   1.3. Soporte de CSS en los navegadores.......................................................................................... 6[m
[32m+[m[32m   1.4. EspecificaciÃ³n oficial................................................................................................................. 7[m
[32m+[m[32m   1.5. Funcionamiento bÃ¡sico de CSS ................................................................................................. 7[m
[32m+[m[32m   1.6. CÃ³mo incluir CSS en un documento XHTML ............................................................................. 9[m
[32m+[m[32m   1.7. Glosario bÃ¡sico ....................................................................................................................... 12[m
[32m+[m[32m   1.8. Medios CSS ............................................................................................................................. 13[m
[32m+[m[32m   1.9. Comentarios ........................................................................................................................... 15[m
[32m+[m[32m   1.10. Sintaxis de la definiciÃ³n de cada propiedad CSS................................................................... 16[m
[32m+[m
[32m+[m[32mCapÃ­tulo 2. Selectores................................................................................................................. 18[m
[32m+[m[32m   2.1. Selectores bÃ¡sicos................................................................................................................... 18[m
[32m+[m[32m   2.2. Selectores avanzados ............................................................................................................. 26[m
[32m+[m[32m   2.3. AgrupaciÃ³n de reglas .............................................................................................................. 29[m
[32m+[m[32m   2.4. Herencia.................................................................................................................................. 30[m
[32m+[m[32m   2.5. Colisiones de estilos................................................................................................................ 30[m
[32m+[m
[32m+[m[32mCapÃ­tulo 3. Unidades de medida y colores .................................................................................. 32[m
[32m+[m[32m   3.1. Unidades de medida............................................................................................................... 32[m
[32m+[m[32m   3.2. Colores.................................................................................................................................... 39[m
[32m+[m
[32m+[m[32mCapÃ­tulo 4. Modelo de cajas (box model).................................................................................... 44[m
[32m+[m[32m   4.1. Anchura y altura ..................................................................................................................... 46[m
[32m+[m[32m   4.2. Margen y relleno .................................................................................................................... 47[m
[32m+[m[32m   4.3. Bordes..................................................................................................................................... 55[m
[32m+[m[32m   4.4. Margen, relleno, bordes y modelo de cajas ........................................................................... 63[m
[32m+[m[32m   4.5. Fondos .................................................................................................................................... 68[m
[32m+[m
[32m+[m[32mCapÃ­tulo 5. Posicionamiento y visualizaciÃ³n................................................................................ 77[m
[32m+[m[32m   5.1. Tipos de elementos ................................................................................................................ 77[m
[32m+[m[32m   5.2. Posicionamiento ..................................................................................................................... 79[m
[32m+[m[32m   5.3. Posicionamiento normal......................................................................................................... 81[m
[32m+[m[32m   5.4. Posicionamiento relativo ........................................................................................................ 82[m
[32m+[m[32m   5.5. Posicionamiento absoluto ...................................................................................................... 84[m
[32m+[m[32m   5.6. Posicionamiento fijo ............................................................................................................... 89[m
[32m+[m[32m   5.7. Posicionamiento flotante ....................................................................................................... 90[m
[32m+[m[32m   5.8. VisualizaciÃ³n ........................................................................................................................... 97[m
[32m+[m
[32m+[m[32mCapÃ­tulo 6. Texto ...................................................................................................................... 104[m
[32m+[m[32m   6.1. TipografÃ­a.............................................................................................................................. 104[m
[32m+[m[32m   6.2. Texto..................................................................................................................................... 111[m
[32m+[m
[32m+[m[32mCapÃ­tulo 7. Enlaces ................................................................................................................... 123[m
[32m+[m[32m   7.1. Estilos bÃ¡sicos ....................................................................................................................... 123[m
[32m+[m[32m   7.2. Estilos avanzados.................................................................................................................. 126[m
[32m+[m
[32m+[m[32mCapÃ­tulo 8. ImÃ¡genes ................................................................................................................ 129[m
[32m+[m
[32m+[m[32mwww.librosweb.es    3[m
[32m+[m[32mIntroducciÃ³n a CSS[m
[32m+[m
[32m+[m[32m      8.1. Estilos bÃ¡sicos ....................................................................................................................... 129[m
[32m+[m[32m      8.2. Estilos avanzados.................................................................................................................. 129[m
[32m+[m[32m   CapÃ­tulo 9. Listas ...................................................................................................................... 132[m
[32m+[m[32m      9.1. Estilos bÃ¡sicos ....................................................................................................................... 132[m
[32m+[m[32m      9.2. Estilos avanzados.................................................................................................................. 139[m
[32m+[m[32m   CapÃ­tulo 10. Tablas ................................................................................................................... 145[m
[32m+[m[32m      10.1. Estilos bÃ¡sicos ..................................................................................................................... 145[m
[32m+[m[32m      10.2. Estilos avanzados................................................................................................................ 148[m
[32m+[m[32m   CapÃ­tulo 11. Formularios .......................................................................................................... 153[m
[32m+[m[32m      11.1. Estilos bÃ¡sicos ..................................................................................................................... 153[m
[32m+[m[32m      11.2. Estilos avanzados................................................................................................................ 158[m
[32m+[m[32m   CapÃ­tulo 12. Layout .................................................................................................................. 161[m
[32m+[m[32m      12.1. Centrar una pÃ¡gina horizontalmente ................................................................................. 161[m
[32m+[m[32m      12.2. Centrar una pÃ¡gina verticalmente ...................................................................................... 165[m
[32m+[m[32m      12.3. Estructura o layout ............................................................................................................. 167[m
[32m+[m[32m      12.4. Alturas/anchuras mÃ¡ximas y mÃ­nimas................................................................................ 172[m
[32m+[m[32m      12.5. Estilos avanzados................................................................................................................ 174[m
[32m+[m[32m   CapÃ­tulo 13. Otros .................................................................................................................... 176[m
[32m+[m[32m      13.1. Propiedades shorthand ...................................................................................................... 176[m
[32m+[m[32m      13.2. VersiÃ³n para imprimir......................................................................................................... 177[m
[32m+[m[32m      13.3. Personalizar el cursor ......................................................................................................... 180[m
[32m+[m[32m      13.4. Hacks y filtros...................................................................................................................... 183[m
[32m+[m[32m      13.5. Prioridad de las declaraciones CSS ..................................................................................... 186[m
[32m+[m[32m      13.6. Validador ............................................................................................................................ 188[m
[32m+[m[32m      13.7. Recomendaciones generales sobre CSS ............................................................................. 188[m
[32m+[m[32m   CapÃ­tulo 14. Recursos Ãºtiles...................................................................................................... 194[m
[32m+[m[32m      14.1. Extensiones de Firefox........................................................................................................ 194[m
[32m+[m[32m      14.2. Aplicaciones web ................................................................................................................ 197[m
[32m+[m[32m      14.3. Sitios web de inspiraciÃ³n .................................................................................................... 197[m
[32m+[m[32m      14.4. Referencias y colecciones de recursos ............................................................................... 198[m
[32m+[m[32m   CapÃ­tulo 15. Ejercicios .............................................................................................................. 199[m
[32m+[m[32m   CapÃ­tulo 16. Ejercicios resueltos ............................................................................................... 224[m
[32m+[m
[32m+[m[32mwww.librosweb.es  4[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mCapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m1.1. Â¿QuÃ© es CSS?[m
[32m+[m
[32m+[m[32mCSS es un lenguaje de hojas de estilos creado para controlar el aspecto o presentaciÃ³n de[m
[32m+[m[32mlos documentos electrÃ³nicos definidos con HTML y XHTML. CSS es la mejor forma de[m
[32m+[m[32mseparar los contenidos y su presentaciÃ³n y es imprescindible para crear pÃ¡ginas web[m
[32m+[m[32mcomplejas.[m
[32m+[m
[32m+[m[32mSeparar la definiciÃ³n de los contenidos y la definiciÃ³n de su aspecto presenta numerosas[m
[32m+[m[32mventajas, ya que obliga a crear documentos HTML/XHTML bien definidos y con[m
[32m+[m[32msignificado completo (tambiÃ©n llamados "documentos semÃ¡nticos"). AdemÃ¡s, mejora la[m
[32m+[m[32maccesibilidad del documento, reduce la complejidad de su mantenimiento y permite[m
[32m+[m[32mvisualizar el mismo documento en infinidad de dispositivos diferentes.[m
[32m+[m
[32m+[m[32mAl crear una pÃ¡gina web, se utiliza en primer lugar el lenguaje HTML/XHTML para[m
[32m+[m[32mmarcar los contenidos, es decir, para designar la funciÃ³n de cada elemento dentro de la[m
[32m+[m[32mpÃ¡gina: pÃ¡rrafo, titular, texto destacado, tabla, lista de elementos, etc.[m
[32m+[m
[32m+[m[32mUna vez creados los contenidos, se utiliza el lenguaje CSS para definir el aspecto de cada[m
[32m+[m[32melemento: color, tamaÃ±o y tipo de letra del texto, separaciÃ³n horizontal y vertical entre[m
[32m+[m[32melementos, posiciÃ³n de cada elemento dentro de la pÃ¡gina, etc.[m
[32m+[m
[32m+[m[32m1.2. Breve historia de CSS[m
[32m+[m
[32m+[m[32mLas hojas de estilos aparecieron poco despuÃ©s que el lenguaje de etiquetas SGML,[m
[32m+[m[32malrededor del aÃ±o 1970. Desde la creaciÃ³n de SGML, se observÃ³ la necesidad de definir[m
[32m+[m[32mun mecanismo que permitiera aplicar de forma consistente diferentes estilos a los[m
[32m+[m[32mdocumentos electrÃ³nicos.[m
[32m+[m
[32m+[m[32mEl gran impulso de los lenguajes de hojas de estilos se produjo con el boom de Internet y[m
[32m+[m[32mel crecimiento exponencial del lenguaje HTML para la creaciÃ³n de documentos[m
[32m+[m[32melectrÃ³nicos. La guerra de navegadores y la falta de un estÃ¡ndar para la definiciÃ³n de los[m
[32m+[m[32mestilos dificultaban la creaciÃ³n de documentos con la misma apariencia en diferentes[m
[32m+[m[32mnavegadores.[m
[32m+[m
[32m+[m[32mEl organismo W3C (http://www.w3.org/) (World Wide Web Consortium), encargado de[m
[32m+[m[32mcrear todos los estÃ¡ndares relacionados con la web, propuso la creaciÃ³n de un lenguaje[m
[32m+[m[32mde hojas de estilos especÃ­fico para el lenguaje HTML y se presentaron nueve propuestas.[m
[32m+[m[32mLas dos propuestas que se tuvieron en cuenta fueron la CHSS (Cascading HTML Style[m
[32m+[m[32mSheets) y la SSP (Stream-based Style Sheet Proposal).[m
[32m+[m
[32m+[m[32mLa propuesta CHSS fue realizada por HÃ¥kon Wium Lie y SSP fue propuesto por Bert Bos.[m
[32m+[m[32mEntre finales de 1994 y 1995 Lie y Bos se unieron para definir un nuevo lenguaje que[m
[32m+[m[32mtomaba lo mejor de cada propuesta y lo llamaron CSS (Cascading Style Sheets).[m
[32m+[m
[32m+[m[32mwww.librosweb.es    5[m
[32m+[m[32mIntroducciÃ³n a CSS                                               CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mEn 1995, el W3C decidiÃ³ apostar por el desarrollo y estandarizaciÃ³n de CSS y lo aÃ±adiÃ³ a[m
[32m+[m[32msu grupo de trabajo de HTML. A finales de 1996, el W3C publicÃ³ la primera[m
[32m+[m[32mrecomendaciÃ³n oficial, conocida como "CSS nivel 1".[m
[32m+[m
[32m+[m[32mA principios de 1997, el W3C decide separar los trabajos del grupo de HTML en tres[m
[32m+[m[32msecciones: el grupo de trabajo de HTML, el grupo de trabajo de DOM y el grupo de[m
[32m+[m[32mtrabajo de CSS.[m
[32m+[m
[32m+[m[32mEl 12 de Mayo de 1998, el grupo de trabajo de CSS publica su segunda recomendaciÃ³n[m
[32m+[m[32moficial, conocida como "CSS nivel 2". La versiÃ³n de CSS que utilizan todos los[m
[32m+[m[32mnavegadores de hoy en dÃ­a es CSS 2.1, una revisiÃ³n de CSS 2 que aÃºn se estÃ¡ elaborando[m
[32m+[m[32m(la Ãºltima actualizaciÃ³n es del 19 de julio de 2007). Al mismo tiempo, la siguiente[m
[32m+[m[32mrecomendaciÃ³n de CSS, conocida como "CSS nivel 3", continÃºa en desarrollo desde 1998[m
[32m+[m[32my hasta el momento sÃ³lo se han publicado borradores.[m
[32m+[m
[32m+[m[32mLa adopciÃ³n de CSS por parte de los navegadores ha requerido un largo periodo de[m
[32m+[m[32mtiempo. El mismo aÃ±o que se publicÃ³ CSS 1, Microsoft lanzaba su navegador Internet[m
[32m+[m[32mExplorer 3.0, que disponÃ­a de un soporte bastante reducido de CSS. El primer navegador[m
[32m+[m[32mcon soporte completo de CSS 1 fue la versiÃ³n para Mac de Internet Explorer 5, que se[m
[32m+[m[32mpublicÃ³ en el aÃ±o 2000. Por el momento, ningÃºn navegador tiene soporte completo de[m
[32m+[m[32mCSS 2.1.[m
[32m+[m
[32m+[m[32m1.3. Soporte de CSS en los navegadores[m
[32m+[m
[32m+[m[32mEl trabajo del diseÃ±ador web siempre estÃ¡ limitado por las posibilidades de los[m
[32m+[m[32mnavegadores que utilizan los usuarios para acceder a sus pÃ¡ginas. Por este motivo es[m
[32m+[m[32mimprescindible conocer el soporte de CSS en cada uno de los navegadores mÃ¡s utilizados[m
[32m+[m[32mdel mercado.[m
[32m+[m
[32m+[m[32mInternamente los navegadores estÃ¡n divididos en varios componentes. La parte del[m
[32m+[m[32mnavegador que se encarga de interpretar el cÃ³digo HTML y CSS para mostrar las pÃ¡ginas[m
[32m+[m[32mse denomina motor. Desde el punto de vista del diseÃ±ador CSS, la versiÃ³n de un motor es[m
[32m+[m[32mmucho mÃ¡s importante que la versiÃ³n del propio navegador.[m
[32m+[m
[32m+[m[32mLa siguiente tabla muestra el soporte de CSS 1, CSS 2.1 y CSS 3 de los cinco navegadores[m
[32m+[m[32mmÃ¡s utilizados por los usuarios:[m
[32m+[m
[32m+[m[32mNavegador Motor CSS 1                  CSS 2.1            CSS 3[m
[32m+[m
[32m+[m[32mInternet  Trident   Completo desde la  Completo desde la  PrÃ¡cticamente nulo[m
[32m+[m[32mExplorer            versiÃ³n 6.0        versiÃ³n 8.0[m
[32m+[m
[32m+[m[32mFirefox Gecko Completo                 Casi completo      Selectores, pseudo-clases y algunas[m
[32m+[m[32m                                                          propiedades[m
[32m+[m
[32m+[m[32mSafari    WebKit Completo              Casi completo      Todos los selectores, pseudo-clases y[m
[32m+[m[32m                                                          muchas propiedades[m
[32m+[m
[32m+[m[32mOpera     Presto Completo              Casi completo      Todos los selectores, pseudo-clases y[m
[32m+[m[32m                                                          muchas propiedades[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                               6[m
[32m+[m[32mIntroducciÃ³n a CSS                      CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mGoogle  WebKit Completo  Casi completo  Todos los selectores, pseudo-clases y[m
[32m+[m[32mChrome                                  muchas propiedades[m
[32m+[m
[32m+[m[32mLos navegadores Safari y Opera son los mÃ¡s avanzados en el soporte de CSS, ya que[m
[32m+[m[32mincluyen muchos elementos de la futura versiÃ³n CSS 3 y un soporte casi perfecto de la[m
[32m+[m[32mactual version 2.1. El navegador Firefox no tiene un soporte tan avanzado de CSS 3 pero[m
[32m+[m[32mlas Ãºltimas versiones estÃ¡n alcanzando rÃ¡pidamente a Safari y Opera.[m
[32m+[m
[32m+[m[32mPor su parte, el navegador Internet Explorer sÃ³lo puede considerarse adecuado desde el[m
[32m+[m[32mpunto de vista de CSS a partir de su versiÃ³n 7. Internet Explorer 6, utilizado todavÃ­a por[m
[32m+[m[32mun nÃºmero significativo de usuarios, sufre carencias muy importantes y contiene[m
[32m+[m[32mdecenas de errores en su soporte de CSS. Internet Explorer 8 incluye el soporte[m
[32m+[m[32mcompleto de todas las propiedades y caracterÃ­sticas de CSS 2.1.[m
[32m+[m
[32m+[m[32mLa tabla anterior ha sido elaborada a partir de la informaciÃ³n que se puede encontrar en[m
[32m+[m[32mla pÃ¡gina Comparison of layout engines (http://en.wikipedia.org/wiki/[m
[32m+[m[32mComparison_of_layout_engines_(Cascading_Style_Sheets)) de la Wikipedia, donde se[m
[32m+[m[32mmuestra una comparaciÃ³n exhaustiva sobre el soporte de todas las caracterÃ­sticas de[m
[32m+[m[32mCSS por parte de cada navegador.[m
[32m+[m
[32m+[m[32m1.4. EspecificaciÃ³n oficial[m
[32m+[m
[32m+[m[32mLa especificaciÃ³n o norma oficial que se utiliza actualmente para diseÃ±ar pÃ¡ginas web[m
[32m+[m[32mcon CSS es la versiÃ³n CSS 2.1, actualizada por Ãºltima vez el 19 de julio de 2007 y que se[m
[32m+[m[32mpuede consultar libremente en http://www.w3.org/TR/CSS21/[m
[32m+[m
[32m+[m[32mDesde hace varios aÃ±os, el organismo W3C trabaja en la elaboraciÃ³n de la prÃ³xima[m
[32m+[m[32mversiÃ³n de CSS, conocida como CSS 3. Esta nueva versiÃ³n incluye miles de cambios[m
[32m+[m[32mimportantes en todos los niveles y es mucho mÃ¡s avanzada y compleja que CSS 2.[m
[32m+[m
[32m+[m[32mNo obstante, pasarÃ¡n muchos aÃ±os hasta que se publique la versiÃ³n definitiva completa[m
[32m+[m[32mde CSS 3 y hasta que los principales navegadores del mercado incluyan la mayor parte[m
[32m+[m[32mdel nuevo estÃ¡ndar.[m
[32m+[m
[32m+[m[32mEl sitio web del organismo W3C dispone de una secciÃ³n en la que se detalla el trabajo[m
[32m+[m[32mque el W3C estÃ¡ desarrollando actualmente en relaciÃ³n a CSS (http://www.w3.org/[m
[32m+[m[32mStyle/CSS/current-work) y tambiÃ©n dispone de un blog en el que se publican todas las[m
[32m+[m[32mnovedades relacionadas con CSS (http://www.w3.org/blog/CSS) .[m
[32m+[m
[32m+[m[32m1.5. Funcionamiento bÃ¡sico de CSS[m
[32m+[m
[32m+[m[32mAntes de la adopciÃ³n de CSS, los diseÃ±adores de pÃ¡ginas web debÃ­an definir el aspecto de[m
[32m+[m[32mcada elemento dentro de las etiquetas HTML de la pÃ¡gina. El siguiente ejemplo muestra[m
[32m+[m[32muna pÃ¡gina HTML con estilos definidos sin utilizar CSS:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                        7[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de estilos sin CSS</title>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m
[32m+[m[32m     <h1><font color="red" face="Arial" size="5">Titular de la pÃ¡gina</font></h1>[m
[32m+[m
[32m+[m[32m     <p><font color="gray" face="Verdana" size="2">Un pÃ¡rrafo de texto no muy[m
[32m+[m[32m     largo.</font></p>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mEl ejemplo anterior utiliza la etiqueta <font> con sus atributos color, face y size para[m
[32m+[m[32mdefinir el color, la tipografÃ­a y el tamaÃ±o del texto de cada elemento del documento.[m
[32m+[m
[32m+[m[32mEl principal problema de esta forma de definir el aspecto de los elementos se puede ver[m
[32m+[m[32mclaramente con el siguiente ejemplo: si la pÃ¡gina tuviera 50 elementos diferentes, habrÃ­a[m
[32m+[m[32mque insertar 50 etiquetas <font>. Si el sitio web entero se compone de 10.000 pÃ¡ginas[m
[32m+[m[32mdiferentes, habrÃ­a que definir 500.000 etiquetas <font>. Como cada etiqueta <font>[m
[32m+[m[32mtiene 3 atributos, habrÃ­a que definir 1.5 millones de atributos.[m
[32m+[m
[32m+[m[32mPor otra parte, el diseÃ±o de los sitios web estÃ¡ en constante evoluciÃ³n y es habitual[m
[32m+[m[32mmodificar cada cierto tiempo los colores principales de las pÃ¡ginas o la tipografÃ­a[m
[32m+[m[32mutilizada para el texto. Si se emplea la etiqueta <font>, habrÃ­a que modificar el valor de[m
[32m+[m[32m1.5 millones de atributos para modificar el diseÃ±o general del sitio web.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n que propone CSS es mucho mejor, como se puede ver en el siguiente[m
[32m+[m[32mejemplo:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de estilos con CSS</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m
[32m+[m[32m         h1 { color: red; font-family: Arial; font-size: large; }[m
[32m+[m[32m         p { color: gray; font-family: Verdana; font-size: medium; }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <h1>Titular de la pÃ¡gina</h1>[m
[32m+[m[32m     <p>Un pÃ¡rrafo de texto no muy largo.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mCSS permite separar los contenidos de la pÃ¡gina y su aspecto o presentaciÃ³n. En el[m
[32m+[m[32mejemplo anterior, dentro de la propia pÃ¡gina HTML se reserva una zona en la que se[m
[32m+[m[32mincluye toda la informaciÃ³n relacionada con los estilos de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    8[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mUtilizando CSS, en esa zona reservada se indica que todas las etiquetas <h1> de la pÃ¡gina[m
[32m+[m[32mse deben ver de color rojo, con un tipo de letra Arial y con un tamaÃ±o de letra grande.[m
[32m+[m[32mAdemÃ¡s, las etiquetas <p> de la pÃ¡gina se deben ver de color gris, con un tipo de letra[m
[32m+[m[32mVerdana y con un tamaÃ±o de letra medio.[m
[32m+[m
[32m+[m[32mDefiniendo los estilos de esta forma, no importa el nÃºmero de elementos <p> que existan[m
[32m+[m[32men la pÃ¡gina, ya que todos tendrÃ¡n el mismo aspecto establecido mediante CSS. Como se[m
[32m+[m[32mverÃ¡ a continuaciÃ³n, esta forma de trabajar con CSS no es ideal, ya que si el sitio web[m
[32m+[m[32mdispone de 10.000 pÃ¡ginas, habrÃ­a que definir 10.000 veces el mismo estilo CSS.[m
[32m+[m
[32m+[m[32m1.6. CÃ³mo incluir CSS en un documento XHTML[m
[32m+[m
[32m+[m[32mUna de las principales caracterÃ­sticas de CSS es su flexibilidad y las diferentes opciones[m
[32m+[m[32mque ofrece para realizar una misma tarea. De hecho, existen tres opciones para incluir[m
[32m+[m[32mCSS en un documento HTML.[m
[32m+[m
[32m+[m[32m1.6.1. Incluir CSS en el mismo documento HTML[m
[32m+[m
[32m+[m[32mLos estilos se definen en una zona especÃ­fica del propio documento HTML. Se emplea la[m
[32m+[m[32metiqueta <style> de HTML y solamente se pueden incluir en la cabecera del documento[m
[32m+[m[32m(sÃ³lo dentro de la secciÃ³n <head>).[m
[32m+[m
[32m+[m[32mEjemplo:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de estilos CSS en el propio documento</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m
[32m+[m[32m         p { color: black; font-family: Verdana; }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Un pÃ¡rrafo de texto.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mEste mÃ©todo se emplea cuando se define un nÃºmero pequeÃ±o de estilos o cuando se[m
[32m+[m[32mquieren incluir estilos especÃ­ficos en una determinada pÃ¡gina HTML que completen los[m
[32m+[m[32mestilos que se incluyen por defecto en todas las pÃ¡ginas del sitio web.[m
[32m+[m
[32m+[m[32mEl principal inconveniente es que si se quiere hacer una modificaciÃ³n en los estilos[m
[32m+[m[32mdefinidos, es necesario modificar todas las pÃ¡ginas que incluyen el estilo que se va a[m
[32m+[m[32mmodificar.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    9[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m1.6.2. Definir CSS en un archivo externo[m
[32m+[m
[32m+[m[32mEn este caso, todos los estilos CSS se incluyen en un archivo de tipo CSS que las pÃ¡ginas[m
[32m+[m[32mHTML enlazan mediante la etiqueta <link>. Un archivo de tipo CSS no es mÃ¡s que un[m
[32m+[m[32marchivo simple de texto cuya extensiÃ³n es .css Se pueden crear todos los archivos CSS[m
[32m+[m[32mque sean necesarios y cada pÃ¡gina HTML puede enlazar tantos archivos CSS como[m
[32m+[m[32mnecesite.[m
[32m+[m
[32m+[m[32mSi se quieren incluir los estilos del ejemplo anterior en un archivo CSS externo, se deben[m
[32m+[m[32mseguir los siguientes pasos:[m
[32m+[m
[32m+[m[32m1) Se crea un archivo de texto y se le aÃ±ade solamente el siguiente contenido:[m
[32m+[m
[32m+[m[32m     p { color: black; font-family: Verdana; }[m
[32m+[m
[32m+[m[32m2) Se guarda el archivo de texto con el nombre estilos.css Se debe poner especial[m
[32m+[m[32matenciÃ³n a que el archivo tenga extensiÃ³n .css y no .txt[m
[32m+[m
[32m+[m[32m3) En la pÃ¡gina HTML se enlaza el archivo CSS externo mediante la etiqueta <link>:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de estilos CSS en un archivo externo</title>[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="/css/estilos.css" media="screen" />[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Un pÃ¡rrafo de texto.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mCuando el navegador carga la pÃ¡gina HTML anterior, antes de mostrar sus contenidos[m
[32m+[m[32mtambiÃ©n descarga los archivos CSS externos enlazados mediante la etiqueta <link> y[m
[32m+[m[32maplica los estilos a los contenidos de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mNormalmente, la etiqueta <link> incluye cuatro atributos cuando se enlaza un archivo[m
[32m+[m[32mCSS:[m
[32m+[m
[32m+[m[32m    â–ª rel: indica el tipo de relaciÃ³n que tiene el recurso enlazado (en este caso, el[m
[32m+[m[32m       archivo CSS) y la pÃ¡gina HTML. Para los archivos CSS, siempre se utiliza el valor[m
[32m+[m[32m        stylesheet[m
[32m+[m
[32m+[m[32m    â–ª type: indica el tipo de recurso enlazado. Sus valores estÃ¡n estandarizados y para[m
[32m+[m[32m       los archivos CSS su valor siempre es text/css[m
[32m+[m
[32m+[m[32m    â–ª href: indica la URL del archivo CSS que contiene los estilos. La URL indicada puede[m
[32m+[m[32m       ser relativa o absoluta y puede apuntar a un recurso interno o externo al sitio web.[m
[32m+[m
[32m+[m[32m    â–ª media: indica el medio en el que se van a aplicar los estilos del archivo CSS. MÃ¡s[m
[32m+[m[32m       adelante se explican en detalle los medios CSS y su funcionamiento.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    10[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mDe todas las formas de incluir CSS en las pÃ¡ginas HTML, esta es la mÃ¡s utilizada con[m
[32m+[m[32mmucha diferencia. La principal ventaja es que se puede incluir un mismo archivo CSS en[m
[32m+[m[32mmultitud de pÃ¡ginas HTML, por lo que se garantiza la aplicaciÃ³n homogÃ©nea de los[m
[32m+[m[32mmismos estilos a todas las pÃ¡ginas que forman un sitio web.[m
[32m+[m
[32m+[m[32mCon este mÃ©todo, el mantenimiento del sitio web se simplifica al mÃ¡ximo, ya que un solo[m
[32m+[m[32mcambio en un solo archivo CSS permite variar de forma instantÃ¡nea los estilos de todas[m
[32m+[m[32mlas pÃ¡ginas HTML que enlazan ese archivo.[m
[32m+[m
[32m+[m[32mAunque generalmente se emplea la etiqueta <link> para enlazar los archivos CSS[m
[32m+[m[32mexternos, tambiÃ©n se puede utilizar la etiqueta <style>. La forma alternativa de incluir[m
[32m+[m[32mun archivo CSS externo se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de estilos CSS en un archivo externo</title>[m
[32m+[m[32m     <style type="text/css" media="screen">[m
[32m+[m
[32m+[m[32m         @import '/css/estilos.css';[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Un pÃ¡rrafo de texto.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mEn este caso, para incluir en la pÃ¡gina HTML los estilos definidos en archivos CSS[m
[32m+[m[32mexternos se utiliza una regla especial de tipo @import. Las reglas de tipo @import[m
[32m+[m[32msiempre preceden a cualquier otra regla CSS (con la Ãºnica excepciÃ³n de la regla[m
[32m+[m[32m@charset).[m
[32m+[m
[32m+[m[32mLa URL del archivo CSS externo se indica mediante una cadena de texto encerrada con[m
[32m+[m[32mcomillas simples o dobles o mediante la palabra reservada url(). De esta forma, las[m
[32m+[m[32msiguientes reglas @import son equivalentes:[m
[32m+[m
[32m+[m[32m     @import '/css/estilos.css';[m
[32m+[m[32m     @import "/css/estilos.css";[m
[32m+[m[32m     @import url('/css/estilos.css');[m
[32m+[m[32m     @import url("/css/estilos.css");[m
[32m+[m
[32m+[m[32m1.6.3. Incluir CSS en los elementos HTML[m
[32m+[m
[32m+[m[32mEl Ãºltimo mÃ©todo para incluir estilos CSS en documentos HTML es el peor y el menos[m
[32m+[m[32mutilizado, ya que tiene los mismos problemas que la utilizaciÃ³n de las etiquetas <font>.[m
[32m+[m
[32m+[m[32mEjemplo:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m
[32m+[m[32mwww.librosweb.es    11[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de estilos CSS en el propio documento</title>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p style="color: black; font-family: Verdana;">Un pÃ¡rrafo de texto.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mEsta forma de incluir CSS directamente en los elementos HTML solamente se utiliza en[m
[32m+[m[32mdeterminadas situaciones en las que se debe incluir un estilo muy especÃ­fico para un[m
[32m+[m[32msolo elemento concreto.[m
[32m+[m
[32m+[m[32m1.7. Glosario bÃ¡sico[m
[32m+[m
[32m+[m[32mCSS define una serie de tÃ©rminos que permiten describir cada una de las partes que[m
[32m+[m[32mcomponen los estilos CSS. El siguiente esquema muestra las partes que forman un estilo[m
[32m+[m[32mCSS muy bÃ¡sico:[m
[32m+[m
[32m+[m[32m                           Figura 1.1. Componentes de un estilo CSS bÃ¡sico[m
[32m+[m
[32m+[m[32mLos diferentes tÃ©rminos se definen a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m    â–ª Regla: cada uno de los estilos que componen una hoja de estilos CSS. Cada regla[m
[32m+[m[32m       estÃ¡ compuesta de una parte de "selectores", un sÃ­mbolo de "llave de apertura" ({),[m
[32m+[m[32m       otra parte denominada "declaraciÃ³n" y por Ãºltimo, un sÃ­mbolo de "llave de cierre"[m
[32m+[m[32m       (}).[m
[32m+[m
[32m+[m[32m    â–ª Selector: indica el elemento o elementos HTML a los que se aplica la regla CSS.[m
[32m+[m
[32m+[m[32m    â–ª DeclaraciÃ³n: especifica los estilos que se aplican a los elementos. EstÃ¡ compuesta[m
[32m+[m[32m       por una o mÃ¡s propiedades CSS.[m
[32m+[m
[32m+[m[32m    â–ª Propiedad: permite modificar el aspecto de una caracterÃ­stica del elemento.[m
[32m+[m
[32m+[m[32m    â–ª Valor: indica el nuevo valor de la caracterÃ­stica modificada en el elemento.[m
[32m+[m
[32m+[m[32mUn archivo CSS puede contener infinitas reglas CSS, cada regla puede contener infinitos[m
[32m+[m[32mselectores y cada declaraciÃ³n puede estar formada por un nÃºmero infinito de pares[m
[32m+[m[32mpropiedad/valor.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    12[m
[32m+[m[32mIntroducciÃ³n a CSS                                               CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m1.8. Medios CSS[m
[32m+[m
[32m+[m[32mUna de las caracterÃ­sticas mÃ¡s importantes de las hojas de estilos CSS es que permiten[m
[32m+[m[32mdefinir diferentes estilos para diferentes medios o dispositivos: pantallas, impresoras,[m
[32m+[m[32mmÃ³viles, proyectores, etc.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, CSS define algunas propiedades especÃ­ficamente para determinados medios,[m
[32m+[m[32mcomo por ejemplo la paginaciÃ³n y los saltos de pÃ¡gina para los medios impresos o el[m
[32m+[m[32mvolumen y tipo de voz para los medios de audio. La siguiente tabla muestra el nombre[m
[32m+[m[32mque CSS utiliza para identificar cada medio y su descripciÃ³n:[m
[32m+[m
[32m+[m[32mMedio    DescripciÃ³n[m
[32m+[m
[32m+[m[32mall      Todos los medios definidos[m
[32m+[m
[32m+[m[32mbraille  Dispositivos tÃ¡ctiles que emplean el sistema braille[m
[32m+[m
[32m+[m[32membosed  Impresoras braille[m
[32m+[m
[32m+[m[32mhandheld Dispositivos de mano: mÃ³viles, PDA, etc.[m
[32m+[m
[32m+[m[32mprint    Impresoras y navegadores en el modo "Vista Previa para Imprimir"[m
[32m+[m
[32m+[m[32mprojection Proyectores y dispositivos para presentaciones[m
[32m+[m
[32m+[m[32mscreen   Pantallas de ordenador[m
[32m+[m
[32m+[m[32mspeech   Sintetizadores para navegadores de voz utilizados por personas discapacitadas[m
[32m+[m
[32m+[m[32mtty      Dispositivos textuales limitados como teletipos y terminales de texto[m
[32m+[m
[32m+[m[32mtv       Televisores y dispositivos con resoluciÃ³n baja[m
[32m+[m
[32m+[m[32mLos medios mÃ¡s utilizados actualmente son screen (para definir el aspecto de la pÃ¡gina[m
[32m+[m[32men pantalla) y print (para definir el aspecto de la pÃ¡gina cuando se imprime), seguidos[m
[32m+[m[32mde handheld (que define el aspecto de la pÃ¡gina cuando se visualiza mediante un[m
[32m+[m[32mdispositivo mÃ³vil).[m
[32m+[m
[32m+[m[32mAdemÃ¡s, CSS clasifica a los medios en diferentes grupos segÃºn sus caracterÃ­sticas. La[m
[32m+[m[32msiguiente tabla resume todos los grupos definidos en el estÃ¡ndar:[m
[32m+[m
[32m+[m[32mMedio    Continuo /   Visual / Auditivo / TÃ¡ctil Mapa de bits /            Interactivo /[m
[32m+[m[32m         Paginado                                                          EstÃ¡tico[m
[32m+[m[32m                      / Vocal                      Caracteres              ambos[m
[32m+[m[32m                                                                           estÃ¡tico[m
[32m+[m[32mbraille continuo      tÃ¡ctil                       caracteres              ambos[m
[32m+[m[32m                                                                           estÃ¡tico[m
[32m+[m[32membossed paginado     tÃ¡ctil                       caracteres              interactivo[m
[32m+[m[32m                                                                           ambos[m
[32m+[m[32mhandheld ambos        visual, auditivo, vocal ambos                        ambos[m
[32m+[m[32m                                                                           ambos[m
[32m+[m[32mprint    paginado     visual                       mapa de bits[m
[32m+[m
[32m+[m[32mprojection paginado   visual                       mapa de bits[m
[32m+[m
[32m+[m[32mscreen   continuo     visual, auditivo             mapa de bits[m
[32m+[m
[32m+[m[32mspeech   continuo     vocal                        (no tiene sentido)[m
[32m+[m
[32m+[m[32mtty      continuo     visual                       caracteres[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                          13[m
[32m+[m[32mIntroducciÃ³n a CSS                                  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mtv  ambos           visual, auditivo  mapa de bits  ambos[m
[32m+[m
[32m+[m[32mLa gran ventaja de CSS es que permite modificar los estilos de una pÃ¡gina en funciÃ³n del[m
[32m+[m[32mmedio en el que se visualiza. Existen cuatro formas diferentes de indicar el medio en el[m
[32m+[m[32mque se deben aplicar los estilos CSS.[m
[32m+[m
[32m+[m[32m1.8.1. Medios definidos con las reglas de tipo @media[m
[32m+[m
[32m+[m[32mLas reglas @media son un tipo especial de regla CSS que permiten indicar de forma[m
[32m+[m[32mdirecta el medio o medios en los que se aplicarÃ¡n los estilos incluidos en la regla. Para[m
[32m+[m[32mespecificar el medio en el que se aplican los estilos, se incluye su nombre despuÃ©s de[m
[32m+[m[32m@media. Si los estilos se aplican a varios medios, se incluyen los nombres de todos los[m
[32m+[m[32mmedios separados por comas.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra un ejemplo sencillo:[m
[32m+[m
[32m+[m[32m     @media print {[m
[32m+[m[32m         body { font-size: 10pt }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     @media screen {[m
[32m+[m
[32m+[m[32m         body { font-size: 13px }[m
[32m+[m[32m     }[m
[32m+[m[32m     @media screen, print {[m
[32m+[m
[32m+[m[32m         body { line-height: 1.2 }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl ejemplo anterior establece que el tamaÃ±o de letra de la pÃ¡gina cuando se visualiza en[m
[32m+[m[32muna pantalla debe ser 13 pÃ­xel. Sin embargo, cuando se imprimen los contenidos de la[m
[32m+[m[32mpÃ¡gina, su tamaÃ±o de letra debe ser de 10 puntos. Por Ãºltimo, tanto cuando la pÃ¡gina se[m
[32m+[m[32mvisualiza en una pantalla como cuando se imprimen sus contenidos, el interlineado del[m
[32m+[m[32mtexto debe ser de 1.2 veces el tamaÃ±o de letra del texto.[m
[32m+[m
[32m+[m[32m1.8.2. Medios definidos con las reglas de tipo @import[m
[32m+[m
[32m+[m[32mCuando se utilizan reglas de tipo @import para enlazar archivos CSS externos, se puede[m
[32m+[m[32mespecificar el medio en el que se aplican los estilos indicando el nombre del medio[m
[32m+[m[32mdespuÃ©s de la URL del archivo CSS:[m
[32m+[m
[32m+[m[32m     @import url("estilos_basicos.css") screen;[m
[32m+[m[32m     @import url("estilos_impresora.css") print;[m
[32m+[m
[32m+[m[32mLas reglas del ejemplo anterior establecen que cuando la pÃ¡gina se visualiza por[m
[32m+[m[32mpantalla, se cargan los estilos definidos en el primer archivo CSS. Por otra parte, cuando[m
[32m+[m[32mla pÃ¡gina se imprime, se tienen en cuenta los estilos que define el segundo archivo CSS.[m
[32m+[m
[32m+[m[32mSi los estilos del archivo CSS externo deben aplicarse en varios medios, se indican los[m
[32m+[m[32mnombres de todos los medios separados por comas. Si no se indica el medio en una regla[m
[32m+[m[32mde tipo @import, el navegador sobreentiende que el medio es all, es decir, que los estilos[m
[32m+[m[32mse aplican en todos los medios.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                           14[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m1.8.3. Medios definidos con la etiqueta <link>[m
[32m+[m
[32m+[m[32mSi se utiliza la etiqueta <link> para enlazar los archivos CSS externos, se puede utilizar[m
[32m+[m[32mel atributo media para indicar el medio o medios en los que se aplican los estilos de cada[m
[32m+[m[32marchivo:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" media="screen" href="basico.css" />[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" media="print, handheld"[m
[32m+[m[32m     href="especial.css" />[m
[32m+[m
[32m+[m[32mEn este ejemplo, el primer archivo CSS se tiene en cuenta cuando la pÃ¡gina se visualiza[m
[32m+[m[32men la pantalla (media="screen"). Los estilos indicados en el segundo archivo CSS, se[m
[32m+[m[32maplican al imprimir la pÃ¡gina (media="print") o al visualizarla en un dispositivo mÃ³vil[m
[32m+[m[32m(media="handheld"), como por ejemplo en un iPhone.[m
[32m+[m
[32m+[m[32mSi la etiqueta <link> no indica el medio CSS, se sobreentiende que los estilos se deben[m
[32m+[m[32maplicar a todos los medios, por lo que es equivalente a indicar media="all".[m
[32m+[m
[32m+[m[32m1.8.4. Medios definidos mezclando varios mÃ©todos[m
[32m+[m
[32m+[m[32mCSS tambiÃ©n permite mezclar los tres mÃ©todos anteriores para indicar los medios en los[m
[32m+[m[32mque se aplica cada archivo CSS externo:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" media="screen" href="basico.css" />[m
[32m+[m[32m     @import url("estilos_seccion.css") screen;[m
[32m+[m[32m     @media print {[m
[32m+[m
[32m+[m[32m         /* Estilos especÃ­ficos para impresora */[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos estilos CSS que se aplican cuando se visualiza la pÃ¡gina en una pantalla se obtienen[m
[32m+[m[32mmediante el recurso enlazado con la etiqueta <link> y mediante el archivo CSS externo[m
[32m+[m[32mincluido con la regla de tipo @import. AdemÃ¡s, los estilos aplicados cuando se imprime la[m
[32m+[m[32mpÃ¡gina se indican directamente en la pÃ¡gina HTML mediante la regla de tipo @media.[m
[32m+[m
[32m+[m[32m1.9. Comentarios[m
[32m+[m
[32m+[m[32mCSS permite incluir comentarios entre sus reglas y estilos. Los comentarios son[m
[32m+[m[32mcontenidos de texto que el diseÃ±ador incluye en el archivo CSS para su propia[m
[32m+[m[32minformaciÃ³n y utilidad. Los navegadores ignoran por completo cualquier comentario de[m
[32m+[m[32mlos archivos CSS, por lo que es comÃºn utilizarlos para estructurar de forma clara los[m
[32m+[m[32marchivos CSS complejos.[m
[32m+[m
[32m+[m[32mEl comienzo de un comentario se indica mediante los caracteres /* y el final del[m
[32m+[m[32mcomentario se indica mediante */, tal y como se muestra en el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     /* Este es un comentario en CSS */[m
[32m+[m
[32m+[m[32mLos comentarios pueden ocupar tantas lÃ­neas como sea necesario, pero no se puede[m
[32m+[m[32mincluir un comentario dentro de otro comentario:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    15[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m     /* Este es un[m
[32m+[m[32m          comentario CSS de varias[m
[32m+[m[32m          lineas */[m
[32m+[m
[32m+[m[32mAunque los navegadores ignoran los comentarios, su contenido se envÃ­a junto con el[m
[32m+[m[32mresto de estilos, por lo que no se debe incluir en ellos ninguna informaciÃ³n sensible o[m
[32m+[m[32mconfidencial.[m
[32m+[m
[32m+[m[32mLa sintaxis de los comentarios CSS es muy diferente a la de los comentarios HTML, por lo[m
[32m+[m[32mque no deben confundirse:[m
[32m+[m
[32m+[m[32m     <!-- Este es un comentario en HTML -->[m
[32m+[m
[32m+[m[32m     <!-- Este es un[m
[32m+[m[32m              comentario HTML de varias[m
[32m+[m[32m              lineas -->[m
[32m+[m
[32m+[m[32m1.10. Sintaxis de la definiciÃ³n de cada propiedad CSS[m
[32m+[m
[32m+[m[32mA lo largo de los prÃ³ximos capÃ­tulos, se incluyen las definiciones formales de la mayorÃ­a[m
[32m+[m[32mde propiedades de CSS. La definiciÃ³n formal se basa en la informaciÃ³n recogida en el[m
[32m+[m[32mestÃ¡ndar oficial y se muestra en forma de tabla.[m
[32m+[m
[32m+[m[32mUna de las principales informaciones de cada definiciÃ³n es la lista de posibles valores[m
[32m+[m[32mque admite la propiedad. Para definir la lista de valores permitidos se sigue un formato[m
[32m+[m[32mque es necesario detallar.[m
[32m+[m
[32m+[m[32mSi el valor permitido se indica como una sucesiÃ³n de palabras sin ningÃºn carÃ¡cter que las[m
[32m+[m[32msepare (parÃ©ntesis, comas, barras, etc.) el valor de la propiedad se debe indicar tal y[m
[32m+[m[32mcomo se muestra y con esas palabras en el mismo orden.[m
[32m+[m
[32m+[m[32mSi el valor permitido se indica como una sucesiÃ³n de valores separados por una barra[m
[32m+[m[32msimple (carÃ¡cter |) el valor de la propiedad debe tomar uno y sÃ³lo uno de los valores[m
[32m+[m[32mindicados. Por ejemplo, la notaciÃ³n <porcentaje> | <medida> | inherit indica que la[m
[32m+[m[32mpropiedad solamente puede tomar como valor la palabra reservada inherit o un[m
[32m+[m[32mporcentaje o una medida.[m
[32m+[m
[32m+[m[32mSi el valor permitido se indica como una sucesiÃ³n de valores separados por una barra[m
[32m+[m[32mdoble (sÃ­mbolo ||) el valor de la propiedad puede tomar uno o mÃ¡s valores de los[m
[32m+[m[32mindicados y en cualquier orden.[m
[32m+[m
[32m+[m[32mPor ejemplo, la notaciÃ³n <color> || <estilo> || <medida> indica que la propiedad[m
[32m+[m[32mpuede tomar como valor cualquier combinaciÃ³n de los valores indicados y en cualquier[m
[32m+[m[32morden. Se podrÃ­a establecer un color y un estilo, solamente una medida o una medida y[m
[32m+[m[32mun estilo. AdemÃ¡s, el orden en el que se indican los valores es indiferente.[m
[32m+[m[32mOpcionalmente, se pueden utilizar parÃ©ntesis para agrupar diferentes valores.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, en cada valor o agrupaciÃ³n de valores se puede indicar el tipo de valor:[m
[32m+[m[32mopcional, obligatorio, mÃºltiple o restringido.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    16[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mEl carÃ¡cter * indica que el valor ocurre cero o mÃ¡s veces; el carÃ¡cter + indica que el valor[m
[32m+[m[32mocurre una o mÃ¡s veces; el carÃ¡cter ? indica que el valor es opcional y por Ãºltimo, el[m
[32m+[m[32mcarÃ¡cter {nÃºmero_1, nÃºmero_2} indica que el valor ocurre al menos tantas veces como[m
[32m+[m[32mel valor indicado en nÃºmero_1 y como mÃ¡ximo tantas veces como el valor indicado en[m
[32m+[m[32mnÃºmero_2.[m
[32m+[m
[32m+[m[32mPor ejemplo, el valor [<family-name> , ]* indica que el valor de tipo <family_name>[m
[32m+[m[32mseguido por una coma se puede incluir cero o mÃ¡s veces. El valor <url>? <color>[m
[32m+[m[32msignifica que la URL es opcional y el color obligatorio y en el orden indicado. Por Ãºltimo,[m
[32m+[m[32mel valor [<medida> | thick | thin] {1,4} indica que se pueden escribir entre 1 y 4[m
[32m+[m[32mveces un valor que sea o una medida o la palabra thick o la palabra thin.[m
[32m+[m
[32m+[m[32mNo obstante, la mejor forma de entender la notaciÃ³n formal para las propiedades de CSS[m
[32m+[m[32mes observar la definiciÃ³n de cada propiedad y volver a esta secciÃ³n siempre que sea[m
[32m+[m[32mnecesario.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    17[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mCapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mPara crear diseÃ±os web profesionales, es imprescindible conocer y dominar los[m
[32m+[m[32mselectores de CSS. Como se vio en el capÃ­tulo anterior, una regla de CSS estÃ¡ formada por[m
[32m+[m[32muna parte llamada "selector" y otra parte llamada "declaraciÃ³n".[m
[32m+[m
[32m+[m[32mLa declaraciÃ³n indica "quÃ© hay que hacer" y el selector indica "a quiÃ©n hay que hacÃ©rselo".[m
[32m+[m[32mPor lo tanto, los selectores son imprescindibles para aplicar de forma correcta los estilos[m
[32m+[m[32mCSS en una pÃ¡gina.[m
[32m+[m
[32m+[m[32mA un mismo elemento HTML se le pueden asignar infinitas reglas CSS y cada regla CSS[m
[32m+[m[32mpuede aplicarse a un nÃºmero infinito de elementos. En otras palabras, una misma regla[m
[32m+[m[32mpuede aplicarse sobre varios selectores y un mismo selector se puede utilizar en varias[m
[32m+[m[32mreglas.[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar de CSS 2.1 incluye una docena de tipos diferentes de selectores, que[m
[32m+[m[32mpermiten seleccionar de forma muy precisa elementos individuales o conjuntos de[m
[32m+[m[32melementos dentro de una pÃ¡gina web.[m
[32m+[m
[32m+[m[32mNo obstante, la mayorÃ­a de pÃ¡ginas de los sitios web se pueden diseÃ±ar utilizando[m
[32m+[m[32msolamente los cinco selectores bÃ¡sicos.[m
[32m+[m
[32m+[m[32m2.1. Selectores bÃ¡sicos[m
[32m+[m
[32m+[m[32m2.1.1. Selector universal[m
[32m+[m
[32m+[m[32mSe utiliza para seleccionar todos los elementos de la pÃ¡gina. El siguiente ejemplo elimina[m
[32m+[m[32mel margen y el relleno de todos los elementos HTML (por ahora no es importante fijarse[m
[32m+[m[32men la parte de la declaraciÃ³n de la regla CSS):[m
[32m+[m
[32m+[m[32m     *{[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl selector universal se indica mediante un asterisco (*). A pesar de su sencillez, no se[m
[32m+[m[32mutiliza habitualmente, ya que es difÃ­cil que un mismo estilo se pueda aplicar a todos los[m
[32m+[m[32melementos de una pÃ¡gina.[m
[32m+[m
[32m+[m[32mNo obstante, sÃ­ que se suele combinar con otros selectores y ademÃ¡s, forma parte de[m
[32m+[m[32malgunos hacks muy utilizados (como se verÃ¡ mÃ¡s adelante).[m
[32m+[m
[32m+[m[32m2.1.2. Selector de tipo o etiqueta[m
[32m+[m
[32m+[m[32mSelecciona todos los elementos de la pÃ¡gina cuya etiqueta HTML coincide con el valor[m
[32m+[m[32mdel selector. El siguiente ejemplo selecciona todos los pÃ¡rrafos de la pÃ¡gina:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    18[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPara utilizar este selector, solamente es necesario indicar el nombre de una etiqueta[m
[32m+[m[32mHTML (sin los caracteres < y >) correspondiente a los elementos que se quieren[m
[32m+[m[32mseleccionar.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo aplica diferentes estilos a los titulares y a los pÃ¡rrafos de una[m
[32m+[m[32mpÃ¡gina HTML:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         color: red;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mh2 {[m
[32m+[m[32m   color: blue;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         color: black;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se quiere aplicar los mismos estilos a dos etiquetas diferentes, se pueden encadenar[m
[32m+[m[32mlos selectores. En el siguiente ejemplo, los tÃ­tulos de secciÃ³n h1, h2 y h3 comparten los[m
[32m+[m[32mmismos estilos:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         color: #8A8E27;[m
[32m+[m[32m         font-weight: normal;[m
[32m+[m[32m         font-family: Arial, Helvetica, sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h2 {[m
[32m+[m
[32m+[m[32m         color: #8A8E27;[m
[32m+[m[32m         font-weight: normal;[m
[32m+[m[32m         font-family: Arial, Helvetica, sans-serif;[m
[32m+[m[32m     }[m
[32m+[m[32m     h3 {[m
[32m+[m[32m         color: #8A8E27;[m
[32m+[m[32m         font-weight: normal;[m
[32m+[m[32m         font-family: Arial, Helvetica, sans-serif;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn este caso, CSS permite agrupar todas las reglas individuales en una sola regla con un[m
[32m+[m[32mselector mÃºltiple. Para ello, se incluyen todos los selectores separados por una coma (,)[m
[32m+[m[32my el resultado es que la siguiente regla CSS es equivalente a las tres reglas anteriores:[m
[32m+[m
[32m+[m[32m     h1, h2, h3 {[m
[32m+[m[32m         color: #8A8E27;[m
[32m+[m[32m         font-weight: normal;[m
[32m+[m[32m         font-family: Arial, Helvetica, sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn las hojas de estilo complejas, es habitual agrupar las propiedades comunes de varios[m
[32m+[m[32melementos en una Ãºnica regla CSS y posteriormente definir las propiedades especÃ­ficas[m
[32m+[m
[32m+[m[32mwww.librosweb.es    19[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mde esos mismos elementos. El siguiente ejemplo establece en primer lugar las[m
[32m+[m[32mpropiedades comunes de los tÃ­tulos de secciÃ³n (color y tipo de letra) y a continuaciÃ³n,[m
[32m+[m[32mestablece el tamaÃ±o de letra de cada uno de ellos:[m
[32m+[m
[32m+[m[32m     h1, h2, h3 {[m
[32m+[m[32m         color: #8A8E27;[m
[32m+[m[32m         font-weight: normal;[m
[32m+[m[32m         font-family: Arial, Helvetica, sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     h1 { font-size: 2em; }[m
[32m+[m[32m     h2 { font-size: 1.5em; }[m
[32m+[m[32m     h3 { font-size: 1.2em; }[m
[32m+[m
[32m+[m[32m2.1.3. Selector descendente[m
[32m+[m
[32m+[m[32mSelecciona los elementos que se encuentran dentro de otros elementos. Un elemento es[m
[32m+[m[32mdescendiente de otro cuando se encuentra entre las etiquetas de apertura y de cierre del[m
[32m+[m[32motro elemento.[m
[32m+[m
[32m+[m[32mEl selector del siguiente ejemplo selecciona todos los elementos <span> de la pÃ¡gina que[m
[32m+[m[32mse encuentren dentro de un elemento <p>:[m
[32m+[m
[32m+[m[32m     p span { color: red; }[m
[32m+[m
[32m+[m[32mSi el cÃ³digo HTML de la pÃ¡gina es el siguiente:[m
[32m+[m
[32m+[m[32m     <p>[m
[32m+[m[32m         ...[m
[32m+[m[32m         <span>texto1</span>[m
[32m+[m[32m         ...[m
[32m+[m[32m         <a href="">...<span>texto2</span></a>[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </p>[m
[32m+[m
[32m+[m[32mEl selector p span selecciona tanto texto1 como texto2. El motivo es que en el selector[m
[32m+[m[32mdescendente, un elemento no tiene que ser "hijo directo" de otro. La Ãºnica condiciÃ³n es[m
[32m+[m[32mque un elemento debe estar dentro de otro elemento, sin importar lo profundo que se[m
[32m+[m[32mencuentre.[m
[32m+[m
[32m+[m[32mAl resto de elementos <span> de la pÃ¡gina que no estÃ¡n dentro de un elemento <p>, no se[m
[32m+[m[32mles aplica la regla CSS anterior.[m
[32m+[m
[32m+[m[32mLos selectores descendentes permiten mejorar la precisiÃ³n del selector de tipo o[m
[32m+[m[32metiqueta. AsÃ­, utilizando el selector descendente es posible aplicar diferentes estilos a los[m
[32m+[m[32melementos del mismo tipo. El siguiente ejemplo amplÃ­a el anterior y muestra de color[m
[32m+[m[32mazul todo el texto de los <span> contenidos dentro de un <h1>:[m
[32m+[m
[32m+[m[32m     p span { color: red; }[m
[32m+[m[32m     h1 span { color: blue; }[m
[32m+[m
[32m+[m[32mCon las reglas CSS anteriores:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    20[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32m    â–ª Los elementos <span> que se encuentran dentro de un elemento <p> se muestran[m
[32m+[m[32m       de color rojo.[m
[32m+[m
[32m+[m[32m    â–ª Los elementos <span> que se encuentran dentro de un elemento <h1> se muestran[m
[32m+[m[32m       de color azul.[m
[32m+[m
[32m+[m[32m    â–ª El resto de elementos <span> de la pÃ¡gina, se muestran con el color por defecto[m
[32m+[m[32m       aplicado por el navegador.[m
[32m+[m
[32m+[m[32mLa sintaxis formal del selector descendente se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     elemento1 elemento2 elemento3 ... elementoN[m
[32m+[m
[32m+[m[32mLos selectores descendentes siempre estÃ¡n formados por dos o mÃ¡s partes separadas[m
[32m+[m[32mentre sÃ­ por espacios en blanco. La Ãºltima parte indica el elemento sobre el que se[m
[32m+[m[32maplican los estilos y todas las partes anteriores indican el lugar en el que se tiene que[m
[32m+[m[32mencontrar ese elemento para que los estilos se apliquen realmente.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, el selector descendente se compone de cuatro partes:[m
[32m+[m
[32m+[m[32m     p a span em { text-decoration: underline; }[m
[32m+[m
[32m+[m[32mLos estilos de la regla anterior se aplican a los elementos de tipo <em> que se encuentren[m
[32m+[m[32mdentro de elementos de tipo <span>, que a su vez se encuentren dentro de elementos de[m
[32m+[m[32mtipo <a> que se encuentren dentro de elementos de tipo <p>.[m
[32m+[m
[32m+[m[32mNo debe confundirse el selector descendente con la combinaciÃ³n de selectores:[m
[32m+[m
[32m+[m[32m     /* El estilo se aplica a todos los elementos "p", "a", "span" y "em" */[m
[32m+[m[32m     p, a, span, em { text-decoration: underline; }[m
[32m+[m
[32m+[m[32m     /* El estilo se aplica solo a los elementos "em" que se[m
[32m+[m[32m                   encuentran dentro de "p a span" */[m
[32m+[m
[32m+[m[32m     p a span em { text-decoration: underline; }[m
[32m+[m
[32m+[m[32mSi se emplea el selector descendente combinado con el selector universal, se puede[m
[32m+[m[32mrestringir el alcance de un selector descendente. El siguiente ejemplo, muestra los dos[m
[32m+[m[32menlaces de color rojo:[m
[32m+[m
[32m+[m[32m     p a { color: red; }[m
[32m+[m
[32m+[m[32m     <p><a href="#">Enlace</a></p>[m
[32m+[m[32m     <p><span><a href="#">Enlace</a></span></p>[m
[32m+[m
[32m+[m[32mSin embargo, en el siguiente ejemplo solamente el segundo enlace se muestra de color[m
[32m+[m[32mrojo:[m
[32m+[m
[32m+[m[32m     p * a { color: red; }[m
[32m+[m
[32m+[m[32m     <p><a href="#">Enlace</a></p>[m
[32m+[m[32m     <p><span><a href="#">Enlace</a></span></p>[m
[32m+[m
[32m+[m[32mLa razÃ³n es que el selector p * a se traduce como todos los elementos de tipo <a> que se[m
[32m+[m[32mencuentren dentro de cualquier elemento que, a su vez, se encuentre dentro de un elemento[m
[32m+[m
[32m+[m[32mwww.librosweb.es    21[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mde tipo <p>. Como el primer elemento <a> se encuentra directamente bajo un elemento[m
[32m+[m[32m<p>, no se cumple la condiciÃ³n del selector p * a.[m
[32m+[m
[32m+[m[32m2.1.4. Selector de clase[m
[32m+[m
[32m+[m[32mSi se considera el siguiente cÃ³digo HTML de ejemplo:[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m         <p>Nunc sed lacus et est adipiscing accumsan...</p>[m
[32m+[m[32m         <p>Class aptent taciti sociosqu ad litora...</p>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mÂ¿CÃ³mo se pueden aplicar estilos CSS sÃ³lo al primer pÃ¡rrafo? El selector universal (*) no[m
[32m+[m[32mse puede utilizar porque selecciona todos los elementos de la pÃ¡gina. El selector de tipo[m
[32m+[m[32mo etiqueta (p) tampoco se puede utilizar porque seleccionarÃ­a todos los pÃ¡rrafos. Por[m
[32m+[m[32mÃºltimo, el selector descendente (body p) tampoco se puede utilizar porque todos los[m
[32m+[m[32mpÃ¡rrafos se encuentran en el mismo sitio.[m
[32m+[m
[32m+[m[32mUna de las soluciones mÃ¡s sencillas para aplicar estilos a un solo elemento de la pÃ¡gina[m
[32m+[m[32mconsiste en utilizar el atributo class de HTML sobre ese elemento para indicar[m
[32m+[m[32mdirectamente la regla CSS que se le debe aplicar:[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <p class="destacado">Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m         <p>Nunc sed lacus et est adipiscing accumsan...</p>[m
[32m+[m[32m         <p>Class aptent taciti sociosqu ad litora...</p>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, se crea en el archivo CSS una nueva regla llamada destacado con todos[m
[32m+[m[32mlos estilos que se van a aplicar al elemento. Para que el navegador no confunda este[m
[32m+[m[32mselector con los otros tipos de selectores, se prefija el valor del atributo class con un[m
[32m+[m[32mpunto (.) tal y como muestra el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     .destacado { color: red; }[m
[32m+[m
[32m+[m[32mEl selector .destacado se interpreta como "cualquier elemento de la pÃ¡gina cuyo atributo[m
[32m+[m[32mclass sea igual a destacado", por lo que solamente el primer pÃ¡rrafo cumple esa[m
[32m+[m[32mcondiciÃ³n.[m
[32m+[m
[32m+[m[32mEste tipo de selectores se llaman selectores de clase y son los mÃ¡s utilizados junto con[m
[32m+[m[32mlos selectores de ID que se verÃ¡n a continuaciÃ³n. La principal caracterÃ­stica de este[m
[32m+[m[32mselector es que en una misma pÃ¡gina HTML varios elementos diferentes pueden utilizar[m
[32m+[m[32mel mismo valor en el atributo class:[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <p class="destacado">Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m         <p>Nunc sed lacus et <a href="#" class="destacado">est adipiscing</a>[m
[32m+[m
[32m+[m[32m     accumsan...</p>[m
[32m+[m[32m         <p>Class aptent taciti <em class="destacado">sociosqu ad</em> litora...</p>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mwww.librosweb.es    22[m
[32m+[m[32mIntroducciÃ³n a CSS              CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mLos selectores de clase son imprescindibles para diseÃ±ar pÃ¡ginas web complejas, ya que[m
[32m+[m[32mpermiten disponer de una precisiÃ³n total al seleccionar los elementos. AdemÃ¡s, estos[m
[32m+[m[32mselectores permiten reutilizar los mismos estilos para varios elementos diferentes.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra otro ejemplo de selectores de clase:[m
[32m+[m
[32m+[m[32m     .aviso {[m
[32m+[m[32m         padding: 0.5em;[m
[32m+[m[32m         border: 1px solid #98be10;[m
[32m+[m[32m         background: #f6feda;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m.error {[m
[32m+[m[32m   color: #930;[m
[32m+[m[32m   font-weight: bold;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m<span class="error">...</span>[m
[32m+[m
[32m+[m[32m     <div class="aviso">...</div>[m
[32m+[m
[32m+[m[32mEl elemento <span> tiene un atributo class="error", por lo que se le aplican las reglas[m
[32m+[m[32mCSS indicadas por el selector .error. Por su parte, el elemento <div> tiene un atributo[m
[32m+[m[32mclass="aviso", por lo que su estilo es el que definen las reglas CSS del selector .aviso.[m
[32m+[m
[32m+[m[32mEn ocasiones, es necesario restringir el alcance del selector de clase. Si se considera de[m
[32m+[m[32mnuevo el ejemplo anterior:[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <p class="destacado">Lorem ipsum dolor sit amet...</p>[m
[32m+[m[32m         <p>Nunc sed lacus et <a href="#" class="destacado">est adipiscing</a>[m
[32m+[m
[32m+[m[32m     accumsan...</p>[m
[32m+[m[32m         <p>Class aptent taciti <em class="destacado">sociosqu ad</em> litora...</p>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mÂ¿CÃ³mo es posible aplicar estilos solamente al pÃ¡rrafo cuyo atributo class sea igual a[m
[32m+[m[32mdestacado? Combinando el selector de tipo y el selector de clase, se obtiene un selector[m
[32m+[m[32mmucho mÃ¡s especÃ­fico:[m
[32m+[m
[32m+[m[32m     p.destacado { color: red }[m
[32m+[m
[32m+[m[32mEl selector p.destacado se interpreta como "aquellos elementos de tipo <p> que[m
[32m+[m[32mdispongan de un atributo class con valor destacado". De la misma forma, el selector[m
[32m+[m[32ma.destacado solamente selecciona los enlaces cuyo atributo class sea igual a[m
[32m+[m[32mdestacado.[m
[32m+[m
[32m+[m[32mDe lo anterior se deduce que el atributo .destacado es equivalente a *.destacado, por[m
[32m+[m[32mlo que todos los diseÃ±adores obvian el sÃ­mbolo * al escribir un selector de clase normal.[m
[32m+[m
[32m+[m[32mNo debe confundirse el selector de clase con los selectores anteriores:[m
[32m+[m
[32m+[m[32m     /* Todos los elementos de tipo "p" con atributo class="aviso" */[m
[32m+[m[32m     p.aviso { ... }[m
[32m+[m
[32m+[m[32m/* Todos los elementos con atributo class="aviso" que estÃ©n dentro[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                    23[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32m          de cualquier elemento de tipo "p" */[m
[32m+[m[32m     p .aviso { ... }[m
[32m+[m
[32m+[m[32m     /* Todos los elementos "p" de la pÃ¡gina y todos los elementos con[m
[32m+[m[32m          atributo class="aviso" de la pÃ¡gina */[m
[32m+[m
[32m+[m[32m     p, .aviso { ... }[m
[32m+[m
[32m+[m[32mPor Ãºltimo, es posible aplicar los estilos de varias clases CSS sobre un mismo elemento.[m
[32m+[m[32mLa sintaxis es similar, pero los diferentes valores del atributo class se separan con[m
[32m+[m[32mespacios en blanco. En el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     <p class="especial destacado error">PÃ¡rrafo de texto...</p>[m
[32m+[m
[32m+[m[32mAl pÃ¡rrafo anterior se le aplican los estilos definidos en las reglas .especial, .destacado[m
[32m+[m[32my .error, por lo que en el siguiente ejemplo, el texto del pÃ¡rrafo se verÃ­a de color rojo, en[m
[32m+[m[32mnegrita y con un tamaÃ±o de letra de 15 pÃ­xel:[m
[32m+[m
[32m+[m[32m     .error { color: red; }[m
[32m+[m[32m     .destacado { font-size: 15px; }[m
[32m+[m[32m     .especial { font-weight: bold; }[m
[32m+[m
[32m+[m[32m     <p class="especial destacado error">PÃ¡rrafo de texto...</p>[m
[32m+[m
[32m+[m[32mSi un elemento dispone de un atributo class con mÃ¡s de un valor, es posible utilizar un[m
[32m+[m[32mselector mÃ¡s avanzado:[m
[32m+[m
[32m+[m[32m     .error { color: red; }[m
[32m+[m[32m     .error.destacado { color: blue; }[m
[32m+[m[32m     .destacado { font-size: 15px; }[m
[32m+[m[32m     .especial { font-weight: bold; }[m
[32m+[m
[32m+[m[32m     <p class="especial destacado error">PÃ¡rrafo de texto...</p>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el color de la letra del texto es azul y no rojo. El motivo es que se[m
[32m+[m[32mha utilizado un selector de clase mÃºltiple .error.destacado, que se interpreta como[m
[32m+[m[32m"aquellos elementos de la pÃ¡gina que dispongan de un atributo class con al menos los[m
[32m+[m[32mvalores error y destacado".[m
[32m+[m
[32m+[m[32m2.1.5. Selectores de ID[m
[32m+[m
[32m+[m[32mEn ocasiones, es necesario aplicar estilos CSS a un Ãºnico elemento de la pÃ¡gina. Aunque[m
[32m+[m[32mpuede utilizarse un selector de clase para aplicar estilos a un Ãºnico elemento, existe otro[m
[32m+[m[32mselector mÃ¡s eficiente en este caso.[m
[32m+[m
[32m+[m[32mEl selector de ID permite seleccionar un elemento de la pÃ¡gina a travÃ©s del valor de su[m
[32m+[m[32matributo id. Este tipo de selectores sÃ³lo seleccionan un elemento de la pÃ¡gina porque el[m
[32m+[m[32mvalor del atributo id no se puede repetir en dos elementos diferentes de una misma[m
[32m+[m[32mpÃ¡gina.[m
[32m+[m
[32m+[m[32mLa sintaxis de los selectores de ID es muy parecida a la de los selectores de clase, salvo[m
[32m+[m[32mque se utiliza el sÃ­mbolo de la almohadilla (#) en vez del punto (.) como prefijo del[m
[32m+[m[32mnombre de la regla CSS:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    24[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32m     #destacado { color: red; }[m
[32m+[m
[32m+[m[32m     <p>Primer pÃ¡rrafo</p>[m
[32m+[m[32m     <p id="destacado">Segundo pÃ¡rrafo</p>[m
[32m+[m[32m     <p>Tercer pÃ¡rrafo</p>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el selector #destacado solamente selecciona el segundo pÃ¡rrafo[m
[32m+[m[32m(cuyo atributo id es igual a destacado).[m
[32m+[m
[32m+[m[32mLa principal diferencia entre este tipo de selector y el selector de clase tiene que ver con[m
[32m+[m[32mHTML y no con CSS. Como se sabe, en una misma pÃ¡gina, el valor del atributo id debe[m
[32m+[m[32mser Ãºnico, de forma que dos elementos diferentes no pueden tener el mismo valor de id.[m
[32m+[m[32mSin embargo, el atributo class no es obligatorio que sea Ãºnico, de forma que muchos[m
[32m+[m[32melementos HTML diferentes pueden compartir el mismo valor para su atributo class.[m
[32m+[m
[32m+[m[32mDe esta forma, la recomendaciÃ³n general es la de utilizar el selector de ID cuando se[m
[32m+[m[32mquiere aplicar un estilo a un solo elemento especÃ­fico de la pÃ¡gina y utilizar el selector de[m
[32m+[m[32mclase cuando se quiere aplicar un estilo a varios elementos diferentes de la pÃ¡gina[m
[32m+[m[32mHTML.[m
[32m+[m
[32m+[m[32mAl igual que los selectores de clase, en este caso tambiÃ©n se puede restringir el alcance[m
[32m+[m[32mdel selector mediante la combinaciÃ³n con otros selectores. El siguiente ejemplo aplica la[m
[32m+[m[32mregla CSS solamente al elemento de tipo <p> que tenga un atributo id igual al indicado:[m
[32m+[m
[32m+[m[32m     p#aviso { color: blue; }[m
[32m+[m
[32m+[m[32mA primera vista, restringir el alcance de un selector de ID puede parecer absurdo. En[m
[32m+[m[32mrealidad, un selector de tipo p#aviso sÃ³lo tiene sentido cuando el archivo CSS se aplica[m
[32m+[m[32msobre muchas pÃ¡ginas HTML diferentes.[m
[32m+[m
[32m+[m[32mEn este caso, algunas pÃ¡ginas pueden disponer de elementos con un atributo id igual a[m
[32m+[m[32maviso y que no sean pÃ¡rrafos, por lo que la regla anterior no se aplica sobre esos[m
[32m+[m[32melementos.[m
[32m+[m
[32m+[m[32mNo debe confundirse el selector de ID con los selectores anteriores:[m
[32m+[m
[32m+[m[32m     /* Todos los elementos de tipo "p" con atributo id="aviso" */[m
[32m+[m[32m     p#aviso { ... }[m
[32m+[m
[32m+[m[32m     /* Todos los elementos con atributo id="aviso" que estÃ©n dentro[m
[32m+[m[32m                   de cualquier elemento de tipo "p" */[m
[32m+[m
[32m+[m[32m     p #aviso { ... }[m
[32m+[m
[32m+[m[32m     /* Todos los elementos "p" de la pÃ¡gina y todos los elementos con[m
[32m+[m[32m                   atributo id="aviso" de la pÃ¡gina */[m
[32m+[m
[32m+[m[32m     p, #aviso { ... }[m
[32m+[m
[32m+[m[32m2.1.6. CombinaciÃ³n de selectores bÃ¡sicos[m
[32m+[m
[32m+[m[32mCSS permite la combinaciÃ³n de uno o mÃ¡s tipos de selectores para restringir el alcance[m
[32m+[m[32mde las reglas CSS. A continuaciÃ³n se muestran algunos ejemplos habituales de[m
[32m+[m[32mcombinaciÃ³n de selectores.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    25[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32m     .aviso .especial { ... }[m
[32m+[m
[32m+[m[32mEl anterior selector solamente selecciona aquellos elementos con un class="especial"[m
[32m+[m[32mque se encuentren dentro de cualquier elemento con un class="aviso".[m
[32m+[m
[32m+[m[32mSi se modifica el anterior selector:[m
[32m+[m
[32m+[m[32m     div.aviso span.especial { ... }[m
[32m+[m
[32m+[m[32mAhora, el selector solamente selecciona aquellos elementos de tipo <span> con un[m
[32m+[m[32matributo class="especial" que estÃ©n dentro de cualquier elemento de tipo <div> que[m
[32m+[m[32mtenga un atributo class="aviso".[m
[32m+[m
[32m+[m[32mLa combinaciÃ³n de selectores puede llegar a ser todo lo compleja que sea necesario:[m
[32m+[m
[32m+[m[32m     ul#menuPrincipal li.destacado a#inicio { ... }[m
[32m+[m
[32m+[m[32mEl anterior selector hace referencia al enlace con un atributo id igual a inicio que se[m
[32m+[m[32mencuentra dentro de un elemento de tipo <li> con un atributo class igual a destacado,[m
[32m+[m[32mque forma parte de una lista <ul> con un atributo id igual a menuPrincipal.[m
[32m+[m
[32m+[m[32m Ejercicio 1 Ver enunciado en la pÃ¡gina 199[m
[32m+[m
[32m+[m[32m2.2. Selectores avanzados[m
[32m+[m
[32m+[m[32mUtilizando solamente los selectores bÃ¡sicos de la secciÃ³n anterior, es posible diseÃ±ar[m
[32m+[m[32mprÃ¡cticamente cualquier pÃ¡gina web. No obstante, CSS define otros selectores mÃ¡s[m
[32m+[m[32mavanzados que permiten simplificar las hojas de estilos.[m
[32m+[m
[32m+[m[32mDesafortunadamente, el navegador Internet Explorer 6 y sus versiones anteriores no[m
[32m+[m[32msoportaban este tipo de selectores avanzados, por lo que su uso no era comÃºn hasta hace[m
[32m+[m[32mpoco tiempo. Si quieres consultar el soporte de los selectores en los distintos[m
[32m+[m[32mnavegadores, puedes utilizar las siguientes referencias:[m
[32m+[m
[32m+[m[32m    â–ª Lista completa de los selectores que soporta cada versiÃ³n de cada navegador[m
[32m+[m[32m       (http://dev.l-c-n.com/CSS3-selectors/browser-support.php)[m
[32m+[m
[32m+[m[32m    â–ª Test online en el que puedes comprobar los selectores que soporta el navegador[m
[32m+[m[32m       con el que realizas el test (http://www.css3.info/selectors-test/)[m
[32m+[m
[32m+[m[32m2.2.1. Selector de hijos[m
[32m+[m
[32m+[m[32mSe trata de un selector similar al selector descendente, pero muy diferente en su[m
[32m+[m[32mfuncionamiento. Se utiliza para seleccionar un elemento que es hijo directo de otro[m
[32m+[m[32melemento y se indica mediante el "signo de mayor que" (>):[m
[32m+[m
[32m+[m[32m     p > span { color: blue; }[m
[32m+[m
[32m+[m[32m     <p><span>Texto1</span></p>[m
[32m+[m[32m     <p><a href="#"><span>Texto2</span></a></p>[m
[32m+[m
[32m+[m[32mwww.librosweb.es    26[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el selector p > span se interpreta como "cualquier elemento[m
[32m+[m[32m<span> que sea hijo directo de un elemento <p>", por lo que el primer elemento <span>[m
[32m+[m[32mcumple la condiciÃ³n del selector. Sin embargo, el segundo elemento <span> no la cumple[m
[32m+[m[32mporque es descendiente pero no es hijo directo de un elemento <p>.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra las diferencias entre el selector descendente y el selector[m
[32m+[m[32mde hijos:[m
[32m+[m
[32m+[m[32m     p a { color: red; }[m
[32m+[m[32m     p > a { color: red; }[m
[32m+[m
[32m+[m[32m     <p><a href="#">Enlace1</a></p>[m
[32m+[m[32m     <p><span><a href="#">Enlace2</a></span></p>[m
[32m+[m
[32m+[m[32mEl primer selector es de tipo descendente y por tanto se aplica a todos los elementos <a>[m
[32m+[m[32mque se encuentran dentro de elementos <p>. En este caso, los estilos de este selector se[m
[32m+[m[32maplican a los dos enlaces.[m
[32m+[m
[32m+[m[32mPor otra parte, el selector de hijos obliga a que el elemento <a> sea hijo directo de un[m
[32m+[m[32melemento <p>. Por lo tanto, los estilos del selector p > a no se aplican al segundo enlace[m
[32m+[m[32mdel ejemplo anterior.[m
[32m+[m
[32m+[m[32m2.2.2. Selector adyacente[m
[32m+[m
[32m+[m[32mEl selector adyacente utiliza el signo + y su sintaxis es:[m
[32m+[m
[32m+[m[32m     elemento1 + elemento2 { ... }[m
[32m+[m
[32m+[m[32mLa explicaciÃ³n del comportamiento de este selector no es sencilla, ya que selecciona[m
[32m+[m[32mtodos los elementos de tipo elemento2 que cumplan las dos siguientes condiciones:[m
[32m+[m
[32m+[m[32m    â–ª elemento1 y elemento2 deben ser hermanos, por lo que su elemento padre debe[m
[32m+[m[32m       ser el mismo.[m
[32m+[m
[32m+[m[32m    â–ª elemento2 debe aparecer inmediatamente despuÃ©s de elemento1 en el cÃ³digo[m
[32m+[m[32m       HTML de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     h1 + h2 { color: red }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <h1>Titulo1</h1>[m
[32m+[m
[32m+[m[32m     <h2>SubtÃ­tulo</h2>[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32m     <h2>Otro subtÃ­tulo</h2>[m
[32m+[m[32m     ...[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mLos estilos del selector h1 + h2 se aplican al primer elemento <h2> de la pÃ¡gina, pero no[m
[32m+[m[32mal segundo <h2>, ya que:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    27[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32m    â–ª El elemento padre de <h1> es <body>, el mismo padre que el de los dos elementos[m
[32m+[m[32m       <h2>. AsÃ­, los dos elementos <h2> cumplen la primera condiciÃ³n del selector[m
[32m+[m[32m       adyacente.[m
[32m+[m
[32m+[m[32m    â–ª El primer elemento <h2> aparece en el cÃ³digo HTML justo despuÃ©s del elemento[m
[32m+[m[32m       <h1>, por lo que este elemento <h2> tambiÃ©n cumple la segunda condiciÃ³n del[m
[32m+[m[32m       selector adyacente.[m
[32m+[m
[32m+[m[32m    â–ª Por el contrario, el segundo elemento <h2> no aparece justo despuÃ©s del elemento[m
[32m+[m[32m       <h1>, por lo que no cumple la segunda condiciÃ³n del selector adyacente y por[m
[32m+[m[32m       tanto no se le aplican los estilos de h1 + h2.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo es muy Ãºtil para los textos que se muestran como libros:[m
[32m+[m
[32m+[m[32m     p + p { text-indent: 1.5em; }[m
[32m+[m
[32m+[m[32mEn muchos libros, suele ser habitual que la primera lÃ­nea de todos los pÃ¡rrafos estÃ©[m
[32m+[m[32mindentada, salvo la primera lÃ­nea del primer pÃ¡rrafo. Con el selector p + p, se[m
[32m+[m[32mseleccionan todos los pÃ¡rrafos que estÃ©n dentro del mismo elemento padre que otros[m
[32m+[m[32mpÃ¡rrafos y que vayan justo despuÃ©s de otro pÃ¡rrafo. En otras palabras, el selector p + p[m
[32m+[m[32mselecciona todos los pÃ¡rrafos de un elemento salvo el primer pÃ¡rrafo.[m
[32m+[m
[32m+[m[32m2.2.3. Selector de atributos[m
[32m+[m
[32m+[m[32mEl Ãºltimo tipo de selectores avanzados lo forman los selectores de atributos, que[m
[32m+[m[32mpermiten seleccionar elementos HTML en funciÃ³n de sus atributos y/o valores de esos[m
[32m+[m[32matributos.[m
[32m+[m
[32m+[m[32mLos cuatro tipos de selectores de atributos son:[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo], selecciona los elementos que tienen establecido el atributo[m
[32m+[m[32m       llamado nombre_atributo, independientemente de su valor.[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo=valor], selecciona los elementos que tienen establecido un[m
[32m+[m[32m       atributo llamado nombre_atributo con un valor igual a valor.[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo~=valor], selecciona los elementos que tienen establecido un[m
[32m+[m[32m       atributo llamado nombre_atributo y al menos uno de los valores del atributo es[m
[32m+[m[32m       valor.[m
[32m+[m
[32m+[m[32m    â–ª [nombre_atributo|=valor], selecciona los elementos que tienen establecido un[m
[32m+[m[32m       atributo llamado nombre_atributo y cuyo valor es una serie de palabras[m
[32m+[m[32m       separadas con guiones, pero que comienza con valor. Este tipo de selector sÃ³lo es[m
[32m+[m[32m       Ãºtil para los atributos de tipo lang que indican el idioma del contenido del[m
[32m+[m[32m       elemento.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran algunos ejemplos de estos tipos de selectores:[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que tengan[m
[32m+[m[32m          un atributo "class", independientemente de su valor */[m
[32m+[m
[32m+[m[32m     a[class] { color: blue; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es    28[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que tengan[m
[32m+[m[32m          un atributo "class" con el valor "externo" */[m
[32m+[m
[32m+[m[32m     a[class="externo"] { color: blue; }[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que apunten[m
[32m+[m[32m          al sitio "http://www.ejemplo.com" */[m
[32m+[m
[32m+[m[32m     a[href="http://www.ejemplo.com"] { color: blue; }[m
[32m+[m
[32m+[m[32m     /* Se muestran de color azul todos los enlaces que tengan[m
[32m+[m[32m          un atributo "class" en el que al menos uno de sus valores[m
[32m+[m[32m          sea "externo" */[m
[32m+[m
[32m+[m[32m     a[class~="externo"] { color: blue; }[m
[32m+[m
[32m+[m[32m     /* Selecciona todos los elementos de la pÃ¡gina cuyo atributo[m
[32m+[m[32m          "lang" sea igual a "en", es decir, todos los elementos en inglÃ©s */[m
[32m+[m
[32m+[m[32m     *[lang=en] { ... }[m
[32m+[m
[32m+[m[32m     /* Selecciona todos los elementos de la pÃ¡gina cuyo atributo[m
[32m+[m[32m          "lang" empiece por "es", es decir, "es", "es-ES", "es-AR", etc. */[m
[32m+[m
[32m+[m[32m     *[lang|="es"] { color : red }[m
[32m+[m
[32m+[m[32m2.3. AgrupaciÃ³n de reglas[m
[32m+[m
[32m+[m[32mCuando se crean archivos CSS complejos con decenas o cientos de reglas, es habitual que[m
[32m+[m[32mlos estilos que se aplican a un mismo selector se definan en diferentes reglas:[m
[32m+[m
[32m+[m[32m     h1 { color: red; }[m
[32m+[m[32m     ...[m
[32m+[m[32m     h1 { font-size: 2em; }[m
[32m+[m[32m     ...[m
[32m+[m[32m     h1 { font-family: Verdana; }[m
[32m+[m
[32m+[m[32mLas tres reglas anteriores establecen el valor de tres propiedades diferentes de los[m
[32m+[m[32melementos <h1>. Antes de que el navegador muestre la pÃ¡gina, procesa todas las reglas[m
[32m+[m[32mCSS de la pÃ¡gina para tener en cuenta todos los estilos definidos para cada elemento.[m
[32m+[m
[32m+[m[32mCuando el selector de dos o mÃ¡s reglas CSS es idÃ©ntico, se pueden agrupar las[m
[32m+[m[32mdeclaraciones de las reglas para hacer las hojas de estilos mÃ¡s eficientes:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         color: red;[m
[32m+[m[32m         font-size: 2em;[m
[32m+[m[32m         font-family: Verdana;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl ejemplo anterior tiene el mismo efecto que las tres reglas anteriores, pero es mÃ¡s[m
[32m+[m[32meficiente y es mÃ¡s fÃ¡cil de modificar y mantener por parte de los diseÃ±adores. Como CSS[m
[32m+[m[32mignora los espacios en blanco y las nuevas lÃ­neas, tambiÃ©n se pueden agrupar las reglas[m
[32m+[m[32mde la siguiente forma:[m
[32m+[m
[32m+[m[32m     h1 { color: red; font-size: 2em; font-family: Verdana; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es    29[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mSi se quiere reducir al mÃ¡ximo el tamaÃ±o del archivo CSS para mejorar ligeramente el[m
[32m+[m[32mtiempo de carga de la pÃ¡gina web, tambiÃ©n es posible indicar la regla anterior de la[m
[32m+[m[32msiguiente forma:[m
[32m+[m
[32m+[m[32m     h1 {color:red;font-size:2em;font-family:Verdana;}[m
[32m+[m
[32m+[m[32m2.4. Herencia[m
[32m+[m
[32m+[m[32mUno de los conceptos mÃ¡s caracterÃ­sticos de CSS es la herencia de los estilos definidos[m
[32m+[m[32mpara los elementos. Cuando se establece el valor de alguna propiedad en un elemento,[m
[32m+[m[32mtodos sus descendientes heredan inicialmente ese mismo valor.[m
[32m+[m
[32m+[m[32mSi se indica por ejemplo un tipo de letra al elemento <body> de una pÃ¡gina, todos los[m
[32m+[m[32melementos de la pÃ¡gina mostrarÃ¡n ese tipo de letra, salvo que se indique lo contrario:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de herencia de estilos</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m
[32m+[m[32m         body { font-family: Arial; color: black; }[m
[32m+[m[32m         h1 { font-family: Verdana; }[m
[32m+[m[32m         p { color: red; }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <h1>Titular de la pÃ¡gina</h1>[m
[32m+[m[32m     <p>Un pÃ¡rrafo de texto no muy largo.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, se ha indicado que la etiqueta <body> tiene asignado un tipo de[m
[32m+[m[32mletra Arial y un color de letra negro. AsÃ­, todos los elementos de la pÃ¡gina (salvo que se[m
[32m+[m[32mindique lo contrario) se muestran de color negro y con la fuente Arial.[m
[32m+[m
[32m+[m[32mLa segunda regla indica que los elementos <h1> se muestran con otra tipografÃ­a[m
[32m+[m[32mdiferente a la heredada. La tercera regla indica que los elementos <p> varÃ­an su color[m
[32m+[m[32mrespecto del color que han heredado.[m
[32m+[m
[32m+[m[32mLa herencia de estilos no funciona en todas las propiedades CSS, por lo que se debe[m
[32m+[m[32mestudiar cada propiedad de forma individual.[m
[32m+[m
[32m+[m[32m2.5. Colisiones de estilos[m
[32m+[m
[32m+[m[32mEn las hojas de estilos complejas, es habitual que varias reglas CSS se apliquen a un[m
[32m+[m[32mmismo elemento HTML. El problema de estas reglas mÃºltiples es que se pueden dar[m
[32m+[m[32mcolisiones como la del siguiente ejemplo:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    30[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 2. Selectores[m
[32m+[m
[32m+[m[32mp { color: red; }[m
[32m+[m[32mp { color: blue; }[m
[32m+[m
[32m+[m[32m     <p>...</p>[m
[32m+[m
[32m+[m[32mÂ¿De quÃ© color se muestra el pÃ¡rrafo anterior? CSS tiene un mecanismo de resoluciÃ³n de[m
[32m+[m[32mcolisiones muy complejo y que tiene en cuenta el tipo de hoja de estilo que se trate (de[m
[32m+[m[32mnavegador, de usuario o de diseÃ±ador), la importancia de cada regla y lo especÃ­fico que[m
[32m+[m[32msea el selector.[m
[32m+[m
[32m+[m[32mAunque los tipos de hojas de estilos y su importancia se verÃ¡n mÃ¡s adelante, se describe[m
[32m+[m[32ma continuaciÃ³n el mÃ©todo genÃ©rico seguido por CSS para resolver las colisiones:[m
[32m+[m
[32m+[m[32m      1. Determinar todas las declaraciones que se aplican al elemento para el medio[m
[32m+[m[32m           CSS seleccionado.[m
[32m+[m
[32m+[m[32m      2. Ordenar las declaraciones segÃºn su origen (CSS de navegador, de usuario o de[m
[32m+[m[32m           diseÃ±ador) y su importancia (palabra clave !important).[m
[32m+[m
[32m+[m[32m      3. Ordenar las declaraciones segÃºn lo especÃ­fico que sea el selector. Cuanto mÃ¡s[m
[32m+[m[32m           genÃ©rico es un selector, menos importancia tienen sus declaraciones.[m
[32m+[m
[32m+[m[32m      4. Si despuÃ©s de aplicar las normas anteriores existen dos o mÃ¡s reglas con la[m
[32m+[m[32m           misma prioridad, se aplica la que se indicÃ³ en Ãºltimo lugar.[m
[32m+[m
[32m+[m[32mCuando se estudie cada uno de los conceptos del mÃ©todo anterior, se comprenderÃ¡[m
[32m+[m[32mcompletamente su funcionamiento. De momento, la norma que se puede seguir es la de[m
[32m+[m[32mla "especificidad" del selector:[m
[32m+[m
[32m+[m[32m      1. Cuanto mÃ¡s especÃ­fico sea un selector, mÃ¡s importancia tiene su regla asociada.[m
[32m+[m[32m      2. A igual especificidad, se considera la Ãºltima regla indicada.[m
[32m+[m
[32m+[m[32mComo en el ejemplo anterior los dos selectores son idÃ©nticos, las dos reglas tienen la[m
[32m+[m[32mmisma prioridad y prevalece la que se indicÃ³ en Ãºltimo lugar, por lo que el pÃ¡rrafo se[m
[32m+[m[32mmuestra de color azul.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, la regla CSS que prevalece se decide por lo especÃ­fico que es[m
[32m+[m[32mcada selector:[m
[32m+[m
[32m+[m[32m     p { color: red; }[m
[32m+[m[32m     p#especial { color: green; }[m
[32m+[m[32m     * { color: blue; }[m
[32m+[m
[32m+[m[32m     <p id="especial">...</p>[m
[32m+[m
[32m+[m[32mAl elemento <p> se le aplican las tres declaraciones. Como su origen y su importancia es[m
[32m+[m[32mla misma, decide la especificidad del selector. El selector * es el menos especÃ­fico, ya que[m
[32m+[m[32mse refiere a "todos los elementos de la pÃ¡gina". El selector p es poco especÃ­fico porque se[m
[32m+[m[32mrefiere a "todos los pÃ¡rrafos de la pÃ¡gina". Por Ãºltimo, el selector p#especial sÃ³lo hace[m
[32m+[m[32mreferencia a "el pÃ¡rrafo de la pÃ¡gina cuyo atributo id sea igual a especial". Como el[m
[32m+[m[32mselector p#especial es el mÃ¡s especÃ­fico, su declaraciÃ³n es la que se tiene en cuenta y[m
[32m+[m[32mpor tanto el pÃ¡rrafo se muestra de color verde.[m
[32m+[m
[32m+[m[32m Ejercicio 2 Ver enunciado en la pÃ¡gina 200[m
[32m+[m
[32m+[m[32mwww.librosweb.es    31[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mCapÃ­tulo 3. Unidades de medida y[m
[32m+[m
[32m+[m[32mcolores[m
[32m+[m
[32m+[m[32mMuchas de las propiedades de CSS que se ven en los prÃ³ximos capÃ­tulos permiten[m
[32m+[m[32mindicar unidades de medida y colores en sus valores. AdemÃ¡s, CSS es tan flexible que[m
[32m+[m[32mpermite indicar las medidas y colores de muchas formas diferentes. Por este motivo, se[m
[32m+[m[32mpresentan a continuaciÃ³n todas las alternativas disponibles en CSS para indicar las[m
[32m+[m[32mmedidas y los colores. En los siguientes capÃ­tulos, simplemente se indicarÃ¡ que el valor[m
[32m+[m[32mde una propiedad puede tomar el valor de una medida o de un color, sin detallar las[m
[32m+[m[32mdiferentes alternativas disponibles para cada valor.[m
[32m+[m
[32m+[m[32m3.1. Unidades de medida[m
[32m+[m
[32m+[m[32mLas medidas en CSS se emplean, entre otras, para definir la altura, anchura y mÃ¡rgenes[m
[32m+[m[32mde los elementos y para establecer el tamaÃ±o de letra del texto. Todas las medidas se[m
[32m+[m[32mindican como un valor numÃ©rico entero o decimal seguido de una unidad de medida (sin[m
[32m+[m[32mningÃºn espacio en blanco entre el nÃºmero y la unidad de medida).[m
[32m+[m
[32m+[m[32mCSS divide todas las unidades de medida en dos grupos: absolutas y relativas. Las[m
[32m+[m[32mmedidas relativas definen su valor en relaciÃ³n con otra medida, por lo que para obtener[m
[32m+[m[32msu valor real, se debe realizar alguna operaciÃ³n con el valor indicado. Las unidades[m
[32m+[m[32mabsolutas establecen de forma completa el valor de una medida, por lo que su valor real[m
[32m+[m[32mes directamente el valor indicado.[m
[32m+[m
[32m+[m[32mSi el valor es 0, la unidad de medida es opcional. Si el valor es distinto a 0 y no se indica[m
[32m+[m[32mninguna unidad, la medida se ignora completamente, lo que suele ser una fuente[m
[32m+[m[32mhabitual de errores para los diseÃ±adores que empiezan con CSS. Algunas propiedades[m
[32m+[m[32mpermiten indicar medidas negativas, aunque habitualmente sus valores son positivos.[m
[32m+[m
[32m+[m[32m3.1.1. Unidades relativas[m
[32m+[m
[32m+[m[32mLa unidades relativas son mÃ¡s flexibles que las unidades absolutas porque se adaptan[m
[32m+[m[32mmÃ¡s fÃ¡cilmente a los diferentes medios. A continuaciÃ³n se muestra la lista de unidades[m
[32m+[m[32mde medida relativas y la referencia que se toma para determinar su valor real:[m
[32m+[m
[32m+[m[32m    â–ª em, (no confundir con la etiqueta <em> de HTML) relativa respecto del tamaÃ±o de[m
[32m+[m[32m       letra empleado. Aunque no es una definiciÃ³n exacta, el valor de 1em se puede[m
[32m+[m[32m       aproximar por la anchura de la letra M ("eme mayÃºscula") del tipo de letra que se[m
[32m+[m[32m       estÃ© utilizando[m
[32m+[m
[32m+[m[32m    â–ª ex, relativa respecto de la altura de la letra x ("equis minÃºscula") del tipo de letra[m
[32m+[m[32m       que se estÃ© utilizando[m
[32m+[m
[32m+[m[32m    â–ª px, (pÃ­xel) relativa respecto de la pantalla del usuario[m
[32m+[m
[32m+[m[32mwww.librosweb.es    32[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mLas unidades em y ex no han sido definidas por CSS, sino que llevan dÃ©cadas utilizÃ¡ndose[m
[32m+[m[32men el campo de la tipografÃ­a. La unidad em hace referencia al tamaÃ±o en puntos de la letra[m
[32m+[m[32mque se estÃ¡ utilizando. Si se utiliza una tipografÃ­a de 12 puntos, 1em equivale a 12[m
[32m+[m[32mpuntos. El valor de 1ex se puede aproximar por 0.5 em.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, se indica que el tamaÃ±o de letra del texto de la pÃ¡gina debe ser[m
[32m+[m[32mel 90% del tamaÃ±o por defecto (que depende de cada navegador, aunque es muy similar[m
[32m+[m[32mentre ellos):[m
[32m+[m
[32m+[m[32m     body { font-size: 0.9em; }[m
[32m+[m
[32m+[m[32mComo em es una unidad relativa, el valor 0.9 indicado sÃ³lo tiene sentido cuando se tiene[m
[32m+[m[32men consideraciÃ³n su referencia. Para la unidad em, la referencia es el tamaÃ±o de letra por[m
[32m+[m[32mdefecto del sistema (ordenador, dispositivo mÃ³vil, etc.) del usuario.[m
[32m+[m
[32m+[m[32mPor lo tanto, 0.9em significa que se debe multiplicar 0.9 por el tamaÃ±o de letra por[m
[32m+[m[32mdefecto, lo que en la prÃ¡ctica significa que la medida indicada es igual al 90% del tamaÃ±o[m
[32m+[m[32mde letra por defecto. Si este tamaÃ±o por defecto es 12, el valor 0.9em serÃ­a igual a 0.9 x[m
[32m+[m[32m12 = 10.8.[m
[32m+[m
[32m+[m[32mCuando el valor decimal de una medida es inferior a 1, se puede omitir el 0 de la[m
[32m+[m[32mizquierda, por lo que el cÃ³digo anterior es equivalente al cÃ³digo siguiente:[m
[32m+[m
[32m+[m[32m     body { font-size: .9em; }[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra el uso de la unidad em para establecer el tamaÃ±o de la letra[m
[32m+[m[32mde diferentes pÃ¡rrafos:[m
[32m+[m
[32m+[m[32m           Figura 3.1. Ejemplo de tamaÃ±o de letra definido con la unidad relativa em[m
[32m+[m
[32m+[m[32mEl primer pÃ¡rrafo muestra la letra con un tamaÃ±o de 1em, es decir, el tamaÃ±o por defecto[m
[32m+[m[32men el navegador del usuario. El segundo pÃ¡rrafo ha establecido el tamaÃ±o de letra en[m
[32m+[m
[32m+[m[32mwww.librosweb.es    33[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32m1.2em, es decir, un 20% mÃ¡s grande que el tamaÃ±o por defecto. Por Ãºltimo, el tercer[m
[32m+[m[32mpÃ¡rrafo ha indicado un tamaÃ±o de .8em, es decir, un 20% inferior al tamaÃ±o por defecto.[m
[32m+[m
[32m+[m[32mCuando se estudian por primera vez, las unidades relativas parecen demasiado[m
[32m+[m[32mcomplicadas. Al fin y al cabo, siempre se debe tomar la referencia de la unidad para[m
[32m+[m[32mobtener su valor real. Sin embargo, sus ventajas son mucho mayores que sus[m
[32m+[m[32minconvenientes.[m
[32m+[m
[32m+[m[32mEl ejemplo anterior establece el tamaÃ±o de la letra mediante los valores 1em, 1.2em y[m
[32m+[m[32m.8em. En otras palabras, el cÃ³digo anterior estÃ¡ estableciendo los tamaÃ±os de letra a[m
[32m+[m[32m"normal", "grande" y "pequeÃ±o" respectivamente. Independientemente del tamaÃ±o de[m
[32m+[m[32mletra por defecto del dispositivo del usuario, el primer pÃ¡rrafo se verÃ¡ con un tamaÃ±o de[m
[32m+[m[32mletra "normal" (1em), el segundo pÃ¡rrafo se verÃ¡ mÃ¡s "grande" de lo normal (1.2em) y el[m
[32m+[m[32mÃºltimo pÃ¡rrafo se verÃ¡ "pequeÃ±o" (.8em).[m
[32m+[m
[32m+[m[32mDe esta forma, si el usuario tiene problemas de visiÃ³n y aumenta el tamaÃ±o de letra en[m
[32m+[m[32msu navegador, las proporciones se mantendrÃ¡n. Si el tamaÃ±o de letra por defecto es 12, el[m
[32m+[m[32mprimer pÃ¡rrafo se verÃ¡ con tamaÃ±o 12, pero si el usuario aumenta el tamaÃ±o de letra por[m
[32m+[m[32mdefecto a 20, el primer pÃ¡rrafo se verÃ¡ con tamaÃ±o 20. Como se ve, las unidades relativas[m
[32m+[m[32mpermiten mantener las proporciones del diseÃ±o independientemente del tamaÃ±o de[m
[32m+[m[32mletra por defecto del navegador del usuario.[m
[32m+[m
[32m+[m[32mComo se verÃ¡ mÃ¡s adelante, la propiedad font-size permite establecer el tamaÃ±o de[m
[32m+[m[32mletra del texto de un elemento. En este caso, la referencia para el valor de font-size de[m
[32m+[m[32mun elemento siempre es el tamaÃ±o de letra de su elemento padre (es decir, del elemento[m
[32m+[m[32men el que se encuentra). Si el elemento no se encuentra dentro de ningÃºn otro elemento,[m
[32m+[m[32mla referencia es el tamaÃ±o de letra del elemento <body>. Si no se indica de forma explÃ­cita[m
[32m+[m[32mun valor para el tamaÃ±o de letra del elemento <body>, la referencia es el tamaÃ±o de letra[m
[32m+[m[32mpor defecto del navegador.[m
[32m+[m
[32m+[m[32mSiguiendo esta norma, si en el ejemplo anterior se modifica el tamaÃ±o de letra del[m
[32m+[m[32melemento <body> (que es el elemento padre de los tres pÃ¡rrafos) y se le asigna un valor[m
[32m+[m[32mde 0.8em, el aspecto que muestran los pÃ¡rrafos en el navegador es el siguiente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    34[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32m           Figura 3.2. Ejemplo de tamaÃ±o de letra definido con la unidad relativa em[m
[32m+[m
[32m+[m[32mAl haber reducido el tamaÃ±o de letra que era la referencia del tamaÃ±o de letra de los tres[m
[32m+[m[32mpÃ¡rrafos, su texto se ve con una letra mÃ¡s pequeÃ±a, aunque manteniendo las[m
[32m+[m[32mproporciones: el primer pÃ¡rrafo se ve con un tamaÃ±o de letra normal, el segundo se ve[m
[32m+[m[32mcon un tamaÃ±o grande y el tercero se visualiza con un tamaÃ±o de letra mÃ¡s pequeÃ±o de[m
[32m+[m[32mlo normal.[m
[32m+[m
[32m+[m[32mEl funcionamiento de la unidad ex es idÃ©ntico a em, salvo que en este caso, la referencia[m
[32m+[m[32mes la altura de la letra x minÃºscula.[m
[32m+[m
[32m+[m[32mAunque puede resultar paradÃ³jico, las medidas indicadas en pÃ­xel tambiÃ©n se consideran[m
[32m+[m[32mrelativas, ya que el aspecto de los elementos dependerÃ¡ de la resoluciÃ³n del dispositivo[m
[32m+[m[32men el que se visualiza el documento HTML. Cuando se visualiza un documento en un[m
[32m+[m[32mdispositivo de alta resoluciÃ³n (por ejemplo una impresora de 1200 dpi) se reescalan los[m
[32m+[m[32mpÃ­xel del documento y cada uno de los pÃ­xel originales se visualizan como un conjunto de[m
[32m+[m[32mpÃ­xel del dispositivo de alta resoluciÃ³n.[m
[32m+[m
[32m+[m[32mLas distintas unidades se pueden mezclar entre los diferentes elementos de una misma[m
[32m+[m[32mpÃ¡gina, como en el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     body { font-size: 10px; }[m
[32m+[m[32m     h1 { font-size: 2.5em; }[m
[32m+[m
[32m+[m[32mEn primer lugar, se establece un tamaÃ±o de letra base de 10 pÃ­xel para toda la pÃ¡gina. A[m
[32m+[m[32mcontinuaciÃ³n, se asigna un tamaÃ±o de 2.5em al elemento <h1>, por lo que su tamaÃ±o de[m
[32m+[m[32mletra real serÃ¡ de 2.5 x 10px = 25px.[m
[32m+[m
[32m+[m[32mComo se vio en los capÃ­tulos anteriores, muchas propiedades CSS se heredan desde los[m
[32m+[m[32melementos padre hasta los hijos. AsÃ­ por ejemplo, si se establece el tamaÃ±o de letra al[m
[32m+[m[32melemento <body>, todos los elementos de la pÃ¡gina tendrÃ¡n el mismo tamaÃ±o de letra,[m
[32m+[m[32msalvo que indiquen otro valor.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    35[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mSin embargo, las medidas relativas no se heredan directamente, sino que se heredan sus[m
[32m+[m[32mvalores reales una vez calculados. El siguiente ejemplo muestra este comportamiento:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         font-size: 12px;[m
[32m+[m[32m         text-indent: 3em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     h1 { font-size: 15px }[m
[32m+[m
[32m+[m[32mLa propiedad text-indent, como se verÃ¡ en los prÃ³ximos capÃ­tulos, se utiliza para[m
[32m+[m[32mtabular la primera lÃ­nea de un texto. El elemento <body> define un valor para esta[m
[32m+[m[32mpropiedad, pero el elemento <h1> no lo hace, por lo que heredarÃ¡ el valor de su elemento[m
[32m+[m[32mpadre. Sin embargo, el valor heredado no es 3em, sino 36px.[m
[32m+[m
[32m+[m[32mSi se heredara el valor 3em, al multiplicarlo por el valor de font-size del elemento <h1>[m
[32m+[m[32m(que vale 15px) el resultado serÃ­a 3em x 15px = 45px. No obstante, como se ha[m
[32m+[m[32mcomentado, los valores que se heredan no son los relativos, sino los valores ya[m
[32m+[m[32mcalculados.[m
[32m+[m
[32m+[m[32mPor lo tanto, en primer lugar se calcula el valor real de 3em para el elemento <body>: 3em[m
[32m+[m[32mx 12px = 36px. Una vez calculado el valor real, este es el valor que se hereda para el[m
[32m+[m[32mresto de elementos.[m
[32m+[m
[32m+[m[32m3.1.2. Unidades absolutas[m
[32m+[m
[32m+[m[32mLas unidades absolutas definen las medidas de forma completa, ya que sus valores[m
[32m+[m[32mreales no se calculan a partir de otro valor de referencia, sino que son directamente los[m
[32m+[m[32mvalores indicados. A continuaciÃ³n se muestra la lista completa de unidades absolutas[m
[32m+[m[32mdefinidas por CSS y su significado:[m
[32m+[m
[32m+[m[32m    â–ª in, del inglÃ©s "inches", pulgadas (1 pulgada son 2.54 centÃ­metros)[m
[32m+[m
[32m+[m[32m    â–ª cm, centÃ­metros[m
[32m+[m
[32m+[m[32m    â–ª mm, milÃ­metros[m
[32m+[m
[32m+[m[32m    â–ª pt, puntos (1 punto equivale a 1 pulgada/72, es decir, unos 0.35 milÃ­metros)[m
[32m+[m
[32m+[m[32m    â–ª pc, picas (1 pica equivale a 12 puntos, es decir, unos 4.23 milÃ­metros)[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran ejemplos de utilizaciÃ³n de unidades absolutas:[m
[32m+[m
[32m+[m[32m     body { margin: 0.5in; }[m
[32m+[m[32m     h1 { line-height: 2cm; }[m
[32m+[m[32m     p { word-spacing: 4mm; }[m
[32m+[m[32m     a { font-size: 12pt }[m
[32m+[m[32m     span { font-size: 1pc }[m
[32m+[m
[32m+[m[32mSu uso es idÃ©ntico al de las unidades relativas, siendo su Ãºnica diferencia que los valores[m
[32m+[m[32mindicados son directamente los valores que se utilizan, sin necesidad de calcular los[m
[32m+[m[32mvalores reales en funciÃ³n de otras referencias.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    36[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mDe todas las unidades absolutas, la Ãºnica que se utiliza con cierta frecuencia es la de los[m
[32m+[m[32mpuntos (pt). El motivo es que se trata de la unidad preferida para indicar el tamaÃ±o de[m
[32m+[m[32mletra del texto para los documentos que se van a imprimir, es decir, para el medio print[m
[32m+[m[32mde CSS (como se verÃ¡ mÃ¡s adelante).[m
[32m+[m
[32m+[m[32m3.1.3. Porcentajes[m
[32m+[m
[32m+[m[32mCSS define otra unidad de medida relativa basada en los porcentajes. Un porcentaje estÃ¡[m
[32m+[m[32mformado por un valor numÃ©rico seguido del sÃ­mbolo % y siempre estÃ¡ referenciado a otra[m
[32m+[m[32mmedida. Cada una de las propiedades de CSS que permiten indicar como valor un[m
[32m+[m[32mporcentaje, define el valor al que hace referencia ese porcentaje.[m
[32m+[m
[32m+[m[32mLos porcentajes se pueden utilizar por ejemplo para establecer el valor del tamaÃ±o de[m
[32m+[m[32mletra de los elementos:[m
[32m+[m
[32m+[m[32m     body { font-size: 1em; }[m
[32m+[m[32m     h1 { font-size: 200%; }[m
[32m+[m[32m     h2 { font-size: 150%; }[m
[32m+[m
[32m+[m[32mLos tamaÃ±os establecidos para los elementos <h1> y <h2> mediante las reglas anteriores,[m
[32m+[m[32mson equivalentes a 2em y 1.5em respectivamente, por lo que es mÃ¡s habitual definirlos[m
[32m+[m[32mmediante em.[m
[32m+[m
[32m+[m[32mLos porcentajes tambiÃ©n se utilizan para establecer la anchura de los elementos:[m
[32m+[m
[32m+[m[32m     div#contenido { width: 600px; }[m
[32m+[m[32m     div.principal { width: 80%; }[m
[32m+[m
[32m+[m[32m     <div id="contenido">[m
[32m+[m[32m         <div class="principal">[m
[32m+[m[32m         ...[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, la referencia del valor 80% es la anchura de su elemento padre.[m
[32m+[m[32mPor tanto, el elemento <div> cuyo atributo class vale principal tiene una anchura de[m
[32m+[m[32m80% x 600px = 480px.[m
[32m+[m
[32m+[m[32m3.1.4. Recomendaciones[m
[32m+[m
[32m+[m[32mEn general, se recomienda el uso de unidades relativas siempre que sea posible, ya que[m
[32m+[m[32mmejora la accesibilidad de la pÃ¡gina y permite que los documentos se adapten fÃ¡cilmente[m
[32m+[m[32ma cualquier medio y dispositivo.[m
[32m+[m
[32m+[m[32mEl documento "Recomendaciones sobre tÃ©cnicas CSS para la mejora de la accesibilidad de[m
[32m+[m[32mlos contenidos HTML" (http://www.w3.org/TR/WCAG10-CSS-TECHS/) elaborado por el[m
[32m+[m[32morganismo W3C, recomienda el uso de la unidad em para indicar el tamaÃ±o del texto y[m
[32m+[m[32mpara todas las medidas que sean posibles.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    37[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mNormalmente se utilizan pÃ­xel y porcentajes para definir el layout del documento[m
[32m+[m[32m(bÃ¡sicamente, la anchura de las columnas y elementos de las pÃ¡ginas) y em y porcentajes[m
[32m+[m[32mpara el tamaÃ±o de letra de los textos.[m
[32m+[m
[32m+[m[32mPor otra parte, uno de los problemas habituales cuando se utilizan unidades relativas es[m
[32m+[m[32mel problema de "el texto cada vez se ve mÃ¡s pequeÃ±o" o "el texto cada vez se ve mÃ¡s[m
[32m+[m[32mgrande". El siguiente ejemplo muestra el primer caso:[m
[32m+[m
[32m+[m[32m     div { font-size: 0.9em; }[m
[32m+[m
[32m+[m[32m     <div>[m
[32m+[m[32m         <p>Texto 1</p>[m
[32m+[m[32m         <div>[m
[32m+[m[32m            <p>Texto 2</p>[m
[32m+[m[32m            <div>[m
[32m+[m[32m               <p>Texto 3</p>[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32m                           Figura 3.3. El texto cada vez se ve mÃ¡s pequeÃ±o[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el tamaÃ±o del texto de todos los elementos <div> se define[m
[32m+[m[32mmediante la medida relativa 0.9em. Como se trata de una medida relativa, su valor real[m
[32m+[m[32mse calcula a partir del tamaÃ±o de letra de su elemento padre. De esta forma, el tamaÃ±o de[m
[32m+[m[32mletra del primer <div> es igual a 0.9em respecto del tamaÃ±o de letra por defecto.[m
[32m+[m
[32m+[m[32mEn el segundo elemento <div>, el tamaÃ±o de letra es 0.9em respecto al tamaÃ±o de letra[m
[32m+[m[32mdel primer <div>, es decir, 0.9em x 0.9em = 0.81em respecto del tamaÃ±o de letra por[m
[32m+[m[32mdefecto, por lo que su letra se ve mÃ¡s pequeÃ±a que la del primer <div>.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, el tamaÃ±o de letra del tercer <div> serÃ¡ igual a 0.9em respecto al tamaÃ±o de[m
[32m+[m[32mla letra del segundo elemento <div>, es decir, 0.9em x 0.9em x 0.9em = 0.729em[m
[32m+[m[32mrespecto del tamaÃ±o de letra por defecto. De esta forma, el tamaÃ±o de letra de este tercer[m
[32m+[m[32m<div> es mucho mÃ¡s pequeÃ±o que el del primer <div>. Si se anidan varios elementos[m
[32m+[m[32m<div>, la letra se harÃ¡ tan pequeÃ±a que no serÃ¡ posible leerla.[m
[32m+[m
[32m+[m[32mEn el caso de que se indique un valor mayor que 1 para la medida relativa, el[m
[32m+[m[32mcomportamiento es muy similar al descrito anteriormente, salvo que en este caso el[m
[32m+[m[32mtamaÃ±o de letra cada vez es mayor.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    38[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32m3.2. Colores[m
[32m+[m
[32m+[m[32mLos colores en CSS se pueden indicar de cinco formas diferentes: palabras clave, colores[m
[32m+[m[32mdel sistema, RGB hexadecimal, RGB numÃ©rico y RGB porcentual. Aunque el mÃ©todo mÃ¡s[m
[32m+[m[32mhabitual es el del RGB hexadecimal, a continuaciÃ³n se muestran todas las alternativas[m
[32m+[m[32mque ofrece CSS.[m
[32m+[m
[32m+[m[32m3.2.1. Palabras clave[m
[32m+[m
[32m+[m[32mCSS define 17 palabras clave para referirse a los colores bÃ¡sicos. Las palabras se[m
[32m+[m[32mcorresponden con el nombre en inglÃ©s de cada color:[m
[32m+[m
[32m+[m[32maqua, black, blue, fuchsia, gray, green, lime, maroon, navy, olive, orange, purple, red,[m
[32m+[m[32msilver, teal, white, yellow[m
[32m+[m
[32m+[m[32m                 Figura 3.4. Colores definidos mediante las palabras clave de CSS[m
[32m+[m
[32m+[m[32mLa imagen anterior ha sido extraÃ­da de la secciÃ³n sobre colores de la especificaciÃ³n[m
[32m+[m[32moficial de CSS (http://www.w3.org/TR/CSS21/syndata.html#value-def-color) .[m
[32m+[m
[32m+[m[32mAunque es una forma muy sencilla de referirse a los colores bÃ¡sicos, este mÃ©todo[m
[32m+[m[32mprÃ¡cticamente no se utiliza en las hojas de estilos de los sitios web reales, ya que se trata[m
[32m+[m[32mde una gama de colores muy limitada.[m
[32m+[m
[32m+[m[32mAdemÃ¡s de la lista bÃ¡sica, los navegadores modernos soportan muchos otros nombres[m
[32m+[m[32mde colores. La lista completa se puede ver en http://en.wikipedia.org/wiki/Websafe.[m
[32m+[m
[32m+[m[32m3.2.2. RGB decimal[m
[32m+[m
[32m+[m[32mEn el campo del diseÃ±o grÃ¡fico, se han definido varios modelos para hacer referencia a[m
[32m+[m[32mlos colores. Los dos modelos mÃ¡s conocidos son RGB y CMYK. Simplificando su[m
[32m+[m[32mexplicaciÃ³n, el modelo RGB consiste en definir un color indicando la cantidad de color[m
[32m+[m[32mrojo, verde y azul que se debe mezclar para obtener ese color. TÃ©cnicamente, el modelo[m
[32m+[m[32mRGB es un modelo de tipo "aditivo", ya que los colores se obtienen sumando sus[m
[32m+[m[32mcomponentes.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    39[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mPor lo tanto, en el modelo RGB un color se define indicando sus tres componentes R[m
[32m+[m[32m(rojo), G (verde) y B (azul). Cada una de las componentes puede tomar un valor entre[m
[32m+[m[32mcero y un valor mÃ¡ximo. De esta forma, el color rojo puro en RGB se crea mediante el[m
[32m+[m[32mmÃ¡ximo valor de la componente R y un valor de 0 para las componentes G y B.[m
[32m+[m
[32m+[m[32mSi todas las componentes valen 0, el color creado es el negro y si todas las componentes[m
[32m+[m[32mtoman su valor mÃ¡ximo, el color obtenido es el blanco. En CSS, las componentes de los[m
[32m+[m[32mcolores definidos mediante RGB decimal pueden tomar valores entre 0 y 255. El[m
[32m+[m[32msiguiente ejemplo establece el color del texto de un pÃ¡rrafo:[m
[32m+[m
[32m+[m[32m     p { color: rgb(71, 98, 176); }[m
[32m+[m
[32m+[m[32mLa sintaxis que se utiliza para indicar los colores es rgb() y entre parÃ©ntesis se indican[m
[32m+[m[32mlas tres componentes RGB, en ese mismo orden y separadas por comas. El color del[m
[32m+[m[32mejemplo anterior se obtendrÃ­a mezclando las componentes R=71, G=98, B=176, que se[m
[32m+[m[32mcorresponde con un color azul claro.[m
[32m+[m
[32m+[m[32mSi se indica un valor menor que 0 para una componente, automÃ¡ticamente se transforma[m
[32m+[m[32msu valor en 0. Igualmente, si se indica un valor mayor que 255, se transforma[m
[32m+[m[32mautomÃ¡ticamente su valor a 255.[m
[32m+[m
[32m+[m[32m3.2.3. RGB porcentual[m
[32m+[m
[32m+[m[32mOtra forma de indicar las componentes RGB de un color es mediante un porcentaje. El[m
[32m+[m[32mfuncionamiento y la sintaxis de este mÃ©todo es el mismo que el del RGB decimal. La[m
[32m+[m[32mÃºnica diferencia en este caso es que el valor de las componentes RGB puede tomar[m
[32m+[m[32mvalores entre 0% y 100%. El mismo color del ejemplo anterior se puede representar de[m
[32m+[m[32mforma porcentual:[m
[32m+[m
[32m+[m[32m     p { color: rgb(27%, 38%, 69%); }[m
[32m+[m
[32m+[m[32mAl igual que sucede con el RGB decimal, si se indica un valor inferior a 0%, se transforma[m
[32m+[m[32mautomÃ¡ticamente en 0% y si se indica un valor superior a 100%, se trunca su valor a 100%.[m
[32m+[m
[32m+[m[32m3.2.4. RGB hexadecimal[m
[32m+[m
[32m+[m[32mAunque es el mÃ©todo mÃ¡s complicado para indicar los colores, se trata del mÃ©todo mÃ¡s[m
[32m+[m[32mutilizado con mucha diferencia. De hecho, prÃ¡cticamente todos los sitios web reales[m
[32m+[m[32mutilizan exclusivamente este mÃ©todo.[m
[32m+[m
[32m+[m[32mPara entender el modelo RGB hexadecimal, en primer lugar es preciso introducir un[m
[32m+[m[32mconcepto matemÃ¡tico llamado sistema numÃ©rico hexadecimal. Cuando realizamos[m
[32m+[m[32moperaciones matemÃ¡ticas, siempre utilizamos 10 sÃ­mbolos para representar los[m
[32m+[m[32mnÃºmeros (del 0 al 9). Por este motivo, se dice que utilizamos un sistema numÃ©rico[m
[32m+[m[32mdecimal.[m
[32m+[m
[32m+[m[32mNo obstante, el sistema decimal es solamente uno de los muchos sistemas numÃ©ricos[m
[32m+[m[32mque se han definido. Entre los sistemas numÃ©ricos alternativos mÃ¡s utilizados se[m
[32m+[m[32mencuentra el sistema hexadecimal, que utiliza 16 sÃ­mbolos para representar sus[m
[32m+[m
[32m+[m[32mwww.librosweb.es    40[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mnÃºmeros. Como sÃ³lo conocemos 10 sÃ­mbolos numÃ©ricos, el sistema hexadecimal utiliza[m
[32m+[m[32mtambiÃ©n seis letras (de la A a la F) para representar los nÃºmeros.[m
[32m+[m
[32m+[m[32mDe esta forma, en el sistema hexadecimal, despuÃ©s del 9 no va el 10, sino la A. La letra B[m
[32m+[m[32mequivale al nÃºmero 11, la C al 12, la D al 13, la E al 14 y la F al nÃºmero 15.[m
[32m+[m
[32m+[m[32mPor tanto, para definir un color en CSS con RGB hexadecimal se realizan los siguientes[m
[32m+[m[32mpasos:[m
[32m+[m
[32m+[m[32m      1. Se determinan las componentes RGB del color original, por ejemplo: R = 71, G =[m
[32m+[m[32m           98, B = 176.[m
[32m+[m
[32m+[m[32m      2. El valor numÃ©rico de cada componente se transforma al sistema numÃ©rico[m
[32m+[m[32m           hexadecimal. Se trata de una operaciÃ³n exclusivamente matemÃ¡tica, por lo que[m
[32m+[m[32m           puedes utilizar una calculadora. En el ejemplo anterior, el valor hexadecimal de[m
[32m+[m[32m           cada componente es: R = 47, G = 62, B = B0.[m
[32m+[m
[32m+[m[32m      3. Para obtener el color completo en formato RGB hexadecimal, se concatenan los[m
[32m+[m[32m           valores de las componentes RGB en ese orden y se les aÃ±ade el prefijo #. De esta[m
[32m+[m[32m           forma, el color del ejemplo anterior es #4762B0 en formato RGB hexadecimal.[m
[32m+[m
[32m+[m[32mSiguiendo el ejemplo de las secciones anteriores, el color del pÃ¡rrafo se indica de la[m
[32m+[m[32msiguiente forma utilizando el color en formato RGB hexadecimal:[m
[32m+[m
[32m+[m[32m     p { color: #4762B0; }[m
[32m+[m
[32m+[m[32mRecuerda que aunque es el mÃ©todo mÃ¡s complicado para definir un color, se trata del[m
[32m+[m[32mmÃ©todo que utilizan la inmensa mayorÃ­a de sitios web, por lo que es imprescindible[m
[32m+[m[32mdominarlo. Afortunadamente, todos los programas de diseÃ±o grÃ¡fico convierten de[m
[32m+[m[32mforma automÃ¡tica los valores RGB decimales a sus valores RGB hexadecimales, por lo[m
[32m+[m[32mque no tienes que hacer ninguna operaciÃ³n matemÃ¡tica:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    41[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32m  Figura 3.5. Herramienta de color de Photoshop para definir los colores segÃºn los modelos[m
[32m+[m[32m                                RGB, CMYK, Lab, HSB y RGB hexadecimal[m
[32m+[m
[32m+[m[32mUna de las ventajas del formato RGB hexadecimal es que se pueden comprimir sus[m
[32m+[m[32mvalores cuando todas sus componentes son iguales dos a dos:[m
[32m+[m
[32m+[m[32m     #AAA = #AAAAAA[m
[32m+[m[32m     #FFF = #FFFFFF[m
[32m+[m[32m     #A0F = #AA00FF[m
[32m+[m[32m     #369 = #336699[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo se establece el color de fondo de la pÃ¡gina a blanco, el color del[m
[32m+[m[32mtexto a negro y el color de la letra de los titulares se define de color rojo:[m
[32m+[m
[32m+[m[32m     body { background-color: #FFF; color: #000; }[m
[32m+[m[32m     h1, h2, h3, h4, h5, h6 { color: #C00; }[m
[32m+[m
[32m+[m[32mLas letras que forman parte del color en formato RGB hexadecimal se pueden escribir en[m
[32m+[m[32mmayÃºsculas o minÃºsculas indistintamente. No obstante, se recomienda escribirlas[m
[32m+[m[32msiempre en mayÃºsculas o siempre en minÃºsculas para que la hoja de estilos resultante[m
[32m+[m[32msea mÃ¡s limpia y homogÃ©nea.[m
[32m+[m
[32m+[m[32m3.2.5. Colores del sistema[m
[32m+[m
[32m+[m[32mLos colores del sistema son similares a los colores indicados mediante su nombre, pero[m
[32m+[m[32men este caso hacen referencia al color que muestran algunos elementos del sistema[m
[32m+[m[32moperativo del usuario.[m
[32m+[m
[32m+[m[32mExisten varios colores definidos, como por ejemplo ActiveBorder, que hace referencia al[m
[32m+[m[32mcolor del borde de las ventanas activas. La lista completa de colores definidos se puede[m
[32m+[m[32mver en http://www.w3.org/TR/CSS21/ui.html#system-colors.[m
[32m+[m
[32m+[m[32mAunque es posible definir los colores en CSS utilizando estos nombres, se trata de un[m
[32m+[m[32mmÃ©todo que nunca se utiliza, por lo que se puede considerar prÃ¡cticamente como una[m
[32m+[m[32mrareza de CSS.[m
[32m+[m
[32m+[m[32m3.2.6. Colores web safe[m
[32m+[m
[32m+[m[32mComo cada componente RGB de los colores puede tomar un valor entre 0 y 255, el[m
[32m+[m[32mnÃºmero total de colores que se pueden representar con este formato es de 256 x 256 x[m
[32m+[m[32m256 = 16.777.216 colores. Sin embargo, en la dÃ©cada de los 90 los monitores de los[m
[32m+[m[32musuarios no eran capaces de mostrar mÃ¡s de 256 colores diferentes.[m
[32m+[m
[32m+[m[32mA partir de todos los colores disponibles, se eligieron 216 colores que formaron la paleta[m
[32m+[m[32mde colores "web safe". Esta paleta de colores podÃ­a ser utilizada por los diseÃ±adores con[m
[32m+[m[32mla seguridad de que se verÃ­an correctamente en cualquier navegador de cualquier[m
[32m+[m[32msistema operativo de cualquier usuario.[m
[32m+[m
[32m+[m[32mHoy en dÃ­a, su importancia ha descendido notablemente, ya que prÃ¡cticamente todos los[m
[32m+[m[32musuarios utilizan dispositivos con una profundidad de color de 16 y 32 bits. No obstante,[m
[32m+[m[32mel auge en el uso de los dispositivos mÃ³viles hace que siga siendo un tema a considerar,[m
[32m+[m
[32m+[m[32mwww.librosweb.es    42[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 3. Unidades de medida y colores[m
[32m+[m
[32m+[m[32mya que las pantallas de muchos mÃ³viles sÃ³lo pueden representar un nÃºmero reducido de[m
[32m+[m[32mcolores.[m
[32m+[m
[32m+[m[32mLa lista completa de colores web safe y sus valores hexadecimales se pueden consultar[m
[32m+[m[32men http://en.wikipedia.org/wiki/Web_colors#Web-safe_colors.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    43[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mCapÃ­tulo 4. Modelo de cajas (box[m
[32m+[m
[32m+[m[32mmodel)[m
[32m+[m
[32m+[m[32mEl modelo de cajas o "box model" es seguramente la caracterÃ­stica mÃ¡s importante del[m
[32m+[m[32mlenguaje de hojas de estilos CSS, ya que condiciona el diseÃ±o de todas las pÃ¡ginas web. El[m
[32m+[m[32m"box model" es el comportamiento de CSS que hace que todos los elementos incluidos en[m
[32m+[m[32muna pÃ¡gina HTML se representen mediante cajas rectangulares. CSS permite controlar el[m
[32m+[m[32maspecto de todas las cajas.[m
[32m+[m
[32m+[m[32mEl diseÃ±o de cualquier pÃ¡gina XHTML estÃ¡ compuesto por cajas rectangulares. CSS[m
[32m+[m[32mpermite definir la altura y anchura de cada caja, el margen existente entre cajas y el[m
[32m+[m[32mespacio de relleno interior que muestra cada caja. AdemÃ¡s, CSS permite controlar la[m
[32m+[m[32mforma en la que se visualizan las cajas: se pueden ocultar, desplazar respecto de su[m
[32m+[m[32mposiciÃ³n original y fijarlas en una posiciÃ³n especÃ­fica dentro del documento.[m
[32m+[m
[32m+[m[32mComo la mayorÃ­a de cajas de las pÃ¡ginas web no muestran ningÃºn color de fondo ni[m
[32m+[m[32mningÃºn borde, no son visibles a simple vista. La siguiente imagen muestra las cajas que[m
[32m+[m[32mforman la pÃ¡gina web de http://www.alistapart.com/ despuÃ©s de forzar a que todas las[m
[32m+[m[32mcajas muestren un borde punteado:[m
[32m+[m
[32m+[m[32mFigura 4.1. Cajas que forman el box model de la pÃ¡gina alistapart.com[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                       44[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mLas cajas de una pÃ¡gina se crean automÃ¡ticamente. Cada vez que se inserta una etiqueta[m
[32m+[m[32mo elemento en la pÃ¡gina, se crea una nueva caja rectangular que encierra los contenidos[m
[32m+[m[32mdel elemento. El siguiente esquema muestra la creaciÃ³n automÃ¡tica de cajas por parte de[m
[32m+[m[32mHTML para cada elemento definido en el cÃ³digo HTML de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m        Figura 4.2. Las cajas se crean automÃ¡ticamente al definir cada elemento HTML[m
[32m+[m
[32m+[m[32mCada una de las cajas estÃ¡ formada por seis partes, tal y como se muestra en la siguiente[m
[32m+[m[32mimagen tridimensional:[m
[32m+[m
[32m+[m[32mFigura 4.3. RepresentaciÃ³n tridimensional del box model de CSS[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                45[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m(Esquema utilizado con permiso de http://www.hicksdesign.co.uk/boxmodel/)[m
[32m+[m
[32m+[m[32mLas partes que componen cada caja y su orden de visualizaciÃ³n desde el punto de vista[m
[32m+[m[32mdel usuario son las siguientes:[m
[32m+[m
[32m+[m[32m    â–ª Contenido (content): se trata del contenido HTML del elemento (las palabras de un[m
[32m+[m[32m       pÃ¡rrafo, una imagen, el texto de una lista de elementos, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Relleno (padding): espacio libre opcional entre el contenido y el borde que lo[m
[32m+[m[32m       encierra.[m
[32m+[m
[32m+[m[32m    â–ª Borde (border): lÃ­nea que encierra completamente el contenido y su relleno.[m
[32m+[m
[32m+[m[32m    â–ª Imagen de fondo (background image): imagen que se muestra por detrÃ¡s del[m
[32m+[m[32m       contenido y el espacio de relleno.[m
[32m+[m
[32m+[m[32m    â–ª Color de fondo (background color): color que se muestra por detrÃ¡s del contenido[m
[32m+[m[32m       y el espacio de relleno.[m
[32m+[m
[32m+[m[32m    â–ª Margen (margin): espacio libre entre la caja y las posibles cajas adyacentes.[m
[32m+[m
[32m+[m[32mEl relleno y el margen son transparentes, por lo que en el espacio ocupado por el relleno[m
[32m+[m[32mse muestra el color o imagen de fondo (si estÃ¡n definidos) y en el espacio ocupado por el[m
[32m+[m[32mmargen se muestra el color o imagen de fondo de su elemento padre (si estÃ¡n definidos).[m
[32m+[m[32mSi ningÃºn elemento padre tiene definido un color o imagen de fondo, se muestra el color[m
[32m+[m[32mo imagen de fondo de la propia pÃ¡gina (si estÃ¡n definidos).[m
[32m+[m
[32m+[m[32mSi una caja define tanto un color como una imagen de fondo, la imagen tiene mÃ¡s[m
[32m+[m[32mprioridad y es la que se visualiza. No obstante, si la imagen de fondo no cubre totalmente[m
[32m+[m[32mla caja del elemento o si la imagen tiene zonas transparentes, tambiÃ©n se visualiza el[m
[32m+[m[32mcolor de fondo. Combinando imagenes transparentes y colores de fondo se pueden[m
[32m+[m[32mlograr efectos grÃ¡ficos muy interesantes.[m
[32m+[m
[32m+[m[32m4.1. Anchura y altura[m
[32m+[m
[32m+[m[32m4.1.1. Anchura[m
[32m+[m
[32m+[m[32mLa propiedad CSS que controla la anchura de los elementos se denomina width.[m
[32m+[m
[32m+[m[32m    width           Anchura[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | auto | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos, salvo los elementos en lÃ­nea que no sean imÃ¡genes, las[m
[32m+[m[32mValor inicial       filas de tabla y los grupos de filas de tabla[m
[32m+[m[32mDescripciÃ³n         auto[m
[32m+[m[32m                    Establece la anchura de un elemento[m
[32m+[m
[32m+[m[32mLa propiedad width no admite valores negativos y los valores en porcentaje se calculan a[m
[32m+[m[32mpartir de la anchura de su elemento padre. El valor inherit indica que la anchura del[m
[32m+[m[32melemento se hereda de su elemento padre. El valor auto, que es el que se utiliza si no se[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                 46[m
[32m+[m[32mIntroducciÃ³n a CSS     CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mestablece de forma explÃ­cita un valor a esta propiedad, indica que el navegador debe[m
[32m+[m[32mcalcular automÃ¡ticamente la anchura del elemento, teniendo en cuenta sus contenidos y[m
[32m+[m[32mel sitio disponible en la pÃ¡gina.[m
[32m+[m[32mEl siguiente ejemplo establece el valor de la anchura del elemento <div> lateral:[m
[32m+[m
[32m+[m[32m     #lateral { width: 200px; }[m
[32m+[m
[32m+[m[32m     <div id="lateral">[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mCSS define otras dos propiedades relacionadas con la anchura de los elementos:[m
[32m+[m[32mmin-width y max-width, que se verÃ¡n mÃ¡s adelante.[m
[32m+[m
[32m+[m[32m4.1.2. Altura[m
[32m+[m
[32m+[m[32mLa propiedad CSS que controla la altura de los elementos se denomina height.[m
[32m+[m
[32m+[m[32m   height           Altura[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | auto | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos, salvo los elementos en lÃ­nea que no sean imÃ¡genes, las[m
[32m+[m[32mValor inicial       columnas de tabla y los grupos de columnas de tabla[m
[32m+[m[32mDescripciÃ³n         auto[m
[32m+[m[32m                    Establece la altura de un elemento[m
[32m+[m
[32m+[m[32mAl igual que sucede con width, la propiedad height no admite valores negativos. Si se[m
[32m+[m[32mindica un porcentaje, se toma como referencia la altura del elemento padre. Si el[m
[32m+[m[32melemento padre no tiene una altura definida explÃ­citamente, se asigna el valor auto a la[m
[32m+[m[32maltura.[m
[32m+[m
[32m+[m[32mEl valor inherit indica que la altura del elemento se hereda de su elemento padre. El[m
[32m+[m[32mvalor auto, que es el que se utiliza si no se establece de forma explÃ­cita un valor a esta[m
[32m+[m[32mpropiedad, indica que el navegador debe calcular automÃ¡ticamente la altura del[m
[32m+[m[32melemento, teniendo en cuenta sus contenidos y el sitio disponible en la pÃ¡gina.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo establece el valor de la altura del elemento <div> de cabecera:[m
[32m+[m
[32m+[m[32m     #cabecera { height: 60px; }[m
[32m+[m
[32m+[m[32m     <div id="cabecera">[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mCSS define otras dos propiedades relacionadas con la altura de los elementos:[m
[32m+[m[32mmin-height y max-height, que se verÃ¡n mÃ¡s adelante.[m
[32m+[m
[32m+[m[32m4.2. Margen y relleno[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                 47[m
[32m+[m[32mIntroducciÃ³n a CSS             CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m4.2.1. Margen[m
[32m+[m
[32m+[m[32mCSS define cuatro propiedades para controlar cada uno de los mÃ¡rgenes horizontales y[m
[32m+[m[32mverticales de un elemento.[m
[32m+[m
[32m+[m[32m  margin-top Margen superior[m
[32m+[m[32mmargin-right Margen derecho[m
[32m+[m[32mmargin-bottom Margen inferior[m
[32m+[m[32m margin-left Margen izquierdo[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | auto | inherit[m
[32m+[m[32mSe aplica a[m
[32m+[m[32mValor inicial       Todos los elementos, salvo margin-top y margin-bottom que sÃ³lo se[m
[32m+[m[32mDescripciÃ³n         aplican a los elementos de bloque y a las imÃ¡genes[m
[32m+[m
[32m+[m[32m                    0[m
[32m+[m
[32m+[m[32m                    Establece cada uno de los mÃ¡rgenes horizontales y verticales de un[m
[32m+[m[32m                    elemento[m
[32m+[m
[32m+[m[32mCada una de las propiedades establece la separaciÃ³n entre el borde lateral de la caja y el[m
[32m+[m[32mresto de cajas adyacentes:[m
[32m+[m
[32m+[m[32m                Figura 4.4. Las cuatro propiedades relacionadas con los mÃ¡rgenes[m
[32m+[m
[32m+[m[32mLas unidades mÃ¡s utilizadas para indicar los mÃ¡rgenes de un elemento son los pÃ­xeles[m
[32m+[m[32m(cuando se requiere una precisiÃ³n total), los em (para hacer diseÃ±os que mantengan las[m
[32m+[m[32mproporciones) y los porcentajes (para hacer diseÃ±os lÃ­quidos o fluidos).[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo aÃ±ade un margen izquierdo al segundo pÃ¡rrafo:[m
[32m+[m
[32m+[m[32m     .destacado {[m
[32m+[m[32m         margin-left: 2em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nam et elit.[m
[32m+[m[32m     Vivamus placerat lorem. Maecenas sapien. Integer ut massa. Cras diam ipsum,[m
[32m+[m[32m     laoreet non, tincidunt a, viverra sed, tortor.</p>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        48[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m     <p class="destacado">Vestibulum lectus diam, luctus vel, venenatis ultrices,[m
[32m+[m[32m     cursus vel, tellus. Etiam placerat erat non sem. Nulla molestie odio non[m
[32m+[m[32m     nisl tincidunt faucibus.</p>[m
[32m+[m
[32m+[m[32m     <p>Aliquam euismod sapien eu libero. Ut tempor orci at nulla. Nam in eros[m
[32m+[m[32m     egestas massa vehicula nonummy. Morbi posuere, nibh ultricies consectetuer[m
[32m+[m[32m     tincidunt,[m
[32m+[m[32m     risus turpis laoreet elit, ut tincidunt risus sem et nunc.</p>[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el aspecto del ejemplo anterior en cualquier navegador:[m
[32m+[m
[32m+[m[32m                             Figura 4.5. Ejemplo de propiedad margin-left[m
[32m+[m
[32m+[m[32mAlgunos diseÃ±adores web utilizan la etiqueta <blockquote> para encerrar los[m
[32m+[m[32mcontenidos de un pÃ¡rrafo que se quiere mostrar tabulado respecto al resto de[m
[32m+[m[32mcontenidos, como en el ejemplo anterior. Se trata de un error grave porque utiliza cÃ³digo[m
[32m+[m[32mXHTML errÃ³neo para modificar el aspecto de los contenidos. Como ya se sabe, CSS es el[m
[32m+[m[32mÃºnico responsable del aspecto de los contenidos y dispone de propiedades como[m
[32m+[m[32mmargin-left que permite conseguir los mismos resultados de forma correcta.[m
[32m+[m
[32m+[m[32mLos mÃ¡rgenes verticales (margin-top y margin-bottom) sÃ³lo se pueden aplicar a los[m
[32m+[m[32melementos de bloque y las imÃ¡genes, mientras que los mÃ¡rgenes laterales (margin-left[m
[32m+[m[32my margin-right) se pueden aplicar a cualquier elemento, tal y como muestra la siguiente[m
[32m+[m[32mimagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                   49[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m  Figura 4.6. Los mÃ¡rgenes verticales sÃ³lo se aplican a los elementos de bloque e imÃ¡genes[m
[32m+[m
[32m+[m[32mLa imagen anterior muestra el resultado de aplicar los mismos mÃ¡rgenes a varios[m
[32m+[m[32menlaces (elementos en lÃ­nea) y varios pÃ¡rrafos (elementos de bloque). En los elementos[m
[32m+[m[32men lÃ­nea los mÃ¡rgenes verticales no tienen ningÃºn efecto, por lo que los enlaces no[m
[32m+[m[32mmuestran ninguna separaciÃ³n vertical, al contrario de lo que sucede con los pÃ¡rrafos. Sin[m
[32m+[m[32membargo, los mÃ¡rgenes laterales funcionan sobre cualquier tipo de elemento, por lo que[m
[32m+[m[32mlos enlaces se muestran separados entre sÃ­ y los pÃ¡rrafos aumentan su separaciÃ³n con[m
[32m+[m[32mlos bordes laterales de su elemento contenedor.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo utiliza el mismo valor en los cuatro mÃ¡rgenes de cada imagen para[m
[32m+[m[32mfacilitar su identificaciÃ³n y mejorar el diseÃ±o general de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m                                Figura 4.7. Ejemplo de propiedad margin[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS del ejemplo anterior se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     div img {[m
[32m+[m[32m         margin-top: .5em;[m
[32m+[m[32m         margin-bottom: .5em;[m
[32m+[m[32m         margin-left: 1em;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                         50[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m         margin-right: .5em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAdemÃ¡s de las cuatro propiedades que controlan cada uno de los mÃ¡rgenes del[m
[32m+[m[32melemento, CSS define una propiedad que permite establecer los cuatro mÃ¡rgenes de[m
[32m+[m[32mforma directa empleando una Ãºnica propiedad. Este tipo de propiedades resumidas se[m
[32m+[m[32mdenominan propiedades de tipo "shorthand" y CSS define varias propiedades de este[m
[32m+[m[32mtipo, como se verÃ¡ mÃ¡s adelante.[m
[32m+[m
[32m+[m[32mLa propiedad que permite definir de forma simultanea los cuatro mÃ¡rgenes se denomina[m
[32m+[m[32mmargin.[m
[32m+[m
[32m+[m[32m   margin           Margen[m
[32m+[m
[32m+[m[32mValores             ( <medida> | <porcentaje> | auto ) {1, 4} | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos salvo algunos casos especiales de elementos mostrados[m
[32m+[m[32mValor inicial       como tablas[m
[32m+[m[32mDescripciÃ³n         -[m
[32m+[m[32m                    Establece de forma directa todos los mÃ¡rgenes de un elemento[m
[32m+[m
[32m+[m[32mLa notaciÃ³n {1, 4} de la definiciÃ³n anterior significa que la propiedad margin admite[m
[32m+[m[32mentre uno y cuatro valores, con el siguiente significado:[m
[32m+[m
[32m+[m[32m    â–ª Si solo se indica un valor, todos los mÃ¡rgenes tienen ese valor.[m
[32m+[m
[32m+[m[32m    â–ª Si se indican dos valores, el primero se asigna al margen superior e inferior y el[m
[32m+[m[32m       segundo se asigna a los mÃ¡rgenes izquierdo y derecho.[m
[32m+[m
[32m+[m[32m    â–ª Si se indican tres valores, el primero se asigna al margen superior, el tercero se[m
[32m+[m[32m       asigna al margen inferior y el segundo valor se asigna los mÃ¡rgenes izquierdo y[m
[32m+[m[32m       derecho.[m
[32m+[m
[32m+[m[32m    â–ª Si se indican los cuatro valores, el orden de asignaciÃ³n es: margen superior,[m
[32m+[m[32m       margen derecho, margen inferior y margen izquierdo.[m
[32m+[m
[32m+[m[32mEl ejemplo anterior de mÃ¡rgenes se puede reescribir utilizando la propiedad margin:[m
[32m+[m
[32m+[m[32mCÃ³digo CSS original:[m
[32m+[m
[32m+[m[32m     div img {[m
[32m+[m[32m         margin-top: .5em;[m
[32m+[m[32m         margin-bottom: .5em;[m
[32m+[m[32m         margin-left: 1em;[m
[32m+[m[32m         margin-right: .5em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAlternativa directa:[m
[32m+[m
[32m+[m[32m     div img {[m
[32m+[m[32m         margin: .5em .5em .5m 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mOtra alternativa:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                               51[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m     div img {[m
[32m+[m[32m         margin: .5em;[m
[32m+[m[32m         margin-left: 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl comportamiento de los mÃ¡rgenes verticales es mÃ¡s complejo de lo que se puede[m
[32m+[m[32mimaginar. Cuando se juntan dos o mÃ¡s mÃ¡rgenes verticales, se fusionan de forma[m
[32m+[m[32mautomÃ¡tica y la altura del nuevo margen serÃ¡ igual a la altura del margen mÃ¡s alto de los[m
[32m+[m[32mque se han fusionado.[m
[32m+[m
[32m+[m[32m                      Figura 4.8. FusiÃ³n automÃ¡tica de los mÃ¡rgenes verticales[m
[32m+[m
[32m+[m[32mDe la misma forma, si un elemento estÃ¡ contenido dentro de otro elemento, sus[m
[32m+[m[32mmÃ¡rgenes verticales se fusionan y resultan en un nuevo margen de la misma altura que[m
[32m+[m[32mel mayor margen de los que se han fusionado:[m
[32m+[m
[32m+[m[32m                  Figura 4.9. FusiÃ³n de los mÃ¡rgenes de los elementos interiores[m
[32m+[m
[32m+[m[32mAunque en principio puede parecer un comportamiento extraÃ±o, la razÃ³n por la que se[m
[32m+[m[32mpropuso este mecanismo de fusiÃ³n automÃ¡tica de mÃ¡rgenes verticales es el de dar[m
[32m+[m[32muniformidad a las pÃ¡ginas web habituales. En una pÃ¡gina con varios pÃ¡rrafos, si no se[m
[32m+[m[32mdiera este comportamiento y se estableciera un determinado margen a todos los[m
[32m+[m[32mpÃ¡rrafos, el primer pÃ¡rrafo no mostrarÃ­a un aspecto homogÃ©neo respecto de los demÃ¡s.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    52[m
[32m+[m[32mIntroducciÃ³n a CSS               CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m     Figura 4.10. Motivo por el que se fusionan automÃ¡ticamente los mÃ¡rgenes verticales[m
[32m+[m
[32m+[m[32mEn el caso de un elemento que se encuentra en el interior de otro y sus mÃ¡rgenes se[m
[32m+[m[32mfusionan de forma automÃ¡tica, se puede evitar este comportamiento aÃ±adiendo un[m
[32m+[m[32mpequeÃ±o relleno (padding: 1px) o un borde (border: 1px solid transparent) al[m
[32m+[m[32melemento contenedor.[m
[32m+[m
[32m+[m[32m4.2.2. Relleno[m
[32m+[m
[32m+[m[32mCSS define cuatro propiedades para controlar cada uno de los espacios de relleno[m
[32m+[m[32mhorizontales y verticales de un elemento.[m
[32m+[m
[32m+[m[32m  padding-top Relleno superior[m
[32m+[m[32mpadding-right Relleno derecho[m
[32m+[m[32mpadding-bottom Relleno inferior[m
[32m+[m[32m padding-left Relleno izquierdo[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | inherit[m
[32m+[m[32mSe aplica a[m
[32m+[m[32mValor inicial       Todos los elementos excepto algunos elementos de tablas como[m
[32m+[m[32mDescripciÃ³n         grupos de cabeceras y grupos de pies de tabla[m
[32m+[m
[32m+[m[32m                    0[m
[32m+[m
[32m+[m[32m                    Establece cada uno de los rellenos horizontales y verticales de un[m
[32m+[m[32m                    elemento[m
[32m+[m
[32m+[m[32mCada una de las propiedades establece la separaciÃ³n entre el lateral de los contenidos y[m
[32m+[m[32mel borde lateral de la caja:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        53[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                 Figura 4.11. Las cuatro propiedades relacionadas con los rellenos[m
[32m+[m[32mLa siguiente imagen muestra la diferencia entre el margen y el relleno de los elementos:[m
[32m+[m
[32m+[m[32m                 Figura 4.12. Diferencia entre relleno (padding) y margen (margin)[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS del ejemplo se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     .margen {[m
[32m+[m[32m         margin-top: 2em; margin-right: 2em; margin-bottom: 2em; margin-left: 2em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     .relleno {[m
[32m+[m
[32m+[m[32m         padding-top: 2em; padding-right: 2em; padding-bottom: 2em; padding-left: 2em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <p class="margen">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m[32m     Cras vitae dolor eu enim dignissim lacinia. Maecenas blandit. Morbi mi.</p>[m
[32m+[m
[32m+[m[32mwww.librosweb.es    54[m
[32m+[m[32mIntroducciÃ³n a CSS                          CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m     <p class="relleno">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m[32m     Cras vitae dolor eu enim dignissim lacinia. Maecenas blandit. Morbi mi.</p>[m
[32m+[m
[32m+[m[32mComo sucede con la propiedad margin, CSS tambiÃ©n define una propiedad de tipo[m
[32m+[m[32m"shorthand" para establecer los cuatro rellenos de un elemento de forma directa. La[m
[32m+[m[32mpropiedad que permite definir de forma simultanea los cuatro mÃ¡rgenes se denomina[m
[32m+[m[32mpadding.[m
[32m+[m
[32m+[m[32m  padding           Relleno[m
[32m+[m
[32m+[m[32mValores             ( <medida> | <porcentaje> ) {1, 4} | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos excepto algunos elementos de tablas como grupos de[m
[32m+[m[32mValor inicial       cabeceras y grupos de pies de tabla[m
[32m+[m[32mDescripciÃ³n         -[m
[32m+[m[32m                    Establece de forma directa todos los rellenos de los elementos[m
[32m+[m
[32m+[m[32mLa notaciÃ³n {1, 4} de la definiciÃ³n anterior significa que la propiedad padding admite[m
[32m+[m[32mentre uno y cuatro valores, con el mismo significado que el de la propiedad margin.[m
[32m+[m[32mEjemplo:[m
[32m+[m
[32m+[m[32mbody {padding: 2em}      /* Todos los rellenos valen 2em */[m
[32m+[m
[32m+[m[32mbody {padding: 1em 2em} /* Superior e inferior = 1em, Izquierdo y derecho = 2em[m
[32m+[m
[32m+[m[32m*/[m
[32m+[m
[32m+[m[32mbody {padding: 1em 2em 3em} /* Superior = 1em, derecho = 2em, inferior = 3em,[m
[32m+[m
[32m+[m[32mizquierdo = 2em */[m
[32m+[m
[32m+[m[32mbody {padding: 1em 2em 3em 4em} /* Superior = 1em, derecho = 2em, inferior =[m
[32m+[m
[32m+[m[32m3em, izquierdo = 4em */[m
[32m+[m
[32m+[m[32mEjercicio 3 Ver enunciado en la pÃ¡gina 202[m
[32m+[m
[32m+[m[32m4.3. Bordes[m
[32m+[m
[32m+[m[32mCSS permite definir el aspecto de cada uno de los cuatro bordes horizontales y verticales[m
[32m+[m[32mde los elementos. Para cada borde se puede establecer su anchura, su color y su estilo.[m
[32m+[m
[32m+[m[32m4.3.1. Anchura[m
[32m+[m
[32m+[m[32mLa anchura de los bordes se controla con las cuatro propiedades siguientes:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                            55[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m  border-top-width Anchura del borde superior[m
[32m+[m[32mborder-right-width Anchura del borde derecho[m
[32m+[m[32mborder-bottom-width Anchura del borde inferior[m
[32m+[m[32m border-left-width Anchura del borde izquierdo[m
[32m+[m
[32m+[m[32mValores             ( <medida> | thin | medium | thick ) |[m
[32m+[m[32mSe aplica a         inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Todos los elementos[m
[32m+[m
[32m+[m[32m                    Medium[m
[32m+[m
[32m+[m[32m                    Establece la anchura de cada uno de los cuatro bordes de los[m
[32m+[m[32m                    elementos[m
[32m+[m
[32m+[m[32mLa anchura de los bordes se puede indicar mediante una medida (absoluta o relativa y[m
[32m+[m[32men cualquier unidad de medida de las definidas) o mediante las palabras clave thin[m
[32m+[m[32m(borde delgado), medium (borde normal) y thick (borde ancho).[m
[32m+[m
[32m+[m[32mLa medida mÃ¡s habitual para indicar la anchura de los bordes es el pÃ­xel, ya que permite[m
[32m+[m[32mun control preciso del grosor. Las palabras clave apenas se utilizan, ya que impiden[m
[32m+[m[32mmostrar bordes iguales en diferentes navegadores. El motivo es que el estÃ¡ndar CSS no[m
[32m+[m[32mindica explÃ­citamente el grosor al que equivale cada palabra clave. AsÃ­ por ejemplo, el[m
[32m+[m[32mgrosor medium equivale a 4px en Internet Explorer y 3px en el resto de navegadores.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra un elemento con cuatro anchuras diferentes de borde:[m
[32m+[m
[32m+[m[32m                           Figura 4.13. Ejemplo de propiedad border-width[m
[32m+[m
[32m+[m[32mLas reglas CSS utilizadas se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border-top-width: 10px;[m
[32m+[m[32m         border-right-width: 1em;[m
[32m+[m[32m         border-bottom-width: thick;[m
[32m+[m[32m         border-left-width: thin;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                           56[m
[32m+[m[32mIntroducciÃ³n a CSS                     CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mSi se quiere establecer la misma anchura a todos los bordes, CSS permite la utilizaciÃ³n[m
[32m+[m[32mde un atajo mediante una propiedad de tipo "shorthand", que permiten indicar varias[m
[32m+[m[32mpropiedades de forma resumida:[m
[32m+[m
[32m+[m[32mborder-width Anchura del borde[m
[32m+[m
[32m+[m[32mValores             ( <medida> | thin | medium | thick ) {1, 4} | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       Medium[m
[32m+[m[32mDescripciÃ³n         Establece la anchura de todos los bordes del elemento[m
[32m+[m
[32m+[m[32mLa propiedad border-width permite indicar entre uno y cuatro valores. El significado de[m
[32m+[m[32mcada caso es el habitual de las propiedades "shorthand":[m
[32m+[m
[32m+[m[32mp { border-width: thin }               /* thin thin thin thin */[m
[32m+[m
[32m+[m[32mp { border-width: thin thick }         /* thin thick thin thick */[m
[32m+[m
[32m+[m[32mp { border-width: thin thick medium }  /* thin thick medium thick */[m
[32m+[m
[32m+[m[32mp { border-width: thin thick medium thin } /* thin thick medium thin */[m
[32m+[m
[32m+[m[32mSi se indica un solo valor, se aplica a los cuatro bordes. Si se indican dos valores, el[m
[32m+[m[32mprimero se aplica al borde superior e inferior y el segundo valor se aplica al borde[m
[32m+[m[32mizquierdo y derecho.[m
[32m+[m
[32m+[m[32mSi se indican tres valores, el primero se aplica al borde superior, el segundo se aplica al[m
[32m+[m[32mborde izquierdo y derecho y el tercer valor se aplica al borde inferior. Si se indican los[m
[32m+[m[32mcuatro valores, el orden de aplicaciÃ³n es superior, derecho, inferior e izquierdo.[m
[32m+[m
[32m+[m[32m4.3.2. Color[m
[32m+[m
[32m+[m[32mEl color de los bordes se controla con las cuatro propiedades siguientes:[m
[32m+[m
[32m+[m[32m  border-top-color[m
[32m+[m
[32m+[m[32m                                              Color del borde superior[m
[32m+[m
[32m+[m[32mborder-right-color Color del borde derecho[m
[32m+[m[32mborder-bottom-color Color del borde inferior[m
[32m+[m
[32m+[m[32m border-left-color Color del borde izquierdo[m
[32m+[m
[32m+[m[32mValores                   <color> | transparent | inherit[m
[32m+[m[32mSe aplica a               Todos los elementos[m
[32m+[m[32mValor inicial             -[m
[32m+[m[32m                          Establece el color de cada uno de los cuatro bordes de los[m
[32m+[m[32mDescripciÃ³n               elementos[m
[32m+[m
[32m+[m[32mEl ejemplo anterior se puede modificar para mostrar cada uno de los bordes de un color[m
[32m+[m[32mdiferente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      57[m
[32m+[m[32mIntroducciÃ³n a CSS            CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                           Figura 4.14. Ejemplo de propiedad border-color[m
[32m+[m
[32m+[m[32mLas reglas CSS necesarias para mostrar los colores anteriores son las siguientes:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border-top-color: #CC0000;[m
[32m+[m[32m         border-right-color: blue;[m
[32m+[m[32m         border-bottom-color: #00FF00;[m
[32m+[m[32m         border-left-color: #CCC;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se quiere establecer el mismo color para todos los bordes, CSS permite la utilizaciÃ³n[m
[32m+[m[32mde un atajo mediante una propiedad de tipo "shorthand", que permiten indicar varias[m
[32m+[m[32mpropiedades de forma resumida:[m
[32m+[m
[32m+[m[32mborder-color Color del borde[m
[32m+[m
[32m+[m[32mValores             ( <color> | transparent ) {1, 4} | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       -[m
[32m+[m[32mDescripciÃ³n         Establece el color de todos los bordes del elemento[m
[32m+[m
[32m+[m[32mEn este caso, al igual que sucede con la propiedad border-width, es posible indicar de[m
[32m+[m[32muno a cuatro valores y las reglas de aplicaciÃ³n son idÃ©nticas a la propiedad[m
[32m+[m[32mborder-width.[m
[32m+[m
[32m+[m[32m4.3.3. Estilo[m
[32m+[m
[32m+[m[32mPor Ãºltimo, CSS permite establecer el estilo de cada uno de los bordes mediante las[m
[32m+[m[32msiguientes propiedades:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                         58[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m  border-top-style Estilo del borde superior[m
[32m+[m[32mborder-right-style Estilo del borde derecho[m
[32m+[m[32mborder-bottom-style Estilo del borde inferior[m
[32m+[m[32m border-left-style Estilo del borde izquierdo[m
[32m+[m
[32m+[m[32mValores             none | hidden | dotted | dashed | solid |[m
[32m+[m[32m                    double | groove | ridge | inset | outset |[m
[32m+[m[32mSe aplica a         inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Todos los elementos[m
[32m+[m
[32m+[m[32m                    none[m
[32m+[m
[32m+[m[32m                    Establece el estilo de cada uno de los cuatro bordes de los[m
[32m+[m[32m                    elementos[m
[32m+[m
[32m+[m[32mEl estilo de los bordes sÃ³lo se puede indicar mediante alguna de las palabras reservadas[m
[32m+[m[32mdefinidas por CSS. Como el valor por defecto de esta propiedad es none, los elementos no[m
[32m+[m[32mmuestran ningÃºn borde visible a menos que se establezca explÃ­citamente un estilo de[m
[32m+[m[32mborde.[m
[32m+[m
[32m+[m[32mSiguiendo el ejemplo anterior, se puede modificar el estilo de cada uno de los bordes:[m
[32m+[m
[32m+[m[32m                            Figura 4.15. Ejemplo de propiedad border-style[m
[32m+[m
[32m+[m[32mLas reglas CSS necesarias para mostrar los estilos anteriores son las siguientes:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border-top-style: dashed;[m
[32m+[m[32m         border-right-style: double;[m
[32m+[m[32m         border-bottom-style: dotted;[m
[32m+[m[32m         border-left-style: solid;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl aspecto con el que los navegadores muestran los diferentes tipos de borde se muestra[m
[32m+[m[32ma continuaciÃ³n:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 59[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                            Figura 4.16. Tipos de bordes definidos por CSS[m
[32m+[m
[32m+[m[32mLos bordes mÃ¡s utilizados en los diseÃ±os habituales son solid y dashed, seguidos de[m
[32m+[m[32mdouble y dotted. Los estilos none y hidden son idÃ©nticos visualmente, pero se[m
[32m+[m[32mdiferencian en la forma que los navegadores resuelven los conflictos entre los bordes de[m
[32m+[m[32mlas celdas adyacentes en las tablas.[m
[32m+[m
[32m+[m[32mSi se quiere establecer el mismo estilo para todos los bordes, CSS define una propiedad[m
[32m+[m[32mde tipo "shorthand":[m
[32m+[m
[32m+[m[32mwww.librosweb.es    60[m
[32m+[m[32mIntroducciÃ³n a CSS             CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mborder-style Estilo del borde[m
[32m+[m
[32m+[m[32mValores             (none | hidden | dotted | dashed | solid | double |[m
[32m+[m[32m                    groove | ridge | inset | outset ) {1, 4} | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       -[m
[32m+[m[32mDescripciÃ³n         Establece el estilo de todos los bordes del elemento[m
[32m+[m
[32m+[m[32mComo es habitual, la propiedad permite indicar de uno a cuatro valores diferentes y las[m
[32m+[m[32mreglas de aplicaciÃ³n son las habituales de las propiedades "shorthand".[m
[32m+[m
[32m+[m[32m4.3.4. Propiedades shorthand[m
[32m+[m
[32m+[m[32mComo sucede con los mÃ¡rgenes y los rellenos, CSS define una serie de propiedades de[m
[32m+[m[32mtipo "shorthand" que permiten establecer todos los atributos de los bordes de forma[m
[32m+[m[32mdirecta. CSS ha definido una propiedad "shorthand" para cada uno de los cuatro bordes y[m
[32m+[m[32muna propiedad "shorthand" global.[m
[32m+[m
[32m+[m[32mAntes de presentar las propiedades, es conveniente definir los tres siguientes tipos de[m
[32m+[m[32mvalores:[m
[32m+[m
[32m+[m[32m     <medida_borde> = <medida> | thin | medium | thick[m
[32m+[m[32m     <color_borde> = <color> | transparent[m
[32m+[m[32m     <estilo_borde> = none | hidden | dotted | dashed | solid | double | groove |[m
[32m+[m[32m     ridge | inset | outset[m
[32m+[m
[32m+[m[32m  border-top[m
[32m+[m
[32m+[m[32m                                Estilo completo del borde superior[m
[32m+[m
[32m+[m[32mborder-right Estilo completo del borde derecho[m
[32m+[m[32mborder-bottom Estilo completo del borde inferior[m
[32m+[m
[32m+[m[32m border-left Estilo completo del borde izquierdo[m
[32m+[m
[32m+[m[32mValores             ( <medida_borde> || <color_borde> || <estilo_borde> )[m
[32m+[m[32mSe aplica a         | inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Todos los elementos[m
[32m+[m
[32m+[m[32m                    -[m
[32m+[m
[32m+[m[32m                    Establece el estilo completo de cada uno de los cuatro bordes de los[m
[32m+[m[32m                    elementos[m
[32m+[m
[32m+[m[32mLas propiedades "shorthand" permiten establecer alguno o todos los atributos de cada[m
[32m+[m[32mborde. El siguiente ejemplo establece el color y el tipo del borde inferior, pero no su[m
[32m+[m[32manchura:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         border-bottom: solid red;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                          61[m
[32m+[m[32mIntroducciÃ³n a CSS                           CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, la anchura del borde serÃ¡ la correspondiente al valor por defecto[m
[32m+[m[32m(medium). Este otro ejemplo muestra la forma habitual utilizada para establecer el estilo[m
[32m+[m[32mde cada borde:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border-top: 1px solid #369;[m
[32m+[m[32m         border-bottom: 3px double #369;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPor ultimo, CSS define una propiedad de tipo "shorthand" global para establecer el valor[m
[32m+[m[32mde todos los atributos de todos los bordes de forma directa:[m
[32m+[m
[32m+[m[32m   border           Estilo completo de todos los bordes[m
[32m+[m
[32m+[m[32mValores             ( <medida_borde> || <color_borde> || <estilo_borde> ) |[m
[32m+[m[32mSe aplica a         inherit[m
[32m+[m[32mValor inicial       Todos los elementos[m
[32m+[m[32mDescripciÃ³n         -[m
[32m+[m[32m                    Establece el estilo completo de todos los bordes de los elementos[m
[32m+[m
[32m+[m[32mLas siguientes reglas CSS son equivalentes:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border-top: 1px solid red;[m
[32m+[m[32m         border-right: 1px solid red;[m
[32m+[m[32m         border-bottom: 1px solid red;[m
[32m+[m[32m         border-left: 1px solid red;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     div { border: 1px solid red; }[m
[32m+[m
[32m+[m[32mComo el valor por defecto de la propiedad border-style es none, si una propiedad[m
[32m+[m[32mshorthand no establece explÃ­citamente el estilo de un borde, el elemento no muestra ese[m
[32m+[m[32mborde:[m
[32m+[m
[32m+[m[32m     /* SÃ³lo se establece el color, por lo que el estilo es[m
[32m+[m[32m            "none" y el borde no se muestra */[m
[32m+[m
[32m+[m[32m     div { border: red; }[m
[32m+[m
[32m+[m[32m     /* Se establece el grosor y el color del borde, pero no[m
[32m+[m[32m          su estilo, por lo que es "none" y el borde no se muestra */[m
[32m+[m
[32m+[m[32m     div { border-bottom: 5px blue; }[m
[32m+[m
[32m+[m[32mCuando los cuatro bordes no son idÃ©nticos pero sÃ­ muy parecidos, se puede utilizar la[m
[32m+[m[32mpropiedad border para establecer de forma directa los atributos comunes de todos los[m
[32m+[m[32mbordes y posteriormente especificar para cada uno de los cuatro bordes sus propiedades[m
[32m+[m[32mparticulares:[m
[32m+[m
[32m+[m[32m     h1 {[m
[32m+[m[32m         border: solid #000;[m
[32m+[m[32m         border-top-width: 6px;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                       62[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m         border-left-width: 8px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m Ejercicio 4 Ver enunciado en la pÃ¡gina 204[m
[32m+[m
[32m+[m[32m4.4. Margen, relleno, bordes y modelo de cajas[m
[32m+[m
[32m+[m[32mLa anchura y altura de un elemento no solamente se calculan teniendo en cuenta sus[m
[32m+[m[32mpropiedades width y height. El margen, el relleno y los bordes establecidos a un[m
[32m+[m[32melemento determinan la anchura y altura final del elemento. En el siguiente ejemplo se[m
[32m+[m[32mmuestran los estilos CSS de un elemento:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m         padding-left: 50px;[m
[32m+[m[32m         padding-right: 50px;[m
[32m+[m[32m         margin-left: 30px;[m
[32m+[m[32m         margin-right: 30px;[m
[32m+[m[32m         border: 10px solid black;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa anchura total con la que se muestra el elemento no son los 300 pÃ­xel indicados en la[m
[32m+[m[32mpropiedad width, sino que se tienen en cuenta todos sus mÃ¡rgenes, rellenos y bordes:[m
[32m+[m
[32m+[m[32m    Figura 4.17. La anchura total de un elemento tiene en cuenta los mÃ¡rgenes, rellenos y[m
[32m+[m[32m                                                    bordes[m
[32m+[m
[32m+[m[32mDe esta forma, la anchura del elemento en pantalla serÃ­a igual a la suma de la anchura[m
[32m+[m[32moriginal, los mÃ¡rgenes, los bordes y los rellenos:[m
[32m+[m
[32m+[m[32m     30px + 10px + 50px + 300px + 50px + 10px + 30px = 480 pÃ­xel[m
[32m+[m
[32m+[m[32mAsÃ­, la anchura/altura establecida con CSS siempre hace referencia a la anchura/altura[m
[32m+[m[32mdel contenido. La anchura/altura total del elemento debe tener en cuenta ademÃ¡s los[m
[32m+[m[32mvalores del resto de partes que componen la caja del box model.[m
[32m+[m
[32m+[m[32mPor otra parte, la guerra de navegadores que se produjo en los aÃ±os 90 provocÃ³ que cada[m
[32m+[m[32mfabricante (Microsoft y Netscape) aÃ±adiera sus propias extensiones y mejoras en sus[m
[32m+[m[32mproductos. Posteriormente, aparecieron los estÃ¡ndares publicados por el W3C y los[m
[32m+[m[32mfabricantes se encontraron con el problema de la incompatibilidad entre sus[m
[32m+[m[32mimplementaciones anteriores de HTML y CSS y las implementaciones que requerÃ­an los[m
[32m+[m[32mestÃ¡ndares.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    63[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mLa soluciÃ³n que adoptaron fue la de incluir en el navegador dos modos diferentes de[m
[32m+[m[32mfuncionamiento: modo compatible con las pÃ¡ginas antiguas (denominado "modo quirks"[m
[32m+[m[32my que se podrÃ­a traducir como "modo raro") y modo compatible con los nuevos[m
[32m+[m[32mestÃ¡ndares (denominado "modo estÃ¡ndar"). El modo quirks es equivalente a la forma en[m
[32m+[m[32mla que se visualizaban las pÃ¡ginas en los navegadores Internet Explorer 4 y Netscape[m
[32m+[m[32mNavigator 4.[m
[32m+[m
[32m+[m[32mLa diferencia mÃ¡s notable entre los dos modos es el tratamiento del "box model", lo que[m
[32m+[m[32mpuede afectar gravemente al diseÃ±o de las pÃ¡ginas HTML. Los navegadores seleccionan[m
[32m+[m[32mautomÃ¡ticamente el modo en el que muestran las pÃ¡ginas en funciÃ³n del DOCTYPE[m
[32m+[m[32mdefinido por el documento. En general, los siguientes tipos de DOCTYPE activan el modo[m
[32m+[m[32mquirks en los navegadores:[m
[32m+[m
[32m+[m[32m    â–ª No utilizar ningÃºn DOCTYPE[m
[32m+[m
[32m+[m[32m    â–ª DOCTYPE anterior a HTML 4.0 (<!DOCTYPE HTML PUBLIC "-//W3CDTD HTML 3.2[m
[32m+[m[32m        Final//EN">) * DOCTYPE de HTML 4.01 sin URL (<!DOCTYPE HTML PUBLIC[m
[32m+[m[32m       "-//W3CDTD HTML 4.01 Transitional//EN">)[m
[32m+[m
[32m+[m[32mEn el caso concreto de Internet Explorer, tambiÃ©n activan el modo quirks los modos[m
[32m+[m[32mXHTML 1.0 que incluyen la declaraciÃ³n de XML (por ejemplo <?xml version="1.0"[m
[32m+[m[32mencoding="UTF-8"?>) al principio de la pÃ¡gina web:[m
[32m+[m
[32m+[m[32m     <?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"[m
[32m+[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">[m
[32m+[m
[32m+[m[32mSe pueden consultar todos los casos concretos que activan el modo quirks para cada[m
[32m+[m[32mnavegador en la pÃ¡gina http://hsivonen.iki.fi/doctype/[m
[32m+[m
[32m+[m[32mLa versiÃ³n 5.5 y anteriores de Internet Explorer y las versiones 6 y 7 en modo quirks[m
[32m+[m[32msiguen su propio modelo de cÃ¡lculo de anchuras y alturas que es muy diferente al[m
[32m+[m[32mmÃ©todo definido por el estÃ¡ndar.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra el elemento del ejemplo anterior en la versiÃ³n 6 de[m
[32m+[m[32mInternet Explorer en modo estÃ¡ndar:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    64[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                          Figura 4.18. Internet Explorer 6 en modo estÃ¡ndar[m
[32m+[m
[32m+[m[32mLa anchura del elemento es la que se obtiene de sumar la anchura de su contenido (300),[m
[32m+[m[32msus bordes (2 x 10) y sus rellenos (2 x 50). Por lo tanto, la anchura del elemento son[m
[32m+[m[32m420 pÃ­xel, a los que se suman los 30 pÃ­xel de margen lateral a cada lado.[m
[32m+[m
[32m+[m[32mSin embargo, el mismo ejemplo en el modo quirks de la versiÃ³n 6 de Internet Explorer[m
[32m+[m[32mmuestra el siguiente aspecto:[m
[32m+[m
[32m+[m[32m                    Figura 4.19. Internet Explorer 6 en modo quirks[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                     65[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mLas versiones anteriores de Internet Explorer y las versiones 6 y 7 en modo quirks[m
[32m+[m[32mconsideran que la anchura establecida por CSS no sÃ³lo es la anchura del contenido, sino[m
[32m+[m[32mque tambiÃ©n incluye los bordes y el relleno.[m
[32m+[m
[32m+[m[32mPor lo tanto, en este caso la anchura total del elemento (sin contar los mÃ¡rgenes[m
[32m+[m[32mlaterales) es de 300 pÃ­xel, el mismo valor que se indica en la propiedad width. El espacio[m
[32m+[m[32mocupado por los bordes del elemento (2 x 10) y sus rellenos (2 x 50) se resta de la[m
[32m+[m[32manchura de su contenido.[m
[32m+[m
[32m+[m[32mPara evitar este problema y crear diseÃ±os con el mismo aspecto en cualquier navegador,[m
[32m+[m[32mes necesario evitar el modo quirks de Internet Explorer. Por tanto, todas las pÃ¡ginas[m
[32m+[m[32mdeben incluir la declaraciÃ³n apropiada de DOCTYPE.[m
[32m+[m
[32m+[m[32m4.4.1. Los modos de compatibilidad de Internet Explorer 8[m
[32m+[m
[32m+[m[32mEl navegador Internet Explorer 8 introduce el concepto de "compatibilidad de la pÃ¡gina"[m
[32m+[m[32mpara asegurar que todas las pÃ¡ginas HTML se vean correctamente en cualquier versiÃ³n[m
[32m+[m[32mde ese navegador. En realidad, esta nueva caracterÃ­stica es una mejora del modo quirks[m
[32m+[m[32mexplicado anteriormente.[m
[32m+[m
[32m+[m[32mInternet Explorer 8, a diferencia de sus versiones anteriores, soporta completamente el[m
[32m+[m[32mestÃ¡ndar CSS 2.1. Sin embargo, muchos sitios web se diseÃ±aron para Internet Explorer 6[m
[32m+[m[32my 7, por lo que incluyen trucos, hacks y filtros que arreglan los errores y carencias de[m
[32m+[m[32mesas versiones del navegador.[m
[32m+[m
[32m+[m[32mPara evitar que las pÃ¡ginas diseÃ±adas para navegadores anteriores se vean mal en esta[m
[32m+[m[32mnueva versiÃ³n, Internet Explorer 8 incluye la opciÃ³n de "compatibilidad de la pÃ¡gina",[m
[32m+[m[32mque permite indicar la versiÃ³n de Internet Explorer para la que la pÃ¡gina ha sido[m
[32m+[m[32mdiseÃ±ada.[m
[32m+[m
[32m+[m[32mDe esta forma, si la pÃ¡gina no se visualiza correctamente en Internet Explorer 8, se[m
[32m+[m[32mpuede indicar al navegador que la muestre como si fuera Internet Explorer 6 o 7. En[m
[32m+[m[32mrealidad, Internet Explorer 8 incluye seis modos de funcionamiento:[m
[32m+[m
[32m+[m[32m    â–ª Modo IE5: la pÃ¡gina se muestra segÃºn el modo quirks de Internet Explorer 7, que[m
[32m+[m[32m       es casi idÃ©ntico a como se veÃ­an las pÃ¡ginas en el navegador Internet Explorer 5.[m
[32m+[m
[32m+[m[32m    â–ª Modo IE7: la pÃ¡gina se muestra en el modo estÃ¡ndar de Internet Explorer 7, sin[m
[32m+[m[32m       importar si la pÃ¡gina contiene o no la directiva <!DOCTYPE>.[m
[32m+[m
[32m+[m[32m    â–ª Modo IE8: los contenidos se muestran en el modo estÃ¡ndar de Internet Explorer[m
[32m+[m[32m       8, que es el mÃ¡s parecido al del resto de navegadores que soportan los estÃ¡ndares[m
[32m+[m[32m       (Firefox, Opera, Safari y Google Chrome).[m
[32m+[m
[32m+[m[32m    â–ª Emular el modo IE7: el navegador decide cÃ³mo mostrar los contenidos a partir[m
[32m+[m[32m       de la directiva <!DOCTYPE> de la pÃ¡gina. Si esa directiva es una de las que activan el[m
[32m+[m[32m       modo estÃ¡ndar, la pÃ¡gina se muestra en el modo estÃ¡ndar de Internet Explorer 7.[m
[32m+[m[32m       En otro caso, se muestra en el modo quirks de Internet Explorer 5. Este modo es el[m
[32m+[m[32m       mÃ¡s Ãºtil para la mayorÃ­a de sitios web.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    66[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m    â–ª Emular el modo IE8: el navegador decide cÃ³mo mostrar los contenidos a partir[m
[32m+[m[32m       de la directiva <!DOCTYPE> de la pÃ¡gina. Si esa directiva es una de las que activan el[m
[32m+[m[32m       modo estÃ¡ndar, la pÃ¡gina se muestra en el modo estÃ¡ndar de Internet Explorer 8.[m
[32m+[m[32m       En otro caso, se muestra en el modo quirks de Internet Explorer 5.[m
[32m+[m
[32m+[m[32m    â–ª Modo lÃ­mite ("edge mode"): indica a Internet Explorer que los contenidos se[m
[32m+[m[32m       deben mostrar en el modo de compatibilidad mÃ¡s avanzado disponible.[m
[32m+[m[32m       Actualmente, este modo es equivalente al modo IE8. Si las futuras versiones[m
[32m+[m[32m       Internet Explorer 9 y 10 incluyeran mejor compatibilidad, las pÃ¡ginas se[m
[32m+[m[32m       visualizarÃ­an en ese modo avanzado de compatibilidad.[m
[32m+[m
[32m+[m[32mEl modo de compatibilidad de la pÃ¡gina se indica mediante una nueva etiqueta <meta>[m
[32m+[m[32mcon la propiedad X-UA-Compatible y cuyo valor es el que utiliza Internet Explorer 8 para[m
[32m+[m[32mdeterminar el modo que se utiliza:[m
[32m+[m
[32m+[m[32m     <!-- Modo IE5 -->[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <meta http-equiv="X-UA-Compatible" content="IE=5" >[m
[32m+[m[32m         ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <!-- Modo IE7 -->[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <meta http-equiv="X-UA-Compatible" content="IE=7" >[m
[32m+[m[32m         ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <!-- Modo IE8 -->[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <meta http-equiv="X-UA-Compatible" content="IE=8" >[m
[32m+[m[32m         ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <!-- Emular el modo IE7 -->[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" >[m
[32m+[m[32m         ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <!-- Emular el modo IE8 -->[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" >[m
[32m+[m[32m         ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <!-- Modo lÃ­mite -->[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <meta http-equiv="X-UA-Compatible" content="IE=edge" >[m
[32m+[m[32m         ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32mNo obstante, esta opciÃ³n de compatibilidad de la pÃ¡gina debe entenderse como una[m
[32m+[m[32msoluciÃ³n temporal que evita que los sitios web se vean mal en Internet Explorer 8. La[m
[32m+[m
[32m+[m[32mwww.librosweb.es    67[m
[32m+[m[32mIntroducciÃ³n a CSS                CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mÃºnica soluciÃ³n correcta a largo plazo consiste en actualizar las pÃ¡ginas para que sus[m
[32m+[m[32mdiseÃ±os sigan los estÃ¡ndares web.[m
[32m+[m
[32m+[m[32m4.5. Fondos[m
[32m+[m
[32m+[m[32mEl Ãºltimo elemento que forma el box model es el fondo de la caja del elemento. El fondo[m
[32m+[m[32mpuede ser un color simple o una imagen. El fondo solamente se visualiza en el Ã¡rea[m
[32m+[m[32mocupada por el contenido y su relleno, ya que el color de los bordes se controla[m
[32m+[m[32mdirectamente desde los bordes y las zonas de los mÃ¡rgenes siempre son transparentes.[m
[32m+[m
[32m+[m[32mPara establecer un color o imagen de fondo en la pÃ¡gina entera, se debe establecer un[m
[32m+[m[32mfondo al elemento <body>. Si se establece un fondo a la pÃ¡gina, como el valor inicial del[m
[32m+[m[32mfondo de los elementos es transparente, todos los elementos de la pÃ¡gina se visualizan[m
[32m+[m[32mcon el mismo fondo a menos que algÃºn elemento especifique su propio fondo.[m
[32m+[m
[32m+[m[32mCSS define cinco propiedades para establecer el fondo de cada elemento[m
[32m+[m[32m(background-color, background-image, background-repeat, background-attachment,[m
[32m+[m[32mbackground-position) y otra propiedad de tipo "shorthand" (background).[m
[32m+[m
[32m+[m[32mbackground-color Color de fondo[m
[32m+[m
[32m+[m[32mValores             <color> | transparent | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       transparent[m
[32m+[m[32mDescripciÃ³n         Establece un color de fondo para los elementos[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra una pÃ¡gina web con un color gris claro de fondo:[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         background-color: #F5F5F5;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn ocasiones, es necesario crear un fondo mÃ¡s complejo que un simple color. CSS[m
[32m+[m[32mpermite mostrar una imagen como fondo de cualquier elemento:[m
[32m+[m
[32m+[m[32mbackground-image Imagen de fondo[m
[32m+[m
[32m+[m[32mValores             <url> | none | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       none[m
[32m+[m[32mDescripciÃ³n         Establece una imagen como fondo para los elementos[m
[32m+[m
[32m+[m[32mCSS permite establecer de forma simultÃ¡nea un color y una imagen de fondo. En este[m
[32m+[m[32mcaso, la imagen se muestra delante del color, por lo que solamente si la imagen contiene[m
[32m+[m[32mzonas transparentes es posible ver el color de fondo.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra una imagen como fondo de toda la pÃ¡gina:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                        68[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m     body { background-image: url("imagenes/fondo.png") }[m
[32m+[m
[32m+[m[32mLas imÃ¡genes de fondo se indican a travÃ©s de su URL, que puede ser absoluta o relativa.[m
[32m+[m[32mSuele ser recomendable crear una carpeta de imÃ¡genes que se encuentre en el mismo[m
[32m+[m[32mdirectorio que los archivos CSS y que almacene todas las imÃ¡genes utilizadas en el[m
[32m+[m[32mdiseÃ±o de las pÃ¡ginas.[m
[32m+[m
[32m+[m[32mAsÃ­, las imÃ¡genes correspondientes al diseÃ±o de la pÃ¡gina se mantienen separadas del[m
[32m+[m[32mresto de imÃ¡genes del sitio y el cÃ³digo CSS es mÃ¡s sencillo (por utilizar URL relativas) y[m
[32m+[m[32mmÃ¡s fÃ¡cil de mantener (por no tener que actualizar URL absolutas en caso de que se[m
[32m+[m[32mcambie la estructura del sitio web).[m
[32m+[m
[32m+[m[32mPor otra parte, suele ser habitual indicar un color de fondo siempre que se muestra una[m
[32m+[m[32mimagen de fondo. En caso de que la imagen no se pueda mostrar o contenga errores, el[m
[32m+[m[32mnavegador mostrarÃ¡ el color indicado (que deberÃ­a ser, en lo posible, similar a la[m
[32m+[m[32mimagen) y la pÃ¡gina no parecerÃ¡ que contiene errores.[m
[32m+[m
[32m+[m[32mSi la imagen que se quiere mostrar es demasiado grande para el fondo del elemento,[m
[32m+[m[32msolamente se muestra la parte de imagen comprendida en el tamaÃ±o del elemento. Si la[m
[32m+[m[32mimagen es mÃ¡s pequeÃ±a que el elemento, CSS la repite horizontal y verticalmente hasta[m
[32m+[m[32mllenar el fondo del elemento.[m
[32m+[m
[32m+[m[32mEste comportamiento es Ãºtil para establecer un fondo complejo a una pÃ¡gina web[m
[32m+[m[32mentera. El siguiente ejemplo utiliza una imagen muy pequeÃ±a para establecer un fondo[m
[32m+[m[32mcomplejo a toda una pÃ¡gina:[m
[32m+[m
[32m+[m[32mImagen original[m
[32m+[m
[32m+[m[32m                  Figura 4.20. Imagen original utilizada para el fondo de la pÃ¡gina[m
[32m+[m
[32m+[m[32mReglas CSS[m
[32m+[m
[32m+[m[32m     body {[m
[32m+[m[32m         background-image:url(imagenes/fondo.gif);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mResultado[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                     69[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                             Figura 4.21. PÃ¡gina con una imagen de fondo[m
[32m+[m
[32m+[m[32mCon una imagen muy pequeÃ±a (y que por tanto, se puede descargar en muy poco[m
[32m+[m[32mtiempo) se consigue cubrir completamente el fondo de la pÃ¡gina, con lo que se consigue[m
[32m+[m[32mun gran ahorro de ancho de banda.[m
[32m+[m
[32m+[m[32mEn ocasiones, no es conveniente que la imagen de fondo se repita horizontal y[m
[32m+[m[32mverticalmente. Para ello, CSS introduce la propiedad background-repeat que permite[m
[32m+[m[32mcontrolar la forma de repeticiÃ³n de las imÃ¡genes de fondo.[m
[32m+[m
[32m+[m[32mbackground-repeat RepeticiÃ³n de la imagen de fondo[m
[32m+[m
[32m+[m[32mValores             repeat | repeat-x | repeat-y | no-repeat |[m
[32m+[m[32m                    inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       repeat[m
[32m+[m[32mDescripciÃ³n         Controla la forma en la que se repiten las imÃ¡genes de fondo[m
[32m+[m
[32m+[m[32mEl valor repeat indica que la imagen se debe repetir en todas direcciones y por tanto, es[m
[32m+[m[32mel comportamiento por defecto. El valor no-repeat muestra una sola vez la imagen y no[m
[32m+[m[32mse repite en ninguna direcciÃ³n. El valor repeat-x repite la imagen sÃ³lo horizontalmente[m
[32m+[m[32my el valor repeat-y repite la imagen solamente de forma vertical.[m
[32m+[m
[32m+[m[32mEl sitio web http://www.kottke.org/ utiliza el valor repeat-x para mostrar una imagen[m
[32m+[m[32mde fondo en la cabecera de la pÃ¡gina:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  70[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                       Figura 4.22. Uso de repeat-x en la pÃ¡gina de Kottke.org[m
[32m+[m
[32m+[m[32mLas reglas CSS definidas para la cabecera son:[m
[32m+[m
[32m+[m[32m     #hdr {[m
[32m+[m[32m         background: url("/images/ds.gif") repeat-x;[m
[32m+[m[32m         width: 100%;[m
[32m+[m[32m         text-align: center;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPor otra parte, el sitio web http://veerle.duoh.com/ utiliza el valor repeat-y para[m
[32m+[m[32mmostrar el fondo de una columna de contenidos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    71[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                   Figura 4.23. Uso de repeat-y en la pÃ¡gina de Veerle.duoh.com[m
[32m+[m
[32m+[m[32mLas reglas CSS definidas para esa columna de contenidos son:[m
[32m+[m
[32m+[m[32m     .wide #content-secondary {[m
[32m+[m[32m         width: 272px;[m
[32m+[m[32m         margin: 13px 0 0 0;[m
[32m+[m[32m         position: relative;[m
[32m+[m[32m         margin-left: -8px;[m
[32m+[m[32m         background: url("./graphics/wide/bg-content-secondary.gif") repeat-y;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAdemÃ¡s de seleccionar el tipo de repeticiÃ³n de las imÃ¡genes de fondo, CSS permite[m
[32m+[m[32mcontrolar la posiciÃ³n de la imagen dentro del fondo del elemento mediante la propiedad[m
[32m+[m[32mbackground-position.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    72[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mbackground-position PosiciÃ³n de la imagen de fondo[m
[32m+[m
[32m+[m[32mValores             ( ( <porcentaje> | <medida> | left | center |[m
[32m+[m[32m                    right ) ( <porcentaje> | <medida> | top |[m
[32m+[m[32mSe aplica a         center | bottom )? ) | ( ( left | center |[m
[32m+[m[32mValor inicial       right ) || ( top | center | bottom ) ) |[m
[32m+[m[32mDescripciÃ³n         inherit[m
[32m+[m
[32m+[m[32m                    Todos los elementos[m
[32m+[m
[32m+[m[32m                    0% 0%[m
[32m+[m
[32m+[m[32m                    Controla la posiciÃ³n en la que se muestra la imagen en el[m
[32m+[m[32m                    fondo del elemento[m
[32m+[m
[32m+[m[32mLa propiedad background-position permite indicar la distancia que se desplaza la[m
[32m+[m[32mimagen de fondo respecto de su posiciÃ³n original situada en la esquina superior[m
[32m+[m[32mizquierda.[m
[32m+[m
[32m+[m[32mSi se indican dos porcentajes o dos medidas, el primero indica el desplazamiento[m
[32m+[m[32mhorizontal y el segundo el desplazamiento vertical respecto del origen (situado en la[m
[32m+[m[32mesquina superior izquierda). Si solamente se indica un porcentaje o una medida, se[m
[32m+[m[32mconsidera que es el desplazamiento horizontal y al desplazamiento vertical se le asigna[m
[32m+[m[32mautomÃ¡ticamente el valor de 50%.[m
[32m+[m
[32m+[m[32mCuando se utilizan porcentajes, su interpretaciÃ³n no es intuitiva. Si el valor de la[m
[32m+[m[32mpropiedad background-position se indica mediante dos porcentajes x% y%, el[m
[32m+[m[32mnavegador coloca el punto (x%, y%) de la imagen de fondo en el punto (x%, y%) del[m
[32m+[m[32melemento.[m
[32m+[m
[32m+[m[32mLas palabras clave permitidas son equivalentes a algunos porcentajes significativos: top[m
[32m+[m[32m= 0%, left = 0%, center = 50%, bottom = 100%, right = 100%.[m
[32m+[m
[32m+[m[32mCSS permite mezclar porcentajes y palabras clave, como por ejemplo 50% 2cm, center[m
[32m+[m[32m2cm, center 10%.[m
[32m+[m
[32m+[m[32mSi se utilizan solamente palabras clave, el orden es indiferente y por tanto, es[m
[32m+[m[32mequivalente indicar top left y left top.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra una misma imagen de fondo posicionada de tres formas[m
[32m+[m[32mdiferentes:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                    73[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m                      Figura 4.24. Ejemplo de propiedad background-position[m
[32m+[m
[32m+[m[32mLas reglas CSS del ejemplo anterior se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     #caja1 {[m
[32m+[m[32m         background-image: url("images/help.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m[32m         background-position: bottom left;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #caja2 {[m
[32m+[m
[32m+[m[32m         background-image: url("images/help.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m[32m         background-position: right top;[m
[32m+[m[32m     }[m
[32m+[m[32m     #caja3 {[m
[32m+[m[32m         background-image: url("images/help.png");[m
[32m+[m[32m         background-repeat: no-repeat;[m
[32m+[m[32m         background-position: 50% 50%;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <div id="caja1"><h1>bottom left</h1></div>[m
[32m+[m[32m     <div id="caja2"><h1>right top</h1></div>[m
[32m+[m[32m     <div id="caja3"><h1>50% 50%</h1></div>[m
[32m+[m
[32m+[m[32mOpcionalmente, se puede indicar que el fondo permanezca fijo cuando la ventana del[m
[32m+[m[32mnavegador se desplaza mediante las barras de scroll. Se trata de un comportamiento que[m
[32m+[m[32men general no es deseable y que algunos navegadores no soportan correctamente. La[m
[32m+[m[32mpropiedad que controla este comportamiento es background-attachment.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    74[m
[32m+[m[32mIntroducciÃ³n a CSS               CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32mbackground-attachment Comportamiento de la imagen de fondo[m
[32m+[m
[32m+[m[32mValores             scroll | fixed | inherit[m
[32m+[m[32mSe aplica a[m
[32m+[m[32mValor inicial       Todos los elementos[m
[32m+[m
[32m+[m[32mDescripciÃ³n         scroll[m
[32m+[m
[32m+[m[32m                    Controla la forma en la que se visualiza la imagen de[m
[32m+[m[32m                    fondo: permanece fija cuando se hace scroll en la ventana[m
[32m+[m[32m                    del navegador o se desplaza junto con la ventana[m
[32m+[m
[32m+[m[32mPara hacer que una imagen de fondo se muestre fija al desplazar la ventana del[m
[32m+[m[32mnavegador, se debe aÃ±adir la propiedad background-attachment: fixed.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, CSS define una propiedad de tipo "shorthand" para indicar todas las[m
[32m+[m[32mpropiedades de los colores e imÃ¡genes de fondo de forma directa. La propiedad se[m
[32m+[m[32mdenomina background y es la que generalmente se utiliza para establecer las[m
[32m+[m[32mpropiedades del fondo de los elementos.[m
[32m+[m
[32m+[m[32mbackground Fondo de un elemento[m
[32m+[m
[32m+[m[32mValores             ( <background-color> || <background-image> ||[m
[32m+[m[32m                    <background-repeat> || <background-attachment> ||[m
[32m+[m[32mSe aplica a         <background-position> ) | inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Todos los elementos[m
[32m+[m
[32m+[m[32m                    -[m
[32m+[m
[32m+[m[32m                    Establece todas las propiedades del fondo de un elemento[m
[32m+[m
[32m+[m[32mEl orden en el que se indican las propiedades es indiferente, aunque en general se sigue[m
[32m+[m[32mel formato indicado de color, url de imagen, repeticiÃ³n y posiciÃ³n.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra la ventaja de utilizar la propiedad background:[m
[32m+[m
[32m+[m[32m     /* Color e imagen de fondo de la pÃ¡gina mediante una propiedad shorthand */[m
[32m+[m[32m     body { background: #222d2d url(./graphics/colorstrip.gif) repeat-x 0 0; }[m
[32m+[m
[32m+[m[32m     /* La propiedad shorthand anterior es equivalente a las siguientes propiedades[m
[32m+[m[32m     */[m
[32m+[m[32m     body {[m
[32m+[m
[32m+[m[32m         background-color: #222d2d;[m
[32m+[m[32m         background-image: url("./graphics/colorstrip.gif");[m
[32m+[m[32m         background-repeat: repeat-x;[m
[32m+[m[32m         background-position: 0 0;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa propiedad background permite asignar todos o sÃ³lo algunos de todos los valores que[m
[32m+[m[32mse pueden definir para los fondos de los elementos:[m
[32m+[m
[32m+[m[32m     background: url("./graphics/wide/bg-content-secondary.gif") repeat-y;[m
[32m+[m
[32m+[m[32mbackground: url("./graphics/wide/footer-content-secondary.gif") no-repeat[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                              75[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 4. Modelo de cajas (box model)[m
[32m+[m
[32m+[m[32m    bottom left;[m
[32m+[m[32m    background: transparent url("./graphics/navigation.gif") no-repeat 0 -27px;[m
[32m+[m[32m    background: none;[m
[32m+[m[32m    background: #293838 url("./graphics/icons/icon-permalink-big.gif") no-repeat[m
[32m+[m[32m    center left;[m
[32m+[m
[32m+[m[32mEjercicio 5 Ver enunciado en la pÃ¡gina 206[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  76[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mCapÃ­tulo 5. Posicionamiento y[m
[32m+[m
[32m+[m[32mvisualizaciÃ³n[m
[32m+[m
[32m+[m[32mCuando los navegadores descargan el contenido HTML y CSS de las pÃ¡ginas web, aplican[m
[32m+[m[32mun procesamiento muy complejo antes de mostrar las pÃ¡ginas en la pantalla del usuario.[m
[32m+[m
[32m+[m[32mPara cumplir con el modelo de cajas presentado en el capÃ­tulo anterior, los navegadores[m
[32m+[m[32mcrean una caja para representar a cada elemento de la pÃ¡gina HTML. Los factores que se[m
[32m+[m[32mtienen en cuenta para generar cada caja son:[m
[32m+[m
[32m+[m[32m    â–ª Las propiedades width y height de la caja (si estÃ¡n establecidas).[m
[32m+[m
[32m+[m[32m    â–ª El tipo de cada elemento HTML (elemento de bloque o elemento en lÃ­nea).[m
[32m+[m
[32m+[m[32m    â–ª Posicionamiento de la caja (normal, relativo, absoluto, fijo o flotante).[m
[32m+[m
[32m+[m[32m    â–ª Las relaciones entre elementos (dÃ³nde se encuentra cada elemento, elementos[m
[32m+[m[32m       descendientes, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Otro tipo de informaciÃ³n, como por ejemplo el tamaÃ±o de las imÃ¡genes y el[m
[32m+[m[32m       tamaÃ±o de la ventana del navegador.[m
[32m+[m
[32m+[m[32mEn este capÃ­tulo se muestran los cinco tipos de posicionamientos definidos para las cajas[m
[32m+[m[32my se presentan otras propiedades que afectan a la forma en la que se visualizan las cajas.[m
[32m+[m
[32m+[m[32m5.1. Tipos de elementos[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar HTML clasifica a todos sus elementos en dos grandes grupos: elementos en[m
[32m+[m[32mlÃ­nea y elementos de bloque.[m
[32m+[m
[32m+[m[32mLos elementos de bloque ("block elements" en inglÃ©s) siempre empiezan en una nueva[m
[32m+[m[32mlÃ­nea y ocupan todo el espacio disponible hasta el final de la lÃ­nea. Por su parte, los[m
[32m+[m[32melementos en lÃ­nea ("inline elements" en inglÃ©s) no empiezan necesariamente en nueva[m
[32m+[m[32mlÃ­nea y sÃ³lo ocupan el espacio necesario para mostrar sus contenidos.[m
[32m+[m
[32m+[m[32mDebido a este comportamiento, el tipo de un elemento influye de forma decisiva en la[m
[32m+[m[32mcaja que el navegador crea para mostrarlo. La siguiente imagen muestra las cajas que[m
[32m+[m[32mcrea el navegador para representar los diferentes elementos que forman una pÃ¡gina[m
[32m+[m[32mHTML:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    77[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m        Figura 5.1. Cajas creadas por los elementos de lÃ­nea y los elementos de bloque[m
[32m+[m
[32m+[m[32mEl primer elemento de la pÃ¡gina anterior es un pÃ¡rrafo. Los pÃ¡rrafos son elementos de[m
[32m+[m[32mbloque y por ese motivo su caja empieza en una nueva lÃ­nea y llega hasta el final de esa[m
[32m+[m[32mmisma lÃ­nea. Aunque los contenidos de texto del pÃ¡rrafo no son suficientes para ocupar[m
[32m+[m[32mtoda la lÃ­nea, el navegador reserva todo el espacio disponible en la primera lÃ­nea.[m
[32m+[m
[32m+[m[32mEl segundo elemento de la pÃ¡gina es un enlace. Los enlaces son elementos en lÃ­nea, por[m
[32m+[m[32mlo que su caja sÃ³lo ocupa el espacio necesario para mostrar sus contenidos. Si despuÃ©s[m
[32m+[m[32mde este elemento se incluye otro elemento en lÃ­nea (por ejemplo otro enlace o una[m
[32m+[m[32mimagen) el navegador mostrarÃ­a los dos elementos en la misma lÃ­nea, ya que existe[m
[32m+[m[32mespacio suficiente.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, el tercer elemento de la pÃ¡gina es un pÃ¡rrafo que se comporta de la misma[m
[32m+[m[32mforma que el primer pÃ¡rrafo. En su interior, se encuentra un enlace que tambiÃ©n se[m
[32m+[m[32mcomporta de la misma forma que el enlace anterior. AsÃ­, el segundo pÃ¡rrafo ocupa toda[m
[32m+[m[32muna lÃ­nea y el segundo enlace sÃ³lo ocupa el espacio necesario para mostrar sus[m
[32m+[m[32mcontenidos.[m
[32m+[m
[32m+[m[32mPor sus caracterÃ­sticas, los elementos de bloque no pueden insertarse dentro de[m
[32m+[m[32melementos en lÃ­nea y tan sÃ³lo pueden aparecer dentro de otros elementos de bloque. En[m
[32m+[m[32mcambio, un elemento en lÃ­nea puede aparecer tanto dentro de un elemento de bloque[m
[32m+[m[32mcomo dentro de otro elemento en lÃ­nea.[m
[32m+[m
[32m+[m[32mLos elementos en lÃ­nea definidos por HTML son: a, abbr, acronym, b, basefont, bdo, big,[m
[32m+[m[32mbr, cite, code, dfn, em, font, i, img, input, kbd, label, q, s, samp, select, small, span,[m
[32m+[m[32mstrike, strong, sub, sup, textarea, tt, u, var.[m
[32m+[m
[32m+[m[32mLos elementos de bloque definidos por HTML son: address, blockquote, center, dir,[m
[32m+[m[32mdiv, dl, fieldset, form, h1, h2, h3, h4, h5, h6, hr, isindex, menu, noframes, noscript, ol, p,[m
[32m+[m[32mpre, table, ul.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    78[m
[32m+[m[32mIntroducciÃ³n a CSS        CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mLos siguientes elementos tambiÃ©n se considera que son de bloque: dd, dt, frameset, li,[m
[32m+[m[32mtbody, td, tfoot, th, thead, tr.[m
[32m+[m
[32m+[m[32mLos siguientes elementos pueden ser en lÃ­nea y de bloque segÃºn las circunstancias:[m
[32m+[m[32mbutton, del, iframe, ins, map, object, script.[m
[32m+[m
[32m+[m[32m5.2. Posicionamiento[m
[32m+[m
[32m+[m[32mLos navegadores crean y posicionan de forma automÃ¡tica todas las cajas que forman[m
[32m+[m[32mcada pÃ¡gina HTML. No obstante, CSS permite al diseÃ±ador modificar la posiciÃ³n en la[m
[32m+[m[32mque se muestra cada caja.[m
[32m+[m
[32m+[m[32mUtilizando las propiedades que proporciona CSS para alterar la posiciÃ³n de las cajas es[m
[32m+[m[32mposible realizar efectos muy avanzados y diseÃ±ar estructuras de pÃ¡ginas que de otra[m
[32m+[m[32mforma no serÃ­an posibles.[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar de CSS define cinco modelos diferentes para posicionar una caja:[m
[32m+[m
[32m+[m[32m    â–ª Posicionamiento normal o estÃ¡tico: se trata del posicionamiento que utilizan los[m
[32m+[m[32m       navegadores si no se indica lo contrario.[m
[32m+[m
[32m+[m[32m    â–ª Posicionamiento relativo: variante del posicionamiento normal que consiste en[m
[32m+[m[32m       posicionar una caja segÃºn el posicionamiento normal y despuÃ©s desplazarla[m
[32m+[m[32m       respecto de su posiciÃ³n original.[m
[32m+[m
[32m+[m[32m    â–ª Posicionamiento absoluto: la posiciÃ³n de una caja se establece de forma absoluta[m
[32m+[m[32m       respecto de su elemento contenedor y el resto de elementos de la pÃ¡gina ignoran[m
[32m+[m[32m       la nueva posiciÃ³n del elemento.[m
[32m+[m
[32m+[m[32m    â–ª Posicionamiento fijo: variante del posicionamiento absoluto que convierte una[m
[32m+[m[32m       caja en un elemento inamovible, de forma que su posiciÃ³n en la pantalla siempre[m
[32m+[m[32m       es la misma independientemente del resto de elementos e independientemente de[m
[32m+[m[32m       si el usuario sube o baja la pÃ¡gina en la ventana del navegador.[m
[32m+[m
[32m+[m[32m    â–ª Posicionamiento flotante: se trata del modelo mÃ¡s especial de posicionamiento, ya[m
[32m+[m[32m       que desplaza las cajas todo lo posible hacia la izquierda o hacia la derecha de la[m
[32m+[m[32m       lÃ­nea en la que se encuentran.[m
[32m+[m
[32m+[m[32mEl posicionamiento de una caja se establece mediante la propiedad position:[m
[32m+[m
[32m+[m[32mposition Posicionamiento[m
[32m+[m
[32m+[m[32mValores             static | relative | absolute | fixed | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       static[m
[32m+[m[32mDescripciÃ³n         Selecciona el posicionamiento con el que se mostrarÃ¡ el elemento[m
[32m+[m
[32m+[m[32mEl significado de cada uno de los posibles valores de la propiedad position es el[m
[32m+[m[32msiguiente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      79[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m    â–ª static: corresponde al posicionamiento normal o estÃ¡tico. Si se utiliza este valor,[m
[32m+[m[32m       se ignoran los valores de las propiedades top, right, bottom y left que se verÃ¡n a[m
[32m+[m[32m       continuaciÃ³n.[m
[32m+[m
[32m+[m[32m    â–ª relative: corresponde al posicionamiento relativo. El desplazamiento de la caja[m
[32m+[m[32m       se controla con las propiedades top, right, bottom y left.[m
[32m+[m
[32m+[m[32m    â–ª absolute: corresponde al posicionamiento absoluto. El desplazamiento de la caja[m
[32m+[m[32m       tambiÃ©n se controla con las propiedades top, right, bottom y left, pero su[m
[32m+[m[32m       interpretaciÃ³n es mucho mÃ¡s compleja, ya que el origen de coordenadas del[m
[32m+[m[32m       desplazamiento depende del posicionamiento de su elemento contenedor.[m
[32m+[m
[32m+[m[32m    â–ª fixed: corresponde al posicionamiento fijo. El desplazamiento se establece de la[m
[32m+[m[32m       misma forma que en el posicionamiento absoluto, pero en este caso el elemento[m
[32m+[m[32m       permanece inamovible en la pantalla.[m
[32m+[m
[32m+[m[32mLa propiedad position no permite controlar el posicionamiento flotante, que se[m
[32m+[m[32mestablece con otra propiedad llamada float y que se explica mÃ¡s adelante. AdemÃ¡s, la[m
[32m+[m[32mpropiedad position sÃ³lo indica cÃ³mo se posiciona una caja, pero no la desplaza.[m
[32m+[m
[32m+[m[32mNormalmente, cuando se posiciona una caja tambiÃ©n es necesario desplazarla respecto[m
[32m+[m[32mde su posiciÃ³n original o respecto de otro origen de coordenadas. CSS define cuatro[m
[32m+[m[32mpropiedades llamadas top, right, bottom y left para controlar el desplazamiento de las[m
[32m+[m[32mcajas posicionadas:[m
[32m+[m
[32m+[m[32m     top            Desplazamiento superior[m
[32m+[m[32m    right           Desplazamiento lateral derecho[m
[32m+[m[32m   bottom           Desplazamiento inferior[m
[32m+[m[32m    left            Desplazamiento lateral izquierdo[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | auto | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos posicionados[m
[32m+[m[32mValor inicial       auto[m
[32m+[m[32m                    Indican el desplazamiento horizontal y vertical del elemento respecto de su[m
[32m+[m[32mDescripciÃ³n         posiciÃ³n original[m
[32m+[m
[32m+[m[32mEn el caso del posicionamiento relativo, cada una de estas propiedades indica el[m
[32m+[m[32mdesplazamiento del elemento desde la posiciÃ³n original de su borde superior/derecho/[m
[32m+[m[32minferior/izquierdo. Si el posicionamiento es absoluto, las propiedades indican el[m
[32m+[m[32mdesplazamiento del elemento respecto del borde superior/derecho/inferior/izquierdo[m
[32m+[m[32mde su primer elemento padre posicionado.[m
[32m+[m
[32m+[m[32mEn cualquiera de los dos casos, si el desplazamiento se indica en forma de porcentaje, se[m
[32m+[m[32mrefiere al porcentaje sobre la anchura (propiedades right y left) o altura (propiedades[m
[32m+[m[32mtop y bottom) del elemento.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                                 80[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m5.3. Posicionamiento normal[m
[32m+[m
[32m+[m[32mEl posicionamiento normal o estÃ¡tico es el modelo que utilizan por defecto los[m
[32m+[m[32mnavegadores para mostrar los elementos de las pÃ¡ginas. En este modelo, ninguna caja se[m
[32m+[m[32mdesplaza respecto de su posiciÃ³n original, por lo que sÃ³lo se tiene en cuenta si el[m
[32m+[m[32melemento es de bloque o en lÃ­nea.[m
[32m+[m
[32m+[m[32mLos elementos de bloque forman lo que CSS denomina "contextos de formato de bloque".[m
[32m+[m[32mEn este tipo de contextos, las cajas se muestran una debajo de otra comenzando desde el[m
[32m+[m[32mprincipio del elemento contenedor. La distancia entre las cajas se controla mediante los[m
[32m+[m[32mmÃ¡rgenes verticales.[m
[32m+[m
[32m+[m[32m                  Figura 5.2. Posicionamiento normal de los elementos de bloque[m
[32m+[m
[32m+[m[32mSi un elemento se encuentra dentro de otro, el elemento padre se llama "elemento[m
[32m+[m[32mcontenedor" y determina tanto la posiciÃ³n como el tamaÃ±o de todas sus cajas interiores.[m
[32m+[m
[32m+[m[32mSi un elemento no se encuentra dentro de un elemento contenedor, entonces su[m
[32m+[m[32melemento contenedor es el elemento <body> de la pÃ¡gina. Normalmente, la anchura de[m
[32m+[m[32mlos elementos de bloque estÃ¡ limitada a la anchura de su elemento contenedor, aunque[m
[32m+[m[32men algunos casos sus contenidos pueden desbordar el espacio disponible.[m
[32m+[m
[32m+[m[32mLos elementos en lÃ­nea forman los "contextos de formato en lÃ­nea". En este tipo de[m
[32m+[m[32mcontextos, las cajas se muestran una detrÃ¡s de otra de forma horizontal comenzando[m
[32m+[m[32mdesde la posiciÃ³n mÃ¡s a la izquierda de su elemento contenedor. La distancia entre las[m
[32m+[m[32mcajas se controla mediante los mÃ¡rgenes laterales.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    81[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m                   Figura 5.3. Posicionamiento normal de los elementos en lÃ­nea[m
[32m+[m
[32m+[m[32mSi las cajas en lÃ­nea ocupan mÃ¡s espacio del disponible en su propia lÃ­nea, el resto de[m
[32m+[m[32mcajas se muestran en las lÃ­neas inferiores. Si las cajas en lÃ­nea ocupan un espacio menor[m
[32m+[m[32mque su propia lÃ­nea, se puede controlar la distribuciÃ³n de las cajas mediante la[m
[32m+[m[32mpropiedad text-align para centrarlas, alinearlas a la derecha o justificarlas.[m
[32m+[m
[32m+[m[32m5.4. Posicionamiento relativo[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar CSS considera que el posicionamiento relativo es un caso particular del[m
[32m+[m[32mposicionamiento normal, aunque en realidad presenta muchas diferencias.[m
[32m+[m
[32m+[m[32mEl posicionamiento relativo permite desplazar una caja respecto de su posiciÃ³n original[m
[32m+[m[32mestablecida mediante el posicionamiento normal. El desplazamiento de la caja se[m
[32m+[m[32mcontrola con las propiedades top, right, bottom y left.[m
[32m+[m
[32m+[m[32mEl desplazamiento de una caja no afecta al resto de cajas adyacentes, que se muestran en[m
[32m+[m[32mla misma posiciÃ³n que si la caja desplazada no se hubiera movido de su posiciÃ³n original.[m
[32m+[m
[32m+[m[32m                 Figura 5.4. Ejemplo de posicionamiento relativo de un elemento[m
[32m+[m
[32m+[m[32mEn la imagen anterior, la caja 2 se ha desplazado lateralmente hacia la derecha y[m
[32m+[m[32mverticalmente de forma descendente. Como el resto de cajas de la pÃ¡gina no modifican[m
[32m+[m[32msu posiciÃ³n, se producen solapamientos entre los contenidos de las cajas.[m
[32m+[m
[32m+[m[32mLa propiedad left desplaza la caja hacia su derecha, la propiedad right la desplaza[m
[32m+[m[32mhacia su izquierda, la posiciÃ³n top desplaza la caja de forma descendente y la propiedad[m
[32m+[m[32mbottom desplaza la caja de forma ascendente. Si se utilizan valores negativos en estas[m
[32m+[m[32mpropiedades, su efecto es justamente el inverso.[m
[32m+[m
[32m+[m[32mLas cajas desplazadas de forma relativa no modifican su tamaÃ±o, por lo que los valores[m
[32m+[m[32mde las propiedades left y right siempre cumplen que left = -right.[m
[32m+[m
[32m+[m[32mSi tanto left como right tienen un valor de auto (que es su valor por defecto) la caja no[m
[32m+[m[32mse mueve de su posiciÃ³n original. Si sÃ³lo el valor de left es auto, su valor real es -right.[m
[32m+[m[32mIgualmente, si sÃ³lo el valor de right es auto, su valor real es -left.[m
[32m+[m
[32m+[m[32mSi tanto left como right tienen valores distintos de auto, uno de los dos valores se[m
[32m+[m[32mtiene que ignorar porque son mutuamente excluyentes. Para determinar la propiedad[m
[32m+[m[32mque se tiene en cuenta, se considera el valor de la propiedad direction.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    82[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mLa propiedad direction permite establecer la direcciÃ³n del texto de un contenido. Si el[m
[32m+[m[32mvalor de direction es ltr, el texto se muestra de izquierda a derecha, que es el mÃ©todo[m
[32m+[m[32mde escritura habitual en la mayorÃ­a de paÃ­ses. Si el valor de direction es rtl, el mÃ©todo[m
[32m+[m[32mde escritura es de derecha a izquierda, como el utilizado por los idiomas Ã¡rabe y hebreo.[m
[32m+[m
[32m+[m[32mSi el valor de direction es ltr, y las propiedades left y right tienen valores distintos[m
[32m+[m[32mde auto, se ignora la propiedad right y sÃ³lo se tiene en cuenta el valor de la propiedad[m
[32m+[m[32mleft. De la misma forma, si el valor de direction es rtl, se ignora el valor de left y sÃ³lo[m
[32m+[m[32mse tiene en cuenta el valor de right.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra tres imÃ¡genes posicionadas de forma normal:[m
[32m+[m
[32m+[m[32m                        Figura 5.5. Elementos posicionados de forma normal[m
[32m+[m
[32m+[m[32mAplicando el posicionamiento relativo, se desplaza la primera imagen de forma[m
[32m+[m[32mdescendente:[m
[32m+[m
[32m+[m[32m     img.desplazada {[m
[32m+[m[32m         position: relative;[m
[32m+[m[32m         top: 8em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <img class="desplazada" src="imagenes/imagen.png" alt="Imagen genÃ©rica" />[m
[32m+[m[32m     <img src="imagenes/imagen.png" alt="Imagen genÃ©rica" />[m
[32m+[m[32m     <img src="imagenes/imagen.png" alt="Imagen genÃ©rica" />[m
[32m+[m
[32m+[m[32mEl aspecto que muestran ahora las imÃ¡genes es el siguiente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    83[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m                         Figura 5.6. Elemento posicionado de forma relativa[m
[32m+[m
[32m+[m[32mEl resto de imÃ¡genes no varÃ­an su posiciÃ³n y por tanto no ocupan el hueco dejado por la[m
[32m+[m[32mprimera imagen, ya que el posicionamiento relativo no influye en el resto de elementos[m
[32m+[m[32mde la pÃ¡gina. El Ãºnico problema de posicionar elementos de forma relativa es que se[m
[32m+[m[32mpueden producir solapamientos con otros elementos de la pÃ¡gina.[m
[32m+[m
[32m+[m[32m5.5. Posicionamiento absoluto[m
[32m+[m
[32m+[m[32mEl posicionamiento absoluto se emplea para establecer de forma precisa la posiciÃ³n en[m
[32m+[m[32mla que se muestra la caja de un elemento. La nueva posiciÃ³n de la caja se indica mediante[m
[32m+[m[32mlas propiedades top, right, bottom y left. La interpretaciÃ³n de los valores de estas[m
[32m+[m[32mpropiedades es mucho mÃ¡s compleja que en el posicionamiento relativo, ya que en este[m
[32m+[m[32mcaso dependen del posicionamiento del elemento contenedor.[m
[32m+[m
[32m+[m[32mCuando una caja se posiciona de forma absoluta, el resto de elementos de la pÃ¡gina la[m
[32m+[m[32mignoran y ocupan el lugar original ocupado por la caja posicionada. Al igual que en el[m
[32m+[m[32mposicionamiento relativo, cuando se posiciona de forma absoluta una caja es probable[m
[32m+[m[32mque se produzcan solapamientos con otras cajas.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, se posiciona de forma absoluta la caja 2:[m
[32m+[m
[32m+[m[32mFigura 5.7. Ejemplo de posicionamiento absoluto de un elemento[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                84[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mLa caja 2 estÃ¡ posicionada de forma absoluta, lo que implica que el resto de elementos[m
[32m+[m[32mignoran que esa caja exista. Por este motivo, la caja 3 deja su lugar original y pasa a[m
[32m+[m[32mocupar el hueco dejado por la caja 2.[m
[32m+[m
[32m+[m[32mEn el estÃ¡ndar de CSS, esta caracterÃ­stica de las cajas posicionadas de forma absoluta se[m
[32m+[m[32mexplica como que la caja sale por completo del flujo normal del documento. De hecho, las[m
[32m+[m[32mcajas posicionadas de forma absoluta parece que estan en un nivel diferente al resto de[m
[32m+[m[32melementos de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mPor otra parte, el desplazamiento de una caja posicionada de forma absoluta se indica[m
[32m+[m[32mmediante las propiedades top, right, bottom y left. A diferencia de posicionamiento[m
[32m+[m[32mrelativo, en este caso la referencia de los valores de esas propiedades es el origen de[m
[32m+[m[32mcoordenadas de su primer elemento contenedor posicionado.[m
[32m+[m
[32m+[m[32mDeterminar el origen de coordenadas a partir del cual se desplaza una caja posicionada[m
[32m+[m[32mde forma absoluta es un proceso complejo que se compone de los siguientes pasos:[m
[32m+[m
[32m+[m[32m    â–ª Se buscan todos los elementos contenedores de la caja hasta llegar al elemento[m
[32m+[m[32m       <body> de la pÃ¡gina.[m
[32m+[m
[32m+[m[32m    â–ª Se recorren todos los elementos contenedores empezando por el mÃ¡s cercano a la[m
[32m+[m[32m       caja y llegando hasta el <body>[m
[32m+[m
[32m+[m[32m    â–ª De todos ellos, el navegador se queda con el primer elemento contenedor que estÃ©[m
[32m+[m[32m       posicionado de cualquier forma diferente a position: static[m
[32m+[m
[32m+[m[32m    â–ª La esquina superior izquierda de ese elemento contenedor posicionado es el[m
[32m+[m[32m       origen de coordenadas.[m
[32m+[m
[32m+[m[32mUna vez obtenido el origen de coordenadas, se interpretan los valores de las[m
[32m+[m[32mpropiedades top, right, bottom y left respecto a ese origen y se desplaza la caja hasta[m
[32m+[m[32msu nueva posiciÃ³n.[m
[32m+[m
[32m+[m[32mEn los siguientes ejemplos, se va a utilizar la pÃ¡gina HTML que muestra la siguiente[m
[32m+[m[32mimagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    85[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m               Figura 5.8. SituaciÃ³n original antes de modificar el posicionamiento[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, se muestra el cÃ³digo HTML y CSS de la pÃ¡gina original:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border: 2px solid #CCC;[m
[32m+[m[32m         padding: 1em;[m
[32m+[m[32m         margin: 1em 0 1em 4em;[m
[32m+[m[32m         width: 300px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <div>[m
[32m+[m[32m         <img src="imagenes/imagen.png" alt="Imagen genÃ©rica" />[m
[32m+[m[32m         <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus[m
[32m+[m
[32m+[m[32m     ullamcorper velit eu ipsum. Ut pellentesque, est in volutpat cursus, risus[m
[32m+[m[32m     mi viverra augue, at pulvinar turpis leo sed orci. Donec ipsum. Curabitur[m
[32m+[m[32m     felis dui, ultrices ut, sollicitudin vel, rutrum at, tellus.</p>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEn primer lugar, se posiciona de forma absoluta la imagen mediante la propiedad[m
[32m+[m[32mposition y se indica su nueva posiciÃ³n mediante las propiedades top y left:[m
[32m+[m
[32m+[m[32m     div img {[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         top: 50px;[m
[32m+[m[32m         left: 50px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl resultado visual se muestra en la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    86[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m                          Figura 5.9. Imagen posicionada de forma absoluta[m
[32m+[m
[32m+[m[32mLa imagen posicionada de forma absoluta no toma como origen de coordenadas la[m
[32m+[m[32mesquina superior izquierda de su elemento contenedor <div>, sino que su referencia es[m
[32m+[m[32mla esquina superior izquierda de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m           Figura 5.10. La referencia del posicionamiento absoluto es la pÃ¡gina entera[m
[32m+[m
[32m+[m[32mPara posicionar la imagen de forma absoluta, el navegador realiza los siguientes pasos:[m
[32m+[m
[32m+[m[32m      1. Obtiene la lista de elementos contenedores de la imagen: <div> y <body>.[m
[32m+[m[32m      2. Recorre la lista de elementos desde el mÃ¡s cercano a la imagen (el <div>) hasta[m
[32m+[m
[32m+[m[32m           terminar en el <body> buscando el primer elemento contenedor que estÃ©[m
[32m+[m[32m           posicionado.[m
[32m+[m[32m      3. El primer elemento contenedor es el <div>, pero su posicionamiento es el[m
[32m+[m[32m           normal o estÃ¡tico, ya que ni siquiera tiene establecida la propiedad position.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    87[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m      4. Como el siguiente elemento contenedor es el <body>, el navegador establece[m
[32m+[m[32m           directamente el origen de coordenadas en la esquina superior izquierda de la[m
[32m+[m[32m           pÃ¡gina.[m
[32m+[m
[32m+[m[32m      5. A partir de ese origen de coordenadas, la caja se desplaza 50px hacia la derecha[m
[32m+[m[32m           (left: 50px) y otros 50px de forma descendente (top: 50px).[m
[32m+[m
[32m+[m[32mAdemÃ¡s, el pÃ¡rrafo que se mostraba debajo de la imagen sube y ocupa el lugar dejado[m
[32m+[m[32mpor la imagen. El resultado es que el elemento <div> ahora sÃ³lo contiene el pÃ¡rrafo y la[m
[32m+[m[32mimagen se muestra en un nivel superior y cubre parcialmente los contenidos del pÃ¡rrafo.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, se posiciona de forma relativa el elemento <div> que contiene la imagen[m
[32m+[m[32my el resto de reglas CSS no se modifican. La Ãºnica propiedad aÃ±adida al <div> es[m
[32m+[m[32mposition: relative por lo que el elemento contenedor se posiciona pero no se[m
[32m+[m[32mdesplaza respecto de su posiciÃ³n original:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border: 2px solid #CCC;[m
[32m+[m[32m         padding: 1em;[m
[32m+[m[32m         margin: 1em 0 1em 4em;[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m         position: relative;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     div img {[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         top: 50px;[m
[32m+[m[32m         left: 50px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra el resultado obtenido:[m
[32m+[m
[32m+[m[32m                         Figura 5.11. Imagen posicionada de forma absoluta[m
[32m+[m
[32m+[m[32mEn este caso, el origen de coordenadas para determinar la nueva posiciÃ³n de la imagen[m
[32m+[m[32mcorresponde a la esquina superior izquierda del elemento <div>:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    88[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m  Figura 5.12. La referencia del posicionamiento absoluto es el elemento contenedor de la[m
[32m+[m[32m                                                    imagen[m
[32m+[m
[32m+[m[32mSi se quiere posicionar un elemento de forma absoluta respecto de su elemento[m
[32m+[m[32mcontenedor, es imprescindible posicionar el elemento contenedor. Para ello, sÃ³lo es[m
[32m+[m[32mnecesario aÃ±adir la propiedad position: relative, por lo que no es obligatorio[m
[32m+[m[32mdesplazar el elemento contenedor respecto de su posiciÃ³n original.[m
[32m+[m
[32m+[m[32m5.6. Posicionamiento fijo[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar CSS considera que el posicionamiento fijo es un caso particular del[m
[32m+[m[32mposicionamiento absoluto, ya que sÃ³lo se diferencian en el comportamiento de las cajas[m
[32m+[m[32mposicionadas.[m
[32m+[m
[32m+[m[32mCuando una caja se posiciona de forma fija, la forma de obtener el origen de[m
[32m+[m[32mcoordenadas para interpretar su desplazamiento es idÃ©ntica al posicionamiento[m
[32m+[m[32mabsoluto. De hecho, si el usuario no mueve la pÃ¡gina HTML en la ventana del navegador,[m
[32m+[m[32mno existe ninguna diferencia entre estos dos modelos de posicionamiento.[m
[32m+[m
[32m+[m[32mLa principal caracterÃ­stica de una caja posicionada de forma fija es que su posiciÃ³n es[m
[32m+[m[32minamovible dentro de la ventana del navegador. El posicionamiento fijo hace que las[m
[32m+[m[32mcajas no modifiquen su posiciÃ³n ni aunque el usuario suba o baje la pÃ¡gina en la ventana[m
[32m+[m[32mde su navegador.[m
[32m+[m
[32m+[m[32mSi la pÃ¡gina se visualiza en un medio paginado (por ejemplo en una impresora) las cajas[m
[32m+[m[32mposicionadas de forma fija se repiten en todas las pÃ¡ginas. Esta caracterÃ­stica puede ser[m
[32m+[m[32mÃºtil para crear encabezados o pies de pÃ¡gina en pÃ¡ginas HTML preparadas para[m
[32m+[m[32mimprimir.[m
[32m+[m
[32m+[m[32mEl posicionamiento fijo apenas se ha utilizado en el diseÃ±o de pÃ¡ginas web hasta hace[m
[32m+[m[32mpoco tiempo porque el navegador Internet Explorer 6 y las versiones anteriores no lo[m
[32m+[m[32msoportan.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    89[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m5.7. Posicionamiento flotante[m
[32m+[m
[32m+[m[32mEl posicionamiento flotante es el mÃ¡s difÃ­cil de comprender pero al mismo tiempo es el[m
[32m+[m[32mmÃ¡s utilizado. La mayorÃ­a de estructuras de las pÃ¡ginas web complejas estÃ¡n diseÃ±adas[m
[32m+[m[32mcon el posicionamiento flotante, como se verÃ¡ mÃ¡s adelante.[m
[32m+[m
[32m+[m[32mCuando una caja se posiciona con el modelo de posicionamiento flotante,[m
[32m+[m[32mautomÃ¡ticamente se convierte en una caja flotante, lo que significa que se desplaza hasta[m
[32m+[m[32mla zona mÃ¡s a la izquierda o mÃ¡s a la derecha de la posiciÃ³n en la que originalmente se[m
[32m+[m[32mencontraba.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra el resultado de posicionar de forma flotante hacia la[m
[32m+[m[32mderecha la caja 1:[m
[32m+[m
[32m+[m[32m                     Figura 5.13. Ejemplo de posicionamiento float de una caja[m
[32m+[m
[32m+[m[32mCuando se posiciona una caja de forma flotante:[m
[32m+[m
[32m+[m[32m    â–ª La caja deja de pertenecer al flujo normal de la pÃ¡gina, lo que significa que el resto[m
[32m+[m[32m       de cajas ocupan el lugar dejado por la caja flotante.[m
[32m+[m
[32m+[m[32m    â–ª La caja flotante se posiciona lo mÃ¡s a la izquierda o lo mÃ¡s a la derecha posible de[m
[32m+[m[32m       la posiciÃ³n en la que se encontraba originalmente.[m
[32m+[m
[32m+[m[32mSi en el anterior ejemplo la caja 1 se posiciona de forma flotante hacia la izquierda, el[m
[32m+[m[32mresultado es el que muestra la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    90[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m                     Figura 5.14. Ejemplo de posicionamiento float de una caja[m
[32m+[m
[32m+[m[32mLa caja 1 es de tipo flotante, por lo que desaparece del flujo normal de la pÃ¡gina y el resto[m
[32m+[m[32mde cajas ocupan su lugar. El resultado es que la caja 2 ahora se muestra donde estaba la[m
[32m+[m[32mcaja 1 y la caja 3 se muestra donde estaba la caja 2.[m
[32m+[m
[32m+[m[32mAl mismo tiempo, la caja 1 se desplaza todo lo posible hacia la izquierda de la posiciÃ³n[m
[32m+[m[32men la que se encontraba. El resultado es que la caja 1 se muestra encima de la nueva[m
[32m+[m[32mposiciÃ³n de la caja 2 y tapa todos sus contenidos.[m
[32m+[m
[32m+[m[32mSi existen otras cajas flotantes, al posicionar de forma flotante otra caja, se tiene en[m
[32m+[m[32mcuenta el sitio disponible. En el siguiente ejemplo se posicionan de forma flotante hacia[m
[32m+[m[32mla izquierda las tres cajas:[m
[32m+[m
[32m+[m[32m                   Figura 5.15. Ejemplo de posicionamiento float de varias cajas[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, las cajas no se superponen entre sÃ­ porque las cajas flotantes[m
[32m+[m[32mtienen en cuenta las otras cajas flotantes existentes. Como la caja 1 ya estaba[m
[32m+[m[32mposicionada lo mÃ¡s a la izquierda posible, la caja 2 sÃ³lo puede colocarse al lado del borde[m
[32m+[m[32mderecho de la caja 1, que es el sitio mÃ¡s a la izquierda posible respecto de la zona en la[m
[32m+[m[32mque se encontraba.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    91[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mSi no existe sitio en la lÃ­nea actual, la caja flotante baja a la lÃ­nea inferior hasta que[m
[32m+[m[32mencuentra el sitio necesario para mostrarse lo mÃ¡s a la izquierda o lo mÃ¡s a la derecha[m
[32m+[m[32mposible en esa nueva lÃ­nea:[m
[32m+[m
[32m+[m[32m        Figura 5.16. Ejemplo de posicionamiento float cuando no existe sitio suficiente[m
[32m+[m
[32m+[m[32mLas cajas flotantes influyen en la disposiciÃ³n de todas las demÃ¡s cajas. Los elementos en[m
[32m+[m[32mlÃ­nea hacen sitio a las cajas flotantes adaptando su anchura al espacio libre dejado por la[m
[32m+[m[32mcaja desplazada. Los elementos de bloque no les hacen sitio, pero sÃ­ que adaptan sus[m
[32m+[m[32mcontenidos para que no se solapen con las cajas flotantes.[m
[32m+[m
[32m+[m[32mLa propiedad CSS que permite posicionar de forma flotante una caja se denomina float:[m
[32m+[m
[32m+[m[32m    float           Posicionamiento float[m
[32m+[m
[32m+[m[32mValores             left | right | none | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       none[m
[32m+[m[32mDescripciÃ³n         Establece el tipo de posicionamiento flotante del elemento[m
[32m+[m
[32m+[m[32mSi se indica un valor left, la caja se desplaza hasta el punto mÃ¡s a la izquierda posible en[m
[32m+[m[32mesa misma lÃ­nea (si no existe sitio en esa lÃ­nea, la caja baja una lÃ­nea y se muestra lo mÃ¡s[m
[32m+[m[32ma la izquierda posible en esa nueva lÃ­nea). El resto de elementos adyacentes se adaptan y[m
[32m+[m[32mfluyen alrededor de la caja flotante.[m
[32m+[m
[32m+[m[32mEl valor right tiene un funcionamiento idÃ©ntico, salvo que en este caso, la caja se[m
[32m+[m[32mdesplaza hacia la derecha. El valor none permite anular el posicionamiento flotante de[m
[32m+[m[32mforma que el elemento se muestre en su posiciÃ³n original.[m
[32m+[m
[32m+[m[32m Ejercicio 6 Ver enunciado en la pÃ¡gina 208[m
[32m+[m
[32m+[m[32mLos elementos que se encuentran alrededor de una caja flotante adaptan sus contenidos[m
[32m+[m[32mpara que fluyan alrededor del elemento posicionado:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                92[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m  Figura 5.17. Elementos que fluyen alrededor de un elemento posicionado mediante float[m
[32m+[m
[32m+[m[32mLa regla CSS que se aplica en la imagen del ejemplo anterior es:[m
[32m+[m
[32m+[m[32m     img {[m
[32m+[m[32m         float: left;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mUno de los principales motivos para la creaciÃ³n del posicionamiento float fue[m
[32m+[m[32mprecisamente la posibilidad de colocar imÃ¡genes alrededor de las cuales fluye el texto.[m
[32m+[m
[32m+[m[32mCSS permite controlar la forma en la que los contenidos fluyen alrededor de los[m
[32m+[m[32mcontenidos posicionados mediante float. De hecho, en muchas ocasiones es admisible[m
[32m+[m[32mque algunos contenidos fluyan alrededor de una imagen, pero el resto de contenidos[m
[32m+[m[32mdeben mostrarse en su totalidad sin fluir alrededor de la imagen:[m
[32m+[m
[32m+[m[32m Figura 5.18. Forzando a que un elemento no fluya alrededor de otro elemento posicionado[m
[32m+[m[32m                                                mediante float[m
[32m+[m
[32m+[m[32mLa propiedad clear permite modificar el comportamiento por defecto del[m
[32m+[m[32mposicionamiento flotante para forzar a un elemento a mostrarse debajo de cualquier caja[m
[32m+[m
[32m+[m[32mwww.librosweb.es    93[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mflotante. La regla CSS que se aplica al segundo pÃ¡rrafo del ejemplo anterior es la[m
[32m+[m[32msiguiente:[m
[32m+[m
[32m+[m[32m     <p style="clear: left;">...</p>[m
[32m+[m
[32m+[m[32mLa definiciÃ³n formal de la propiedad clear se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m    clear           Despejar los elementos flotantes adyacentes[m
[32m+[m
[32m+[m[32mValores             none | left | right | both | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos de bloque[m
[32m+[m[32mValor inicial       none[m
[32m+[m[32mDescripciÃ³n         Indica el lado del elemento que no debe ser adyacente a ninguna caja flotante[m
[32m+[m
[32m+[m[32mLa propiedad clear indica el lado del elemento HTML que no debe ser adyacente a[m
[32m+[m[32mninguna caja posicionada de forma flotante. Si se indica el valor left, el elemento se[m
[32m+[m[32mdesplaza de forma descendente hasta que pueda colocarse en una lÃ­nea en la que no[m
[32m+[m[32mhaya ninguna caja flotante en el lado izquierdo.[m
[32m+[m
[32m+[m[32mLa especificaciÃ³n oficial de CSS explica este comportamiento como "un desplazamiento[m
[32m+[m[32mdescendente hasta que el borde superior del elemento estÃ© por debajo del borde inferior de[m
[32m+[m[32mcualquier elemento flotante hacia la izquierda".[m
[32m+[m
[32m+[m[32mSi se indica el valor right, el comportamiento es anÃ¡logo, salvo que en este caso se[m
[32m+[m[32mtienen en cuenta los elementos desplazados hacia la derecha.[m
[32m+[m
[32m+[m[32mEl valor both despeja los lados izquierdo y derecho del elemento, ya que desplaza el[m
[32m+[m[32melemento de forma descendente hasta que el borde superior se encuentre por debajo del[m
[32m+[m[32mborde inferior de cualquier elemento flotante hacia la izquierda o hacia la derecha.[m
[32m+[m
[32m+[m[32mComo se verÃ¡ mÃ¡s adelante, la propiedad clear es imprescindible cuando se crean las[m
[32m+[m[32mestructuras de las pÃ¡ginas web complejas.[m
[32m+[m
[32m+[m[32mEn el ejercicio anterior, se utiliza la propiedad float para posicionar de forma flotante[m
[32m+[m[32mlos dos elementos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    94[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m      Figura 5.19. VisualizaciÃ³n incorrecta de dos elementos posicionados mediante float[m
[32m+[m
[32m+[m[32mComo los dos elementos <span> creados dentro del elemento <div> se han posicionado[m
[32m+[m[32mmediante float, los dos han salido del flujo normal del documento. AsÃ­, el elemento[m
[32m+[m[32m<div> no tiene contenidos y por eso no llega a cubrir el texto de los dos elementos[m
[32m+[m[32m<span>:[m
[32m+[m
[32m+[m[32m      Figura 5.20. Esquema del problema y soluciÃ³n de la visualizaciÃ³n incorrecta de dos[m
[32m+[m[32m                                elementos posicionados mediante float[m
[32m+[m
[32m+[m[32mLa soluciÃ³n consiste en aÃ±adir un elemento adicional invisible que limpie el float[m
[32m+[m[32mforzando a que el <div> original cubra completamente los dos elementos <span>. El[m
[32m+[m[32mcÃ³digo HTML y CSS final se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio posicionamiento float</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     div#paginacion {[m
[32m+[m
[32m+[m[32mwww.librosweb.es    95[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m         border: 1px solid #CCC;[m
[32m+[m[32m         background-color: #E0E0E0;[m
[32m+[m[32m         padding: .5em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     .derecha { float: right; }[m
[32m+[m[32m     .izquierda { float: left; }[m
[32m+[m
[32m+[m[32m     div.clear { clear: both; }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="paginacion">[m
[32m+[m
[32m+[m[32m         <span class="izquierda">&laquo; Anterior</span>[m
[32m+[m[32m         <span class="derecha">Siguiente &raquo;</span>[m
[32m+[m[32m         <div class="clear"></div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mAl aÃ±adir un <div> con la propiedad clear: both, se tiene la seguridad de que el <div>[m
[32m+[m[32maÃ±adido se va a mostrar debajo de cualquier elemento posicionado con float y por[m
[32m+[m[32mtanto, se asegura que el <div> original tenga la altura necesaria como para encerrar a[m
[32m+[m[32mtodos sus contenidos posicionados con float.[m
[32m+[m
[32m+[m[32m       Figura 5.21. VisualizaciÃ³n correcta de dos elementos posicionados mediante float[m
[32m+[m
[32m+[m[32mAdemÃ¡s de un elemento <div> invisible, tambiÃ©n se puede utilizar un <p> invisible o un[m
[32m+[m[32m<hr/> invisible.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    96[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m5.8. VisualizaciÃ³n[m
[32m+[m
[32m+[m[32mAdemÃ¡s de las propiedades que controlan el posicionamiento de los elementos, CSS[m
[32m+[m[32mdefine otras cuatro propiedades para controlar su visualizaciÃ³n: display, visibility,[m
[32m+[m[32moverflow y z-index.[m
[32m+[m
[32m+[m[32mUtilizando algunas de estas propiedades es posible ocultar y/o hacer invisibles las cajas[m
[32m+[m[32mde los elementos, por lo que son imprescindibles para realizar efectos avanzados y[m
[32m+[m[32manimaciones.[m
[32m+[m
[32m+[m[32m5.8.1. Propiedades display y visibility[m
[32m+[m
[32m+[m[32mLas propiedades display y visibility controlan la visualizaciÃ³n de los elementos. Las[m
[32m+[m[32mdos propiedades permiten ocultar cualquier elemento de la pÃ¡gina. Habitualmente se[m
[32m+[m[32mutilizan junto con JavaScript para crear efectos dinÃ¡micos como mostrar y ocultar[m
[32m+[m[32mdeterminados textos o imÃ¡genes cuando el usuario pincha sobre ellos.[m
[32m+[m
[32m+[m[32mLa propiedad display permite ocultar completamente un elemento haciendo que[m
[32m+[m[32mdesaparezca de la pÃ¡gina. Como el elemento oculto no se muestra, el resto de elementos[m
[32m+[m[32mde la pÃ¡gina se mueven para ocupar su lugar.[m
[32m+[m
[32m+[m[32mPor otra parte, la propiedad visibility permite hacer invisible un elemento, lo que[m
[32m+[m[32msignifica que el navegador crea la caja del elemento pero no la muestra. En este caso, el[m
[32m+[m[32mresto de elementos de la pÃ¡gina no modifican su posiciÃ³n, ya que aunque la caja no se ve,[m
[32m+[m[32msigue ocupando sitio.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra la diferencia entre ocultar la caja nÃºmero 5 mediante la[m
[32m+[m[32mpropiedad display o hacerla invisible mediante la propiedad visibility:[m
[32m+[m
[32m+[m[32mFigura 5.22. Diferencias visuales entre las propiedades display y visibility[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                              97[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mEn general, cuando se oculta un elemento no es deseable que siga ocupando sitio en la[m
[32m+[m[32mpÃ¡gina, por lo que la propiedad display se utiliza mucho mÃ¡s que la propiedad[m
[32m+[m[32mvisibility.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la definiciÃ³n completa de la propiedad display:[m
[32m+[m
[32m+[m[32m  display           VisualizaciÃ³n de un elemento[m
[32m+[m
[32m+[m[32mValores             inline | block | none | list-item | run-in | inline-block |[m
[32m+[m[32m                    table | inline-table | table-row-group | table-header-group[m
[32m+[m[32mSe aplica a         | table-footer-group | table-row | table-column-group |[m
[32m+[m[32mValor inicial       table-column | table-cell | table-caption | inherit[m
[32m+[m[32mDescripciÃ³n[m
[32m+[m[32m                    Todos los elementos[m
[32m+[m
[32m+[m[32m                    inline[m
[32m+[m
[32m+[m[32m                    Permite controlar la forma de visualizar un elemento e incluso ocultarlo[m
[32m+[m
[32m+[m[32mLas posibilidades de la propiedad display son mucho mÃ¡s avanzadas que simplemente[m
[32m+[m[32mocultar elementos. En realidad, la propiedad display modifica la forma en la que se[m
[32m+[m[32mvisualiza un elemento.[m
[32m+[m
[32m+[m[32mLos valores mÃ¡s utilizados son inline, block y none. El valor block muestra un[m
[32m+[m[32melemento como si fuera un elemento de bloque, independientemente del tipo de[m
[32m+[m[32melemento que se trate. El valor inline visualiza un elemento en forma de elemento en[m
[32m+[m[32mlÃ­nea, independientemente del tipo de elemento que se trate.[m
[32m+[m
[32m+[m[32mEl valor none oculta un elemento y hace que desaparezca de la pÃ¡gina. El resto de[m
[32m+[m[32melementos de la pÃ¡gina se visualizan como si no existiera el elemento oculto, es decir,[m
[32m+[m[32mpueden ocupar el espacio en el que se deberÃ­a visualizar el elemento.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra el uso de la propiedad display para mostrar un elemento[m
[32m+[m[32mde bloque como si fuera un elemento en lÃ­nea y para mostrar un elemento en lÃ­nea como[m
[32m+[m[32msi fuera un elemento de bloque:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    98[m
[32m+[m[32mIntroducciÃ³n a CSS                     CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m                               Figura 5.23. Ejemplo de propiedad display[m
[32m+[m
[32m+[m[32mLas reglas CSS del ejemplo anterior son las siguientes:[m
[32m+[m
[32m+[m[32m     <div>DIV normal</div>[m
[32m+[m[32m     <div style="display:inline">DIV con display:inline</div>[m
[32m+[m
[32m+[m[32m     <a href="#">Enlace normal</a>[m
[32m+[m[32m     <a href="#" style="display:block">Enlace con display:block</a>[m
[32m+[m
[32m+[m[32mComo se verÃ¡ mÃ¡s adelante, la propiedad display: inline se puede utilizar en las listas[m
[32m+[m[32m(<ul>, <ol>) que se quieren mostrar horizontalmente y la propiedad display: block se[m
[32m+[m[32memplea frecuentemente para los enlaces que forman el menÃº de navegaciÃ³n.[m
[32m+[m
[32m+[m[32mPor su parte, la definiciÃ³n completa de la propiedad visibility es mucho mÃ¡s sencilla:[m
[32m+[m
[32m+[m[32mvisibility Visibilidad de un elemento[m
[32m+[m
[32m+[m[32mValores             visible | hidden | collapse | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       visible[m
[32m+[m[32mDescripciÃ³n         Permite hacer visibles e invisibles a los elementos[m
[32m+[m
[32m+[m[32mLas posibilidades de la propiedad visibility son mucho mÃ¡s limitadas que las de la[m
[32m+[m[32mpropiedad display, ya que sÃ³lo permite hacer visibles o invisibles a los elementos de la[m
[32m+[m[32mpÃ¡gina.[m
[32m+[m
[32m+[m[32mInicialmente todas las cajas que componen la pÃ¡gina son visibles. Empleando el valor[m
[32m+[m[32mhidden es posible convertir una caja en invisible para que no muestre sus contenidos. El[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                         99[m
[32m+[m[32mIntroducciÃ³n a CSS                      CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mresto de elementos de la pÃ¡gina se muestran como si la caja todavÃ­a fuera visible, por lo[m
[32m+[m[32mque en el lugar donde originalmente se mostraba la caja invisible, ahora se muestra un[m
[32m+[m[32mhueco vacÃ­o.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, el valor collapse de la propiedad visibility sÃ³lo se puede utilizar en las[m
[32m+[m[32mfilas, grupos de filas, columnas y grupos de columnas de una tabla. Su efecto es similar al[m
[32m+[m[32mde la propiedad display, ya que oculta completamente la fila y/o columna y se pueden[m
[32m+[m[32mmostrar otros contenidos en ese lugar. Si se utiliza el valor collapse sobre cualquier[m
[32m+[m[32motro tipo de elemento, su efecto es idÃ©ntico al valor hidden.[m
[32m+[m
[32m+[m[32m5.8.2. RelaciÃ³n entre display, float y position[m
[32m+[m
[32m+[m[32mCuando se establecen las propiedades display, float y position sobre una misma caja,[m
[32m+[m[32msu interpretaciÃ³n es la siguiente:[m
[32m+[m
[32m+[m[32m      1. Si display vale none, se ignoran las propiedades float y position y la caja no[m
[32m+[m[32m           se muestra en la pÃ¡gina.[m
[32m+[m
[32m+[m[32m      2. Si position vale absolute o fixed, la caja se posiciona de forma absoluta, se[m
[32m+[m[32m           considera que float vale none y la propiedad display vale block tanto para los[m
[32m+[m[32m           elementos en lÃ­nea como para los elementos de bloque. La posiciÃ³n de la caja se[m
[32m+[m[32m           determina mediante el valor de las propiedades top, right, bottom y left.[m
[32m+[m
[32m+[m[32m      3. En cualquier otro caso, si float tiene un valor distinto de none, la caja se[m
[32m+[m[32m           posiciona de forma flotante y la propiedad display vale block tanto para los[m
[32m+[m[32m           elementos en lÃ­nea como para los elementos de bloque.[m
[32m+[m
[32m+[m[32m5.8.3. Propiedad overflow[m
[32m+[m
[32m+[m[32mNormalmente, los contenidos de un elemento se pueden mostrar en el espacio reservado[m
[32m+[m[32mpara ese elemento. Sin embargo, en algunas ocasiones el contenido de un elemento no[m
[32m+[m[32mcabe en el espacio reservado para ese elemento y se desborda.[m
[32m+[m
[32m+[m[32mLa situaciÃ³n mÃ¡s habitual en la que el contenido sobresale de su espacio reservado es[m
[32m+[m[32mcuando se establece la anchura y/o altura de un elemento mediante la propiedad width[m
[32m+[m[32my/o height. Otra situaciÃ³n habitual es la de las lÃ­neas muy largas contenidas dentro de[m
[32m+[m[32mun elemento <pre>, que hacen que la pÃ¡gina entera sea demasiado ancha.[m
[32m+[m
[32m+[m[32mCSS define la propiedad overflow para controlar la forma en la que se visualizan los[m
[32m+[m[32mcontenidos que sobresalen de sus elementos.[m
[32m+[m
[32m+[m[32moverflow Parte sobrante de un elemento[m
[32m+[m
[32m+[m[32mValores             visible | hidden | scroll | auto | inherit[m
[32m+[m[32mSe aplica a         Elementos de bloque y celdas de tablas[m
[32m+[m[32mValor inicial       visible[m
[32m+[m[32mDescripciÃ³n         Permite controlar los contenidos sobrantes de un elemento[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               100[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32mLos valores de la propiedad overflow tienen el siguiente significado:[m
[32m+[m
[32m+[m[32m    â–ª visible: el contenido no se corta y se muestra sobresaliendo la zona reservada[m
[32m+[m[32m       para visualizar el elemento. Este es el comportamiento por defecto.[m
[32m+[m
[32m+[m[32m    â–ª hidden: el contenido sobrante se oculta y sÃ³lo se visualiza la parte del contenido[m
[32m+[m[32m       que cabe dentro de la zona reservada para el elemento.[m
[32m+[m
[32m+[m[32m    â–ª scroll: solamente se visualiza el contenido que cabe dentro de la zona reservada[m
[32m+[m[32m       para el elemento, pero tambiÃ©n se muestran barras de scroll que permiten[m
[32m+[m[32m       visualizar el resto del contenido.[m
[32m+[m
[32m+[m[32m    â–ª auto: el comportamiento depende del navegador, aunque normalmente es el[m
[32m+[m[32m       mismo que la propiedad scroll.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra un ejemplo de los tres valores tÃ­picos de la propiedad[m
[32m+[m[32moverflow:[m
[32m+[m
[32m+[m[32m                              Figura 5.24. Ejemplo de propiedad overflow[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS del ejemplo anterior se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         display: inline;[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         margin: 1em;[m
[32m+[m[32m         padding: .3em;[m
[32m+[m[32m         border: 2px solid #555;[m
[32m+[m[32m         width: 100px;[m
[32m+[m[32m         height: 150px;[m
[32m+[m[32m         font: 1em Arial, Helvetica, sans-serif;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m<div><h1>overflow: visible</h1> Lorem ipsum dolor sit amet, consectetuer[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                          101[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m     adipiscing elit. Cras vitae dolor eu enim dignissim lacinia. Maecenas[m
[32m+[m[32m     blandit. Morbi mi.</div>[m
[32m+[m
[32m+[m[32m     <div style="overflow:hidden"><h1>overflow: hidden</h1> Lorem ipsum dolor[m
[32m+[m[32m     sit amet, consectetuer adipiscing elit. Cras vitae dolor eu enim dignissim[m
[32m+[m[32m     lacinia. Maecenas blandit. Morbi mi.</div>[m
[32m+[m
[32m+[m[32m     <div style="overflow:scroll"><h1>overflow: scroll</h1> Lorem ipsum dolor sit[m
[32m+[m[32m     amet, consectetuer adipiscing elit. Cras vitae dolor eu enim dignissim lacinia.[m
[32m+[m[32m     Maecenas blandit. Morbi mi.</div>[m
[32m+[m
[32m+[m[32m5.8.4. Propiedad z-index[m
[32m+[m
[32m+[m[32mAdemÃ¡s de posicionar una caja de forma horizontal y vertical, CSS permite controlar la[m
[32m+[m[32mposiciÃ³n tridimensional de las cajas posicionadas. De esta forma, es posible indicar las[m
[32m+[m[32mcajas que se muestran delante o detrÃ¡s de otras cajas cuando se producen[m
[32m+[m[32msolapamientos.[m
[32m+[m
[32m+[m[32mLa posiciÃ³n tridimensional de un elemento se establece sobre un tercer eje llamado Z y[m
[32m+[m[32mse controla mediante la propiedad z-index. Utilizando esta propiedad es posible crear[m
[32m+[m[32mpÃ¡ginas complejas con varios niveles o capas.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la definiciÃ³n formal de la propiedad z-index:[m
[32m+[m
[32m+[m[32m  z-index           Orden tridimensional[m
[32m+[m
[32m+[m[32mValores             auto | <numero> | inherit[m
[32m+[m[32mSe aplica a         Elementos que han sido posicionados explÃ­citamente[m
[32m+[m[32mValor inicial       auto[m
[32m+[m[32mDescripciÃ³n         Establece el nivel tridimensional en el que se muestra el elemento[m
[32m+[m
[32m+[m[32mEl valor mÃ¡s comÃºn de la propiedad z-index es un nÃºmero entero. Aunque la[m
[32m+[m[32mespecificaciÃ³n oficial permite los nÃºmeros negativos, en general se considera el nÃºmero[m
[32m+[m[32m0 como el nivel mÃ¡s bajo.[m
[32m+[m
[32m+[m[32mCuanto mÃ¡s alto sea el valor numÃ©rico, mÃ¡s cerca del usuario se muestra la caja. Un[m
[32m+[m[32melemento con z-index: 10 se muestra por encima de los elementos con z-index: 8 o[m
[32m+[m[32mz-index: 9, pero por debajo de elementos con z-index: 20 o z-index: 50.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra un ejemplo de uso de la propiedad z-index:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        102[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 5. Posicionamiento y visualizaciÃ³n[m
[32m+[m
[32m+[m[32m                               Figura 5.25. Ejemplo de propiedad z-index[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS del ejemplo anterior es el siguiente:[m
[32m+[m
[32m+[m[32m     div { position: absolute; }[m
[32m+[m[32m     #caja1 { z-index: 5; top: 1em; left: 8em;}[m
[32m+[m[32m     #caja2 { z-index: 15; top: 5em; left: 5em;}[m
[32m+[m[32m     #caja3 { z-index: 25; top: 2em; left: 2em;}[m
[32m+[m
[32m+[m[32m     <div id="caja1">Caja 1 - Caja 1 - Caja 1 - Caja 1 - Caja 1 - Caja 1 -[m
[32m+[m[32m     Caja 1 - Caja 1 - Caja 1 - Caja 1 - Caja 1 - Caja 1 - Caja 1 - Caja 1 -[m
[32m+[m[32m     Caja 1 - Caja 1 - Caja 1 - Caja 1</div>[m
[32m+[m
[32m+[m[32m     <div id="caja2">Caja 2 - Caja 2 - Caja 2 - Caja 2 - Caja 2 - Caja 2 -[m
[32m+[m[32m     Caja 2 - Caja 2 - Caja 2 - Caja 2 - Caja 2 - Caja 2 - Caja 2 - Caja 2 -[m
[32m+[m[32m     Caja 2 - Caja 2 - Caja 2 - Caja 2</div>[m
[32m+[m
[32m+[m[32m     <div id="caja3">Caja 3 - Caja 3 - Caja 3 - Caja 3 - Caja 3 - Caja 3 -[m
[32m+[m[32m     Caja 3 - Caja 3 - Caja 3 - Caja 3 - Caja 3 - Caja 3 - Caja 3 - Caja 3 -[m
[32m+[m[32m     Caja 3 - Caja 3 - Caja 3 - Caja 3</div>[m
[32m+[m
[32m+[m[32mLa propiedad z-index sÃ³lo tiene efecto en los elementos posicionados, por lo que es[m
[32m+[m[32mobligatorio que la propiedad z-index vaya acompaÃ±ada de la propiedad position. Si[m
[32m+[m[32mdebes posicionar un elemento pero no quieres moverlo de su posiciÃ³n original ni afectar[m
[32m+[m[32mal resto de elementos de la pÃ¡gina, puedes utilizar el posicionamiento relativo[m
[32m+[m[32m(position: relative).[m
[32m+[m
[32m+[m[32mwww.librosweb.es    103[m
[32m+[m[32mIntroducciÃ³n a CSS                                                       CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mCapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m6.1. TipografÃ­a[m
[32m+[m
[32m+[m[32mCSS define numerosas propiedades para modificar la apariencia del texto. A pesar de[m
[32m+[m[32mque no dispone de tantas posibilidades como los lenguajes y programas especÃ­ficos para[m
[32m+[m[32mcrear documentos impresos, CSS permite aplicar estilos complejos y muy variados al[m
[32m+[m[32mtexto de las pÃ¡ginas web.[m
[32m+[m
[32m+[m[32mLa propiedad bÃ¡sica que define CSS relacionada con la tipografÃ­a se denomina color y se[m
[32m+[m[32mutiliza para establecer el color de la letra.[m
[32m+[m
[32m+[m[32m    color           Color del texto[m
[32m+[m
[32m+[m[32mValores             <color> | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       Depende del navegador[m
[32m+[m[32mDescripciÃ³n         Establece el color de letra utilizado para el texto[m
[32m+[m
[32m+[m[32mAunque el color por defecto del texto depende del navegador, todos los navegadores[m
[32m+[m[32mprincipales utilizan el color negro. Para establecer el color de letra de un texto, se puede[m
[32m+[m[32mutilizar cualquiera de las cinco formas que incluye CSS para definir un color.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran varias reglas CSS que establecen el color del texto de[m
[32m+[m[32mdiferentes formas:[m
[32m+[m
[32m+[m[32m     h1 { color: #369; }[m
[32m+[m[32m     p { color: black; }[m
[32m+[m[32m     a, span { color: #B1251E; }[m
[32m+[m[32m     div { color: rgb(71, 98, 176); }[m
[32m+[m
[32m+[m[32mComo el valor de la propiedad color se hereda, normalmente se establece la propiedad[m
[32m+[m[32mcolor en el elemento body para establecer el color de letra de todos los elementos de la[m
[32m+[m[32mpÃ¡gina:[m
[32m+[m
[32m+[m[32m     body { color: #777; }[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, todos los elementos de la pÃ¡gina muestran el mismo color de[m
[32m+[m[32mletra salvo que establezcan de forma explÃ­cita otro color. La Ãºnica excepciÃ³n de este[m
[32m+[m[32mcomportamiento son los enlaces que se crean con la etiqueta <a>. Aunque el color de la[m
[32m+[m[32mletra se hereda de los elementos padre a los elementos hijo, con los enlaces no sucede lo[m
[32m+[m[32mmismo, por lo que es necesario indicar su color de forma explÃ­cita:[m
[32m+[m
[32m+[m[32m     /* Establece el mismo color a todos los elementos de[m
[32m+[m[32m          la pÃ¡gina salvo los enlaces */[m
[32m+[m
[32m+[m[32m     body { color: #777; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                         104[m
[32m+[m[32mIntroducciÃ³n a CSS         CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m     /* Establece el mismo color a todos los elementos de[m
[32m+[m[32m          la pÃ¡gina, incluyendo los enlaces */[m
[32m+[m
[32m+[m[32m     body, a { color: #777; }[m
[32m+[m
[32m+[m[32mLa otra propiedad bÃ¡sica que define CSS relacionada con la tipografÃ­a se denomina[m
[32m+[m[32mfont-family y se utiliza para indicar el tipo de letra con el que se muestra el texto.[m
[32m+[m
[32m+[m[32mfont-family Tipo de letra[m
[32m+[m
[32m+[m[32mValores             (( <nombre_familia> | <familia_generica> )[m
[32m+[m[32m                    (,<nombre_familia> | <familia_generica>)* ) | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       Depende del navegador[m
[32m+[m[32mDescripciÃ³n         Establece el tipo de letra utilizado para el texto[m
[32m+[m
[32m+[m[32mEl tipo de letra del texto se puede indicar de dos formas diferentes:[m
[32m+[m
[32m+[m[32m    â–ª Mediante el nombre de una familia tipogrÃ¡fica: en otras palabras, mediante el[m
[32m+[m[32m       nombre del tipo de letra, como por ejemplo "Arial", "Verdana", "Garamond", etc.[m
[32m+[m
[32m+[m[32m    â–ª Mediante el nombre genÃ©rico de una familia tipogrÃ¡fica: los nombres genÃ©ricos no[m
[32m+[m[32m       se refieren a ninguna fuente en concreto, sino que hacen referencia al estilo del[m
[32m+[m[32m       tipo de letra. Las familias genÃ©ricas definidas son serif (tipo de letra similar a[m
[32m+[m[32m       Times New Roman), sans-serif (tipo Arial), cursive (tipo Comic Sans), fantasy[m
[32m+[m[32m       (tipo Impact) y monospace (tipo Courier New).[m
[32m+[m
[32m+[m[32mLos navegadores muestran el texto de las pÃ¡ginas web utilizando los tipos de letra[m
[32m+[m[32minstalados en el ordenador o dispositivo del propio usuario. De esta forma, si el[m
[32m+[m[32mdiseÃ±ador indica en la propiedad font-family que el texto debe mostrarse con un tipo[m
[32m+[m[32mde letra especialmente raro o rebuscado, casi ningÃºn usuario dispondrÃ¡ de ese tipo de[m
[32m+[m[32mletra.[m
[32m+[m
[32m+[m[32mPara evitar el problema comÃºn de que el usuario no tenga instalada la fuente que quiere[m
[32m+[m[32mutilizar el diseÃ±ador, CSS permite indicar en la propiedad font-family mÃ¡s de un tipo de[m
[32m+[m[32mletra. El navegador probarÃ¡ en primer lugar con el primer tipo de letra indicado. Si el[m
[32m+[m[32musuario la tiene instalada, el texto se muestra con ese tipo de letra.[m
[32m+[m
[32m+[m[32mSi el usuario no dispone del primer tipo de letra indicado, el navegador irÃ¡ probando con[m
[32m+[m[32mel resto de tipos de letra hasta que encuentre alguna fuente que estÃ© instalada en el[m
[32m+[m[32mordenador del usuario. Evidentemente, el diseÃ±ador no puede indicar para cada[m
[32m+[m[32mpropiedad font-family tantos tipos de letra como posibles fuentes parecidas existan.[m
[32m+[m
[32m+[m[32mPara solucionar este problema se utilizan las familias tipogrÃ¡ficas genÃ©ricas. Cuando la[m
[32m+[m[32mpropiedad font-family toma un valor igual a sans-serif, el diseÃ±ador no indica al[m
[32m+[m[32mnavegador que debe utilizar la fuente Arial, sino que debe utilizar "la fuente que mÃ¡s se[m
[32m+[m[32mparezca a Arial de todas las que tiene instaladas el usuario".[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                           105[m
[32m+[m[32mIntroducciÃ³n a CSS         CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mPor todo ello, el valor de font-family suele definirse como una lista de tipos de letra[m
[32m+[m[32malternativos separados por comas. El Ãºltimo valor de la lista es el nombre de la familia[m
[32m+[m[32mtipogrÃ¡fica genÃ©rica que mÃ¡s se parece al tipo de letra que se quiere utilizar.[m
[32m+[m
[32m+[m[32mLas listas de tipos de letra mÃ¡s utilizadas son las siguientes:[m
[32m+[m
[32m+[m[32m     font-family: Arial, Helvetica, sans-serif;[m
[32m+[m[32m     font-family: "Times New Roman", Times, serif;[m
[32m+[m[32m     font-family: "Courier New", Courier, monospace;[m
[32m+[m[32m     font-family: Georgia, "Times New Roman", Times, serif;[m
[32m+[m[32m     font-family: Verdana, Arial, Helvetica, sans-serif;[m
[32m+[m
[32m+[m[32mYa que las fuentes que se utilizan en la pÃ¡gina deben estar instaladas en el ordenador del[m
[32m+[m[32musuario, cuando se quiere disponer de un diseÃ±o complejo con fuentes muy especiales,[m
[32m+[m[32mse debe recurrir a soluciones alternativas.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n mÃ¡s sencilla consiste en crear imÃ¡genes en las que se muestra el texto con la[m
[32m+[m[32mfuente deseada. Esta tÃ©cnica solamente es viable para textos cortos (por ejemplo los[m
[32m+[m[32mtitulares de una pÃ¡gina) y puede ser manual (creando las imÃ¡genes una por una) o[m
[32m+[m[32mautomÃ¡tica, utilizando JavaScript, PHP y/o CSS.[m
[32m+[m
[32m+[m[32mOtra alternativa es la de la sustituciÃ³n automÃ¡tica de texto basada en Flash. La tÃ©cnica[m
[32m+[m[32mmÃ¡s conocida es la de sIFR, de la que se puede encontrar mÃ¡s informaciÃ³n en[m
[32m+[m[32mhttp://wiki.novemberborn.net/sifr[m
[32m+[m
[32m+[m[32mUna vez seleccionado el tipo de letra, se puede modificar su tamaÃ±o mediante la[m
[32m+[m[32mpropiedad font-size.[m
[32m+[m
[32m+[m[32mfont-size TamaÃ±o de letra[m
[32m+[m
[32m+[m[32mValores             <tamaÃ±o_absoluto> | <tamaÃ±o_relativo> | <medida> |[m
[32m+[m[32m                    <porcentaje> | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       medium[m
[32m+[m[32mDescripciÃ³n         Establece el tamaÃ±o de letra utilizado para el texto[m
[32m+[m
[32m+[m[32mAdemÃ¡s de todas las unidades de medida relativas y absolutas y el uso de porcentajes,[m
[32m+[m[32mCSS permite utilizar una serie de palabras clave para indicar el tamaÃ±o de letra del texto:[m
[32m+[m
[32m+[m[32m    â–ª tamaÃ±o_absoluto: indica el tamaÃ±o de letra de forma absoluta mediante alguna de[m
[32m+[m[32m       las siguientes palabras clave: xx-small, x-small, small, medium, large, x-large,[m
[32m+[m[32m       xx-large.[m
[32m+[m
[32m+[m[32m    â–ª tamaÃ±o_relativo: indica de forma relativa el tamaÃ±o de letra del texto mediante[m
[32m+[m[32m       dos palabras clave (larger, smaller) que toman como referencia el tamaÃ±o de[m
[32m+[m[32m       letra del elemento padre.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra una comparaciÃ³n entre los tamaÃ±os tÃ­picos del texto y las[m
[32m+[m[32munidades que mÃ¡s se utilizan:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                          106[m
[32m+[m[32mIntroducciÃ³n a CSS               CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m  Figura 6.1. ComparaciÃ³n visual de las distintas unidades para indicar el tamaÃ±o del texto[m
[32m+[m
[32m+[m[32mCSS recomienda indicar el tamaÃ±o del texto en la unidad em o en porcentaje (%). AdemÃ¡s,[m
[32m+[m[32mes habitual indicar el tamaÃ±o del texto en puntos (pt) cuando el documento estÃ¡[m
[32m+[m[32mespecÃ­ficamente diseÃ±ado para imprimirlo.[m
[32m+[m
[32m+[m[32mPor defecto los navegadores asignan los siguientes tamaÃ±os a los tÃ­tulos de secciÃ³n: <h1>[m
[32m+[m[32m= xx-large, <h2> = x-large, <h3> = large, <h4> = medium, <h5> = small, <h6> = xx-small.[m
[32m+[m
[32m+[m[32mUna vez indicado el tipo y el tamaÃ±o de letra, es habitual modificar otras caracterÃ­sticas[m
[32m+[m[32mcomo su grosor (texto en negrita) y su estilo (texto en cursiva). La propiedad que[m
[32m+[m[32mcontrola la anchura de la letra es font-weight.[m
[32m+[m
[32m+[m[32mfont-weight Anchura de la letra[m
[32m+[m
[32m+[m[32mValores             normal | bold | bolder | lighter | 100 | 200 | 300 | 400[m
[32m+[m[32m                    | 500 | 600 | 700 | 800 | 900 | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       normal[m
[32m+[m[32mDescripciÃ³n         Establece la anchura de la letra utilizada para el texto[m
[32m+[m
[32m+[m[32mLos valores que normalmente se utilizan son normal (el valor por defecto) y bold para[m
[32m+[m[32mlos textos en negrita. El valor normal equivale al valor numÃ©rico 400 y el valor bold al[m
[32m+[m[32mvalor numÃ©rico 700.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra una aplicaciÃ³n prÃ¡ctica de la propiedad font-weight:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                 107[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m                             Figura 6.2. Ejemplo de propiedad font-weight[m
[32m+[m
[32m+[m[32mPor defecto, los navegadores muestran el texto de los elementos <em> en cursiva y el[m
[32m+[m[32mtexto de los elementos <strong> en negrita. La propiedad font-weight permite alterar[m
[32m+[m[32mese aspecto por defecto y mostrar por ejemplo los elementos <em> como cursiva y[m
[32m+[m[32mnegrita y los elementos <strong> destacados mediante un color de fondo y sin negrita.[m
[32m+[m
[32m+[m[32mLas reglas CSS del ejemplo anterior se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     #especial em {[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #especial strong {[m
[32m+[m
[32m+[m[32m         font-weight: normal;[m
[32m+[m[32m         background-color: #FFFF66;[m
[32m+[m[32m         padding: 2px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Ut in[m
[32m+[m[32m     purus ac <em>libero nonummy vestibulum</em>. Nullam molestie, nunc id[m
[32m+[m[32m     nonummy laoreet, <strong>tortor diam mollis elit</strong>, quis hendrerit[m
[32m+[m[32m     libero lorem vitae nunc.</p>[m
[32m+[m
[32m+[m[32m     <p id="especial">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.[m
[32m+[m[32m     Ut in purus ac <em>libero nonummy vestibulum</em>. Nullam molestie, nunc id[m
[32m+[m[32m     nonummy laoreet, <strong>tortor diam mollis elit</strong>, quis hendrerit[m
[32m+[m[32m     libero lorem vitae nunc.</p>[m
[32m+[m
[32m+[m[32mAdemÃ¡s de la anchura de la letra, CSS permite variar su estilo mediante la propiedad[m
[32m+[m[32mfont-style.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    108[m
[32m+[m[32mIntroducciÃ³n a CSS                                                           CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mfont-style Estilo de la letra[m
[32m+[m
[32m+[m[32mValores             normal | italic | oblique | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       normal[m
[32m+[m[32mDescripciÃ³n         Establece el estilo de la letra utilizada para el texto[m
[32m+[m
[32m+[m[32mNormalmente la propiedad font-style se emplea para mostrar un texto en cursiva[m
[32m+[m[32mmediante el valor italic.[m
[32m+[m
[32m+[m[32mEl ejemplo anterior se puede modificar para personalizar aun mÃ¡s el aspecto por defecto[m
[32m+[m[32mde los elementos <em> y <strong>:[m
[32m+[m
[32m+[m[32m                              Figura 6.3. Ejemplo de propiedad font-style[m
[32m+[m
[32m+[m[32mAhora, el texto del elemento <em> se muestra como un texto en negrita y el texto del[m
[32m+[m[32melemento <strong> se muestra como un texto en cursiva con un color de fondo muy[m
[32m+[m[32mdestacado.[m
[32m+[m
[32m+[m[32mEl Ãºnico cambio necesario en las reglas CSS anteriores es el de aÃ±adir la propiedad[m
[32m+[m[32mfont-style:[m
[32m+[m
[32m+[m[32m     #especial em {[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m[32m         font-style: normal;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #especial strong {[m
[32m+[m
[32m+[m[32m         font-weight: normal;[m
[32m+[m[32m         font-style: italic;[m
[32m+[m[32m         background-color:#FFFF66;[m
[32m+[m[32m         padding: 2px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                             109[m
[32m+[m[32mIntroducciÃ³n a CSS                           CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mPor Ãºltimo, CSS permite otra variaciÃ³n en el estilo del tipo de letra, controlado mediante[m
[32m+[m[32mla propiedad font-variant.[m
[32m+[m
[32m+[m[32mfont-variant Estilo alternativo de la letra[m
[32m+[m
[32m+[m[32mValores             normal | small-caps | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       normal[m
[32m+[m[32mDescripciÃ³n         Establece el estilo alternativo de la letra utilizada para el texto[m
[32m+[m
[32m+[m[32mLa propiedad font-variant no se suele emplear habitualmente, ya que sÃ³lo permite[m
[32m+[m[32mmostrar el texto con letra versal (mayÃºsculas pequeÃ±as).[m
[32m+[m
[32m+[m[32mSiguiendo con el ejemplo anterior, se ha aplicado la propiedad font-variant:[m
[32m+[m[32msmall-caps al segundo pÃ¡rrafo de texto:[m
[32m+[m
[32m+[m[32m                             Figura 6.4. Ejemplo de propiedad font-variant[m
[32m+[m
[32m+[m[32mPara este Ãºltimo ejemplo, solamente es necesario aÃ±adir una regla a los estilos CSS:[m
[32m+[m
[32m+[m[32m     #especial {[m
[32m+[m[32m         font-variant: small-caps;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPor otra parte, CSS proporciona una propiedad tipo "shorthand" denominada font y que[m
[32m+[m[32mpermite indicar de forma directa algunas o todas las propiedades de la tipografÃ­a de un[m
[32m+[m[32mtexto.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                         110[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m    font            TipografÃ­a[m
[32m+[m
[32m+[m[32mValores             ( ( <font-style> || <font-variant> || <font-weight> )?[m
[32m+[m[32m                    <font-size> ( / <line-height> )? <font-family> ) | caption[m
[32m+[m[32mSe aplica a         | icon | menu | message-box | small-caption | status-bar |[m
[32m+[m[32mValor inicial       inherit[m
[32m+[m[32mDescripciÃ³n[m
[32m+[m[32m                    Todos los elementos[m
[32m+[m
[32m+[m[32m                    -[m
[32m+[m
[32m+[m[32m                    Permite indicar de forma directa todas las propiedades de la tipografÃ­a de un[m
[32m+[m[32m                    texto[m
[32m+[m
[32m+[m[32mEl orden en el que se deben indicar las propiedades del texto es el siguiente:[m
[32m+[m
[32m+[m[32m    â–ª En primer lugar y de forma opcional se indican el font-style, font-variant y[m
[32m+[m[32m       font-weight en cualquier orden.[m
[32m+[m
[32m+[m[32m    â–ª A continuaciÃ³n, se indica obligatoriamente el valor de font-size seguido[m
[32m+[m[32m       opcionalmente por el valor de line-height.[m
[32m+[m
[32m+[m[32m    â–ª Por Ãºltimo, se indica obligatoriamente el tipo de letra a utilizar.[m
[32m+[m
[32m+[m[32mEjemplos de uso de la propiedad font:[m
[32m+[m
[32m+[m[32m     font: 76%/140% Verdana,Arial,Helvetica,sans-serif;[m
[32m+[m[32m     font: normal 24px/26px "Century Gothic","Trebuchet[m
[32m+[m[32m     MS",Arial,Helvetica,sans-serif;[m
[32m+[m[32m     font: normal .94em "Trebuchet MS",Arial,Helvetica,sans-serif;[m
[32m+[m[32m     font: bold 1em "Trebuchet MS",Arial,Sans-Serif;[m
[32m+[m[32m     font: normal 0.9em "Lucida Grande", Verdana, Arial, Helvetica, sans-serif;[m
[32m+[m[32m     font: normal 1.2em/1em helvetica, arial, sans-serif;[m
[32m+[m[32m     font: 11px verdana, sans-serif;[m
[32m+[m[32m     font: normal 1.4em/1.6em "helvetica", arial, sans-serif;[m
[32m+[m[32m     font: bold 14px georgia, times, serif;[m
[32m+[m
[32m+[m[32mAunque su uso no es muy comÃºn, la propiedad font tambiÃ©n permite indicar el tipo de[m
[32m+[m[32mletra a utilizar mediante una serie de palabras clave: caption, icon, menu, message-box,[m
[32m+[m[32msmall-caption, status-bar.[m
[32m+[m
[32m+[m[32mSi por ejemplo se utiliza la palabra status-bar, el navegador muestra el texto con el[m
[32m+[m[32mmismo tipo de letra que la que utiliza el sistema operativo para mostrar los textos de la[m
[32m+[m[32mbarra de estado de las ventanas. La palabra icon se puede utilizar para mostrar el texto[m
[32m+[m[32mcon el mismo tipo de letra que utiliza el sistema operativo para mostrar el nombre de los[m
[32m+[m[32miconos y asÃ­ sucesivamente.[m
[32m+[m
[32m+[m[32m Ejercicio 7 Ver enunciado en la pÃ¡gina 209[m
[32m+[m
[32m+[m[32m6.2. Texto[m
[32m+[m
[32m+[m[32mAdemÃ¡s de las propiedades relativas a la tipografÃ­a del texto, CSS define numerosas[m
[32m+[m[32mpropiedades que determinan la apariencia del texto en su conjunto. Estas propiedades[m
[32m+[m
[32m+[m[32mwww.librosweb.es    111[m
[32m+[m[32mIntroducciÃ³n a CSS                                                      CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32madicionales permiten controlar al alineaciÃ³n del texto, el interlineado, la separaciÃ³n[m
[32m+[m[32mentre palabras, etc.[m
[32m+[m
[32m+[m[32mLa propiedad que define la alineaciÃ³n del texto se denomina text-align.[m
[32m+[m
[32m+[m[32mtext-align AlineaciÃ³n del texto[m
[32m+[m
[32m+[m[32mValores             left | right | center | justify | inherit[m
[32m+[m[32mSe aplica a         Elementos de bloque y celdas de tabla[m
[32m+[m[32mValor inicial       left[m
[32m+[m[32mDescripciÃ³n         Establece la alineaciÃ³n del contenido del elemento[m
[32m+[m
[32m+[m[32mLos valores definidos por CSS permiten alinear el texto segÃºn los valores tradicionales: a[m
[32m+[m[32mla izquierda (left), a la derecha (right), centrado (center) y justificado (justify).[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra el efecto de establecer el valor left, right, center y[m
[32m+[m[32mjustify respectivamente a cada uno de los pÃ¡rrafos de la pÃ¡gina.[m
[32m+[m
[32m+[m[32m                              Figura 6.5. Ejemplo de propiedad text-align[m
[32m+[m
[32m+[m[32mLa propiedad text-align no sÃ³lo alinea el texto que contiene un elemento, sino que[m
[32m+[m[32mtambiÃ©n alinea todos sus contenidos, como por ejemplo las imÃ¡genes.[m
[32m+[m
[32m+[m[32mEl interlineado de un texto se controla mediante la propiedad line-height, que permite[m
[32m+[m[32mcontrolar la altura ocupada por cada lÃ­nea de texto:[m
[32m+[m
[32m+[m[32mline-height Interlineado[m
[32m+[m
[32m+[m[32mValores             normal | <numero> | <medida> | <porcentaje> | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       normal[m
[32m+[m[32mDescripciÃ³n         Permite establecer la altura de lÃ­nea de los elementos[m
[32m+[m
[32m+[m[32mAdemÃ¡s de todas las unidades de medida y el uso de porcentajes, la propiedad[m
[32m+[m[32mline-height permite indicar un nÃºmero sin unidades que se interpreta como el[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                            112[m
[32m+[m[32mIntroducciÃ³n a CSS                    CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mmÃºltiplo del tamaÃ±o de letra del elemento. Por tanto, estas tres reglas CSS son[m
[32m+[m[32mequivalentes:[m
[32m+[m
[32m+[m[32m     p { line-height: 1.2; font-size: 1em }[m
[32m+[m[32m     p { line-height: 1.2em; font-size: 1em }[m
[32m+[m[32m     p { line-height: 120%; font-size: 1em }[m
[32m+[m
[32m+[m[32mSiempre que se utilice de forma moderada, el interlineado mejora notablemente la[m
[32m+[m[32mlegibilidad de un texto, como se puede observar en la siguiente imagen:[m
[32m+[m
[32m+[m[32m                             Figura 6.6. Ejemplo de propiedad line-height[m
[32m+[m
[32m+[m[32mAdemÃ¡s de la decoraciÃ³n que se puede aplicar a la tipografÃ­a que utilizan los textos, CSS[m
[32m+[m[32mdefine otros estilos y decoraciones para el texto en su conjunto. La propiedad que decora[m
[32m+[m[32mel texto se denomina text-decoration.[m
[32m+[m
[32m+[m[32mtext-decoration DecoraciÃ³n del texto[m
[32m+[m
[32m+[m[32mValores             none | ( underline || overline || line-through ||[m
[32m+[m[32mSe aplica a         blink ) | inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Todos los elementos[m
[32m+[m
[32m+[m[32m                    none[m
[32m+[m
[32m+[m[32m                    Establece la decoraciÃ³n del texto (subrayado, tachado, parpadeante,[m
[32m+[m[32m                    etc.)[m
[32m+[m
[32m+[m[32mwww.librosweb.es                      113[m
[32m+[m[32mIntroducciÃ³n a CSS                       CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mEl valor underline subraya el texto, por lo que puede confundir a los usuarios[m
[32m+[m[32mhaciÃ©ndoles creer que se trata de un enlace. El valor overline aÃ±ade una lÃ­nea en la[m
[32m+[m[32mparte superior del texto, un aspecto que raramente es deseable. El valor line-through[m
[32m+[m[32mmuestra el texto tachado con una lÃ­nea continua, por lo que su uso tampoco es muy[m
[32m+[m[32mhabitual. Por Ãºltimo, el valor blink muestra el texto parpadeante y se recomienda evitar[m
[32m+[m[32msu uso por las molestias que genera a la mayorÃ­a de usuarios.[m
[32m+[m
[32m+[m[32mUna de las propiedades de CSS mÃ¡s desconocidas y que puede ser de gran utilidad en[m
[32m+[m[32malgunas circunstancias es la propiedad text-transform, que puede variar de forma[m
[32m+[m[32msustancial el aspecto del texto.[m
[32m+[m
[32m+[m[32mtext-transform TransformaciÃ³n del texto[m
[32m+[m
[32m+[m[32mValores             capitalize | uppercase | lowercase | none | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       none[m
[32m+[m[32m                    Transforma el texto original (lo transforma a mayÃºsculas, a minÃºsculas,[m
[32m+[m[32mDescripciÃ³n         etc.)[m
[32m+[m
[32m+[m[32mLa propiedad text-transform permite mostrar el texto original transformado en un[m
[32m+[m[32mtexto completamente en mayÃºsculas (uppercase), en minÃºsculas (lowercase) o con la[m
[32m+[m[32mprimera letra de cada palabra en mayÃºscula (capitalize).[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra cada uno de los posibles valores:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                         114[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m                           Figura 6.7. Ejemplo de propiedad text-transform[m
[32m+[m
[32m+[m[32mLas reglas CSS del ejemplo anterior se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <div style="text-transform: none"><h1>Original</h1>Lorem ipsum dolor[m
[32m+[m[32m     sit amet...</div>[m
[32m+[m
[32m+[m[32m     <div style="text-transform: capitalize"><h1>text-transform: capitalize</h1>[m
[32m+[m[32m     Lorem ipsum dolor sit amet...</div>[m
[32m+[m
[32m+[m[32m     <div style="text-transform: lowercase"><h1>text-transform: lowercase</h1>[m
[32m+[m[32m     Lorem ipsum dolor sit amet...</div>[m
[32m+[m
[32m+[m[32m     <div style="text-transform: uppercase"><h1>text-transform: uppercase</h1>[m
[32m+[m[32m     Lorem ipsum dolor sit amet...</div>[m
[32m+[m
[32m+[m[32mUno de los principales problemas del diseÃ±o de documentos y pÃ¡ginas mediante CSS[m
[32m+[m[32mconsiste en la alineaciÃ³n vertical en una misma lÃ­nea de varios elementos diferentes[m
[32m+[m[32mcomo imÃ¡genes y texto. Para controlar esta alineaciÃ³n, CSS define la propiedad[m
[32m+[m[32mvertical-align.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    115[m
[32m+[m[32mIntroducciÃ³n a CSS                                                                 CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mvertical-align AlineaciÃ³n vertical[m
[32m+[m
[32m+[m[32mValores             baseline | sub | super | top | text-top | middle |[m
[32m+[m[32m                    bottom | text-bottom | <porcentaje> | <medida> |[m
[32m+[m[32mSe aplica a         inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Elementos en lÃ­nea y celdas de tabla[m
[32m+[m
[32m+[m[32m                    baseline[m
[32m+[m
[32m+[m[32m                    Determina la alineaciÃ³n vertical de los contenidos de un elemento[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra una imagen con el aspecto que muestran los navegadores[m
[32m+[m[32mpara cada uno de los posibles valores de la propiedad vertical-align:[m
[32m+[m
[32m+[m[32m                            Figura 6.8. Ejemplo de propiedad vertical-align[m
[32m+[m
[32m+[m[32mEl valor por defecto es baseline y el valor mÃ¡s utilizado cuando se establece la[m
[32m+[m[32mpropiedad vertical-align es middle.[m
[32m+[m
[32m+[m[32mEn muchas publicaciones impresas suele ser habitual tabular la primera lÃ­nea de cada[m
[32m+[m[32mpÃ¡rrafo para facilitar su lectura. CSS permite controlar esta tabulaciÃ³n mediante la[m
[32m+[m[32mpropiedad text-indent.[m
[32m+[m
[32m+[m[32mtext-indent TabulaciÃ³n del texto[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | inherit[m
[32m+[m[32mSe aplica a         Los elementos de bloque y las celdas de tabla[m
[32m+[m[32mValor inicial       0[m
[32m+[m[32mDescripciÃ³n         Tabula desde la izquierda la primera lÃ­nea del texto original[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                       116[m
[32m+[m[32mIntroducciÃ³n a CSS                     CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra la comparaciÃ³n entre un texto largo formado por varios[m
[32m+[m[32mpÃ¡rrafos sin tabular y el mismo texto con la primera lÃ­nea de cada pÃ¡rrafo tabulada:[m
[32m+[m
[32m+[m[32m                             Figura 6.9. Ejemplo de propiedad text-indent[m
[32m+[m
[32m+[m[32mCSS tambiÃ©n permite controlar la separaciÃ³n entre las letras que forman las palabras y la[m
[32m+[m[32mseparaciÃ³n entre las palabras que forman los textos. La propiedad que controla la[m
[32m+[m[32mseparaciÃ³n entre letras se llama letter-spacing y la separaciÃ³n entre palabras se[m
[32m+[m[32mcontrola mediante word-spacing.[m
[32m+[m
[32m+[m[32mletter-spacing Espaciado entre letras[m
[32m+[m
[32m+[m[32mValores             normal | <medida> | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       normal[m
[32m+[m[32m                    Permite establecer el espacio entre las letras que forman las palabras[m
[32m+[m[32mDescripciÃ³n         del texto[m
[32m+[m
[32m+[m[32mword-spacing Espaciado entre palabras[m
[32m+[m
[32m+[m[32mValores             normal | <medida> | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       normal[m
[32m+[m[32mDescripciÃ³n         Permite establecer el espacio entre las palabras que forman el texto[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra la comparaciÃ³n entre un texto normal y otro con las[m
[32m+[m[32mpropiedades letter-spacing y word-spacing aplicadas:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                          117[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m                Figura 6.10. Ejemplo de propiedades letter-spacing y word-spacing[m
[32m+[m
[32m+[m[32mLas reglas CSS del ejemplo anterior se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     .especial h1 { letter-spacing: .2em; }[m
[32m+[m[32m     .especial p { word-spacing: .5em; }[m
[32m+[m
[32m+[m[32m     <div><h1>Lorem ipsum dolor sit amet</h1>[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Vestibulum[m
[32m+[m[32m     dictum. Class aptent taciti sociosqu ad litora torquent per conubia nostra,[m
[32m+[m[32m     per inceptos hymenaeos. Etiam pharetra blandit purus.</p>[m
[32m+[m[32m     ...[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32m     <div class="especial"><h1>Lorem ipsum dolor sit amet</h1>[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Vestibulum[m
[32m+[m[32m     dictum. Class aptent taciti sociosqu ad litora torquent per conubia nostra,[m
[32m+[m[32m     per inceptos hymenaeos. Etiam pharetra blandit purus.</p>[m
[32m+[m[32m     ...[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mCuando se utiliza un valor numÃ©rico en las propiedades letter-spacing y[m
[32m+[m[32mword-spacing, se interpreta como la separaciÃ³n adicional que se aÃ±ade (si el valor es[m
[32m+[m[32mpositivo) o se quita (si el valor es negativo) a la separaciÃ³n por defecto entre letras y[m
[32m+[m[32mpalabras respectivamente.[m
[32m+[m
[32m+[m[32mComo ya se sabe, el tratamiento que hace HTML de los espacios en blanco es uno de los[m
[32m+[m[32maspectos mÃ¡s difÃ­ciles de comprender cuando se empiezan a crear las primeras pÃ¡ginas[m
[32m+[m[32mweb. BÃ¡sicamente, HTML elimina todos los espacios en blanco sobrantes, es decir, todos[m
[32m+[m[32msalvo un espacio en blanco entre cada palabra.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    118[m
[32m+[m[32mIntroducciÃ³n a CSS                                                  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32mPara forzar los espacios en blanco adicionales se debe utilizar la entidad HTML &nbsp; y[m
[32m+[m[32mpara forzar nuevas lÃ­neas, se utiliza el elemento <br/>. AdemÃ¡s, HTML proporciona el[m
[32m+[m[32melemento <pre> que muestra el contenido tal y como se escribe, respetando todos los[m
[32m+[m[32mespacios en blanco y todas las nuevas lÃ­neas.[m
[32m+[m
[32m+[m[32mCSS tambiÃ©n permite controlar el tratamiento de los espacios en blanco de los textos[m
[32m+[m[32mmediante la propiedad white-space.[m
[32m+[m
[32m+[m[32mwhite-space Tratamiento de los espacios en blanco[m
[32m+[m
[32m+[m[32mValores             normal | pre | nowrap | pre-wrap | pre-line | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos[m
[32m+[m[32mValor inicial       normal[m
[32m+[m[32mDescripciÃ³n         Establece el tratamiento de los espacios en blanco del texto[m
[32m+[m
[32m+[m[32mEl significado de cada uno de los valores es el siguiente:[m
[32m+[m
[32m+[m[32m    â–ª normal: comportamiento por defecto de HTML.[m
[32m+[m
[32m+[m[32m    â–ª pre: se respetan los espacios en blanco y las nuevas lÃ­neas (exactamente igual que[m
[32m+[m[32m       la etiqueta <pre>). Si la lÃ­nea es muy larga, se sale del espacio asignado para ese[m
[32m+[m[32m       contenido.[m
[32m+[m
[32m+[m[32m    â–ª nowrap: elimina los espacios en blanco y las nuevas lÃ­neas. Si la lÃ­nea es muy larga,[m
[32m+[m[32m       se sale del espacio asignado para ese contenido.[m
[32m+[m
[32m+[m[32m    â–ª pre-wrap: se respetan los espacios en blanco y las nuevas lÃ­neas, pero ajustando[m
[32m+[m[32m       cada lÃ­nea al espacio asignado para ese contenido.[m
[32m+[m
[32m+[m[32m    â–ª pre-line: elimina los espacios en blanco y respeta las nuevas lÃ­neas, pero[m
[32m+[m[32m       ajustando cada lÃ­nea al espacio asignado para ese contenido.[m
[32m+[m
[32m+[m[32mEn la siguiente tabla se resumen las caracterÃ­sticas de cada valor:[m
[32m+[m
[32m+[m[32mValor          Respeta espacios en blanco  Respeta saltos de lÃ­nea  Ajusta las lÃ­neas[m
[32m+[m[32mnormal         no                          no                       si[m
[32m+[m[32mpre            si                          si                       no[m
[32m+[m[32mnowrap         no                          no                       no[m
[32m+[m[32mpre-wrap       si                          si                       si[m
[32m+[m[32mpre-line       no                          si                       si[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra las diferencias entre los valores permitidos para[m
[32m+[m[32mwhite-space. El pÃ¡rrafo original contiene espacios en blanco y nuevas lÃ­neas y se ha[m
[32m+[m[32mlimitado la anchura de su elemento contenedor:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                       119[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m                            Figura 6.11. Ejemplo de propiedad white-space[m
[32m+[m
[32m+[m[32mPor Ãºltimo, CSS define unos elementos especiales llamados "pseudo-elementos" que[m
[32m+[m[32mpermiten aplicar estilos a ciertas partes de un texto. En concreto, CSS permite definir[m
[32m+[m[32mestilos especiales a la primera frase de un texto y a la primera letra de un texto.[m
[32m+[m
[32m+[m[32mEl pseudo-elemento :first-line permite aplicar estilos a la primera lÃ­nea de un texto.[m
[32m+[m[32mLas palabras que forman la primera lÃ­nea de un texto dependen del espacio reservado[m
[32m+[m[32mpara mostrar el texto o del tamaÃ±o de la ventana del navegador, por lo que CSS calcula[m
[32m+[m[32mde forma automÃ¡tica las palabras que forman la primera lÃ­nea de texto en cada[m
[32m+[m[32mmomento.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra cÃ³mo aplica CSS los estilos indicados a la primera lÃ­nea[m
[32m+[m[32mcalculando para cada anchura las palabras que forman la primera lÃ­nea:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    120[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m                         Figura 6.12. Ejemplo de pseudo-elemento first-line[m
[32m+[m
[32m+[m[32mLa regla CSS utilizada para los pÃ¡rrafos del ejemplo se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     p:first-line {[m
[32m+[m[32m         text-transform: uppercase;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mDe la misma forma, CSS permite aplicar estilos a la primera letra del texto mediante el[m
[32m+[m[32mpseudo-elemento :first-letter. La siguiente imagen muestra el uso del[m
[32m+[m[32mpseudo-elemento :first-letter para crear una letra capital:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    121[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 6. Texto[m
[32m+[m
[32m+[m[32m                        Figura 6.13. Ejemplo de pseudo-elemento first-letter[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     #normal p:first-letter {[m
[32m+[m[32m         font-size: 2em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #avanzado p:first-letter {[m
[32m+[m
[32m+[m[32m         font-size: 2.5em;[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m[32m         line-height: .9em;[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         margin: .1em;[m
[32m+[m[32m     }[m
[32m+[m[32m     #avanzado p:first-line {[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <div id="normal">[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Vestibulum[m
[32m+[m[32m     dictum. Class aptent taciti sociosqu ad litora torquent per conubia nostra,[m
[32m+[m[32m     per inceptos hymenaeos. Etiam pharetra blandit purus.</p>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     <div id="avanzado">[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Vestibulum[m
[32m+[m[32m     dictum. Class aptent taciti sociosqu ad litora torquent per conubia nostra,[m
[32m+[m[32m     per inceptos hymenaeos. Etiam pharetra blandit purus.</p>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  122[m
[32m+[m[32mIntroducciÃ³n a CSS                                                              CapÃ­tulo 7. Enlaces[m
[32m+[m
[32m+[m[32mCapÃ­tulo 7. Enlaces[m
[32m+[m
[32m+[m[32m7.1. Estilos bÃ¡sicos[m
[32m+[m
[32m+[m[32m7.1.1. TamaÃ±o, color y decoraciÃ³n[m
[32m+[m
[32m+[m[32mLos estilos mÃ¡s sencillos que se pueden aplicar a los enlaces son los que modifican su[m
[32m+[m[32mtamaÃ±o de letra, su color y la decoraciÃ³n del texto del enlace. Utilizando las propiedades[m
[32m+[m[32mtext-decoration y font-weight se pueden conseguir estilos como los que se muestran[m
[32m+[m[32men la siguiente imagen:[m
[32m+[m
[32m+[m[32m                         Figura 7.1. Ejemplo de enlaces con estilos diferentes[m
[32m+[m[32mA continuaciÃ³n se muestran las reglas CSS del ejemplo anterior:[m
[32m+[m
[32m+[m[32m     a { margin: 1em 0; display: block;}[m
[32m+[m
[32m+[m[32m.alternativo {color: #CC0000;}[m
[32m+[m[32m.simple {text-decoration: none;}[m
[32m+[m[32m.importante {font-weight: bold; font-size: 1.3em;}[m
[32m+[m[32m.raro {text-decoration:overline;}[m
[32m+[m
[32m+[m[32m<a href="#">Enlace con el estilo por defecto</a>[m
[32m+[m[32m<a class="alternativo" href="#">Enlace de color rojo</a>[m
[32m+[m[32m<a class="simple" href="#">Enlace sin subrayado</a>[m
[32m+[m[32m<a class="importante" href="#">Enlace muy importante</a>[m
[32m+[m[32m<a class="raro" href="#">Enlace con un estilo raro</a>[m
[32m+[m
[32m+[m[32m7.1.2. Pseudo-clases[m
[32m+[m
[32m+[m[32mCSS tambiÃ©n permite aplicar diferentes estilos a un mismo enlace en funciÃ³n de su[m
[32m+[m[32mestado. De esta forma, es posible cambiar el aspecto de un enlace cuando por ejemplo el[m
[32m+[m[32musuario pasa el ratÃ³n por encima o cuando el usuario pincha sobre ese enlace.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                123[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 7. Enlaces[m
[32m+[m
[32m+[m[32mComo con los atributos id o class no es posible aplicar diferentes estilos a un mismo[m
[32m+[m[32melemento en funciÃ³n de su estado, CSS introduce un nuevo concepto llamado[m
[32m+[m[32mpseudo-clases. En concreto, CSS define las siguientes cuatro pseudo-clases:[m
[32m+[m
[32m+[m[32m    â–ª :link, aplica estilos a los enlaces que apuntan a pÃ¡ginas o recursos que aÃºn no[m
[32m+[m[32m       han sido visitados por el usuario.[m
[32m+[m
[32m+[m[32m    â–ª :visited, aplica estilos a los enlaces que apuntan a recursos que han sido[m
[32m+[m[32m       visitados anteriormente por el usuario. El historial de enlaces visitados se borra[m
[32m+[m[32m       automÃ¡ticamente cada cierto tiempo y el usuario tambiÃ©n puede borrarlo[m
[32m+[m[32m       manualmente.[m
[32m+[m
[32m+[m[32m    â–ª :hover, aplica estilos al enlace sobre el que el usuario ha posicionado el puntero[m
[32m+[m[32m       del ratÃ³n.[m
[32m+[m
[32m+[m[32m    â–ª :active, aplica estilos al enlace que estÃ¡ pinchando el usuario. Los estilos sÃ³lo se[m
[32m+[m[32m       aplican desde que el usuario pincha el botÃ³n del ratÃ³n hasta que lo suelta, por lo[m
[32m+[m[32m       que suelen ser unas pocas dÃ©cimas de segundo.[m
[32m+[m
[32m+[m[32mComo se sabe, por defecto los navegadores muestran los enlaces no visitados de color[m
[32m+[m[32mazul y subrayados y los enlaces visitados de color morado. Las pseudo-clases anteriores[m
[32m+[m[32mpermiten modificar completamente ese aspecto por defecto y por eso casi todas las[m
[32m+[m[32mpÃ¡ginas las utilizan.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra cÃ³mo ocultar el subrayado cuando el usuario pasa el ratÃ³n[m
[32m+[m[32mpor encima de cualquier enlace de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     a:hover { text-decoration: none; }[m
[32m+[m
[32m+[m[32mAplicando las reglas anteriores, los navegadores ocultan el subrayado del enlace sobre el[m
[32m+[m[32mque se posiciona el ratÃ³n:[m
[32m+[m
[32m+[m[32mFigura 7.2. Ocultando el subrayado de los enlaces al pasar el ratÃ³n por encima[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                124[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 7. Enlaces[m
[32m+[m
[32m+[m[32mLas pseudo-clases siempre incluyen dos puntos (:) por delante de su nombre y siempre[m
[32m+[m[32mse aÃ±aden a continuaciÃ³n del elemento al que se aplican, sin dejar ningÃºn espacio en[m
[32m+[m[32mblanco por delante:[m
[32m+[m
[32m+[m[32m     /* Incorrecto: el nombre de la pseudo-clase no se puede separar de los dos[m
[32m+[m[32m     puntos iniciales */[m
[32m+[m[32m     a: visited { ... }[m
[32m+[m
[32m+[m[32m     /* Incorrecto: la pseudo-clase siempre se aÃ±ade a continuaciÃ³n del elemento al[m
[32m+[m[32m     que modifica */[m
[32m+[m[32m     a :visited { ... }[m
[32m+[m
[32m+[m[32m     /* Correcto: la pseudo-clase modifica el comportamiento del elemento <a> */[m
[32m+[m[32m     a:visited { ... }[m
[32m+[m
[32m+[m[32mLas pseudo-clases tambiÃ©n se pueden combinar con cualquier otro selector complejo:[m
[32m+[m
[32m+[m[32m     a.importante:visited { ... }[m
[32m+[m[32m     a#principal:hover { ... }[m
[32m+[m[32m     div#menu ul li a.primero:active { ... }[m
[32m+[m
[32m+[m[32mCuando se aplican varias pseudo-clases diferentes sobre un mismo enlace, se producen[m
[32m+[m[32mcolisiones entre los estilos de algunas pseudo-clases. Si se pasa por ejemplo el ratÃ³n por[m
[32m+[m[32mencima de un enlace visitado, se aplican los estilos de las pseudo-clases :hover y[m
[32m+[m[32m:visited. Si el usuario pincha sobre un enlace no visitado, se aplican las pseudo-clases[m
[32m+[m[32m:hover, :link y :active y asÃ­ sucesivamente.[m
[32m+[m
[32m+[m[32mSi se definen varias pseudo-clases sobre un mismo enlace, el Ãºnico orden que asegura[m
[32m+[m[32mque todos los estilos de las pseudo-clases se aplican de forma coherente es el siguiente:[m
[32m+[m[32m:link, :visited, :hover y :active. De hecho, en muchas hojas de estilos es habitual[m
[32m+[m[32mestablecer los estilos de los enlaces de la siguiente forma:[m
[32m+[m
[32m+[m[32m     a:link, a:visited {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     a:hover, a:active {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLas pseudo-clases :link y :visited solamente estÃ¡n definidas para los enlaces, pero las[m
[32m+[m[32mpseudo-clases :hover y :active se definen para todos los elementos HTML.[m
[32m+[m[32mDesafortunadamente, Internet Explorer 6 y sus versiones anteriores solamente las[m
[32m+[m[32msoportan para los enlaces.[m
[32m+[m
[32m+[m[32mTambiÃ©n es posible combinar en un mismo elemento las pseudo-clases que son[m
[32m+[m[32mcompatibles entre sÃ­:[m
[32m+[m
[32m+[m[32m     /* Los estilos se aplican cuando el usuario pasa el ratÃ³n por encima de un[m
[32m+[m[32m          enlace que todavÃ­a no ha visitado */[m
[32m+[m
[32m+[m[32m     a:link:hover { ... }[m
[32m+[m
[32m+[m[32m     /* Los estilos se aplican cuando el usuario pasa el ratÃ³n por encima de un[m
[32m+[m
[32m+[m[32mwww.librosweb.es    125[m
[32m+[m[32mIntroducciÃ³n a CSS                                               CapÃ­tulo 7. Enlaces[m
[32m+[m
[32m+[m[32m          enlace que ha visitado previamente */[m
[32m+[m[32m     a:visited:hover { ... }[m
[32m+[m
[32m+[m[32m Ejercicio 8 Ver enunciado en la pÃ¡gina 211[m
[32m+[m
[32m+[m[32m7.2. Estilos avanzados[m
[32m+[m
[32m+[m[32m7.2.1. DecoraciÃ³n personalizada[m
[32m+[m
[32m+[m[32mLa propiedad text-decoration permite aÃ±adir o eliminar el subrayado de los enlaces.[m
[32m+[m[32mSin embargo, el aspecto del subrayado lo controla automÃ¡ticamente el navegador, por lo[m
[32m+[m[32mque su color siempre es el mismo que el del texto del enlace y su anchura es[m
[32m+[m[32mproporcional al tamaÃ±o de letra.[m
[32m+[m
[32m+[m[32mNo obstante, utilizando la propiedad border-bottom es posible aÃ±adir cualquier tipo de[m
[32m+[m[32msubrayado para los enlaces de las pÃ¡ginas. El siguiente ejemplo muestra algunos enlaces[m
[32m+[m[32mcon el subrayado personalizado:[m
[32m+[m
[32m+[m[32m        Figura 7.3. Enlaces con subrayado personalizado mediante la propiedad border[m
[32m+[m
[32m+[m[32mLas reglas CSS definidas en el ejemplo anterior se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     a { margin: 1em 0; float: left; clear: left; text-decoration: none;}[m
[32m+[m[32m     .simple {text-decoration: underline;}[m
[32m+[m[32m     .color { border-bottom: medium solid #CC0000;}[m
[32m+[m[32m     .ancho {border-bottom: thick solid;}[m
[32m+[m[32m     .separado {border-bottom: 1px solid; padding-bottom: .6em;}[m
[32m+[m[32m     .discontinuo {border-bottom: thin dashed;}[m
[32m+[m
[32m+[m[32m<a class="simple" href="#">Enlace con el estilo por defecto</a>[m
[32m+[m
[32m+[m[32m<a class="color" href="#">Enlace un subrayado de otro color</a>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      126[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 7. Enlaces[m
[32m+[m
[32m+[m[32m     <a class="ancho" href="#">Enlace con un subrayado muy ancho</a>[m
[32m+[m
[32m+[m[32m     <a class="separado" href="#">Enlace con un subrayado muy separado</a>[m
[32m+[m
[32m+[m[32m     <a class="discontinuo" href="#">Enlace con un subrayado discontinuo</a>[m
[32m+[m
[32m+[m[32m7.2.2. ImÃ¡genes segÃºn el tipo de enlace[m
[32m+[m
[32m+[m[32mEn ocasiones, puede resultar Ãºtil incluir un pequeÃ±o icono al lado de un enlace para[m
[32m+[m[32mindicar el tipo de contenido que enlaza, como por ejemplo un archivo comprimido o un[m
[32m+[m[32mdocumento con formato PDF.[m
[32m+[m
[32m+[m[32mEste tipo de imÃ¡genes son puramente decorativas en vez de imÃ¡genes de contenido, por[m
[32m+[m[32mlo que se deberÃ­an aÃ±adir con CSS y no con elementos de tipo <img>. Utilizando la[m
[32m+[m[32mpropiedad background (y background-image) se puede personalizar el aspecto de los[m
[32m+[m[32menlaces para que incluyan un pequeÃ±o icono a su lado.[m
[32m+[m
[32m+[m[32mLa tÃ©cnica consiste en mostrar una imagen de fondo sin repeticiÃ³n en el enlace y aÃ±adir[m
[32m+[m[32mel padding necesario al texto del enlace para que no se solape con la imagen de fondo.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo personaliza el aspecto de dos enlaces aÃ±adiÃ©ndoles una imagen de[m
[32m+[m[32mfondo:[m
[32m+[m
[32m+[m[32m            Figura 7.4. Personalizando el aspecto de los enlaces en funciÃ³n de su tipo[m
[32m+[m
[32m+[m[32mLas reglas CSS necesarias se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     a { margin: 1em 0; float: left; clear: left; }[m
[32m+[m
[32m+[m[32m     .rss {[m
[32m+[m[32m         color: #E37529;[m
[32m+[m[32m         padding: 0 0 0 18px;[m
[32m+[m[32m         background: #FFF url(imagenes/rss.gif) no-repeat left center;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     .pdf {[m
[32m+[m[32m         padding: 0 0 0 22px;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        127[m
[32m+[m[32mIntroducciÃ³n a CSS                                                            CapÃ­tulo 7. Enlaces[m
[32m+[m
[32m+[m[32m         background: #FFF url(imagenes/pdf.png) no-repeat left center;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <a href="#">Enlace con el estilo por defecto</a>[m
[32m+[m
[32m+[m[32m     <a class="rss" href="#">Enlace a un archivo RSS</a>[m
[32m+[m
[32m+[m[32m     <a class="pdf" href="#">Enlace a un documento PDF</a>[m
[32m+[m
[32m+[m[32m7.2.3. Mostrar los enlaces como si fueran botones[m
[32m+[m
[32m+[m[32mLas propiedades definidas por CSS permiten mostrar los enlaces con el aspecto de un[m
[32m+[m[32mbotÃ³n, lo que puede ser Ãºtil en formularios en los que no se utilizan elementos[m
[32m+[m[32mespecÃ­ficos para crear botones.[m
[32m+[m[32mEl siguiente ejemplo muestra un enlace simple formateado como un botÃ³n:[m
[32m+[m
[32m+[m[32m                      Figura 7.5. Mostrando un enlace como si fuera un botÃ³n[m
[32m+[m
[32m+[m[32mLas reglas CSS utilizadas en el ejemplo anterior son las siguientes:[m
[32m+[m
[32m+[m[32m     a { margin: 1em 0; float: left; clear: left; }[m
[32m+[m[32m     a.boton {[m
[32m+[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m         background: #EEE;[m
[32m+[m[32m         color: #222;[m
[32m+[m[32m         border: 1px outset #CCC;[m
[32m+[m[32m         padding: .1em .5em;[m
[32m+[m[32m     }[m
[32m+[m[32m     a.boton:hover {[m
[32m+[m[32m         background: #CCB;[m
[32m+[m[32m     }[m
[32m+[m[32m     a.boton:active {[m
[32m+[m[32m         border: 1px inset #000;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <a class="boton" href="#">Guardar</a>[m
[32m+[m[32m     <a class="boton" href="#">Enviar</a>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                              128[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 8. ImÃ¡genes[m
[32m+[m
[32m+[m[32mCapÃ­tulo 8. ImÃ¡genes[m
[32m+[m
[32m+[m[32m8.1. Estilos bÃ¡sicos[m
[32m+[m
[32m+[m[32m8.1.1. Establecer la anchura y altura de las imÃ¡genes[m
[32m+[m
[32m+[m[32mUtilizando las propiedades width y height, es posible mostrar las imÃ¡genes con[m
[32m+[m[32mcualquier altura/anchura, independientemente de su altura/anchura real:[m
[32m+[m
[32m+[m[32m     #destacada {[m
[32m+[m[32m         width: 120px;[m
[32m+[m[32m         height: 250px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <img id="destacada" src="imagen.png" />[m
[32m+[m
[32m+[m[32mNo obstante, si se utilizan alturas/anchuras diferentes de las reales, el navegador[m
[32m+[m[32mdeforma las imÃ¡genes y el resultado estÃ©tico es muy desagradable.[m
[32m+[m
[32m+[m[32mPor otra parte, establecer la altura/anchura de todas las imÃ¡genes mediante CSS es una[m
[32m+[m[32mprÃ¡ctica poco recomendable. El motivo es que normalmente dos imÃ¡genes diferentes no[m
[32m+[m[32mcomparten la misma altura/anchura. Por lo tanto, se debe crear una nueva regla CSS (y[m
[32m+[m[32mun nuevo selector) para cada una de las diferentes imÃ¡genes del sitio web.[m
[32m+[m
[32m+[m[32mEn la prÃ¡ctica, esta forma de trabajo produce una sobrecarga de estilos que la hace[m
[32m+[m[32minviable. Por este motivo, aunque es una soluciÃ³n que no respeta la separaciÃ³n completa[m
[32m+[m[32mentre contenidos (XHTML) y presentaciÃ³n (CSS), se recomienda establecer la altura/[m
[32m+[m[32manchura de las imÃ¡genes mediante los atributos width y height de la etiqueta <img>:[m
[32m+[m
[32m+[m[32m     <img src="imagen.png" width="120" height="250" />[m
[32m+[m
[32m+[m[32m8.1.2. Eliminar el borde de las imÃ¡genes con enlaces[m
[32m+[m
[32m+[m[32mCuando una imagen forma parte de un enlace, los navegadores muestran por defecto un[m
[32m+[m[32mborde azul grueso alrededor de las imÃ¡genes. Por tanto, una de las reglas mÃ¡s utilizadas[m
[32m+[m[32men los archivos CSS es la que elimina los bordes de las imÃ¡genes con enlaces:[m
[32m+[m
[32m+[m[32m     img {[m
[32m+[m[32m         border: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m Ejercicio 9 Ver enunciado en la pÃ¡gina 211[m
[32m+[m
[32m+[m[32m8.2. Estilos avanzados[m
[32m+[m
[32m+[m[32mwww.librosweb.es    129[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 8. ImÃ¡genes[m
[32m+[m
[32m+[m[32m8.2.1. Sombra (drop shadow)[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de aplicaciones de diseÃ±o grÃ¡fico permiten aÃ±adir una sombra (llamada drop[m
[32m+[m[32mshadow en inglÃ©s) a las imÃ¡genes. CSS no incluye propiedades que permitan mostrar de[m
[32m+[m[32mforma sencilla sombras en los elementos.[m
[32m+[m
[32m+[m[32mNo obstante, existen varias tÃ©cnicas sencillas y otras mÃ¡s avanzadas que permiten crear[m
[32m+[m[32msombras que se adapten a cualquier imagen o elemento. A continuaciÃ³n se muestra una[m
[32m+[m[32mtÃ©cnica sencilla para aÃ±adir sombra a las imÃ¡genes.[m
[32m+[m
[32m+[m[32mEl estilo final de las sombras creadas con esta tÃ©cnica se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m          Figura 8.1. Sombra aplicada a las imÃ¡genes y otros elementos mediante CSS[m
[32m+[m
[32m+[m[32mLa tÃ©cnica mostrada se presentÃ³ por primera vez en la pÃ¡gina web[m
[32m+[m[32mhttp://wubbleyew.com/tests/dropshadows.htm y consiste en la utilizaciÃ³n de un par de[m
[32m+[m[32melementos <div> alrededor del elemento que va a mostrar una sombra. La sombra se[m
[32m+[m[32mconsigue mediante una imagen muy grande que contiene una sombra orientada hacia el[m
[32m+[m[32mlado derecho e inferior.[m
[32m+[m
[32m+[m[32mLa ventaja de este mÃ©todo es que es sencillo y solamente requiere aÃ±adir un par de[m
[32m+[m[32m<div> por cada elemento. AdemÃ¡s, como la sombra es una imagen muy grande, el efecto[m
[32m+[m[32mfunciona con elementos de cualquier tamaÃ±o.[m
[32m+[m
[32m+[m[32mEl mayor inconveniente de este mÃ©todo es que la sombra siempre se muestra en la[m
[32m+[m[32mmisma direcciÃ³n (derecha inferior) y que en Internet Explorer 6 y versiones anteriores[m
[32m+[m[32msÃ³lo muestran la sombra correctamente cuando el color de fondo de la pÃ¡gina es blanco[m
[32m+[m
[32m+[m[32mwww.librosweb.es    130[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 8. ImÃ¡genes[m
[32m+[m
[32m+[m[32m(ya que Internet Explorer 6 y versiones anteriores no soportan imÃ¡genes en formato[m
[32m+[m[32mPNG con transparencias).[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS del ejemplo anterior es bastante sencillo:[m
[32m+[m
[32m+[m[32m     .dropshadow {[m
[32m+[m[32m         float:left;[m
[32m+[m[32m         clear:left;[m
[32m+[m[32m         background: url(imagenes/shadowAlpha.png) no-repeat bottom right !important;[m
[32m+[m[32m         background: url(imagenes/shadow.gif) no-repeat bottom right;[m
[32m+[m[32m         margin: 10px 0 10px 10px !important;[m
[32m+[m[32m         margin: 10px 0 10px 5px;[m
[32m+[m[32m         padding: 0px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     .innerbox {[m
[32m+[m
[32m+[m[32m         position:relative;[m
[32m+[m[32m         bottom:6px;[m
[32m+[m[32m         right: 6px;[m
[32m+[m[32m         border: 1px solid #999999;[m
[32m+[m[32m         padding:4px;[m
[32m+[m[32m         margin: 0px 0px 0px 0px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <div class="dropshadow">[m
[32m+[m[32m     <div class="innerbox">[m
[32m+[m
[32m+[m[32m         <img src="imagenes/imagen.png" alt="Imagen genÃ©rica" />[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32m     <div class="dropshadow">[m
[32m+[m[32m     <div class="innerbox">[m
[32m+[m
[32m+[m[32m         <h4>PÃ¡rrafo de texto</h4>[m
[32m+[m[32m         <p>Esta tÃ©cnica no sÃ³lo permite aÃ±adir sombra a las imÃ¡genes, sino a[m
[32m+[m[32m     cualquier elemento.</p>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es    131[m
[32m+[m[32mIntroducciÃ³n a CSS              CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32mCapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m9.1. Estilos bÃ¡sicos[m
[32m+[m
[32m+[m[32m9.1.1. ViÃ±etas personalizadas[m
[32m+[m
[32m+[m[32mPor defecto, los navegadores muestran los elementos de las listas no ordenadas con una[m
[32m+[m[32mviÃ±eta formada por un pequeÃ±o cÃ­rculo de color negro. Los elementos de las listas[m
[32m+[m[32mordenadas se muestran por defecto con la numeraciÃ³n decimal utilizada en la mayorÃ­a[m
[32m+[m[32mde paÃ­ses.[m
[32m+[m
[32m+[m[32mNo obstante, CSS define varias propiedades para controlar el tipo de viÃ±eta que[m
[32m+[m[32mmuestran las listas, ademÃ¡s de poder controlar la posiciÃ³n de la propia viÃ±eta. La[m
[32m+[m[32mpropiedad bÃ¡sica es la que controla el tipo de viÃ±eta que se muestra y que se denomina[m
[32m+[m[32mlist-style-type.[m
[32m+[m
[32m+[m[32mlist-style-type Tipo de viÃ±eta[m
[32m+[m
[32m+[m[32mValores             disc | circle | square | decimal |[m
[32m+[m[32m                    decimal-leading-zero | lower-roman | upper-roman |[m
[32m+[m[32mSe aplica a         lower-greek | lower-latin | upper-latin | armenian[m
[32m+[m[32mValor inicial       | georgian | lower-alpha | upper-alpha | none |[m
[32m+[m[32mDescripciÃ³n         inherit[m
[32m+[m
[32m+[m[32m                    Elementos de una lista[m
[32m+[m
[32m+[m[32m                    disc[m
[32m+[m
[32m+[m[32m                    Permite establecer el tipo de viÃ±eta mostrada para una lista[m
[32m+[m
[32m+[m[32mEn primer lugar, el valor none permite mostrar una lista en la que sus elementos no[m
[32m+[m[32mcontienen viÃ±etas, nÃºmeros o letras. Se trata de un valor muy utilizado, ya que es[m
[32m+[m[32mimprescindible para los menÃºs de navegaciÃ³n creados con listas, como se verÃ¡ mÃ¡s[m
[32m+[m[32madelante.[m
[32m+[m
[32m+[m[32mEl resto de valores de la propiedad list-style-type se dividen en tres tipos: grÃ¡ficos,[m
[32m+[m[32mnumÃ©ricos y alfabÃ©ticos.[m
[32m+[m
[32m+[m[32m    â–ª Los valores grÃ¡ficos son disc, circle y square y muestran como viÃ±eta un cÃ­rculo[m
[32m+[m[32m       relleno, un cÃ­rculo vacÃ­o y un cuadrado relleno respectivamente.[m
[32m+[m
[32m+[m[32m    â–ª Los valores numÃ©ricos estÃ¡n formados por decimal, decimal-leading-zero,[m
[32m+[m[32m       lower-roman, upper-roman, armenian y georgian.[m
[32m+[m
[32m+[m[32m    â–ª Por Ãºltimo, los valores alfanumÃ©ricos se controlan mediante lower-latin,[m
[32m+[m[32m       lower-alpha, upper-latin, upper-alpha y lower-greek.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra algunos de los valores definidos por la propiedad[m
[32m+[m[32mlist-style-type:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                132[m
[32m+[m[32mIntroducciÃ³n a CSS                         CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m                            Figura 9.1. Ejemplo de propiedad list-style-type[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS de algunas de las listas del ejemplo anterior se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <ul style="list-style-type: square">[m
[32m+[m[32m         <li>list-style-type: square</li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m
[32m+[m[32m     </ul>[m
[32m+[m[32m     <ol style="list-style-type: lower-roman">[m
[32m+[m
[32m+[m[32m         <li>list-style-type: lower-roman</li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m     <ol style="list-style-type: decimal-leading-zero; padding-left: 2em;">[m
[32m+[m[32m         <li>list-style-type: decimal-leading-zero</li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m[32m         <li>Elemento</li>[m
[32m+[m[32m     </ol>[m
[32m+[m
[32m+[m[32mLa propiedad list-style-position permite controlar la colocaciÃ³n de las viÃ±etas.[m
[32m+[m
[32m+[m[32mlist-style-position PosiciÃ³n de la viÃ±eta[m
[32m+[m
[32m+[m[32mValores             inside | outside | inherit[m
[32m+[m[32mSe aplica a         Elementos de una lista[m
[32m+[m[32mValor inicial       outside[m
[32m+[m[32m                    Permite establecer la posiciÃ³n de la viÃ±eta de cada elemento[m
[32m+[m[32mDescripciÃ³n         de una lista[m
[32m+[m
[32m+[m[32mLa diferencia entre los valores outside y inside se hace evidente cuando los elementos[m
[32m+[m[32mcontienen mucho texto, como en la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        133[m
[32m+[m[32mIntroducciÃ³n a CSS                    CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m                         Figura 9.2. Ejemplo de propiedad list-style-position[m
[32m+[m
[32m+[m[32mUtilizando las propiedades anteriores (list-style-type y list-style-position), se[m
[32m+[m[32mpuede seleccionar el tipo de viÃ±eta y su posiciÃ³n, pero no es posible personalizar algunas[m
[32m+[m[32mde sus caracterÃ­sticas bÃ¡sicas como su color y tamaÃ±o.[m
[32m+[m
[32m+[m[32mCuando se requiere personalizar el aspecto de las viÃ±etas, se debe emplear la propiedad[m
[32m+[m[32mlist-style-image, que permite mostrar una imagen propia en vez de una viÃ±eta[m
[32m+[m[32mautomÃ¡tica.[m
[32m+[m
[32m+[m[32mlist-style-image Imagen de la viÃ±eta[m
[32m+[m
[32m+[m[32mValores             <url> | none | inherit[m
[32m+[m[32mSe aplica a         Elementos de una lista[m
[32m+[m[32mValor inicial       none[m
[32m+[m[32m                    Permite reemplazar las viÃ±etas automÃ¡ticas por una imagen[m
[32m+[m[32mDescripciÃ³n         personalizada[m
[32m+[m
[32m+[m[32mLas imÃ¡genes personalizadas se indican mediante la URL de la imagen. Si no se[m
[32m+[m[32mencuentra la imagen o no se puede cargar, se muestra la viÃ±eta automÃ¡tica[m
[32m+[m[32mcorrespondiente (salvo que explÃ­citamente se haya eliminado mediante la propiedad[m
[32m+[m[32mlist-style-type).[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra el uso de la propiedad list-style-image mediante tres[m
[32m+[m[32mejemplos sencillos de listas con viÃ±etas personalizadas:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               134[m
[32m+[m[32mIntroducciÃ³n a CSS              CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m                           Figura 9.3. Ejemplo de propiedad list-style-image[m
[32m+[m
[32m+[m[32mLas reglas CSS correspondientes al ejemplo anterior se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     ul {[m
[32m+[m[32m         margin:0;[m
[32m+[m[32m         padding-left: 1.5em;[m
[32m+[m[32m         line-height: 1.5em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul li { padding-left: .2em; }[m
[32m+[m[32m     ul.ok { list-style-image: url(imagenes/ok.png); }[m
[32m+[m[32m     ul.go { list-style-image: url(imagenes/bullet_go.png); }[m
[32m+[m[32m     ul.redondo { list-style-image: url(imagenes/bullet_red.png); }[m
[32m+[m
[32m+[m[32mComo es habitual, CSS define una propiedad de tipo "shorthand" que permite establecer[m
[32m+[m[32mtodas las propiedades de una lista de forma directa. La propiedad se denomina[m
[32m+[m[32mlist-style.[m
[32m+[m
[32m+[m[32mlist-style Estilo de una lista[m
[32m+[m
[32m+[m[32mValores             ( <list-style-type> || <list-style-position> ||[m
[32m+[m[32mSe aplica a         <list-style-image> ) | inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Elementos de una lista[m
[32m+[m
[32m+[m[32m                    -[m
[32m+[m
[32m+[m[32m                    Propiedad que permite establecer de forma simultÃ¡nea todas las opciones de[m
[32m+[m[32m                    una lista[m
[32m+[m
[32m+[m[32mEn la definiciÃ³n anterior, la notaciÃ³n || significa que el orden en el que se indican los[m
[32m+[m[32mvalores de la propiedad es indiferente. El siguiente ejemplo indica que no se debe[m
[32m+[m[32mmostrar ni viÃ±etas automÃ¡ticas ni viÃ±etas personalizadas:[m
[32m+[m
[32m+[m[32m     ul { list-style: none }[m
[32m+[m
[32m+[m[32mCuando se utiliza una viÃ±eta personalizada, es conveniente indicar la viÃ±eta automÃ¡tica[m
[32m+[m[32mque se mostrarÃ¡ cuando no se pueda cargar la imagen:[m
[32m+[m
[32m+[m[32m     ul { list-style: url(imagenes/cuadrado_rojo.gif) square; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                135[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m9.1.2. MenÃº vertical sencillo[m
[32m+[m
[32m+[m[32mLas listas HTML se suelen emplear, ademÃ¡s de para su funciÃ³n natural, para la creaciÃ³n[m
[32m+[m[32mde menÃºs de navegaciÃ³n verticales y horizontales.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la transformaciÃ³n de una lista sencilla de enlaces en un menÃº[m
[32m+[m[32mvertical de navegaciÃ³n.[m
[32m+[m
[32m+[m[32mLista de enlaces original:[m
[32m+[m
[32m+[m[32m     <ul>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 1</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 2</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 3</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 4</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 5</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 6</a></li>[m
[32m+[m
[32m+[m[32m     </ul>[m
[32m+[m
[32m+[m[32mAspecto final del menÃº vertical:[m
[32m+[m
[32m+[m[32m                           Figura 9.4. MenÃº vertical sencillo creado con CSS[m
[32m+[m[32mEl proceso de transformaciÃ³n de la lista en un menÃº requiere de los siguientes pasos:[m
[32m+[m[32m1) Definir la anchura del menÃº:[m
[32m+[m
[32m+[m[32m     ul.menu { width: 180px; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                       136[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m                           Figura 9.5. MenÃº vertical: definiendo su anchura[m
[32m+[m
[32m+[m[32m2) Eliminar las viÃ±etas automÃ¡ticas y todos los mÃ¡rgenes y espaciados aplicados por[m
[32m+[m[32mdefecto:[m
[32m+[m
[32m+[m[32m     ul.menu {[m
[32m+[m[32m         width: 180px;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m                       Figura 9.6. MenÃº vertical: eliminar viÃ±etas por defecto[m
[32m+[m
[32m+[m[32m3) AÃ±adir un borde al menÃº de navegaciÃ³n y establecer el color de fondo y los bordes de[m
[32m+[m[32mcada elemento del menÃº:[m
[32m+[m
[32m+[m[32m     ul.menu {[m
[32m+[m[32m         width: 180px;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m[32m         border: 1px solid #7C7C7C;[m
[32m+[m
[32m+[m[32mwww.librosweb.es    137[m
[32m+[m[32mIntroducciÃ³n a CSS                          CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m         border-bottom: none;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li {[m
[32m+[m
[32m+[m[32m         border-bottom: 1px solid #7C7C7C;[m
[32m+[m[32m         border-top: 1px solid #FFF;[m
[32m+[m[32m         background: #F4F4F4;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m                             Figura 9.7. MenÃº vertical: aÃ±adiendo bordes[m
[32m+[m
[32m+[m[32m4) Aplicar estilos a los enlaces: mostrarlos como un elemento de bloque para que[m
[32m+[m[32mocupen todo el espacio de cada <li> del menÃº, aÃ±adir un espacio de relleno y modificar[m
[32m+[m[32mlos colores y la decoraciÃ³n por defecto:[m
[32m+[m
[32m+[m[32m     ul.menu li a {[m
[32m+[m[32m         padding: .2em 0 .2em .5em;[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m         color: #333;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mFigura 9.8. Aspecto final del menÃº vertical sencillo creado con CSS[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                     138[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32mLos tipos de menÃºs verticales que se pueden definir mediante las propiedades CSS son[m
[32m+[m[32minnumerables, como se puede observar en la pÃ¡gina http://www.exploding-boy.com/[m
[32m+[m[32mimages/EBmenus/menus.html[m
[32m+[m
[32m+[m[32m9.1.3. MenÃº vertical avanzado[m
[32m+[m
[32m+[m[32m Ejercicio 10 Ver enunciado en la pÃ¡gina 212[m
[32m+[m
[32m+[m[32m9.2. Estilos avanzados[m
[32m+[m
[32m+[m[32m9.2.1. MenÃº horizontal bÃ¡sico[m
[32m+[m
[32m+[m[32mA partir de un menÃº vertical sencillo, es posible crear un menÃº horizontal sencillo[m
[32m+[m[32maplicando las propiedades CSS conocidas hasta el momento.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la transformaciÃ³n del anterior menÃº vertical sencillo en un[m
[32m+[m[32mmenÃº horizontal sencillo. En este ejemplo, las propiedades para establecer el aspecto de[m
[32m+[m[32mlos elementos del menÃº se definen en los elementos <a> en lugar de definirlas para los[m
[32m+[m[32melementos <li> como en el ejemplo anterior. En cualquier caso, es indiferente el[m
[32m+[m[32melemento en el que se aplican los estilos que definen el aspecto de cada opciÃ³n del menÃº.[m
[32m+[m
[32m+[m[32mCÃ³digo HTML del menÃº horizontal:[m
[32m+[m
[32m+[m[32m     <ul>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 1</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 2</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 3</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 4</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 5</a></li>[m
[32m+[m[32m         <li><a href="#" title="Enlace genÃ©rico">Elemento 6</a></li>[m
[32m+[m
[32m+[m[32m     </ul>[m
[32m+[m
[32m+[m[32mCÃ³digo CSS del menÃº vertical anterior:[m
[32m+[m
[32m+[m[32m     ul.menu {[m
[32m+[m[32m         width: 180px;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m[32m         border: 1px solid #7C7C7C;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li {[m
[32m+[m
[32m+[m[32m         border-bottom:1px solid #7C7C7C;[m
[32m+[m[32m         border-top: 1px solid #FFF;[m
[32m+[m[32m         background: #F4F4F4;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li a {[m
[32m+[m[32m         padding: .2em 0 .2em .5em;[m
[32m+[m[32m         display:block;[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m         color: #333;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es    139[m
[32m+[m[32mIntroducciÃ³n a CSS                  CapÃ­tulo 9. Listas[m
[32m+[m[32mAspecto final del menÃº horizontal:[m
[32m+[m
[32m+[m[32m                         Figura 9.9. MenÃº horizontal sencillo creado con CSS[m
[32m+[m
[32m+[m[32mEl proceso de transformaciÃ³n del menÃº vertical en un menÃº horizontal consta de los[m
[32m+[m[32msiguientes pasos:[m
[32m+[m
[32m+[m[32m1) Eliminar la anchura y el borde del elemento <ul> y aplicar las propiedades float y[m
[32m+[m[32mclear:[m
[32m+[m
[32m+[m[32m     ul.menu {[m
[32m+[m[32m         clear: both;[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 100%;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m                     Figura 9.10. MenÃº horizontal: definiendo anchura y bordes[m
[32m+[m
[32m+[m[32m2) La clave de la transformaciÃ³n reside en modificar la propiedad float de los[m
[32m+[m[32melementos <li> del menÃº:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                    140[m
[32m+[m[32mIntroducciÃ³n a CSS                                                               CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m     ul.menu li {[m
[32m+[m[32m         float: left;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m                      Figura 9.11. MenÃº horizontal: propiedades float y display[m
[32m+[m
[32m+[m[32m3) Modificar el padding y los bordes de los enlaces que forman el menÃº:[m
[32m+[m
[32m+[m[32m     ul.menu li a {[m
[32m+[m[32m         padding: .3em;[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m         color: #333;[m
[32m+[m[32m         background: #F4F4F4;[m
[32m+[m[32m         border-top: 1px solid #7C7C7C;[m
[32m+[m[32m         border-right: 1px solid #7C7C7C;[m
[32m+[m[32m         border-bottom: 1px solid #9C9C9C;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m                  Figura 9.12. MenÃº horizontal: relleno y borde de los elementos[m
[32m+[m
[32m+[m[32m4) Por Ãºltimo, se aÃ±ade un borde izquierdo en el elemento <ul> para homogeneizar el[m
[32m+[m[32maspecto de los elementos del menÃº:[m
[32m+[m
[32m+[m[32m     ul.menu {[m
[32m+[m[32m         clear: both;[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 100%;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 0;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 141[m
[32m+[m[32mIntroducciÃ³n a CSS                        CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m         padding: 0;[m
[32m+[m[32m         border-left: 1px solid #7C7C7C;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m              Figura 9.13. Aspecto final del menÃº horizontal sencillo creado con CSS[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS final se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     ul.menu {[m
[32m+[m[32m         clear: both;[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 100%;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m[32m         border-left: 1px solid #7C7C7C;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li {[m
[32m+[m
[32m+[m[32m         float: left;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li a {[m
[32m+[m
[32m+[m[32m         padding: .3em;[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m         color: #333;[m
[32m+[m[32m         background: #F4F4F4;[m
[32m+[m[32m         border-top: 1px solid #7C7C7C;[m
[32m+[m[32m         border-right: 1px solid #7C7C7C;[m
[32m+[m[32m         border-bottom: 1px solid #9C9C9C;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m9.2.2. MenÃº horizontal con pestaÃ±as[m
[32m+[m
[32m+[m[32mModificando los estilos de cada elemento del menÃº y utilizando imÃ¡genes de fondo y las[m
[32m+[m[32mpseudo-clases :hover y :active, se pueden crear menÃºs horizontales complejos, incluso[m
[32m+[m[32mcon el aspecto de un menÃº de solapas o pestaÃ±as:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                          142[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m           Figura 9.14. Ejemplos de menÃºs horizontales con pestaÃ±as creados con CSS[m
[32m+[m
[32m+[m[32mEl cÃ³digo fuente de los menÃºs de la imagen anterior y muchos otros se puede encontrar[m
[32m+[m[32men http://exploding-boy.com/images/cssmenus/menus.html[m
[32m+[m
[32m+[m[32m9.2.3. MenÃº horizontal avanzado[m
[32m+[m
[32m+[m[32mAdemÃ¡s de los menÃºs horizontales de solapas, existen muchos otros tipos diferentes de[m
[32m+[m[32mmenÃºs horizontales (y verticales) que se pueden realizar empleando exclusivamente[m
[32m+[m[32mCSS:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    143[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 9. Listas[m
[32m+[m
[32m+[m[32m     Figura 9.15. Ejemplos de menÃºs horizontales y verticales complejos creados con CSS[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS de todos los ejemplos de la imagen anterior y muchos otros se pueden[m
[32m+[m[32mencontrar en: http://alvit.de/css-showcase/css-navigation-techniques-showcase.php[m
[32m+[m
[32m+[m[32mwww.librosweb.es    144[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32mCapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32m10.1. Estilos bÃ¡sicos[m
[32m+[m
[32m+[m[32mCuando se aplican bordes a las celdas de una tabla, el aspecto por defecto con el que se[m
[32m+[m[32mmuestra en un navegador es el siguiente:[m
[32m+[m
[32m+[m[32m                    Figura 10.1. Aspecto por defecto de los bordes de una tabla[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS del ejemplo anterior se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     .normal {[m
[32m+[m[32m         width: 250px;[m
[32m+[m[32m         border: 1px solid #000;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     .normal th, .normal td {[m
[32m+[m
[32m+[m[32m         border: 1px solid #000;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <table class="normal" summary="Tabla genÃ©rica">[m
[32m+[m[32m         <tr>[m
[32m+[m[32m            <th scope="col">A</th>[m
[32m+[m[32m            <th scope="col">B</th>[m
[32m+[m[32m            <th scope="col">C</th>[m
[32m+[m[32m            <th scope="col">D</th>[m
[32m+[m[32m            <th scope="col">E</th>[m
[32m+[m[32m         </tr>[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </table>[m
[32m+[m
[32m+[m[32mEl estÃ¡ndar CSS 2.1 define dos modelos diferentes para el tratamiento de los bordes de[m
[32m+[m[32mlas celdas. La propiedad que permite seleccionar el modelo de bordes es[m
[32m+[m[32mborder-collapse:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    145[m
[32m+[m[32mIntroducciÃ³n a CSS                                                           CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32mborder-collapse FusiÃ³n de bordes[m
[32m+[m
[32m+[m[32mValores             collapse | separate | inherit[m
[32m+[m[32mSe aplica a         Todas las tablas[m
[32m+[m[32mValor inicial       separate[m
[32m+[m[32m                    Define el mecanismo de fusiÃ³n de los bordes de las celdas[m
[32m+[m[32mDescripciÃ³n         adyacentes de una tabla[m
[32m+[m
[32m+[m[32mEl modelo collapse fusiona de forma automÃ¡tica los bordes de las celdas adyacentes,[m
[32m+[m[32mmientras que el modelo separate fuerza a que cada celda muestre sus cuatro bordes.[m
[32m+[m[32mPor defecto, los navegadores utilizan el modelo separate, tal y como se puede[m
[32m+[m[32mcomprobar en el ejemplo anterior.[m
[32m+[m
[32m+[m[32mEn general, los diseÃ±adores prefieren el modelo collapse porque estÃ©ticamente resulta[m
[32m+[m[32mmÃ¡s atractivo y mÃ¡s parecido a las tablas de datos tradicionales. El ejemplo anterior se[m
[32m+[m[32mpuede rehacer para mostrar la tabla con bordes sencillos y sin separaciÃ³n entre celdas:[m
[32m+[m
[32m+[m[32m                          Figura 10.2. Ejemplo de propiedad border-collapse[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS completo del ejemplo anterior se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     .normal {[m
[32m+[m[32m         width: 250px;[m
[32m+[m[32m         border: 1px solid #000;[m
[32m+[m[32m         border-collapse: collapse;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     .normal th, .normal td {[m
[32m+[m
[32m+[m[32m         border: 1px solid #000;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m<table class="normal" summary="Tabla genÃ©rica">[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="col">A</th>[m
[32m+[m[32m      <th scope="col">B</th>[m
[32m+[m[32m      <th scope="col">C</th>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               146[m
[32m+[m[32mIntroducciÃ³n a CSS                     CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32m            <th scope="col">D</th>[m
[32m+[m[32m            <th scope="col">E</th>[m
[32m+[m[32m         </tr>[m
[32m+[m[32m         ...[m
[32m+[m[32m     </table>[m
[32m+[m
[32m+[m[32mAunque parece sencillo, el mecanismo que utiliza el modelo collapse es muy complejo,[m
[32m+[m[32mya que cuando los bordes que se fusionan no son exactamente iguales, debe tener en[m
[32m+[m[32mcuenta la anchura de cada borde, su estilo y el tipo de celda que contiene el borde[m
[32m+[m[32m(columna, fila, grupo de filas, grupo de columnas) para determinar la prioridad de cada[m
[32m+[m[32mborde.[m
[32m+[m
[32m+[m[32mSi se opta por el modelo separate (que es el modelo por defecto si no se indica lo[m
[32m+[m[32mcontrario) se puede utilizar la propiedad border-spacing para controlar la separaciÃ³n[m
[32m+[m[32mentre los bordes de cada celda.[m
[32m+[m
[32m+[m[32mborder-spacing Espaciado entre bordes[m
[32m+[m
[32m+[m[32mValores             <medida> <medida>? | inherit[m
[32m+[m[32mSe aplica a         Todas las tablas[m
[32m+[m[32mValor inicial       0[m
[32m+[m[32m                    Establece la separaciÃ³n entre los bordes de las celdas adyacentes de[m
[32m+[m[32mDescripciÃ³n         una tabla[m
[32m+[m
[32m+[m[32mSi solamente se indica como valor una medida, se asigna ese valor como separaciÃ³n[m
[32m+[m[32mhorizontal y vertical. Si se indican dos medidas, la primera es la separaciÃ³n horizontal y[m
[32m+[m[32mla segunda es la separaciÃ³n vertical entre celdas.[m
[32m+[m
[32m+[m[32mLa propiedad border-spacing sÃ³lo controla la separaciÃ³n entre celdas y por tanto, no se[m
[32m+[m[32mpuede utilizar para modificar el tipo de modelo de bordes que se utiliza. En concreto, si[m
[32m+[m[32mse establece un valor igual a 0 para la separaciÃ³n entre los bordes de las celdas, el[m
[32m+[m[32mresultado es muy diferente al modelo collapse:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                       147[m
[32m+[m[32mIntroducciÃ³n a CSS                            CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32m                          Figura 10.3. Ejemplo de propiedad border-spacing[m
[32m+[m
[32m+[m[32mEn la tabla del ejemplo anterior, se ha establecido la propiedad border-spacing: 0, por[m
[32m+[m[32mlo que el navegador no introduce ninguna separaciÃ³n entre los bordes de las celdas.[m
[32m+[m[32mAdemÃ¡s, como no se ha establecido de forma explÃ­cita ningÃºn modelo de bordes, el[m
[32m+[m[32mnavegador utiliza el modelo separate.[m
[32m+[m
[32m+[m[32mEl resultado es que border-spacing: 0 muestra los bordes con una anchura doble, ya[m
[32m+[m[32mque en realidad se trata de dos bordes iguales sin separaciÃ³n entre ellos. Por tanto, las[m
[32m+[m[32mdiferencias visuales con el modelo border-collapse: collapse son muy evidentes.[m
[32m+[m
[32m+[m[32m10.2. Estilos avanzados[m
[32m+[m
[32m+[m[32mCSS define otras propiedades especÃ­ficas para el control del aspecto de las tablas. Una de[m
[32m+[m[32mellas es el tratamiento que reciben las celdas vacÃ­as de una tabla, que se controla[m
[32m+[m[32mmediante la propiedad empty-cells. Esta propiedad sÃ³lo se aplica cuando el modelo de[m
[32m+[m[32mbordes de la tabla es de tipo separate.[m
[32m+[m
[32m+[m[32mempty-cells Tratamiento de las celdas vacÃ­as[m
[32m+[m
[32m+[m[32mValores             show | hide | inherit[m
[32m+[m[32mSe aplica a         Celdas de una tabla[m
[32m+[m[32mValor inicial       show[m
[32m+[m[32m                    Define el mecanismo utilizado para el tratamiento de las celdas vacÃ­as de una[m
[32m+[m[32mDescripciÃ³n         tabla[m
[32m+[m
[32m+[m[32mEl valor hide indica que las celdas vacÃ­as no se deben mostrar. Una celda vacÃ­a es aquella[m
[32m+[m[32mque no tiene ningÃºn contenido, ni siquiera un espacio en blanco o un &nbsp;.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra las diferencias entre una tabla normal y una tabla con la[m
[32m+[m[32mpropiedad empty-cells: hide:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                              148[m
[32m+[m[32mIntroducciÃ³n a CSS                                                CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32m                            Figura 10.4. Ejemplo de propiedad empty-cells[m
[32m+[m
[32m+[m[32mDesafortunadamente, Internet Explorer 6 y las versiones anteriores no interpretan[m
[32m+[m[32mcorrectamente esta propiedad y muestran el ejemplo anterior de la siguiente manera:[m
[32m+[m
[32m+[m[32m                Figura 10.5. Internet Explorer no soporta la propiedad empty-cells[m
[32m+[m
[32m+[m[32mPor otra parte, el tÃ­tulo de las tablas se establece mediante el elemento <caption>, que[m
[32m+[m[32mpor defecto se muestra encima de los contenidos de la tabla. La propiedad caption-side[m
[32m+[m[32mpermite controlar la posiciÃ³n del tÃ­tulo de la tabla.[m
[32m+[m
[32m+[m[32mcaption-side PosiciÃ³n del tÃ­tulo de la tabla[m
[32m+[m
[32m+[m[32mValores             top | bottom | inherit[m
[32m+[m[32mSe aplica a         Los elementos caption[m
[32m+[m[32mValor inicial       top[m
[32m+[m[32mDescripciÃ³n         Establece la posiciÃ³n del tÃ­tulo de la tabla[m
[32m+[m
[32m+[m[32mEl valor bottom indica que el tÃ­tulo de la tabla se debe mostrar despuÃ©s de los contenidos[m
[32m+[m[32mde la tabla. La alineaciÃ³n horizontal se controla mediante la propiedad text-align.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el cÃ³digo HTML y CSS de un ejemplo sencillo de uso de la[m
[32m+[m[32mpropiedad caption-side:[m
[32m+[m
[32m+[m[32m     .especial {[m
[32m+[m[32m         caption-side: bottom;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m<table class="especial" summary="Tabla genÃ©rica">[m
[32m+[m[32m   <caption>Tabla 2.- TÃ­tulo especial</caption>[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <td>1</td>[m
[32m+[m[32m      <td>2</td>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                  149[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32m            <td>3</td>[m
[32m+[m[32m         </tr>[m
[32m+[m[32m         ...[m
[32m+[m[32m     </table>[m
[32m+[m
[32m+[m[32mDesafortunadamente, el navegador Opera 9 y versiones anteriores y el navegador[m
[32m+[m[32mInternet Explorer 6 y versiones anteriores no soportan esta propiedad y muestran el[m
[32m+[m[32mtÃ­tulo de la tabla siempre encima de sus contenidos:[m
[32m+[m
[32m+[m[32m          Figura 10.6. Opera e Internet Explorer no soportan la propiedad caption-side[m
[32m+[m
[32m+[m[32mEl navegador Firefox sÃ­ que soporta esta propiedad y muestra el tÃ­tulo de la segunda[m
[32m+[m[32mtabla debajo de sus contenidos, tal y como se ha indicado en el ejemplo:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    150[m
[32m+[m[32mIntroducciÃ³n a CSS                                                                CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32m                            Figura 10.7. Ejemplo de propiedad caption-side[m
[32m+[m
[32m+[m[32m Ejercicio 11 Ver enunciado en la pÃ¡gina 214[m
[32m+[m
[32m+[m[32mEl resultado final del ejercicio anterior se podrÃ­a completar aÃ±adiendo una pequeÃ±a[m
[32m+[m[32mmejora: que el color de las filas varÃ­e cuando el usuario pasa el ratÃ³n por encima de cada[m
[32m+[m[32mfila. La pseudo-clase :hover permite aÃ±adir fÃ¡cilmente esta caracterÃ­stica:[m
[32m+[m
[32m+[m[32m                      Figura 10.8. Pseudo-clase :hover en las filas de una tabla[m
[32m+[m[32mLa regla CSS necesaria se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  151[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 10. Tablas[m
[32m+[m
[32m+[m[32m     table tr:hover {[m
[32m+[m[32m         background: #FFFF66;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mDesafortunadamente, Internet Explorer 6 y las versiones anteriores no soportan la[m
[32m+[m[32mpseudo-clase :hover en elementos diferentes a los enlaces, por lo que se debe recurrir a[m
[32m+[m[32msoluciones con JavaScript para mostrar de otro color la fila activa.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    152[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32mCapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32m11.1. Estilos bÃ¡sicos[m
[32m+[m
[32m+[m[32m11.1.1. Mostrar un botÃ³n como un enlace[m
[32m+[m
[32m+[m[32mComo ya se vio anteriormente, el estilo por defecto de los enlaces se puede modificar[m
[32m+[m[32mpara que se muestren como botones de formulario. Ahora, los botones de formulario[m
[32m+[m[32mtambiÃ©n se pueden modificar para que parezcan enlaces.[m
[32m+[m
[32m+[m[32m                     Figura 11.1. Mostrando un botÃ³n como si fuera un enlace[m
[32m+[m
[32m+[m[32mLas reglas CSS del ejemplo anterior son las siguientes:[m
[32m+[m
[32m+[m[32m     .enlace {[m
[32m+[m[32m         border: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m[32m         background-color: transparent;[m
[32m+[m[32m         color: blue;[m
[32m+[m[32m         border-bottom: 1px solid blue;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <input type="button" value="BotÃ³n normal" />[m
[32m+[m
[32m+[m[32m     <input class="enlace" type="button" value="BotÃ³n como enlace" />[m
[32m+[m
[32m+[m[32m11.1.2. Mejoras en los campos de texto[m
[32m+[m
[32m+[m[32mPor defecto, los campos de texto de los formularios no incluyen ningÃºn espacio de[m
[32m+[m[32mrelleno, por lo que el texto introducido por el usuario aparece pegado a los bordes del[m
[32m+[m[32mcuadro de texto.[m
[32m+[m
[32m+[m[32mAÃ±adiendo un pequeÃ±o padding a cada elemento <input>, se mejora notablemente el[m
[32m+[m[32maspecto del formulario:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    153[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32m             Figura 11.2. Mejorando el aspecto de los formularios gracias al padding[m
[32m+[m
[32m+[m[32mLa regla CSS necesaria para mejorar el formulario es muy sencilla:[m
[32m+[m
[32m+[m[32m     form.elegante input {[m
[32m+[m[32m         padding: .2em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m11.1.3. Labels alineadas y formateadas[m
[32m+[m
[32m+[m[32mLos elementos <input> y <label> de los formularios son elementos en lÃ­nea, por lo que[m
[32m+[m[32mel aspecto que muestran los formularios por defecto, es similar al de la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    154[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32m                  Figura 11.3. Aspecto por defecto que muestran los formularios[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML del ejemplo anterior es el siguiente:[m
[32m+[m
[32m+[m[32m     <form>[m
[32m+[m[32m     <fieldset>[m
[32m+[m
[32m+[m[32m         <legend>Alta en el servicio</legend>[m
[32m+[m
[32m+[m[32m         <label for="nombre">Nombre</label>[m
[32m+[m[32m         <input type="text" id="nombre" />[m
[32m+[m
[32m+[m[32m         <label for="apellidos">Apellidos</label>[m
[32m+[m[32m         <input type="text" id="apellidos" size="50" />[m
[32m+[m
[32m+[m[32m         <label for="dni">DNI</label>[m
[32m+[m[32m         <input type="text" id="dni" size="10" maxlength="9" />[m
[32m+[m
[32m+[m[32m         <label for="contrasena">ContraseÃ±a</label>[m
[32m+[m[32m         <input type="password" id="contrasena" />[m
[32m+[m
[32m+[m[32m         <input class="btn" type="submit" value="Darme de alta" />[m
[32m+[m[32m     </fieldset>[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mAprovechando los elementos <label>, se pueden aplicar unos estilos CSS sencillos que[m
[32m+[m[32mpermitan mostrar el formulario con el aspecto de la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    155[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32m        Figura 11.4. Mostrando las etiquetas label encima de los campos del formulario[m
[32m+[m
[32m+[m[32mEn primer lugar, se muestran los elementos <label> como elementos de bloque, para[m
[32m+[m[32mque aÃ±adan una separaciÃ³n para cada campo del formulario. AdemÃ¡s, se aÃ±ade un[m
[32m+[m[32mmargen superior para no mostrar juntas todas las filas del formulario:[m
[32m+[m
[32m+[m[32m     label {[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         margin: .5em 0 0 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl botÃ³n del formulario tambiÃ©n se muestra como un elemento de bloque y se le aÃ±ade[m
[32m+[m[32mun margen para darle el aspecto final deseado:[m
[32m+[m
[32m+[m[32m     .btn {[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         margin: 1em 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn ocasiones, es mÃ¡s Ãºtil mostrar todos los campos del formulario con su <label>[m
[32m+[m[32malineada a la izquierda y el campo del formulario a la derecha de cada <label>, como[m
[32m+[m[32mmuestra la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    156[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32m      Figura 11.5. Mostrando las etiquetas label alineadas con los campos del formulario[m
[32m+[m
[32m+[m[32mPara mostrar un formulario tal y como aparece en la imagen anterior no es necesario[m
[32m+[m[32mcrear una tabla y controlar la anchura de sus columnas para conseguir una alineaciÃ³n[m
[32m+[m[32mperfecta. Sin embargo, sÃ­ que es necesario aÃ±adir un nuevo elemento (por ejemplo un[m
[32m+[m[32m<div>) que encierre a cada uno de los campos del formulario (<label> y <input>). El[m
[32m+[m[32mesquema de la soluciÃ³n propuesta es el siguiente:[m
[32m+[m
[32m+[m[32m Figura 11.6. Esquema de la tÃ©cnica de alineaciÃ³n de etiquetas label y campos de formulario[m
[32m+[m
[32m+[m[32mPor tanto, en el cÃ³digo HTML del formulario anterior se aÃ±aden los elementos <div>:[m
[32m+[m
[32m+[m[32m     <form>[m
[32m+[m[32m         <fieldset>[m
[32m+[m[32m         <legend>Alta en el servicio</legend>[m
[32m+[m
[32m+[m[32m         <div>[m
[32m+[m[32m            <label for="nombre">Nombre</label>[m
[32m+[m[32m            <input type="text" id="nombre" />[m
[32m+[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <div>[m
[32m+[m[32m            <label for="apellidos">Apellidos</label>[m
[32m+[m[32m            <input type="text" id="apellidos" size="35" />[m
[32m+[m
[32m+[m[32m         </div>[m
[32m+[m[32m         ...[m
[32m+[m[32m     </fieldset>[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mwww.librosweb.es    157[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32mY en el cÃ³digo CSS se aÃ±aden las reglas necesarias para alinear los campos del[m
[32m+[m[32mformulario:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         margin: .4em 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     div label {[m
[32m+[m
[32m+[m[32m         width: 25%;[m
[32m+[m[32m         float: left;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m11.2. Estilos avanzados[m
[32m+[m
[32m+[m[32m11.2.1. Formulario en varias columnas[m
[32m+[m
[32m+[m[32mLos formularios complejos con decenas de campos pueden ocupar mucho espacio en la[m
[32m+[m[32mventana del navegador. AdemÃ¡s del uso de pestaÃ±as para agrupar los campos[m
[32m+[m[32mrelacionados en un formulario, tambiÃ©n es posible mostrar el formulario a dos[m
[32m+[m[32mcolumnas, para aprovechar mejor el espacio.[m
[32m+[m
[32m+[m[32m                          Figura 11.7. Ejemplo de formulario a dos columnas[m
[32m+[m
[32m+[m[32mLa soluciÃ³n consiste en aplicar la siguiente regla CSS a los <fieldset> del formulario:[m
[32m+[m
[32m+[m[32m     form fieldset {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 48%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <form>[m
[32m+[m[32m         <fieldset>[m
[32m+[m
[32m+[m[32mwww.librosweb.es    158[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32m            ...[m
[32m+[m[32m         </fieldset>[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mSi se quiere mostrar el formulario con mÃ¡s de dos columnas, se aplica la misma regla[m
[32m+[m[32mpero modificando el valor de la propiedad width de cada <fieldset>. Si el formulario es[m
[32m+[m[32mmuy complejo, puede ser Ãºtil agrupar los <fieldset> de cada fila mediante elementos[m
[32m+[m[32m<div>.[m
[32m+[m
[32m+[m[32m11.2.2. Resaltar el campo seleccionado[m
[32m+[m
[32m+[m[32mUna de las mejoras mÃ¡s Ãºtiles para los formularios HTML consiste en resaltar de alguna[m
[32m+[m[32mforma especial el campo en el que el usuario estÃ¡ introduciendo datos. Para ello, CSS[m
[32m+[m[32mdefine la pseudo-clase :focus, que permite aplicar estilos especiales al elemento que en[m
[32m+[m[32mese momento tiene el foco o atenciÃ³n del usuario.[m
[32m+[m
[32m+[m[32mLa siguiente imagen muestra un formulario que resalta claramente el campo en el que el[m
[32m+[m[32musuario estÃ¡ introduciendo la informaciÃ³n:[m
[32m+[m
[32m+[m[32m                              Figura 11.8. Ejemplo de pseudo-clase :focus[m
[32m+[m
[32m+[m[32mAÃ±adiendo la pseudo-clase :focus despuÃ©s del selector normal, el navegador se encarga[m
[32m+[m[32mde aplicar esos estilos cuando el usuario activa el elemento:[m
[32m+[m
[32m+[m[32m     input:focus {[m
[32m+[m[32m         border: 2px solid #000;[m
[32m+[m[32m         background: #F3F3F3;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es    159[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 11. Formularios[m
[32m+[m
[32m+[m[32mDesafortunadamente, la pseudo-clase :focus no funciona en navegadores obsoletos[m
[32m+[m[32mcomo Internet Explorer 6, por lo que si la pÃ¡gina debe visualizarse de la misma forma en[m
[32m+[m[32mtodos los navegadores, es preciso recurrir a soluciones con JavaScript.[m
[32m+[m
[32m+[m[32m Ejercicio 12 Ver enunciado en la pÃ¡gina 216[m
[32m+[m
[32m+[m[32mwww.librosweb.es    160[m
[32m+[m[32mIntroducciÃ³n a CSS   CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32mCapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32mEl diseÃ±o de las pÃ¡ginas web habituales se divide en bloques: cabecera, menÃº,[m
[32m+[m[32mcontenidos y pie de pÃ¡gina. Visualmente, los bloques se disponen en varias filas y[m
[32m+[m[32mcolumnas. Por este motivo, hace varios aÃ±os la estructura de las pÃ¡ginas HTML se definÃ­a[m
[32m+[m[32mmediante tablas.[m
[32m+[m
[32m+[m[32mEl desarrollo de CSS ha permitido que se puedan realizar los mismos diseÃ±os sin utilizar[m
[32m+[m[32mtablas HTML. Las principales ventajas de diseÃ±ar la estructura de las pÃ¡ginas web con[m
[32m+[m[32mCSS en vez de con tablas HTML son las siguientes:[m
[32m+[m
[32m+[m[32m    â–ª Mantenimiento: una pÃ¡gina diseÃ±ada exclusivamente con CSS es mucho mÃ¡s fÃ¡cil[m
[32m+[m[32m       de mantener que una pÃ¡gina diseÃ±ada con tablas. Cambiar el aspecto de una[m
[32m+[m[32m       pÃ¡gina creada con CSS es tan fÃ¡cil como modificar unas pocas reglas en las hojas[m
[32m+[m[32m       de estilos. Sin embargo, realizar la misma modificaciÃ³n en una pÃ¡gina creada con[m
[32m+[m[32m       tablas supone un esfuerzo muy superior y es mÃ¡s probable cometer errores.[m
[32m+[m
[32m+[m[32m    â–ª Accesibilidad: las pÃ¡ginas creadas con CSS son mÃ¡s accesibles que las pÃ¡ginas[m
[32m+[m[32m       diseÃ±adas con tablas. De hecho, los navegadores que utilizan las personas[m
[32m+[m[32m       discapacitadas (en especial las personas invidentes) pueden tener dificultades con[m
[32m+[m[32m       la estructura de las pÃ¡ginas complejas creadas con tablas HTML. No obstante,[m
[32m+[m[32m       diseÃ±ar una pÃ¡gina web exclusivamente con CSS no garantiza que la pÃ¡gina sea[m
[32m+[m[32m       accesible.[m
[32m+[m
[32m+[m[32m    â–ª Velocidad de carga: el cÃ³digo HTML de una pÃ¡gina diseÃ±ada con tablas es mucho[m
[32m+[m[32m       mayor que el cÃ³digo de la misma pÃ¡gina diseÃ±ada exclusivamente con CSS, por lo[m
[32m+[m[32m       que tarda mÃ¡s tiempo en descargarse. En cualquier caso, si el usuario accede al[m
[32m+[m[32m       sitio con una conexiÃ³n de banda ancha y la pÃ¡gina es de un tamaÃ±o medio o[m
[32m+[m[32m       reducido, las diferencias son casi imperceptibles.[m
[32m+[m
[32m+[m[32m    â–ª SemÃ¡ntica: aunque resulta obvio, las tablas HTML sÃ³lo se deben utilizar para[m
[32m+[m[32m       mostrar datos cuya informaciÃ³n sÃ³lo se entiende en forma de filas y columnas.[m
[32m+[m[32m       Utilizar tablas para crear la estructura completa de una pÃ¡gina es tan absurdo[m
[32m+[m[32m       como utilizar por ejemplo la etiqueta <ul> para crear pÃ¡rrafos de texto.[m
[32m+[m
[32m+[m[32mPor estos motivos, la estructura basada en tablas ha dado paso a la estructura basada[m
[32m+[m[32mexclusivamente en CSS. Aunque crear la estructura de las pÃ¡ginas sÃ³lo con CSS presenta[m
[32m+[m[32men ocasiones retos importantes, en general es mÃ¡s sencilla y flexible.[m
[32m+[m
[32m+[m[32mEn este capÃ­tulo se muestra cÃ³mo crear algunas de las estructuras o layouts mÃ¡s[m
[32m+[m[32mhabituales de los diseÃ±os web utilizando exclusivamente CSS.[m
[32m+[m
[32m+[m[32m12.1. Centrar una pÃ¡gina horizontalmente[m
[32m+[m
[32m+[m[32mA medida que aumenta el tamaÃ±o y la resoluciÃ³n de las pantallas de ordenador, se hace[m
[32m+[m[32mmÃ¡s difÃ­cil diseÃ±ar pÃ¡ginas que se adapten al tamaÃ±o de la ventana del navegador. El[m
[32m+[m[32mprincipal reto que se presenta con resoluciones superiores a 1024 x 768 pÃ­xel, es que las[m
[32m+[m
[32m+[m[32mwww.librosweb.es     161[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32mlÃ­neas de texto son demasiado largas como para leerlas con comodidad. Por ese motivo,[m
[32m+[m[32mnormalmente se opta por diseÃ±os con una anchura fija limitada a un valor aceptable[m
[32m+[m[32mpara mantener la legibilidad del texto.[m
[32m+[m
[32m+[m[32mPor otra parte, los navegadores alinean por defecto las pÃ¡ginas web a la izquierda de la[m
[32m+[m[32mventana. Cuando la resoluciÃ³n de la pantalla es muy grande, la mayorÃ­a de pÃ¡ginas de[m
[32m+[m[32manchura fija alineadas a la izquierda parecen muy estrechas y provocan una sensaciÃ³n[m
[32m+[m[32mde vacÃ­o.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n mÃ¡s sencilla para evitar los grandes espacios en blanco consiste en crear[m
[32m+[m[32mpÃ¡ginas con una anchura fija adecuada y centrar la pÃ¡gina horizontalmente respecto de[m
[32m+[m[32mla ventana del navegador. Las siguientes imÃ¡genes muestran el aspecto de una pÃ¡gina[m
[32m+[m[32mcentrada a medida que aumenta la anchura de la ventana del navegador.[m
[32m+[m
[32m+[m[32m                    Figura 12.1. PÃ¡gina de anchura fija centrada mediante CSS[m
[32m+[m
[32m+[m[32m                    Figura 12.2. PÃ¡gina de anchura fija centrada mediante CSS[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               162[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m                     Figura 12.3. PÃ¡gina de anchura fija centrada mediante CSS[m
[32m+[m
[32m+[m[32mUtilizando la propiedad margin de CSS, es muy sencillo centrar una pÃ¡gina web[m
[32m+[m[32mhorizontalmente. La soluciÃ³n consiste en agrupar todos los contenidos de la pÃ¡gina en[m
[32m+[m[32mun elemento <div> y asignarle a ese <div> unos mÃ¡rgenes laterales automÃ¡ticos. El[m
[32m+[m[32m<div> que encierra los contenidos se suele llamar contenedor (en inglÃ©s se denomina[m
[32m+[m[32mwrapper o container):[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m         margin: 0 auto;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <div id="contenedor">[m
[32m+[m[32m            <h1>Lorem ipsum dolor sit amet</h1>[m
[32m+[m[32m            ...[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mComo se sabe, el valor 0 auto significa que los mÃ¡rgenes superior e inferior son iguales[m
[32m+[m[32ma 0 y los mÃ¡rgenes laterales toman un valor de auto. Cuando se asignan mÃ¡rgenes[m
[32m+[m[32mlaterales automÃ¡ticos a un elemento, los navegadores centran ese elemento respecto de[m
[32m+[m[32msu elemento padre. En este ejemplo, el elemento padre del <div> es la propia pÃ¡gina (el[m
[32m+[m[32melemento <body>), por lo que se consigue centrar el elemento <div> respecto de la[m
[32m+[m[32mventana del navegador.[m
[32m+[m
[32m+[m[32mModificando ligeramente el cÃ³digo CSS anterior se puede conseguir un diseÃ±o dinÃ¡mico[m
[32m+[m[32mo lÃ­quido (tambiÃ©n llamado fluido) que se adapta a la anchura de la ventana del[m
[32m+[m[32mnavegador y permanece siempre centrado:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 70%;[m
[32m+[m[32m         margin: 0 auto;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEstableciendo la anchura del elemento contenedor mediante un porcentaje, su anchura[m
[32m+[m[32mse adapta de forma continua a la anchura de la ventana del navegador. De esta forma, si[m
[32m+[m
[32m+[m[32mwww.librosweb.es    163[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32mse reduce la anchura de la ventana del navegador, la pÃ¡gina se verÃ¡ mÃ¡s estrecha y si se[m
[32m+[m[32mmaximiza la ventana del navegador, la pÃ¡gina se verÃ¡ mÃ¡s ancha.[m
[32m+[m
[32m+[m[32mLas siguientes imÃ¡genes muestran cÃ³mo se adapta el diseÃ±o dinÃ¡mico a la anchura de la[m
[32m+[m[32mventana del navegador, mostrando cada vez mÃ¡s contenidos a medida que se agranda la[m
[32m+[m[32mventana.[m
[32m+[m
[32m+[m[32mFigura 12.4. PÃ¡gina de anchura variable centrada mediante CSS[m
[32m+[m
[32m+[m[32mFigura 12.5. PÃ¡gina de anchura variable centrada mediante CSS[m
[32m+[m
[32m+[m[32mFigura 12.6. PÃ¡gina de anchura variable centrada mediante CSS[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                               164[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m12.2. Centrar una pÃ¡gina verticalmente[m
[32m+[m
[32m+[m[32mCuando se centra una pÃ¡gina web de forma horizontal, sus mÃ¡rgenes laterales se[m
[32m+[m[32madaptan dinÃ¡micamente de forma que la pÃ¡gina siempre aparece en el centro de la[m
[32m+[m[32mventana del navegador, independientemente de la anchura de la ventana. De la misma[m
[32m+[m[32mforma, cuando se centra una pÃ¡gina web verticalmente, el objetivo es que sus contenidos[m
[32m+[m[32maparezcan en el centro de la ventana del navegador y por tanto, que sus mÃ¡rgenes[m
[32m+[m[32mverticales se adapten de forma dinÃ¡mica en funciÃ³n del tamaÃ±o de la ventana del[m
[32m+[m[32mnavegador.[m
[32m+[m
[32m+[m[32mAunque centrar una pÃ¡gina web horizontalmente es muy sencillo, centrarla[m
[32m+[m[32mverticalmente es mucho mÃ¡s complicado. Afortunadamente, no es muy comÃºn que una[m
[32m+[m[32mpÃ¡gina web aparezca centrada de forma vertical. El motivo es que la mayorÃ­a de pÃ¡ginas[m
[32m+[m[32mweb son mÃ¡s altas que la ventana del navegador, por lo que no es posible centrarlas[m
[32m+[m[32mverticalmente.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra la forma de centrar una pÃ¡gina web respecto de la ventana[m
[32m+[m[32mdel navegador, es decir, centrarla tanto horizontalmente como verticalmente.[m
[32m+[m
[32m+[m[32mSiguiendo el mismo razonamiento que el planteado para centrar la pÃ¡gina[m
[32m+[m[32mhorizontalmente, se podrÃ­an utilizar las siguientes reglas CSS para centrar la pÃ¡gina[m
[32m+[m[32mrespecto de la ventana del navegador:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 300px;[m
[32m+[m[32m         height: 250px;[m
[32m+[m[32m         margin: auto;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <div id="contenedor">[m
[32m+[m[32m            <h1>Lorem ipsum dolor sit amet</h1>[m
[32m+[m[32m            ...[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mSi el valor auto se puede utilizar para que los mÃ¡rgenes laterales se adapten[m
[32m+[m[32mdinÃ¡micamente, tambiÃ©n deberÃ­a ser posible utilizar el valor auto para los mÃ¡rgenes[m
[32m+[m[32mverticales. Desafortunadamente, la propiedad margin: auto no funciona tal y como se[m
[32m+[m[32mespera para los mÃ¡rgenes verticales y la pÃ¡gina no se muestra centrada.[m
[32m+[m
[32m+[m[32mLa soluciÃ³n correcta para centrar verticalmente una pÃ¡gina web se basa en el[m
[32m+[m[32mposicionamiento absoluto e implica realizar un cÃ¡lculo matemÃ¡tico sencillo. A[m
[32m+[m[32mcontinuaciÃ³n se muestra el esquema grÃ¡fico de los cuatro pasos necesarios para centrar[m
[32m+[m[32muna pÃ¡gina web en la ventana del navegador:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    165[m
[32m+[m[32mIntroducciÃ³n a CSS   CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m            Figura 12.7. Pasos necesarios para centrar verticalmente una pÃ¡gina web[m
[32m+[m
[32m+[m[32mEn primer lugar, se asigna una altura y una anchura al elemento que encierra todos los[m
[32m+[m[32mcontenidos de la pÃ¡gina. En la primera figura, los contenidos de la pÃ¡gina tienen una[m
[32m+[m[32manchura llamada width y una altura llamada height que son menores que la anchura y[m
[32m+[m[32maltura de la ventana del navegador. En el siguiente ejemplo, se supone que tanto la[m
[32m+[m[32manchura como la altura de la pÃ¡gina es igual a 500px:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 500px;[m
[32m+[m[32m         height: 500px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <div id="contenedor">[m
[32m+[m[32m            <h1>Lorem ipsum dolor sit amet</h1>[m
[32m+[m[32m            ...[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, se posiciona de forma absoluta el elemento contenedor y se asigna un[m
[32m+[m[32mvalor de 50% tanto a la propiedad top como a la propiedad left. El resultado es que la[m
[32m+[m[32mesquina superior izquierda del elemento contenedor se posiciona en el centro de la[m
[32m+[m[32mventana del navegador:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 500px;[m
[32m+[m[32m         height: 500px;[m
[32m+[m
[32m+[m[32mposition: absolute;[m
[32m+[m
[32m+[m[32mwww.librosweb.es     166[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m         top: 50%;[m
[32m+[m[32m         left: 50%;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi la pÃ¡gina se debe mostrar en el centro de la ventana del navegador, es necesario[m
[32m+[m[32mdesplazar hacia arriba y hacia la izquierda los contenidos de la pÃ¡gina web. Para[m
[32m+[m[32mdeterminar el desplazamiento necesario, se realiza un cÃ¡lculo matemÃ¡tico sencillo.[m
[32m+[m[32mComo se ve en la tercera figura del esquema anterior, el punto central de la pÃ¡gina debe[m
[32m+[m[32mdesplazarse hasta el centro de la ventana del navegador.[m
[32m+[m
[32m+[m[32mComo se desprende de la imagen anterior, la pÃ¡gina web debe moverse hacia arriba una[m
[32m+[m[32mcantidad igual a la mitad de su altura y debe desplazarse hacia la izquierda una cantidad[m
[32m+[m[32mequivalente a la mitad de su anchura. Utilizando las propiedades margin-top y[m
[32m+[m[32mmargin-left con valores negativos, la pÃ¡gina se desplaza hasta el centro de la ventana[m
[32m+[m[32mdel navegador.[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 500px;[m
[32m+[m[32m         height: 500px;[m
[32m+[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         top: 50%;[m
[32m+[m[32m         left: 50%;[m
[32m+[m
[32m+[m[32m         margin-top: -250px; /* height/2 = 500px / 2 */[m
[32m+[m[32m         margin-left: -250px; /* width/2 = 500px / 2 */[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mCon las reglas CSS anteriores, la pÃ¡gina web siempre aparece centrada verticalmente y[m
[32m+[m[32mhorizontalmente respecto de la ventana del navegador. El motivo es que la anchura/[m
[32m+[m[32maltura de la pÃ¡gina son fijas (propiedades width y height), el desplazamiento necesario[m
[32m+[m[32mpara centrarla tambiÃ©n es fijo (propiedades margin-top y margin-left) y el[m
[32m+[m[32mdesplazamiento hasta el centro de la ventana del navegador se calcula dinÃ¡micamente[m
[32m+[m[32mgracias al uso de porcentajes en las propiedades top y left.[m
[32m+[m
[32m+[m[32mPara centrar una pÃ¡gina sÃ³lo verticalmente, se debe prescindir tanto del[m
[32m+[m[32mposicionamiento horizontal como del desplazamiento horizontal:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 500px;[m
[32m+[m[32m         height: 500px;[m
[32m+[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         top: 50%;[m
[32m+[m
[32m+[m[32m         margin-top: -250px; /* height/2 = 500px / 2 */[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m12.3. Estructura o layout[m
[32m+[m
[32m+[m[32mwww.librosweb.es    167[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m12.3.1. DiseÃ±o a 2 columnas con cabecera y pie de pÃ¡gina[m
[32m+[m
[32m+[m[32mEl objetivo de este diseÃ±o es definir una estructura de pÃ¡gina con cabecera y pie, un[m
[32m+[m[32mmenÃº lateral de navegaciÃ³n y una zona de contenidos. La anchura de la pÃ¡gina se fija en[m
[32m+[m[32m700px, la anchura del menÃº es de 150px y la anchura de los contenidos es de 550px:[m
[32m+[m
[32m+[m[32m          Figura 12.8. Esquema del diseÃ±o a 2 columnas con cabecera y pie de pÃ¡gina[m
[32m+[m
[32m+[m[32mLa soluciÃ³n CSS se basa en el uso de la propiedad float para los elementos posicionados[m
[32m+[m[32mcomo el menÃº y los contenidos y el uso de la propiedad clear en el pie de pÃ¡gina para[m
[32m+[m[32mevitar los solapamientos ocasionados por los elementos posicionados con float.[m
[32m+[m
[32m+[m[32m Figura 12.9. Propiedades CSS necesarias en el diseÃ±o a dos columnas con cabecera y pie de[m
[32m+[m[32m                                                     pÃ¡gina[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS mÃ­nimos para definir la estructura de la pÃ¡gina sin aplicar ningÃºn[m
[32m+[m[32mestilo adicional son los siguientes:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         width: 700px;[m
[32m+[m
[32m+[m[32mwww.librosweb.es    168[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m     }[m
[32m+[m[32m     #menu {[m
[32m+[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 150px;[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenido {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 550px;[m
[32m+[m[32m     }[m
[32m+[m[32m     #pie {[m
[32m+[m[32m         clear: both;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m
[32m+[m[32m         <div id="cabecera">[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <div id="menu">[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <div id="contenido">[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <div id="pie">[m
[32m+[m[32m         </div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mEn los estilos CSS anteriores se ha optado por desplazar tanto el menÃº como los[m
[32m+[m[32mcontenidos hacia la izquierda de la pÃ¡gina (float: left). Sin embargo, en este caso[m
[32m+[m[32mtambiÃ©n se podrÃ­a desplazar el menÃº hacia la izquierda (float:left) y los contenidos[m
[32m+[m[32mhacia la derecha (float: right).[m
[32m+[m
[32m+[m[32mEl diseÃ±o anterior es de anchura fija, lo que significa que no se adapta a la anchura de la[m
[32m+[m[32mventana del navegador. Para conseguir una pÃ¡gina de anchura variable y que se adapte[m
[32m+[m[32mde forma dinÃ¡mica a la ventana del navegador, se deben aplicar las siguientes reglas CSS:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m     }[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m     }[m
[32m+[m[32m     #menu {[m
[32m+[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 15%;[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenido {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 85%;[m
[32m+[m[32m     }[m
[32m+[m[32m     #pie {[m
[32m+[m
[32m+[m[32mwww.librosweb.es    169[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m         clear: both;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se indican la anchuras de los bloques que forman la pÃ¡gina en porcentajes, el diseÃ±o[m
[32m+[m[32mfinal es dinÃ¡mico. Para crear diseÃ±os de anchura fija, basta con establecer las anchuras[m
[32m+[m[32mde los bloques en pÃ­xel.[m
[32m+[m
[32m+[m[32m12.3.2. DiseÃ±o a 3 columnas con cabecera y pie de pÃ¡gina[m
[32m+[m
[32m+[m[32mAdemÃ¡s del diseÃ±o a dos columnas, el diseÃ±o mÃ¡s utilizado es el de tres columnas con[m
[32m+[m[32mcabecera y pie de pÃ¡gina. En este caso, los contenidos se dividen en dos zonas[m
[32m+[m[32mdiferenciadas: zona principal de contenidos y zona lateral de contenidos auxiliares:[m
[32m+[m
[32m+[m[32m        Figura 12.10. Esquema del diseÃ±o a tres columnas con cabecera y pie de pÃ¡gina[m
[32m+[m
[32m+[m[32mLa soluciÃ³n CSS emplea la misma estrategia del diseÃ±o a dos columnas y se basa en[m
[32m+[m[32mutilizar las propiedades float y clear:[m
[32m+[m
[32m+[m[32mFigura 12.11. Propiedades CSS necesarias en el diseÃ±o a 3 columnas con cabecera y pie de[m
[32m+[m[32m                                                   pÃ¡gina[m
[32m+[m
[32m+[m[32mwww.librosweb.es    170[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32mEl cÃ³digo HTML y CSS mÃ­nimos para definir la estructura de la pÃ¡gina sin aplicar ningÃºn[m
[32m+[m[32mestilo adicional son los siguientes:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m     }[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m     }[m
[32m+[m[32m     #menu {[m
[32m+[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 15%;[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenido {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 85%;[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenido #principal {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 80%;[m
[32m+[m[32m     }[m
[32m+[m[32m     #contenido #secundario {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 20%;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #pie {[m
[32m+[m[32m         clear: both;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m
[32m+[m[32m         <div id="cabecera">[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <div id="menu">[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <div id="contenido">[m
[32m+[m[32m            <div id="principal">[m
[32m+[m[32m            </div>[m
[32m+[m
[32m+[m[32m            <div id="secundario">[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m         <div id="pie">[m
[32m+[m[32m         </div>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior crea una pÃ¡gina con anchura variable que se adapta a la ventana del[m
[32m+[m[32mnavegador. Para definir una pÃ¡gina con anchura fija, solamente es necesario sustituir las[m
[32m+[m[32manchuras en porcentajes por anchuras en pÃ­xel.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    171[m
[32m+[m[32mIntroducciÃ³n a CSS                                                               CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32mAl igual que sucedÃ­a en el diseÃ±o a dos columnas, se puede optar por posicionar todos[m
[32m+[m[32mlos elementos mediante float: left o se puede utilizar float: left para el menÃº y la[m
[32m+[m[32mzona principal de contenidos y float: right para el contenedor de los contenidos y la[m
[32m+[m[32mzona secundaria de contenidos.[m
[32m+[m
[32m+[m[32m Ejercicio 13 Ver enunciado en la pÃ¡gina 222[m
[32m+[m
[32m+[m[32m12.4. Alturas/anchuras mÃ¡ximas y mÃ­nimas[m
[32m+[m
[32m+[m[32mCuando se diseÃ±a la estructura de una pÃ¡gina web, se debe tomar la decisiÃ³n de optar[m
[32m+[m[32mpor un diseÃ±o de anchura fija o un diseÃ±o cuya anchura se adapta a la anchura de la[m
[32m+[m[32mventana del navegador.[m
[32m+[m
[32m+[m[32mSin embargo, la mayorÃ­a de las veces serÃ­a conveniente una soluciÃ³n intermedia: que la[m
[32m+[m[32manchura de la pÃ¡gina sea variable y se adapte a la anchura de la ventana del navegador,[m
[32m+[m[32mpero respetando ciertos lÃ­mites. En otras palabras, que la anchura de la pÃ¡gina no sea[m
[32m+[m[32mtan pequeÃ±a como para que no se puedan mostrar correctamente los contenidos y[m
[32m+[m[32mtampoco sea tan ancha como para que las lÃ­neas de texto no puedan leerse[m
[32m+[m[32mcÃ³modamente.[m
[32m+[m
[32m+[m[32mCSS define cuatro propiedades que permiten limitar la anchura y altura mÃ­nima y[m
[32m+[m[32mmÃ¡xima de cualquier elemento de la pÃ¡gina. Las propiedades son max-width, min-width,[m
[32m+[m[32mmax-height y min-height.[m
[32m+[m
[32m+[m[32mmax-width Anchura mÃ¡xima[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | none | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos salvo filas y grupos de filas de tablas[m
[32m+[m[32mValor inicial       none[m
[32m+[m[32mDescripciÃ³n         Permite definir la anchura mÃ¡xima de un elemento[m
[32m+[m
[32m+[m[32mmin-width Anchura mÃ­nima[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos salvo filas y grupos de filas de tablas[m
[32m+[m[32mValor inicial       0[m
[32m+[m[32mDescripciÃ³n         Permite definir la anchura mÃ­nima de un elemento[m
[32m+[m
[32m+[m[32mmax-height Altura mÃ¡xima[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | none | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos salvo columnas y grupos de columnas de tablas[m
[32m+[m[32mValor inicial       none[m
[32m+[m[32mDescripciÃ³n         Permite definir la altura mÃ¡xima de un elemento[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                       172[m
[32m+[m[32mIntroducciÃ³n a CSS        CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32mmin-height Altura mÃ­nima[m
[32m+[m
[32m+[m[32mValores             <medida> | <porcentaje> | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos salvo columnas y grupos de columnas de tablas[m
[32m+[m[32mValor inicial       0[m
[32m+[m[32mDescripciÃ³n         Permite definir la altura mÃ­nima de un elemento[m
[32m+[m
[32m+[m[32mDe esta forma, para conseguir un diseÃ±o de anchura variable pero controlada, se podrÃ­an[m
[32m+[m[32mutilizar reglas CSS como la siguiente:[m
[32m+[m
[32m+[m[32m     #contenedor {[m
[32m+[m[32m         min-width: 500px;[m
[32m+[m[32m         max-width: 900px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLas propiedades que definen la altura y anchura mÃ¡xima y mÃ­nima se pueden aplicar a[m
[32m+[m[32mcualquier elemento, aunque solamente suelen utilizarse para estructurar la pÃ¡gina. En[m
[32m+[m[32mgeneral, las propiedades mÃ¡s utilizadas son max-width y min-width, ya que no es muy[m
[32m+[m[32mhabitual definir alturas mÃ¡ximas y mÃ­nimas.[m
[32m+[m
[32m+[m[32mDesafortunadamente, Internet Explorer 6 y las versiones anteriores no soportan[m
[32m+[m[32mninguna de las cuatro propiedades sobre ningÃºn elemento. Hasta que se incorpore en las[m
[32m+[m[32mnuevas versiones del navegador, es preciso recurrir a trucos que simulen el[m
[32m+[m[32mcomportamiento de las propiedades:[m
[32m+[m
[32m+[m[32mmax-width equivalente para Internet Explorer:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         max-width: 800px;[m
[32m+[m[32m         width: expression(document.body.clientWidth > 801? "800px": "auto");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mmin-width equivalente para Internet Explorer:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         min-width:800px;[m
[32m+[m[32m         width: expression(document.body.clientWidth < 801? "800px": "auto" );[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mmax-height equivalente para Internet Explorer:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         max-height: 300px;[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m[32m         height: expression(this.scrollHeight > 301? "300px" : "auto" );[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mmin-height equivalente para Internet Explorer:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         min-height:300px;[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                       173[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m         height: expression(this.scrollHeight < 301? "300px" : "auto" );[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos equivalentes para Internet Explorer han sido extraÃ­dos de:[m
[32m+[m[32mhttp://www.svendtofte.com/code/max_width_in_ie/[m
[32m+[m
[32m+[m[32m12.5. Estilos avanzados[m
[32m+[m
[32m+[m[32mEn general, la columna de los contenidos es la mÃ¡s larga y la columna de navegaciÃ³n es[m
[32m+[m[32mla mÃ¡s corta. El principal inconveniente de los diseÃ±os mostrados anteriormente es que[m
[32m+[m[32mno se puede garantizar que todas las columnas se muestren con la misma altura.[m
[32m+[m
[32m+[m[32mSi las columnas tienen algÃºn color o imagen de fondo, este comportamiento no es[m
[32m+[m[32madmisible, ya que se verÃ­a que alguna columna no llega hasta el final de la columna mÃ¡s[m
[32m+[m[32mlarga y el diseÃ±o final parecerÃ­a inacabado.[m
[32m+[m
[32m+[m[32mDesde la apariciÃ³n de este problema se han presentado numerosas soluciones. La mÃ¡s[m
[32m+[m[32mconocida es la tÃ©cnica faux columns ("columnas falsas") y que simula el color/imagen de[m
[32m+[m[32mfondo de las columnas laterales mediante la imagen de fondo de la columna central de[m
[32m+[m[32mcontenidos.[m
[32m+[m
[32m+[m[32mLa tÃ©cnica fue presentada originalmente por Dan Cederholm en su cÃ©lebre artÃ­culo "Faux[m
[32m+[m[32mColumns" (http://alistapart.com/articles/fauxcolumns/).[m
[32m+[m
[32m+[m[32mMÃ¡s recientemente se ha presentado el proyecto "In Search of the One True Layout" que[m
[32m+[m[32mbusca definir una serie de tÃ©cnicas que permitan crear de forma sencilla cualquier[m
[32m+[m[32mestructura de pÃ¡gina basada en columnas.[m
[32m+[m
[32m+[m[32mLa pÃ¡gina principal del proyecto se puede encontrar en:[m
[32m+[m[32mhttp://www.positioniseverything.net/articles/onetruelayout/[m
[32m+[m
[32m+[m[32mAdemÃ¡s, estÃ¡ disponible una herramienta interactiva para crear diseÃ±os basados en[m
[32m+[m[32mcolumnas con la posibilidad de definir el nÃºmero de columnas, su anchura y obligar a[m
[32m+[m[32mque todas las columnas muestren la misma altura:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    174[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 12. Layout[m
[32m+[m
[32m+[m[32m      Figura 12.12. Herramienta online para diseÃ±ar layouts de varias columnas con CSS[m
[32m+[m
[32m+[m[32mLa herramienta interactiva se puede encontrar en: http://www.fu2k.org/alex/css/[m
[32m+[m[32monetruelayout/example/interactive[m
[32m+[m
[32m+[m[32mwww.librosweb.es    175[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32mCapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m13.1. Propiedades shorthand[m
[32m+[m
[32m+[m[32mLas propiedades de tipo "shorthand" son propiedades de CSS que permiten establecer de[m
[32m+[m[32mforma simultÃ¡nea el valor de varias propiedades diferentes pero relacionadas. El uso de[m
[32m+[m[32mlas propiedades "shorthand" es muy extendido, ya que permiten crear hojas de estilos[m
[32m+[m[32mmÃ¡s compactas.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se incluye a modo de referencia todas las propiedades de tipo[m
[32m+[m[32m"shorthand" que se han mostrado anteriormente.[m
[32m+[m
[32m+[m[32m    font            TipografÃ­a[m
[32m+[m
[32m+[m[32mValores             ( ( <font-style> || <font-variant> || <font-weight> )?[m
[32m+[m[32m                    <font-size> ( / <line-height> )? <font-family> ) | caption[m
[32m+[m[32mSe aplica a         | icon | menu | message-box | small-caption | status-bar |[m
[32m+[m[32mValor inicial       inherit[m
[32m+[m[32mDescripciÃ³n[m
[32m+[m[32m                    Todos los elementos[m
[32m+[m
[32m+[m[32m                    -[m
[32m+[m
[32m+[m[32m                    Permite indicar de forma directa todas las propiedades de la tipografÃ­a de un[m
[32m+[m[32m                    texto[m
[32m+[m
[32m+[m[32m   margin           Margen[m
[32m+[m
[32m+[m[32mValores             ( <medida> | <porcentaje> | auto ) {1, 4} | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos salvo algunos casos especiales de elementos mostrados[m
[32m+[m[32mValor inicial       como tablas[m
[32m+[m[32mDescripciÃ³n         -[m
[32m+[m[32m                    Establece de forma directa todos los mÃ¡rgenes de un elemento[m
[32m+[m
[32m+[m[32m  padding           Relleno[m
[32m+[m
[32m+[m[32mValores             ( <medida> | <porcentaje> ){1, 4} | inherit[m
[32m+[m[32mSe aplica a         Todos los elementos excepto algunos elementos de tablas como grupos de[m
[32m+[m[32mValor inicial       cabeceras y grupos de pies de tabla[m
[32m+[m[32mDescripciÃ³n         -[m
[32m+[m[32m                    Establece de forma directa todos los rellenos de los elementos[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                            176[m
[32m+[m[32mIntroducciÃ³n a CSS               CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m   border           Estilo completo de todos los bordes[m
[32m+[m
[32m+[m[32mValores             ( <medida_borde> || <color_borde> || <estilo_borde> ) |[m
[32m+[m[32mSe aplica a         inherit[m
[32m+[m[32mValor inicial       Todos los elementos[m
[32m+[m[32mDescripciÃ³n         -[m
[32m+[m[32m                    Establece el estilo completo de todos los bordes de los elementos[m
[32m+[m
[32m+[m[32mbackground Fondo de un elemento[m
[32m+[m
[32m+[m[32mValores             ( <background-color> || <background-image> ||[m
[32m+[m[32m                    <background-repeat> || <background-attachment> ||[m
[32m+[m[32mSe aplica a         <background-position> ) | inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Todos los elementos[m
[32m+[m
[32m+[m[32m                    -[m
[32m+[m
[32m+[m[32m                    Establece todas las propiedades del fondo de un elemento[m
[32m+[m
[32m+[m[32mlist-style Estilo de una lista[m
[32m+[m
[32m+[m[32mValores             ( <list-style-type> || <list-style-position> ||[m
[32m+[m[32mSe aplica a         <list-style-image> ) | inherit[m
[32m+[m[32mValor inicial[m
[32m+[m[32mDescripciÃ³n         Elementos de una lista[m
[32m+[m
[32m+[m[32m                    -[m
[32m+[m
[32m+[m[32m                    Propiedad que permite establecer de forma simultanea todas las opciones de[m
[32m+[m[32m                    una lista[m
[32m+[m
[32m+[m[32m13.2. VersiÃ³n para imprimir[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de sitios web de calidad ofrecen al usuario la posibilidad de imprimir sus[m
[32m+[m[32mcontenidos mediante una versiÃ³n especÃ­fica para impresora de cada pÃ¡gina.[m
[32m+[m
[32m+[m[32mEstas versiones optimizadas para impresora eliminan los contenidos superfluos,[m
[32m+[m[32mmodifican o eliminan las imÃ¡genes y colores de fondo y sobre todo, optimizan los[m
[32m+[m[32mcontenidos de texto para facilitar su lectura.[m
[32m+[m
[32m+[m[32mCSS simplifica al mÃ¡ximo la creaciÃ³n de una versiÃ³n para imprimir gracias al concepto[m
[32m+[m[32mde los medios CSS. Como se sabe, los estilos CSS que se aplican a los contenidos pueden[m
[32m+[m[32mvariar en funciÃ³n del medio a travÃ©s del que se acceden (pantalla, televisor, mÃ³vil,[m
[32m+[m[32mimpresora, etc.)[m
[32m+[m
[32m+[m[32mDe esta forma, realizar una versiÃ³n para imprimir de una pÃ¡gina HTML es tan sencillo[m
[32m+[m[32mcomo crear unas cuantas reglas CSS que optimicen sus contenidos para conseguir la[m
[32m+[m[32mmejor impresiÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                       177[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32mEl sitio web A List Apart (http://www.alistapart.com) es un excelente ejemplo de cÃ³mo[m
[32m+[m[32mlos sitios web de calidad crean versiones especÃ­ficas para impresora de las pÃ¡ginas web[m
[32m+[m[32moriginales. Cuando se visualiza un artÃ­culo de ese sitio web en una pantalla normal, su[m
[32m+[m[32maspecto es el siguiente:[m
[32m+[m
[32m+[m[32m          Figura 13.1. Aspecto de un artÃ­culo de A List Apart como se ve en la pantalla[m
[32m+[m
[32m+[m[32mAdemÃ¡s de sus contenidos, las pÃ¡ginas de los artÃ­culos muestran el logotipo del sitio, el[m
[32m+[m[32mmenÃº principal de navegaciÃ³n y una barra lateral con varias utilidades como un[m
[32m+[m[32mbuscador.[m
[32m+[m
[32m+[m[32mSin embargo, cuando se imprime la pÃ¡gina del mismo artÃ­culo, su aspecto es el que[m
[32m+[m[32mmuestra la siguiente imagen:[m
[32m+[m
[32m+[m[32mFigura 13.2. Aspecto de un artÃ­culo de A List Apart como se ve cuando se imprime[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  178[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32mLa pÃ¡gina impresa elimina todos los contenidos superfluos como los menÃºs de[m
[32m+[m[32mnavegaciÃ³n, el buscador y el formulario para aÃ±adir comentarios en el artÃ­culo. AdemÃ¡s,[m
[32m+[m[32mmodifica la estructura de la pÃ¡gina para que la zona de contenidos ocupe toda la anchura[m
[32m+[m[32mde la pÃ¡gina y el espacio se aproveche mejor.[m
[32m+[m
[32m+[m[32mCrear una versiÃ³n para imprimir similar a la mostrada en el ejemplo anterior es una[m
[32m+[m[32mtarea que no lleva mÃ¡s de unos pocos minutos.[m
[32m+[m
[32m+[m[32mLas reglas CSS de la versiÃ³n para imprimir se aplican solamente al medio print. Por lo[m
[32m+[m[32mtanto, en primer lugar se crea una nueva hoja de estilos y al enlazarla se especifica que[m
[32m+[m[32msÃ³lo debe aplicarse en las impresoras:[m
[32m+[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="/css/imprimir.css" media="print" />[m
[32m+[m
[32m+[m[32mNormalmente, las hojas de estilos para la pantalla se aplican a todos los medios (por[m
[32m+[m[32mutilizar el valor media="all" al enlazarla o por no indicar ningÃºn valor en el atributo[m
[32m+[m[32mmedia). Por este motivo, cuando se imprime una pÃ¡gina se aplican los mismos estilos que[m
[32m+[m[32mse aplican al visualizarla en la pantalla.[m
[32m+[m
[32m+[m[32mAprovechando este comportamiento, las hojas de estilos para impresoras son muy[m
[32m+[m[32msencillas, ya que sÃ³lo deben modificar algunos estilos aplicados en el resto de hojas de[m
[32m+[m[32mestilos.[m
[32m+[m
[32m+[m[32mPor este motivo, normalmente las hojas de estilos para impresora se construyen[m
[32m+[m[32msiguiendo los pasos que se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m1) Ocultar los elementos que no se van a imprimir:[m
[32m+[m
[32m+[m[32m     #cabecera, #menu, #lateral, #comentarios {[m
[32m+[m[32m         display: none !important;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos bloques (normalmente encerrados en elementos de tipo <div>) que no se van a[m
[32m+[m[32mimprimir se ocultan con la propiedad display y su valor none. La palabra clave[m
[32m+[m[32m!important aumenta la prioridad de esta regla CSS y mÃ¡s adelante se explica su[m
[32m+[m[32msignificado.[m
[32m+[m
[32m+[m[32m2) Corregir la estructura de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     body, #contenido, #principal, #pie {[m
[32m+[m[32m         float: none !important;[m
[32m+[m[32m         width: auto !important;[m
[32m+[m[32m         margin: 0 !important;[m
[32m+[m[32m         padding: 0 !important;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mNormalmente, las pÃ¡ginas web complejas estÃ¡n formadas por varias columnas[m
[32m+[m[32mposicionadas mediante la propiedad float. Si al imprimir la pÃ¡gina se eliminan las[m
[32m+[m[32mcolumnas laterales, es conveniente reajustar la anchura y el posicionamiento de la zona[m
[32m+[m[32mde contenidos y de otras zonas que sÃ­ se van a imprimir.[m
[32m+[m
[32m+[m[32m3) Modificar los colores y tipos de letra:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    179[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m     body { color: #000; font: 100%/150% Georgia, "Times New Roman", Times, serif; }[m
[32m+[m
[32m+[m[32mAunque el uso de impresoras en color es mayoritario, suele ser conveniente imprimir[m
[32m+[m[32mtodo el texto de las pÃ¡ginas de color negro, para ahorrar costes y para aumentar el[m
[32m+[m[32mcontraste cuando se imprime sobre hojas de color blanco. TambiÃ©n suele ser[m
[32m+[m[32mconveniente modificar el tipo de letra y escoger uno que facilite al mÃ¡ximo la lectura del[m
[32m+[m[32mtexto.[m
[32m+[m
[32m+[m[32m13.2.1. Imprimiendo los enlaces[m
[32m+[m
[32m+[m[32mUno de los principales problemas de las pÃ¡ginas HTML impresas es la pÃ©rdida de toda la[m
[32m+[m[32minformaciÃ³n relativa a los enlaces. En principio, imprimir los enlaces de una pÃ¡gina es[m
[32m+[m[32mabsurdo porque no se pueden utilizar en el medio impreso.[m
[32m+[m
[32m+[m[32mSin embargo, lo que puede ser realmente Ãºtil es mostrar al lado de un enlace la direcciÃ³n[m
[32m+[m[32ma la que apunta. De esta forma, al imprimir la pÃ¡gina no se pierde la informaciÃ³n relativa[m
[32m+[m[32ma los enlaces.[m
[32m+[m
[32m+[m[32mCSS incluye una propiedad llamada content que permite crear nuevos contenidos de[m
[32m+[m[32mtexto para aÃ±adirlos a la pÃ¡gina HTML. Si se combina la propiedad content y el[m
[32m+[m[32mpseudo-elemento :after, es posible insertar de forma dinÃ¡mica la direcciÃ³n a la que[m
[32m+[m[32mapunta un enlace justo despuÃ©s de su texto:[m
[32m+[m
[32m+[m[32m     a:after {[m
[32m+[m[32m         content: " (" attr(href) ") ";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl cÃ³digo CSS anterior aÃ±ade despuÃ©s de cada enlace de la pÃ¡gina un texto formado por[m
[32m+[m[32mla direcciÃ³n a la que apunta el enlace mostrada entre parÃ©ntesis. Si se quiere aÃ±adir las[m
[32m+[m[32mdirecciones antes de cada enlace, se puede utilizar el pseudo-elemento :before:[m
[32m+[m
[32m+[m[32m     a:before {[m
[32m+[m[32m         content: " (" attr(href) ") ";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m13.3. Personalizar el cursor[m
[32m+[m
[32m+[m[32mCSS no permite modificar los elementos propios del navegador o de la interfaz de[m
[32m+[m[32musuario del sistema operativo. Sin embargo, el puntero del ratÃ³n es una excepciÃ³n muy[m
[32m+[m[32mimportante, ya que se puede modificar mediante la propiedad cursor.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    180[m
[32m+[m[32mIntroducciÃ³n a CSS                                                CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m   cursor           Puntero del ratÃ³n[m
[32m+[m
[32m+[m[32mValores             ( (<url> ,)* ( auto | crosshair | default | pointer | move[m
[32m+[m[32m                    | e-resize | ne-resize | nw-resize | n-resize | se-resize |[m
[32m+[m[32mSe aplica a         sw-resize | s-resize | w-resize | text | wait | help |[m
[32m+[m[32mValor inicial       progress ) ) | inherit[m
[32m+[m[32mDescripciÃ³n[m
[32m+[m[32m                    Todos los elementos[m
[32m+[m
[32m+[m[32m                    auto[m
[32m+[m
[32m+[m[32m                    Permite personalizar el puntero del ratÃ³n[m
[32m+[m
[32m+[m[32mLa propiedad cursor no sÃ³lo permite seleccionar un puntero entre los disponibles en el[m
[32m+[m[32msistema operativo (flecha, mano, reloj de arena, redimensionar, etc.) sino que incluso[m
[32m+[m[32mpermite indicar la URL de una imagen que se quiere mostrar como puntero[m
[32m+[m[32mpersonalizado.[m
[32m+[m
[32m+[m[32mSe pueden indicar varias URL para que CSS intente cargar varias imÃ¡genes: si la primera[m
[32m+[m[32mimagen del puntero no se carga o no la soporta el navegador, se pasa a la siguiente[m
[32m+[m[32mimagen y asÃ­ sucesivamente hasta que se pueda cargar alguna imagen.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra el caso de un puntero definido con varias URL y un valor[m
[32m+[m[32mestÃ¡ndar:[m
[32m+[m
[32m+[m[32m     :link, :visited { cursor: url(puntero.svg), url(puntero.cur), pointer }[m
[32m+[m
[32m+[m[32mSi el navegador soporta las imÃ¡genes en formato SVG, el puntero del ratÃ³n cambia su[m
[32m+[m[32maspecto por la imagen puntero.svg. Si el navegador no soporta el formato SVG, intenta[m
[32m+[m[32mcargar la siguiente URL que define un puntero en formato .cur. Si no se puede cargar[m
[32m+[m[32mcorrectamente, se mostrarÃ­a el valor preestablecido pointer.[m
[32m+[m
[32m+[m[32mLos valores preestablecidos para el puntero se muestran a continuaciÃ³n:[m
[32m+[m
[32m+[m[32mPuntero                                   Navegadores que lo soportan[m
[32m+[m
[32m+[m[32m                                          Todos[m
[32m+[m
[32m+[m[32m         Figura 13.3. cursor: default[m
[32m+[m
[32m+[m[32m                                          Todos[m
[32m+[m
[32m+[m[32m         Figura 13.4. cursor: crosshair[m
[32m+[m
[32m+[m[32m                                          Solo Internet Explorer[m
[32m+[m
[32m+[m[32m               Figura 13.5. cursor: hand[m
[32m+[m
[32m+[m[32m                                          Todos salvo Internet Explorer[m
[32m+[m
[32m+[m[32m         Figura 13.6. cursor: pointer[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                         181[m
[32m+[m[32mIntroducciÃ³n a CSS                                           CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m           Figura 13.7. cursor:pointer; cursor: hand  Todos               182[m
[32m+[m[32m                    Figura 13.8. cursor: move         Todos[m
[32m+[m[32m                     Figura 13.9. cursor: text        Todos[m
[32m+[m[32m                    Figura 13.10. cursor: wait        Todos[m
[32m+[m[32m                    Figura 13.11. cursor: help        Todos[m
[32m+[m[32m                                                      Todos[m
[32m+[m[32m                  Figura 13.12. cursor: n-resize      Todos[m
[32m+[m[32m                 Figura 13.13. cursor: ne-resize      Todos[m
[32m+[m[32m                  Figura 13.14. cursor: e-resize      Todos[m
[32m+[m[32m                 Figura 13.15. cursor: se-resize      Todos[m
[32m+[m[32m                  Figura 13.16. cursor: s-resize      Todos[m
[32m+[m[32m                 Figura 13.17. cursor: sw-resize      Todos[m
[32m+[m[32m                 Figura 13.18. cursor: w-resize       Todos[m
[32m+[m[32m                 Figura 13.19. cursor: nw-resize[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                                           CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m                                     Solo Internet Explorer[m
[32m+[m
[32m+[m[32mFigura 13.20. cursor: progress[m
[32m+[m
[32m+[m[32mFigura 13.21. cursor: not-allowed    Solo Internet Explorer[m
[32m+[m[32m  Figura 13.22. cursor: no-drop      Solo Internet Explorer[m
[32m+[m
[32m+[m[32m                                     Solo Internet Explorer[m
[32m+[m
[32m+[m[32mFigura 13.23. cursor: vertical-text[m
[32m+[m
[32m+[m[32m                                     Solo Internet Explorer[m
[32m+[m
[32m+[m[32mFigura 13.24. cursor: all-scroll[m
[32m+[m
[32m+[m[32m                                     Solo Internet Explorer[m
[32m+[m
[32m+[m[32mFigura 13.25. cursor: col-resize[m
[32m+[m
[32m+[m[32m                                     Solo Internet Explorer[m
[32m+[m
[32m+[m[32mFigura 13.26. cursor: row-resize[m
[32m+[m
[32m+[m[32m                                     Solo Internet Explorer[m
[32m+[m
[32m+[m[32mFigura 13.27. cursor: url(...)[m
[32m+[m
[32m+[m[32mEl puntero personalizado mÃ¡s utilizado es la opciÃ³n cursor: pointer y cursor: hand[m
[32m+[m[32mque muestra en el puntero una mano que puede pinchar sobre el elemento. Otro puntero[m
[32m+[m[32mmuy utilizado es cursor: move que permite indicar en las aplicaciones web dinÃ¡micas[m
[32m+[m[32mlos elementos de la pÃ¡gina que se pueden mover.[m
[32m+[m
[32m+[m[32mSe puede ver un ejemplo de cada uno de los punteros y la compatibilidad con los[m
[32m+[m[32mdiferentes navegadores en la siguiente pÃ¡gina: http://www.echoecho.com/[m
[32m+[m[32mcsscursors.htm[m
[32m+[m
[32m+[m[32m13.4. Hacks y filtros[m
[32m+[m
[32m+[m[32mLos diferentes navegadores y las diferentes versiones de cada navegador incluyen[m
[32m+[m[32mdefectos y carencias en su implementaciÃ³n del estÃ¡ndar CSS 2.1. Algunos navegadores[m
[32m+[m[32mno soportan ciertas propiedades, otros las soportan a medias y otros ignoran el estÃ¡ndar[m
[32m+[m[32me incorporan su propio comportamiento.[m
[32m+[m
[32m+[m[32mDe esta forma, diseÃ±ar una pÃ¡gina compleja que presente un aspecto homogÃ©neo en[m
[32m+[m[32mvarios navegadores y varias versiones diferentes de cada navegador es una tarea que[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                             183[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32mrequiere mucho esfuerzo. Para facilitar la creaciÃ³n de hojas de estilos homogÃ©neas, se[m
[32m+[m[32mhan introducido los filtros y los hacks.[m
[32m+[m
[32m+[m[32mA pesar de que utilizar filtros y hacks es una soluciÃ³n poco ortodoxa, en ocasiones es la[m
[32m+[m[32mÃºnica forma de conseguir que una pÃ¡gina web muestre un aspecto idÃ©ntico en cualquier[m
[32m+[m[32mnavegador.[m
[32m+[m
[32m+[m[32mEn primer lugar, los filtros permiten definir u ocultar ciertas reglas CSS para algunos[m
[32m+[m[32mnavegadores especÃ­ficos. Los filtros se definen aprovechando los errores de algunos[m
[32m+[m[32mnavegadores (sobre todo los antiguos) a la hora de procesar las hojas de estilos.[m
[32m+[m
[32m+[m[32mUn caso especial de filtro son los comentarios condicionales, que es un mecanismo[m
[32m+[m[32mpropietario del navegador Internet Explorer. Los comentarios condicionales permiten[m
[32m+[m[32mincluir hojas de estilos o definir reglas CSS especÃ­ficamente para una versiÃ³n de Internet[m
[32m+[m[32mExplorer.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo carga la hoja de estilos basico_ie.css solamente para los[m
[32m+[m[32mnavegadores de tipo Internet Explorer:[m
[32m+[m
[32m+[m[32m     <!--[if IE]>[m
[32m+[m[32m         <style type="text/css">[m
[32m+[m[32m            @import ("basico_ie.css");[m
[32m+[m[32m         </style>[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mLos navegadores que no son Internet Explorer ignoran las reglas CSS anteriores ya que[m
[32m+[m[32minterpretan el cÃ³digo anterior como un comentario de HTML (gracias a los caracteres[m
[32m+[m[32m<!-- y -->) mientras que los navegadores de la familia Internet Explorer lo interpretan[m
[32m+[m[32mcomo una instrucciÃ³n propia y vÃ¡lida.[m
[32m+[m
[32m+[m[32mEl filtro [if IE] indica que esos estilos CSS sÃ³lo deben tenerse en cuenta si el navegador[m
[32m+[m[32mes cualquier versiÃ³n de Internet Explorer. Utilizando comentarios condicionales,[m
[32m+[m[32mtambiÃ©n es posible incluir reglas CSS para versiones especÃ­ficas de Internet Explorer:[m
[32m+[m
[32m+[m[32m     <!--[if gte IE 6]>[m
[32m+[m[32m         <style type="text/css">[m
[32m+[m[32m            @import ("basico_ie6.css");[m
[32m+[m[32m         </style>[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mEl anterior ejemplo solamente carga la hoja de estilos basico_ie6.css si el navegador es[m
[32m+[m[32mla versiÃ³n 6 o superior de Internet Explorer, ya que gte se interpreta como "greater than[m
[32m+[m[32mor equal" ("igual o mayor que"). Otros valores disponibles son gt ("greater than" o[m
[32m+[m[32m"mayor que"), lt ("less than" o "menor que") y lte ("less than or equal" o "igual o menor[m
[32m+[m[32mque").[m
[32m+[m
[32m+[m[32m     <!--[if gt IE 7]>[m
[32m+[m[32m         Mayor que Internet Explorer 7[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if gte IE 7]>[m
[32m+[m[32m         Mayor o igual que Internet Explorer 7[m
[32m+[m
[32m+[m[32mwww.librosweb.es    184[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if lt IE 8]>[m
[32m+[m[32m         Menor que Internet Explorer 8[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32m     <!--[if lte IE 7]>[m
[32m+[m[32m         Igual o menor que Internet Explorer 7[m
[32m+[m
[32m+[m[32m     <![endif]-->[m
[32m+[m
[32m+[m[32mUna de las mejores listas actualizadas con todos los filtros disponibles para los[m
[32m+[m[32mnavegadores de los diferentes sistemas operativos se puede encontrar en[m
[32m+[m[32mhttp://centricle.com/ref/css/filters/[m
[32m+[m
[32m+[m[32mPor otra parte, los hacks permiten forzar el comportamiento de un navegador para que[m
[32m+[m[32mse comporte tal y como se espera. Se trata de una forma poco elegante de crear las hojas[m
[32m+[m[32mde estilos y los hacks se pueden considerar pequeÃ±os parches y chapuzas que permiten[m
[32m+[m[32mque la hoja de estilos completa se muestre tal y como se espera.[m
[32m+[m
[32m+[m[32mUno de los hacks mÃ¡s conocidos y utilizados es el llamado * html. Todas las propiedades[m
[32m+[m[32mCSS que se establezcan mediante el selector * html son interpretadas exclusivamente[m
[32m+[m[32mpor el navegador Internet Explorer 6 y sus versiones anteriores:[m
[32m+[m
[32m+[m[32m     div {[m
[32m+[m[32m         border-bottom: 1px dotted #000;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     * html div {[m
[32m+[m
[32m+[m[32m         border-bottom: 1px solid #000;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl ejemplo anterior utiliza el hack * html para mostrar un borde inferior punteado en[m
[32m+[m[32mlos <div> en todos los navegadores salvo Internet Explorer 6. Como en este navegador[m
[32m+[m[32mno se muestran correctamente los bordes punteados de 1 pÃ­xel de anchura, se decide[m
[32m+[m[32mmostrar un borde formado por una lÃ­nea continua.[m
[32m+[m
[32m+[m[32mEl otro hack mÃ¡s conocido y utilizado por su sencillez es el "underscore hack". Las[m
[32m+[m[32mpropiedades cuyos nombres se indiquen con un guiÃ³n bajo por delante, sÃ³lo son[m
[32m+[m[32minterpretadas por el navegador Internet Explorer 6 y sus versiones anteriores:[m
[32m+[m
[32m+[m[32m     #menu {[m
[32m+[m[32m         position: fixed;[m
[32m+[m[32m         _position: static;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLos navegadores mÃ¡s modernos soportan el valor fixed para la propiedad position,[m
[32m+[m[32mpero Internet Explorer 6 no la soporta. Por este motivo, la regla CSS anterior establece el[m
[32m+[m[32mvalor de la propiedad position y seguidamente define la propiedad _position.[m
[32m+[m
[32m+[m[32mLos navegadores que siguen los estÃ¡ndares rechazan la propiedad _position, ya que su[m
[32m+[m[32mnombre no se corresponde con ninguna propiedad vÃ¡lida de CSS. Internet Explorer 6 y[m
[32m+[m[32mlas versiones anteriores, consideran correcta tanto position como _position, por lo[m
[32m+[m[32mque el valor utilizado serÃ¡ el que se haya definido en Ãºltimo lugar (static en este caso).[m
[32m+[m
[32m+[m[32mwww.librosweb.es    185[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32mUna de las mejores listas actualizadas con los hacks mÃ¡s Ãºtiles para varios navegadores[m
[32m+[m[32mde diferentes sistemas operativos se puede encontrar en:[m
[32m+[m[32mhttp://css-discuss.incutio.com/?page=CssHack[m
[32m+[m
[32m+[m[32m13.5. Prioridad de las declaraciones CSS[m
[32m+[m
[32m+[m[32mAdemÃ¡s de las hojas de estilos definidas por los diseÃ±adores, los navegadores aplican a[m
[32m+[m[32mcada pÃ¡gina otras dos hojas de estilos: la del navegador y la del usuario.[m
[32m+[m
[32m+[m[32mLa hoja de estilos del navegador es la primera que se aplica y se utiliza para establecer el[m
[32m+[m[32mestilo inicial por defecto a todos los elementos HTML (tamaÃ±os de letra iniciales,[m
[32m+[m[32mdecoraciÃ³n del texto, mÃ¡rgenes entre elementos, etc.)[m
[32m+[m
[32m+[m[32mAdemÃ¡s de la hoja de estilos del navegador, cada usuario puede crear su propia hoja de[m
[32m+[m[32mestilos y aplicarla automÃ¡ticamente a todas las pÃ¡ginas que visite con su navegador. Se[m
[32m+[m[32mtrata de una opciÃ³n muy Ãºtil para personas discapacitadas visualmente, ya que pueden[m
[32m+[m[32maumentar el contraste y el tamaÃ±o del texto de todas las pÃ¡ginas para facilitar su lectura.[m
[32m+[m
[32m+[m[32mLa forma en la que se indica la hoja de estilo del usuario es diferente en cada navegador:[m
[32m+[m
[32m+[m[32m    â–ª Internet Explorer:[m
[32m+[m[32m              1. Pincha sobre el menÃº Herramientas y despuÃ©s sobre la opciÃ³n Opciones[m
[32m+[m[32m                    de Internet[m
[32m+[m
[32m+[m[32m              2. En la pestaÃ±a General que se muestra, pulsa sobre el botÃ³n[m
[32m+[m[32m                  Accesibilidad que se encuentra dentro de la secciÃ³n Apariencia[m
[32m+[m
[32m+[m[32m              3. En la nueva ventana que aparece, activa la opciÃ³n Formatear los[m
[32m+[m[32m                  documentos con mi hoja de estilos y selecciÃ³nala pulsando sobre el[m
[32m+[m[32m                  botÃ³n Examinar...[m
[32m+[m
[32m+[m[32m              4. Pulsa Aceptar hasta volver al navegador[m
[32m+[m
[32m+[m[32m    â–ª Firefox:[m
[32m+[m[32m              1. Guarda tu hoja de estilos en un archivo llamado userContent.css[m
[32m+[m
[32m+[m[32m              2. Entra en el directorio de tu perfil de usuario de Firefox. En los sistemas[m
[32m+[m[32m                  operativos Windows este directorio se encuentra normalmente en[m
[32m+[m[32m                    C:\Documents and Settings\[tu_usuario_de_windows]\Datos de[m
[32m+[m[32m                    programa\Mozilla\Firefox\Profiles\[cadena_aleatoria_de_letras_y_numeros].default[m
[32m+[m
[32m+[m[32m              3. Copia la hoja de estilos userContent.css en el directorio chrome de tu[m
[32m+[m[32m                  perfil[m
[32m+[m
[32m+[m[32m              4. Reinicia el navegador para que se apliquen los cambios[m
[32m+[m[32m    â–ª Safari:[m
[32m+[m
[32m+[m[32m              1. Pincha sobre el menÃº Editar y despuÃ©s sobre la opciÃ³n Preferencias[m
[32m+[m
[32m+[m[32m              2. Selecciona la secciÃ³n Avanzado[m
[32m+[m
[32m+[m[32mwww.librosweb.es    186[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m              3. Pincha sobre la lista desplegable llamada Hoja de estilos y selecciona la[m
[32m+[m[32m                  opciÃ³n Otra...[m
[32m+[m
[32m+[m[32m              4. En la ventana que aparece, selecciona tu hoja de estilos[m
[32m+[m[32m    â–ª Opera:[m
[32m+[m
[32m+[m[32m              1. Pincha sobre el menÃº Herramientas y despuÃ©s sobre la opciÃ³n[m
[32m+[m[32m                    Preferencias[m
[32m+[m
[32m+[m[32m              2. Selecciona la pestaÃ±a Avanzado y pulsa sobre el botÃ³n Opciones de[m
[32m+[m[32m                    estilo...[m
[32m+[m
[32m+[m[32m              3. Pulsa sobre el botÃ³n Seleccionar... para seleccionar la hoja de estilos[m
[32m+[m[32m              4. Pulsa Aceptar hasta volver al navegador[m
[32m+[m
[32m+[m[32mEl orden normal en el que se aplican las hojas de estilo es el siguiente:[m
[32m+[m
[32m+[m[32m              Figura 13.28. Orden en el que se aplican las diferentes hojas de estilos[m
[32m+[m
[32m+[m[32mPor tanto, las reglas que menos prioridad tienen son las del CSS por defecto de los[m
[32m+[m[32mnavegadores, ya que son las primeras que se aplican. A continuaciÃ³n se aplican las reglas[m
[32m+[m[32mdefinidas por los usuarios y por Ãºltimo se aplican las reglas CSS definidas por el[m
[32m+[m[32mdiseÃ±ador, que por tanto son las que mÃ¡s prioridad tienen.[m
[32m+[m
[32m+[m[32mAdemÃ¡s de estas hojas de estilos, CSS define la palabra reservada !important para[m
[32m+[m[32mcontrolar la prioridad de las declaraciones de las diferentes hojas de estilos.[m
[32m+[m
[32m+[m[32mSi a una declaraciÃ³n CSS se le aÃ±ade la palabra reservada !important, se aumenta su[m
[32m+[m[32mprioridad. El siguiente ejemplo muestra el uso de !important:[m
[32m+[m
[32m+[m[32m     p{[m
[32m+[m[32m         color: red !important;[m
[32m+[m[32m         color: blue;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi la primera declaraciÃ³n no tuviera aÃ±adido el valor !important, el color de los pÃ¡rrafos[m
[32m+[m[32mserÃ­a azul, ya que en el caso de declaraciones de la misma importancia, prevalece la[m
[32m+[m[32mindicada en Ãºltimo lugar.[m
[32m+[m
[32m+[m[32mSin embargo, como la primera declaraciÃ³n se ha marcado como de alta prioridad[m
[32m+[m[32m(gracias al valor !important), el color de los pÃ¡rrafos serÃ¡ el rojo.[m
[32m+[m
[32m+[m[32mEl valor !important no sÃ³lo afecta a las declaraciones simples, sino que varÃ­a la[m
[32m+[m[32mprioridad de las hojas de estilo. Cuando se indican declaraciones de alta prioridad, el[m
[32m+[m[32morden en el que se aplican las hojas de estilo es el siguiente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    187[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m  Figura 13.29. Orden en el que se aplican las diferentes hojas de estilos cuando se utiliza la[m
[32m+[m[32m                                        palabra resevada important[m
[32m+[m
[32m+[m[32mLos estilos del usuario marcados como !important tienen mÃ¡s prioridad que los estilos[m
[32m+[m[32mmarcados como !important en la hoja de estilos del diseÃ±ador. De esta forma, ninguna[m
[32m+[m[32mpÃ¡gina web puede sobreescribir o redefinir ninguna propiedad de alta prioridad[m
[32m+[m[32mestablecida por el usuario.[m
[32m+[m
[32m+[m[32m13.6. Validador[m
[32m+[m
[32m+[m[32mLa validaciÃ³n del cÃ³digo CSS y de las reglas que lo forman es un concepto similar a la[m
[32m+[m[32mvalidaciÃ³n de documentos XHTML.[m
[32m+[m
[32m+[m[32mLa validaciÃ³n es un mecanismo que permite comprobar que el cÃ³digo CSS creado cumple[m
[32m+[m[32mlas reglas de la sintaxis del lenguaje CSS y que por tanto es una hoja de estilos vÃ¡lida[m
[32m+[m[32mpara aplicarla a cualquier documento XHTML.[m
[32m+[m
[32m+[m[32mLa validaciÃ³n suele ser Ãºtil cuando se producen errores en los estilos definidos o[m
[32m+[m[32mcomportamientos no deseados al aplicar las reglas CSS. En muchas ocasiones, los errores[m
[32m+[m[32mse producen porque el navegador estÃ¡ ignorando algunas reglas que contienen[m
[32m+[m[32mpropiedades mal definidas o errores de sintaxis.[m
[32m+[m
[32m+[m[32mEl W3C (World Wide Web Consortium) dispone de un validador online que permite[m
[32m+[m[32mvalidar reglas CSS sueltas, pÃ¡ginas XHTML con CSS incluÃ­do y archivos CSS[m
[32m+[m[32mindependientes. El validador se puede acceder en http://jigsaw.w3.org/css-validator/[m
[32m+[m
[32m+[m[32m13.7. Recomendaciones generales sobre CSS[m
[32m+[m
[32m+[m[32m13.7.1. Atributos ID y class[m
[32m+[m
[32m+[m[32mEl atributo id se emplea para identificar a cada elemento HTML, por lo que los[m
[32m+[m[32midentificadores deben ser Ãºnicos en una misma pÃ¡gina. En otras palabras, dos elementos[m
[32m+[m[32mHTML diferentes de una misma pÃ¡gina no pueden tener un mismo valor en el atributo[m
[32m+[m[32mid.[m
[32m+[m
[32m+[m[32mPor otra parte, el atributo class se emplea para indicar la clase o clases a las que[m
[32m+[m[32mpertenece el elemento. Una misma clase se puede aplicar a varios elementos diferentes y[m
[32m+[m[32mun Ãºnico elemento puede tener asignadas varias clases (se indican separadas por[m
[32m+[m[32mespacios en blanco).[m
[32m+[m
[32m+[m[32mwww.librosweb.es    188[m
[32m+[m[32mIntroducciÃ³n a CSS                             CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32mAunque los dos atributos tienen muchos otros propÃ³sitos (sobre todo el atributo id),[m
[32m+[m[32mCSS los emplea principalmente con los selectores para indicar los elementos sobre los[m
[32m+[m[32mque se aplican los diferentes estilos.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, las dos listas estÃ¡n formadas por un mismo elemento HTML[m
[32m+[m[32m<ul>, pero sus atributos id las distinguen de forma adecuada:[m
[32m+[m
[32m+[m[32m     <ul id="menu">[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </ul>[m
[32m+[m
[32m+[m[32m     <ul id="enlaces">[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </ul>[m
[32m+[m
[32m+[m[32mUna de las principales recomendaciones del diseÃ±o de pÃ¡ginas XHTML y hojas de estilos[m
[32m+[m[32mCSS estÃ¡ relacionada con los valores asignados a los atributos id y class. Siempre que[m
[32m+[m[32msea posible, estos atributos se deben utilizar para mejorar la semÃ¡ntica del documento,[m
[32m+[m[32mes decir, para aÃ±adir significado a cada elemento de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mPor este motivo, se recomienda que los valores asignados a id y class indiquen la[m
[32m+[m[32mfunciÃ³n del elemento y no estÃ©n relacionados con su aspecto o su posiciÃ³n:[m
[32m+[m
[32m+[m[32mValores no recomendados  Valores recomendados[m
[32m+[m[32mnegrita                  importante[m
[32m+[m[32marial15                  titular[m
[32m+[m[32mverdanaPequena           normal[m
[32m+[m[32mmenuIzquierdo            menuSecundario[m
[32m+[m[32mletraRoja                error[m
[32m+[m
[32m+[m[32mElegir el valor adecuado para los atributos id o class es sencillo: si el aspecto de un[m
[32m+[m[32melemento cambia, el valor de id o class debe seguir siendo adecuado. Por tanto, evita[m
[32m+[m[32mutilizar valores relacionados con su posiciÃ³n (izquierdo, derecho, primero, segundo,[m
[32m+[m[32msuperior, etc.), color (textoRojo, subrayadoGrisClaro, etc.) o tipo de letra (verdana10,[m
[32m+[m[32marial15px, etc.)[m
[32m+[m
[32m+[m[32mTÃ©cnicamente, los valores de los atributos id y class deben cumplir las siguientes[m
[32m+[m[32mrestricciones:[m
[32m+[m
[32m+[m[32m    â–ª SÃ³lo pueden empezar por un guiÃ³n medio (-), un guiÃ³n bajo (_) o una letra.[m
[32m+[m
[32m+[m[32m    â–ª El resto de caracteres, pueden ser nÃºmeros, guiones medios (-), guiones bajos (_)[m
[32m+[m[32m       y letras.[m
[32m+[m
[32m+[m[32m    â–ª Los navegadores distinguen entre mayÃºsculas y minÃºsculas.[m
[32m+[m
[32m+[m[32m    â–ª Aunque es posible utilizar letras como Ã± y acentos, no se recomienda hacerlo[m
[32m+[m[32m       porque no es seguro que funcione correctamente en todas las versiones de todos[m
[32m+[m[32m       los navegadores.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                               189[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m13.7.2. CLASSitis y DIVitis[m
[32m+[m
[32m+[m[32mUn error comÃºn al comenzar a desarrollar pÃ¡ginas con estilos CSS es la utilizaciÃ³n[m
[32m+[m[32mexcesiva de etiquetas <div> y atributos class.[m
[32m+[m
[32m+[m[32mEjemplo de divitis y classitis:[m
[32m+[m
[32m+[m[32m     <div id="menu">[m
[32m+[m[32m     <ul class="menu">[m
[32m+[m
[32m+[m[32m         <li class="elemento_menu"><span class="texto_elemento_menu">...</span></li>[m
[32m+[m[32m         <li class="elemento_menu"><span class="texto_elemento_menu">...</span></li>[m
[32m+[m[32m         <li class="elemento_menu"><span class="texto_elemento_menu">...</span></li>[m
[32m+[m[32m         <li class="elemento_menu"><span class="texto_elemento_menu">...</span></li>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mLos selectores de CSS permiten prescindir de la mayorÃ­a de etiquetas <div> y atributos[m
[32m+[m[32mid y class. DiseÃ±ar pÃ¡ginas con exceso de etiquetas <div> no mejora la semÃ¡ntica del[m
[32m+[m[32mdocumento y sÃ³lo consigue complicar el cÃ³digo HTML.[m
[32m+[m
[32m+[m[32m13.7.3. EstructuraciÃ³n del cÃ³digo CSS[m
[32m+[m
[32m+[m[32mLa posibilidad de incluir todo el cÃ³digo CSS en archivos externos exclusivamente[m
[32m+[m[32mdedicados a contener las reglas CSS, permite ordenar de forma lÃ³gica las reglas,[m
[32m+[m[32mmejorando su legibilidad y facilitando su actualizaciÃ³n.[m
[32m+[m
[32m+[m[32mLas reglas CSS de las hojas de estilos complejas se suelen agrupar segÃºn su[m
[32m+[m[32mfuncionalidad y se suelen incluir en el siguiente orden:[m
[32m+[m
[32m+[m[32m    â–ª Estilos bÃ¡sicos (<body>, tipo de letra por defecto, mÃ¡rgenes de <ul>, <ol> y <li>,[m
[32m+[m[32m       etc.)[m
[32m+[m
[32m+[m[32m    â–ª Estilos de la estructura o layout (anchura, altura y posiciÃ³n de la cabecera, pie de[m
[32m+[m[32m       pÃ¡gina, zonas de contenidos, menÃºs de navegaciÃ³n, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Enlaces (estilos normales, estilos :hover, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Estilos de cada una de las zonas (elementos de la cabecera, titulares y texto de la[m
[32m+[m[32m       zona de contenidos, enlaces, listas e imÃ¡genes de las zonas laterales, etc.)[m
[32m+[m
[32m+[m[32mOtra caracterÃ­stica comÃºn de los mejores sitios web es el uso de comentarios CSS para[m
[32m+[m[32mmejorar la estructura de las hojas de estilos muy largas.[m
[32m+[m
[32m+[m[32mEjemplo de cÃ³digo CSS estructurado de http://veerle.duoh.com/[m
[32m+[m
[32m+[m[32m     /* Veerle's blog Main stylesheet[m
[32m+[m[32m     ------------------------------------------------------------------*/[m
[32m+[m
[32m+[m[32m     /* Wide browser windows[m
[32m+[m[32m     ------------------------------------------------------------------*/[m
[32m+[m[32m     #wrap {[m
[32m+[m
[32m+[m[32m         width:995px;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es    190[m
[32m+[m[32mIntroducciÃ³n a CSS                                           CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m/* Global[m
[32m+[m[32m------------------------------------------------------------------*/[m
[32m+[m[32mhtml, body, form, h1, h2, h3, h4, h5, h6, p, pre, blockquote, ul, ol, dl {[m
[32m+[m
[32m+[m[32m   margin:0;[m
[32m+[m[32m   padding:0;[m
[32m+[m[32m}[m
[32m+[m[32mul,li {[m
[32m+[m[32m   list-style-type:none;[m
[32m+[m[32m}[m
[32m+[m[32m...[m
[32m+[m
[32m+[m[32m/* Wide layout[m
[32m+[m[32m------------------------------------------------------------------*/[m
[32m+[m[32m.wide #wrap-main {[m
[32m+[m
[32m+[m[32m   ...[m
[32m+[m[32m}[m
[32m+[m[32m...[m
[32m+[m
[32m+[m[32m/* Links[m
[32m+[m[32m------------------------------------------------------------------*/[m
[32m+[m[32ma:link,[m
[32m+[m[32ma:visited {[m
[32m+[m
[32m+[m[32m   text-decoration:none;[m
[32m+[m[32m   color:#e45a49;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Header[m
[32m+[m[32m------------------------------------------------------------------*/[m
[32m+[m[32m#header {[m
[32m+[m
[32m+[m[32m   ...[m
[32m+[m[32m}[m
[32m+[m[32m...[m
[32m+[m
[32m+[m[32m/* Main navigation[m
[32m+[m[32m------------------------------------------------------------------*/[m
[32m+[m[32mul#nav {[m
[32m+[m
[32m+[m[32m   ...[m
[32m+[m[32m}[m
[32m+[m[32m...[m
[32m+[m
[32m+[m[32mEjemplo de cÃ³digo CSS estructurado de http://www.uxmag.com/[m
[32m+[m
[32m+[m[32m/*  -------------------------------------------------------------[m
[32m+[m
[32m+[m[32m    UX Magazine[m
[32m+[m
[32m+[m[32m    Design | Technology | Strategy | Common Sense[m
[32m+[m
[32m+[m[32m    -------------------------------[m
[32m+[m
[32m+[m[32m    Description:      Base setup styles[m
[32m+[m
[32m+[m[32m    Filename:         uxm.base.css[m
[32m+[m
[32m+[m[32m    Version:          1.9[m
[32m+[m
[32m+[m[32m    Date:                  Feb 9, 2006[m
[32m+[m
[32m+[m[32m    -------------------------------------------------------------           */[m
[32m+[m
[32m+[m[32m/*  -------------------------------------------------------------[m
[32m+[m
[32m+[m[32m    Base Body Styles[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                            191[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m    -------------------------------                                */[m
[32m+[m
[32m+[m[32m/*  -------------------------------------------------------------[m
[32m+[m
[32m+[m[32m    Print Styles[m
[32m+[m
[32m+[m[32m    -------------------------------                                */[m
[32m+[m
[32m+[m[32m/*  -------------------------------------------------------------[m
[32m+[m
[32m+[m[32m    Top Bar Styles[m
[32m+[m
[32m+[m[32m    -------------------------------                                */[m
[32m+[m
[32m+[m[32m/*  Slogan[m
[32m+[m
[32m+[m[32m    -------------------------------                                */[m
[32m+[m
[32m+[m[32m/*  Search Form[m
[32m+[m
[32m+[m[32m    -------------------------------                                */[m
[32m+[m
[32m+[m[32m/*  Channels[m
[32m+[m
[32m+[m[32m    -------------------------------                                */[m
[32m+[m
[32m+[m[32m13.7.4. DivisiÃ³n de los estilos en varios archivos CSS[m
[32m+[m
[32m+[m[32mNormalmente, los estilos de una pÃ¡gina compleja se dividen en varios archivos CSS[m
[32m+[m[32mdiferentes para hacerlos mÃ¡s manejables. En primer lugar, se suele utilizar un archivo[m
[32m+[m[32mcomÃºn que contiene todos los estilos bÃ¡sicos de las pÃ¡ginas HTML del sitio web.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, si existe alguna secciÃ³n especial del sitio web que requiera nuevos estilos, se[m
[32m+[m[32mcrea un archivo CSS con todos esos estilos. TambiÃ©n es habitual preparar una hoja de[m
[32m+[m[32mestilos especÃ­fica para impresora y otra preparada para los dispositivos mÃ³viles.[m
[32m+[m
[32m+[m[32mUna vez creados los archivos CSS, existen dos estrategias para enlazar varios archivos[m
[32m+[m[32mCSS en las pÃ¡ginas HTML:[m
[32m+[m
[32m+[m[32mSi se puede modificar fÃ¡cilmente la cabecera del documento (por ejemplo porque las[m
[32m+[m[32mpÃ¡ginas se generan dinÃ¡micamente) lo habitual es incluir tantos elementos <link> como[m
[32m+[m[32marchivos CSS se enlazan:[m
[32m+[m
[32m+[m[32m     <head>[m
[32m+[m[32m         ...[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="/css/basico.css" media="screen"[m
[32m+[m
[32m+[m[32m     />[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="/css/seccion.css" media="screen"[m
[32m+[m
[32m+[m[32m     />[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="/css/impresora.css"[m
[32m+[m
[32m+[m[32m     media="print" />[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="/css/movil.css" media="handheld"[m
[32m+[m
[32m+[m[32m     />[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32mSi no se puede modificar de forma sencilla la cabecera de los documentos para aÃ±adir,[m
[32m+[m[32meliminar y modificar los archivos CSS que se enlazan, lo habitual es enlazar un Ãºnico[m
[32m+[m[32marchivo CSS que se encarga de importar todos los demÃ¡s:[m
[32m+[m
[32m+[m[32m     <head>[m
[32m+[m[32m         ...[m
[32m+[m[32m         <link rel="stylesheet" type="text/css" href="/css/estilos.css" media="all" />[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                   192[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 13. Otros[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32mEl contenido del archivo estilos.css deberÃ­a ser el siguiente para ser equivalente al[m
[32m+[m[32mejemplo anterior:[m
[32m+[m
[32m+[m[32m     @import url("basico.css") screen;[m
[32m+[m[32m     @import url("seccion.css") screen;[m
[32m+[m[32m     @import url("impresora.css") print;[m
[32m+[m[32m     @import url("movil.css") handheld;[m
[32m+[m
[32m+[m[32mwww.librosweb.es    193[m
[32m+[m[32mIntroducciÃ³n a CSS            CapÃ­tulo 14. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32mCapÃ­tulo 14. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32mDisponer de una buena colecciÃ³n de recursos realmente Ãºtiles es una de las[m
[32m+[m[32mcaracterÃ­sticas que diferencian a los diseÃ±adores web profesionales del resto.[m
[32m+[m
[32m+[m[32mEn primer lugar, resulta imprescindible instalar en el navegador Firefox varias[m
[32m+[m[32mextensiones relacionadas con el diseÃ±o web. Todas estas extensiones facilitan el trabajo,[m
[32m+[m[32mayudan a descubrir rÃ¡pidamente la causa de los errores del diseÃ±o y en general mejoran[m
[32m+[m[32mnotablemente la productividad de los diseÃ±adores.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, siempre es necesario disponer de varias galerÃ­as de pÃ¡ginas como fuente de[m
[32m+[m[32minspiraciÃ³n y colecciones de enlaces a buenos recursos relacionados con el diseÃ±o web.[m
[32m+[m[32mPor Ãºltimo, tambiÃ©n es necesario estar al dÃ­a de las Ãºltimas tÃ©cnicas y novedades[m
[32m+[m[32mmediante sitios web y blogs dedicados en exclusiva al diseÃ±o web.[m
[32m+[m
[32m+[m[32m14.1. Extensiones de Firefox[m
[32m+[m
[32m+[m[32mSi te dedicas profesionalmente al diseÃ±o de pÃ¡ginas y aplicaciones web, seguramente tu[m
[32m+[m[32mnavegador preferido para trabajar es Firefox. Si no lo conoces, puedes descargar[m
[32m+[m[32mgratuitamente Firefox desde su sitio web oficial: http://www.mozilla.com/firefox[m
[32m+[m
[32m+[m[32mLas principales ventajas de Firefox desde el punto de vista del diseÃ±ador y creador de[m
[32m+[m[32mpÃ¡ginas web es que respeta los estÃ¡ndares del W3C mucho mÃ¡s que los navegadores de[m
[32m+[m[32mla familia Internet Explorer. AdemÃ¡s, permite instalar pequeÃ±os aÃ±adidos, llamados[m
[32m+[m[32mextensiones, que aÃ±aden funcionalidades al navegador.[m
[32m+[m
[32m+[m[32mUna extensiÃ³n se puede considerar como un pequeÃ±o programa que se instala dentro[m
[32m+[m[32mdel navegador y que aÃ±ade alguna caracterÃ­stica interesante que el navegador no[m
[32m+[m[32mincorpora de serie. Lo mejor de las extensiones de Firefox es que existen cientos de[m
[32m+[m[32mextensiones, prÃ¡cticamente todas son gratuitas y casi todas son realmente Ãºtiles.[m
[32m+[m
[32m+[m[32mEl sitio web de Firefox incluye una secciÃ³n especial llamada "Complementos" en la que[m
[32m+[m[32mse puede encontrar el listado completo de extensiones disponibles para Firefox[m
[32m+[m[32m(http://addons.mozilla.org/es-ES/firefox/) . A continuaciÃ³n se muestra una pequeÃ±a[m
[32m+[m[32mselecciÃ³n de algunas de las extensiones mÃ¡s interesantes para los diseÃ±adores de[m
[32m+[m[32mpÃ¡ginas web.[m
[32m+[m
[32m+[m[32m14.1.1. Firebug[m
[32m+[m
[32m+[m[32mFirebug (https://addons.mozilla.org/firefox/1843/) es la extensiÃ³n mÃ¡s Ãºtil y completa[m
[32m+[m[32mde todas las que estÃ¡n relacionadas con el diseÃ±o web. No importa si tu especialidad es[m
[32m+[m[32mXHTML, CSS, JavaScript, DOM o AJAX, ya que Firebug proporciona toda la informaciÃ³n[m
[32m+[m[32mposible sobre cada uno de estos temas.[m
[32m+[m
[32m+[m[32mComo Firebug tiene tantas opciones, serÃ­a necesario un libro entero para explicar sus[m
[32m+[m[32mposibilidades. Por ello, lo mejor es que instales la extensiÃ³n y la pruebes en tus[m
[32m+[m[32mproyectos web.[m
[32m+[m
[32m+[m[32mwww.librosweb.es              194[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 14. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32m                              Figura 14.1. ExtensiÃ³n Firebug para Firefox[m
[32m+[m
[32m+[m[32mProbablemente, despuÃ©s de varios meses de uso de Firebug, seguirÃ¡s descubriendo[m
[32m+[m[32mnuevas opciones muy Ãºtiles y seguirÃ¡s agradeciendo a su creador las horas de trabajo[m
[32m+[m[32mque te ha ahorrado.[m
[32m+[m
[32m+[m[32m14.1.2. Web Developer[m
[32m+[m
[32m+[m[32mAntes de que existiera Firebug, la extensiÃ³n Web Developer[m
[32m+[m[32m(https://addons.mozilla.org/firefox/60/) era la mÃ¡s Ãºtil para los diseÃ±adores web. Se[m
[32m+[m[32mtrata de una barra que se instala junto con el resto de herramientas del navegador y que[m
[32m+[m[32mbÃ¡sicamente se puede utilizar para obtener informaciÃ³n sobre la pÃ¡gina:[m
[32m+[m
[32m+[m[32m                          Figura 14.2. ExtensiÃ³n Web Developer para Firefox[m
[32m+[m
[32m+[m[32mAdemÃ¡s de proporcionar informaciÃ³n, la extensiÃ³n Web Developer incluye utilidades[m
[32m+[m[32mque Firebug todavÃ­a no incorpora, como la redimensiÃ³n de la ventana del navegador a[m
[32m+[m[32mlas dimensiones mÃ¡s utilizadas, recuadrar todos los elementos de un determinado tipo[m
[32m+[m[32m(celdas de tabla, divs, etc.), mostrar una lupa, una regla redimensionable, mostrar los[m
[32m+[m[32melementos de tipo hidden, mostrar la ruta de cada imagen, etc.[m
[32m+[m
[32m+[m[32m14.1.3. HTML Validator[m
[32m+[m
[32m+[m[32mUna buena prÃ¡ctica, y un requisito impuesto por muchos clientes, es que las pÃ¡ginas[m
[32m+[m[32mXHTML creadas sean vÃ¡lidas y por tanto, pasen el validador de HTML y de CSS[m
[32m+[m[32mdisponible en el W3C. Para facilitar la validaciÃ³n de las pÃ¡ginas, la extensiÃ³n HTML[m
[32m+[m
[32m+[m[32mwww.librosweb.es    195[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 14. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32mValidator (https://addons.mozilla.org/firefox/249/) indica en todo momento los[m
[32m+[m[32merrores y las recomendaciones sobre el cÃ³digo HTML de la pÃ¡gina que muestra el[m
[32m+[m[32mnavegador.[m
[32m+[m
[32m+[m[32m                    Figura 14.3. ExtensiÃ³n HTML Validator para Firefox[m
[32m+[m
[32m+[m[32m                          Figura 14.4. ExtensiÃ³n HTML Validator para Firefox[m
[32m+[m
[32m+[m[32m14.1.4. Otras extensiones[m
[32m+[m
[32m+[m[32m    â–ª ColorZilla (https://addons.mozilla.org/firefox/271/) : permite obtener el color de[m
[32m+[m[32m       cualquier elemento de la pÃ¡gina mediante una herramienta similar a la de los[m
[32m+[m[32m       programas de diseÃ±o grÃ¡fico.[m
[32m+[m
[32m+[m[32m    â–ª MeasureIt (https://addons.mozilla.org/firefox/539/) : permite medir la altura y[m
[32m+[m[32m       anchura de cualquier elemento de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                        196[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 14. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32mâ–ª View Source With (https://addons.mozilla.org/firefox/addon/394) : permite[m
[32m+[m[32m   elegir el programa o editor con el que se muestra el cÃ³digo fuente de la pÃ¡gina y[m
[32m+[m[32m   los archivos CSS y JavaScript.[m
[32m+[m
[32m+[m[32mâ–ª Screengrab (https://addons.mozilla.org/firefox/addon/1146) : permite guardar[m
[32m+[m[32m   una pÃ¡gina entera como una imagen. Los pantallazos ("screenshots") tambiÃ©n se[m
[32m+[m[32m   pueden realizar de una parte concreta de la pÃ¡gina o de los contenidos visibles en[m
[32m+[m[32m   la ventana del navegador.[m
[32m+[m
[32m+[m[32mâ–ª IE Tab (https://addons.mozilla.org/firefox/addon/1419) : permite visualizar con[m
[32m+[m[32m   Internet Explorer cualquier pÃ¡gina cargada en Firefox. La integraciÃ³n con Internet[m
[32m+[m[32m   Explorer es total, ya que ni siquiera hace falta abrir ese navegador.[m
[32m+[m
[32m+[m[32m14.2. Aplicaciones web[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indican algunas aplicaciones web que pueden ser de utilidad para el[m
[32m+[m[32mdiseÃ±ador CSS:[m
[32m+[m
[32m+[m[32m    â–ª Clean CSS (http://www.cleancss.com) : optimiza, ordena, limpia, corrige y reduce[m
[32m+[m[32m       el tamaÃ±o de las hojas de estilos.[m
[32m+[m
[32m+[m[32m    â–ª Typetester (http://typetester.maratz.com) : permite comparar de forma sencilla[m
[32m+[m[32m       diferentes tipos de letra y propiedades relacionadas con la tipografÃ­a y el texto.[m
[32m+[m
[32m+[m[32m    â–ª Browsershots (http://browsershots.org) : muestra cÃ³mo se visualiza una misma[m
[32m+[m[32m       pÃ¡gina web en diferentes navegadores de diferentes sistemas operativos (55[m
[32m+[m[32m       navegadores en total). El uso de la aplicaciÃ³n es gratuito y se pueden ver y/o[m
[32m+[m[32m       descargar las imÃ¡genes que muestran el aspecto de la pÃ¡gina en cada navegador.[m
[32m+[m
[32m+[m[32m    â–ª Stripe Generator (http://www.stripegenerator.com/) : permite generar[m
[32m+[m[32m       fÃ¡cilmente imÃ¡genes preparadas para poder repetirse en todas direcciones de[m
[32m+[m[32m       forma correcta y por tanto, para que puedan ser utilizadas como imÃ¡genes de[m
[32m+[m[32m       fondo.[m
[32m+[m
[32m+[m[32m14.3. Sitios web de inspiraciÃ³n[m
[32m+[m
[32m+[m[32mMuchas veces resulta Ãºtil disponer de buenos ejemplos de pÃ¡ginas diseÃ±adas[m
[32m+[m[32mcompletamente con CSS para tomarlas como referencia y posible inspiraciÃ³n de los[m
[32m+[m[32mdiseÃ±os propios:[m
[32m+[m
[32m+[m[32m    â–ª Web Creme (http://www.webcreme.com/) : incluye diariamente varios ejemplos[m
[32m+[m[32m       de las mejores pÃ¡ginas diseÃ±adas con CSS y permite realizar bÃºsquedas a partir[m
[32m+[m[32m       del color utilizado en la pÃ¡gina.[m
[32m+[m
[32m+[m[32m    â–ª CSS Remix (http://www.cssremix.com/) : muestra centenares de pÃ¡ginas[m
[32m+[m[32m       diseÃ±adas exclusivamente con CSS y con la posibilidad de puntuar su diseÃ±o.[m
[32m+[m
[32m+[m[32m    â–ª CSS Zen Garden (http://www.csszengarden.com/) : es una galerÃ­a diferente a las[m
[32m+[m[32m       tradicionales, pero se ha convertido en una referencia en cuanto a diseÃ±os[m
[32m+[m[32m       complejos realizados mediante CSS.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    197[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 14. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32m    â–ª Open Source Web Design (http://www.oswd.org) : sitio web que ofrece cientos de[m
[32m+[m[32m       plantillas gratuitas con posibilidad de utilizarlas libremente en aplicaciones[m
[32m+[m[32m       personales y comerciales.[m
[32m+[m
[32m+[m[32m14.4. Referencias y colecciones de recursos[m
[32m+[m
[32m+[m[32m    â–ª EspecificaciÃ³n oficial de CSS 2.1 (http://www.w3.org/TR/CSS21/) : la que[m
[32m+[m[32m       incluyen todos los navegadores actuales.[m
[32m+[m
[32m+[m[32m    â–ª EspecificaciÃ³n oficial de CSS 3 (http://www.w3.org/Style/CSS/[m
[32m+[m[32m       current-work#CSS3) : la que sustituirÃ¡ dentro de unos aÃ±os a la actual versiÃ³n 2.1.[m
[32m+[m
[32m+[m[32m    â–ª del.icio.us/webDesign (http://del.icio.us/webDesign) : colecciÃ³n de recursos[m
[32m+[m[32m       relacionados con todos los aspectos del diseÃ±o web. Lista creada y mantenida por[m
[32m+[m[32m       el diseÃ±ador Miguel SÃ¡nchez (http://www.miguelsanchez.com/) .[m
[32m+[m
[32m+[m[32m    â–ª netvibes.com/formacionweb (http://www.netvibes.com/formacionweb) :[m
[32m+[m[32m       colecciÃ³n de noticias, artÃ­culos y recursos relacionados con el diseÃ±o web. Lectura[m
[32m+[m[32m       diaria recomendada. Los recursos han sido seleccionados por el diseÃ±ador Miguel[m
[32m+[m[32m       SÃ¡nchez (http://www.miguelsanchez.com/)[m
[32m+[m
[32m+[m[32m    â–ª Web Developers Handbook (http://www.alvit.de/handbook/) : cientos de enlaces[m
[32m+[m[32m       con todos los recursos Ãºtiles para diseÃ±adores web.[m
[32m+[m
[32m+[m[32m    â–ª Blue Vertigo (http://www.bluevertigo.com.ar/bluevertigo.htm) : otra colecciÃ³n de[m
[32m+[m[32m       cientos de enlaces con recursos Ãºtiles para diseÃ±adores web.[m
[32m+[m
[32m+[m[32m    â–ª Foros del Web (http://www.forosdelweb.com/) : incluyen foros especÃ­ficos[m
[32m+[m[32m       dedicados a resolver dudas relacionadas con el diseÃ±o web con CSS.[m
[32m+[m
[32m+[m[32m    â–ª Ovillo (http://www.ovillo.org/) : una de las mejores listas de distribuciÃ³n en[m
[32m+[m[32m       castellano.[m
[32m+[m
[32m+[m[32m    â–ª Los foros de SitePoint (http://www.sitepoint.com/forums/) son una de las[m
[32m+[m[32m       mejores referencias en inglÃ©s para resolver dudas relacionadas con el diseÃ±o web.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    198[m
[32m+[m[32mIntroducciÃ³n a CSS       CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32mCapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m15.1. Ejercicio 1[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML y CSS que se muestra, aÃ±adir los selectores CSS que faltan para[m
[32m+[m[32maplicar los estilos deseados. Cada regla CSS incluye un comentario en el que se explica[m
[32m+[m[32mlos elementos a los que debe aplicarse:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio de selectores</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     /* Todos los elementos de la pagina */[m
[32m+[m[32m     { font: 1em/1.3 Arial, Helvetica, sans-serif; }[m
[32m+[m
[32m+[m[32m     /* Todos los parrafos de la pagina */[m
[32m+[m[32m     { color: #555; }[m
[32m+[m
[32m+[m[32m     /* Todos los pÃ¡rrafos contenidos en #primero */[m
[32m+[m[32m     { color: #336699; }[m
[32m+[m
[32m+[m[32m     /* Todos los enlaces de la pagina */[m
[32m+[m[32m     { color: #CC3300; }[m
[32m+[m
[32m+[m[32m     /* Los elementos "em" contenidos en #primero */[m
[32m+[m[32m     { background: #FFFFCC; padding: .1em; }[m
[32m+[m
[32m+[m[32m     /* Todos los elementos "em" de clase "especial" en toda la pagina */[m
[32m+[m[32m     { background: #FFCC99; border: 1px solid #FF9900; padding: .1em; }[m
[32m+[m
[32m+[m[32m     /* Elementos "span" contenidos en .normal */[m
[32m+[m[32m     { font-weight: bold; }[m
[32m+[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m
[32m+[m[32m     <div id="primero">[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, <a href="#">consectetuer adipiscing elit</a>.[m
[32m+[m[32m     Praesent blandit nibh at felis. Sed nec diam in dolor vestibulum aliquet. Duis[m
[32m+[m[32m     ullamcorper, nisi non facilisis molestie, <em>lorem sem aliquam nulla</em>, id[m
[32m+[m[32m     lacinia velit mi vestibulum enim.</p>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32m     <div class="normal">[m
[32m+[m[32m     <p>Phasellus eu velit sed lorem sodales egestas. Ut feugiat. <span><a[m
[32m+[m
[32m+[m[32mwww.librosweb.es         199[m
[32m+[m[32mIntroducciÃ³n a CSS                                                        CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m     href="#">Donec porttitor</a>, magna eu varius luctus,</span> metus massa[m
[32m+[m[32m     tristique massa, in imperdiet est velit vel magna. Phasellus erat. Duis risus.[m
[32m+[m[32m     <a href="#">Maecenas dictum</a>, nibh vitae pellentesque auctor, tellus velit[m
[32m+[m[32m     consectetuer tellus, tempor pretium felis tellus at metus.</p>[m
[32m+[m
[32m+[m[32m     <p>Cum sociis natoque <em class="especial">penatibus et magnis</em> dis[m
[32m+[m[32m     parturient montes, nascetur ridiculus mus. Proin aliquam convallis ante.[m
[32m+[m[32m     Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac[m
[32m+[m[32m     turpis egestas. Nunc aliquet. Sed eu metus. Duis justo.</p>[m
[32m+[m
[32m+[m[32m     <p>Donec facilisis blandit velit. Vestibulum nisi. Proin volutpat, <em[m
[32m+[m[32m     class="especial">enim id iaculis congue</em>, orci justo ultrices tortor, <a[m
[32m+[m[32m     href="#">quis lacinia eros libero in eros</a>. Sed malesuada dui vel quam.[m
[32m+[m[32m     Integer at eros.</p>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32m15.2. Ejercicio 2[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML proporcionado, aÃ±adir las reglas CSS necesarias para que la[m
[32m+[m[32mpÃ¡gina resultante tenga el mismo aspecto que el de la siguiente imagen:[m
[32m+[m
[32m+[m[32m                                 Figura 15.1. Aspecto final de la pÃ¡gina[m
[32m+[m[32mA continuaciÃ³n se muestra el cÃ³digo HTML de la pÃ¡gina sin estilos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                          200[m
[32m+[m[32mIntroducciÃ³n a CSS                                            CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m<html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m<head>[m
[32m+[m[32m<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />[m
[32m+[m[32m<title>Ejercicio de selectores</title>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<h1 id="titulo">Lorem ipsum dolor sit amet</h1>[m
[32m+[m
[32m+[m[32m<p>Nulla pretium. Sed tempus nunc vitae neque. <strong>Suspendisse[m
[32m+[m[32mgravida</strong>, metus a scelerisque sollicitudin, lacus velit[m
[32m+[m[32multricies nisl, nonummy tempus neque diam quis felis. <span[m
[32m+[m[32mclass="destacado">Etiam sagittis tortor</span> sed arcu sagittis tristique.</p>[m
[32m+[m
[32m+[m[32m<h2 id="subtitulo">Aliquam tincidunt, sem eget volutpat porta</h2>[m
[32m+[m
[32m+[m[32m<p>Vivamus velit dui, placerat vel, feugiat in, ornare et, urna. <a[m
[32m+[m[32mhref="#">Aenean turpis metus, <em>aliquam non</em>, tristique in</a>, pretium[m
[32m+[m[32mvarius, sapien. Proin vitae nisi. Suspendisse <span class="especial">porttitor[m
[32m+[m[32mpurus ac elit</span>. Suspendisse eleifend odio at dui. In in elit sed metus[m
[32m+[m[32mpretium elementum.</p>[m
[32m+[m
[32m+[m[32m<table summary="DescripciÃ³n de la tabla y su contenido">[m
[32m+[m[32m<caption>TÃ­tulo de la tabla</caption>[m
[32m+[m[32m<thead>[m
[32m+[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="col"></th>[m
[32m+[m[32m      <th scope="col" class="especial">TÃ­tulo columna 1</th>[m
[32m+[m[32m      <th scope="col" class="especial">TÃ­tulo columna 2</th>[m
[32m+[m
[32m+[m[32m   </tr>[m
[32m+[m[32m</thead>[m
[32m+[m
[32m+[m[32m<tfoot>[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="col"></th>[m
[32m+[m[32m      <th scope="col">TÃ­tulo columna 1</th>[m
[32m+[m[32m      <th scope="col">TÃ­tulo columna 2</th>[m
[32m+[m[32m   </tr>[m
[32m+[m
[32m+[m[32m</tfoot>[m
[32m+[m
[32m+[m[32m<tbody>[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="row" class="especial">TÃ­tulo fila 1</th>[m
[32m+[m[32m      <td>Donec purus ipsum</td>[m
[32m+[m[32m      <td>Curabitur <em>blandit</em></td>[m
[32m+[m[32m   </tr>[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="row">TÃ­tulo fila 2</th>[m
[32m+[m[32m      <td>Donec <strong>purus ipsum</strong></td>[m
[32m+[m[32m      <td>Curabitur blandit</td>[m
[32m+[m[32m   </tr>[m
[32m+[m
[32m+[m[32m</tbody>[m
[32m+[m[32m</table>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                       201[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m     <div id="adicional">[m
[32m+[m[32m     <p>Donec purus ipsum, posuere id, venenatis at, <span>placerat ac,[m
[32m+[m[32m     lorem</span>. Curabitur blandit, eros sed gravida aliquet, risus justo[m
[32m+[m[32m     porta lorem, ut mollis lectus tortor in orci. Pellentesque nec augue.</p>[m
[32m+[m
[32m+[m[32m     <p>Fusce nec felis eu diam pretium adipiscing. <span id="especial">Nunc elit[m
[32m+[m[32m     elit, vehicula vulputate</span>, venenatis in,[m
[32m+[m[32m     posuere id, lorem. Etiam sagittis, tellus in ultrices accumsan, diam nisi[m
[32m+[m[32m     feugiat ante, eu congue magna mi non nisl.</p>[m
[32m+[m
[32m+[m[32m     <p>Vivamus ultrices aliquet augue. <a href="#">Donec arcu pede, pretium[m
[32m+[m[32m     vitae</a>, rutrum aliquet, tincidunt blandit, pede.[m
[32m+[m[32m     Aliquam in nisi. Suspendisse volutpat. Nulla facilisi. Ut ullamcorper nisi quis[m
[32m+[m[32m     mi.</p>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mAunque la propiedad que modifica el color del texto se explica detalladamente en los[m
[32m+[m[32mprÃ³ximos capÃ­tulos, en este ejercicio solamente es preciso conocer que la propiedad se[m
[32m+[m[32mllama color y que como valor se puede indicar directamente el nombre del color.[m
[32m+[m
[32m+[m[32mLos nombres de los colores tambiÃ©n estÃ¡n estandarizados y se corresponden con el[m
[32m+[m[32mnombre en inglÃ©s de cada color. En este ejercicio, se deben utilizar los colores: teal, red,[m
[32m+[m[32mblue, orange, purple, olive, fuchsia y green.[m
[32m+[m
[32m+[m[32m15.3. Ejercicio 3[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML y CSS proporcionados, determinar las reglas CSS necesarias[m
[32m+[m[32mpara aÃ±adir los siguientes mÃ¡rgenes y rellenos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    202[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                                  Figura 15.2. PÃ¡gina original[m
[32m+[m
[32m+[m[32m1. El elemento #cabecera debe tener un relleno de 1em en todos los lados.[m
[32m+[m[32m2. El elemento #menu debe tener un relleno de 0.5em en todos los lados y un[m
[32m+[m
[32m+[m[32m    margen inferior de 0.5em.[m
[32m+[m[32m3. El resto de elementos (#noticias, #publicidad, #principal, #secundario)[m
[32m+[m
[32m+[m[32m    deben tener 0.5em de relleno en todos sus lados, salvo el elemento #pie, que[m
[32m+[m[32m    sÃ³lo debe tener relleno en la zona superior e inferior.[m
[32m+[m[32m4. Los elementos .articulo deben mostrar una separaciÃ³n entre ellos de 1em.[m
[32m+[m[32m5. Las imÃ¡genes de los artÃ­culos muestran un margen de 0.5em en todos sus lados.[m
[32m+[m[32m6. El elemento #publicidad estÃ¡ separado 1em de su elemento superior.[m
[32m+[m[32m7. El elemento #pie debe tener un margen superior de 1em.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    203[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                              Figura 15.3. PÃ¡gina con mÃ¡rgenes y rellenos[m
[32m+[m
[32m+[m[32m15.4. Ejercicio 4[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML y CSS proporcionados, determinar las reglas CSS necesarias[m
[32m+[m[32mpara aÃ±adir los siguientes bordes:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    204[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                                  Figura 15.4. PÃ¡gina original[m
[32m+[m
[32m+[m[32m1. Eliminar el borde gris que muestran por defecto todos los elementos.[m
[32m+[m[32m2. El elemento #menu debe tener un borde inferior de 1 pÃ­xel y azul (#004C99).[m
[32m+[m[32m3. El elemento #noticias muestra un borde de 1 pÃ­xel y gris claro (#C5C5C5).[m
[32m+[m[32m4. El elemento #publicidad debe mostrar un borde discontinuo de 1 pÃ­xel y de[m
[32m+[m
[32m+[m[32m    color #CC6600.[m
[32m+[m[32m5. El lateral formado por el elemento #secundario muestra un borde de 1 pÃ­xel y[m
[32m+[m
[32m+[m[32m    de color #CC6600.[m
[32m+[m[32m6. El elemento #pie debe mostrar un borde superior y otro inferior de 1 pÃ­xel y[m
[32m+[m
[32m+[m[32m    color gris claro #C5C5C5.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    205[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                                      Figura 15.5. PÃ¡gina con bordes[m
[32m+[m
[32m+[m[32m15.5. Ejercicio 5[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML y CSS proporcionados, determinar las reglas CSS necesarias[m
[32m+[m[32mpara aÃ±adir los siguientes colores e imÃ¡genes de fondo:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    206[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                                  Figura 15.6. PÃ¡gina original[m
[32m+[m
[32m+[m[32m1. Los elementos #noticias y #pie tiene un color de fondo gris claro (#F8F8F8).[m
[32m+[m[32m2. El elemento #publicidad muestra un color de fondo amarillo claro (#FFF6CD).[m
[32m+[m[32m3. Los elementos <h2> de #secundario muestran un color de fondo #DB905C y un[m
[32m+[m
[32m+[m[32m    pequeÃ±o padding de 0.2em.[m
[32m+[m[32m4. El fondo del elemento #menu se construye mediante una pequeÃ±a imagen[m
[32m+[m
[32m+[m[32m    llamada fondo_menu.gif.[m
[32m+[m[32m5. El logotipo del sitio se muestra mediante una imagen de fondo del elemento[m
[32m+[m
[32m+[m[32m    <h1> contenido en el elemento #cabecera (la imagen se llama logo.gif).[m
[32m+[m
[32m+[m[32mwww.librosweb.es    207[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                        Figura 15.7. PÃ¡gina con colores e imÃ¡genes de fondo[m
[32m+[m
[32m+[m[32m15.6. Ejercicio 6[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML proporcionado:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32m         <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m         <title>Ejercicio posicionamiento float</title>[m
[32m+[m[32m         <style type="text/css">[m
[32m+[m[32m         </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m         <div>[m
[32m+[m[32m            &laquo; Anterior &nbsp; Siguiente &raquo;[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mDeterminar las reglas CSS necesarias para que el resultado sea similar al mostrado en la[m
[32m+[m[32msiguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    208[m
[32m+[m[32mIntroducciÃ³n a CSS                                CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                         Figura 15.8. Elementos posicionados mediante float[m
[32m+[m
[32m+[m[32m15.7. Ejercicio 7[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML y CSS proporcionados, determinar las reglas CSS necesarias[m
[32m+[m[32mpara aÃ±adir las siguientes propiedades a la tipografÃ­a de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m                    Figura 15.9. PÃ¡gina original[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                  209[m
[32m+[m[32mIntroducciÃ³n a CSS                                                     CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m1. La fuente base de la pÃ¡gina debe ser: color negro, tipo Arial, tamaÃ±o 0.9em,[m
[32m+[m[32m    interlineado 1.4[m
[32m+[m
[32m+[m[32m2. Los elementos <h2> de .articulo se muestran en color #CC6600, con un tamaÃ±o[m
[32m+[m[32m    de letra de 1.6em, un interlineado de 1.2 y un margen inferior de 0.3em.[m
[32m+[m
[32m+[m[32m3. Los elementos del #menu deben mostrar un margen a su derecha de 1em y sus[m
[32m+[m[32m    enlaces deben ser de color blanco y tamaÃ±o de letra 1.3em.[m
[32m+[m
[32m+[m[32m4. El tamaÃ±o del texto de todos los contenidos de #lateral debe ser de 0.9em. La[m
[32m+[m[32m    fecha de cada noticia debe ocupar el espacio de toda su lÃ­nea y mostrarse en[m
[32m+[m[32m    color gris claro #999. El elemento <h3> de #noticias debe mostrarse de color[m
[32m+[m[32m    #003366.[m
[32m+[m
[32m+[m[32m5. El texto del elemento #publicidad es de color gris oscuro #555 y todos los[m
[32m+[m[32m    enlaces de color #CC6600.[m
[32m+[m
[32m+[m[32m6. Los enlaces contenidos dentro de .articulo son de color #CC6600 y todos los[m
[32m+[m[32m    pÃ¡rrafos muestran un margen superior e inferior de 0.3em.[m
[32m+[m
[32m+[m[32m7. AÃ±adir las reglas necesarias para que el contenido de #secundario se vea como[m
[32m+[m[32m    en la imagen que se muestra.[m
[32m+[m
[32m+[m[32m8. AÃ±adir las reglas necesarias para que el contenido de #pie se vea como en la[m
[32m+[m[32m    imagen que se muestra.[m
[32m+[m
[32m+[m[32m                    Figura 15.10. PÃ¡gina con propiedades tipogrÃ¡ficas[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                       210[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m15.8. Ejercicio 8[m
[32m+[m
[32m+[m[32mDefinir las reglas CSS que permiten mostrar los enlaces con los siguientes estilos:[m
[32m+[m
[32m+[m[32m      1. En su estado normal, los enlaces se muestran de color rojo #CC0000.[m
[32m+[m[32m      2. Cuando el usuario pasa su ratÃ³n sobre el enlace, se muestra con un color de[m
[32m+[m
[32m+[m[32m           fondo rojo #CC0000 y la letra de color blanco #FFF.[m
[32m+[m[32m      3. Los enlaces visitados se muestran en color gris claro #CCC.[m
[32m+[m
[32m+[m[32m                      Figura 15.11. Enlaces con estilos aplicados mediante CSS[m
[32m+[m
[32m+[m[32m15.9. Ejercicio 9[m
[32m+[m
[32m+[m[32mDefinir las reglas CSS que permiten mostrar una galerÃ­a de imÃ¡genes similar a la que se[m
[32m+[m[32mmuestra en la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                      211[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                        Figura 15.12. GalerÃ­a de imÃ¡genes construida con CSS[m
[32m+[m
[32m+[m[32m15.10. Ejercicio 10[m
[32m+[m
[32m+[m[32mModificar el menÃº vertical sencillo para que muestre el siguiente comportamiento:[m
[32m+[m[32m      1. Los elementos deben mostrar una imagen de fondo (flecha_inactiva.png):[m
[32m+[m
[32m+[m[32mwww.librosweb.es    212[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                         Figura 15.13. MenÃº vertical con imagen de fondo[m
[32m+[m
[32m+[m[32m2. Cuando se pasa el ratÃ³n por encima de un elemento, se debe mostrar una[m
[32m+[m[32m    imagen alternativa (flecha_activa.png):[m
[32m+[m
[32m+[m[32m                  Figura 15.14. MenÃº vertical con imagen de fondo alternativa[m
[32m+[m
[32m+[m[32m3. El color de fondo del elemento tambiÃ©n debe variar ligeramente y mostrar un[m
[32m+[m[32m    color gris mÃ¡s oscuro (#E4E4E4) cuando se pasa el ratÃ³n por encima:[m
[32m+[m
[32m+[m[32m             Figura 15.15. MenÃº vertical con imagen de fondo y color alternativos[m
[32m+[m
[32m+[m[32m4. El comportamiento anterior se debe producir cuando el usuario pasa el ratÃ³n[m
[32m+[m[32m    por encima de cualquier zona del elemento del menÃº, no solo cuando se pasa el[m
[32m+[m[32m    ratÃ³n por encima del texto del elemento:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                           213[m
[32m+[m[32mIntroducciÃ³n a CSS                                              CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                   Figura 15.16. Aspecto final del menÃº vertical avanzado creado con CSS[m
[32m+[m
[32m+[m[32m15.11. Ejercicio 11[m
[32m+[m
[32m+[m[32mDeterminar las reglas CSS necesarias para mostrar la siguiente tabla con el aspecto final[m
[32m+[m[32mmostrado en la imagen (modificar el cÃ³digo HTML que se considere necesario aÃ±adiendo[m
[32m+[m[32mlos atributos class oportunos).[m
[32m+[m[32mTabla original:[m
[32m+[m
[32m+[m[32m                    Figura 15.17. Aspecto original de la tabla[m
[32m+[m
[32m+[m[32mTabla final:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                214[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m     Figura 15.18. Aspecto definitivo de la tabla despuÃ©s de aplicar estilos CSS[m
[32m+[m
[32m+[m[32m1. Alinear el texto de las celdas, cabeceras y tÃ­tulo. Definir los bordes de la tabla,[m
[32m+[m[32m    celdas y cabeceras (color gris oscuro #333).[m
[32m+[m
[32m+[m[32m                           Figura 15.19. Tabla con texto alineado y bordes[m
[32m+[m
[32m+[m[32m2. Formatear las cabeceras de fila y columna con la imagen de fondo[m
[32m+[m[32m    correspondiente en cada caso (fondo_gris.gif, euro.png, dolar.png, yen.png,[m
[32m+[m[32m    libra.png). Modificar el tipo de letra de la tabla y utilizar Arial. El color azul[m
[32m+[m[32m    claro es #E6F3FF.[m
[32m+[m
[32m+[m[32mwww.librosweb.es    215[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                       Figura 15.20. Tabla con colores e imÃ¡genes de fondo[m
[32m+[m[32m3. Mostrar un color alterno en las filas de datos (color amarillo claro #FFFFCC).[m
[32m+[m
[32m+[m[32m                                  Figura 15.21. Tabla con colores de fila alternos[m
[32m+[m
[32m+[m[32m15.12. Ejercicio 12[m
[32m+[m
[32m+[m[32mA partir del cÃ³digo HTML proporcionado:[m
[32m+[m[32m1) Aplicar las reglas CSS necesarias para que el formulario muestre el siguiente aspecto:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                   216[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                       Figura 15.22. Formulario estructurado a dos columnas[m
[32m+[m
[32m+[m[32m2) Cuando el usuario pasa el ratÃ³n por encima de cada grupo de elementos de[m
[32m+[m[32mformulario (es decir, por encima de cada <li>) se debe modificar su color de fondo[m
[32m+[m[32m(sugerencia: color amarillo claro #FF9). AdemÃ¡s, cuando el usuario se posiciona en un[m
[32m+[m[32mcuadro de texto, se debe modificar su borde para resaltar el campo que estÃ¡ activo cada[m
[32m+[m[32mmomento (sugerencia: color amarillo #E6B700):[m
[32m+[m
[32m+[m[32m                         Figura 15.23. Mejoras en los campos de formulario[m
[32m+[m
[32m+[m[32m3) Utilizando el menor nÃºmero de reglas CSS, cambiar el aspecto del formulario para que[m
[32m+[m[32mse muestre como la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    217[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                        Figura 15.24. Formulario estructurado a una columna[m
[32m+[m
[32m+[m[32m4) Cuando el usuario pasa el ratÃ³n por encima de un grupo de elementos de formulario[m
[32m+[m[32m(es decir, por encima de cada <li>) se debe mostrar el mensaje de ayuda asociado.[m
[32m+[m[32mAÃ±adir las reglas CSS necesarias para que el formulario tenga el aspecto definitivo[m
[32m+[m[32mmostrado en la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    218[m
[32m+[m[32mIntroducciÃ³n a CSS                                                         CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m                               Figura 15.25. Aspecto final del formulario[m
[32m+[m
[32m+[m[32mCÃ³digo HTML:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">[m
[32m+[m[32m<head>[m
[32m+[m[32m<title>Ejercicio 12 - Formulario de alta</title>[m
[32m+[m[32m<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />[m
[32m+[m
[32m+[m[32m<style type="text/css">[m
[32m+[m[32m</style>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<div id="contenedor">[m
[32m+[m
[32m+[m[32m<h2>Formulario de alta</h2>[m
[32m+[m
[32m+[m[32m     <form method="post" action="#">                                       219[m
[32m+[m[32m     <ul>[m
[32m+[m[32m     <li>[m
[32m+[m
[32m+[m[32m         <label class="titulo" for="nombre">Nombre y apellidos <span[m
[32m+[m[32m     class="requerido">*</span></label>[m
[32m+[m
[32m+[m[32m         <div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                                           CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m<span>[m
[32m+[m[32m   <input id="nombre" name="nombre" value="" />[m
[32m+[m[32m   <label for="nombre">Nombre</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span>[m
[32m+[m[32m   <input id="apellido1" name="apellido1" value="" />[m
[32m+[m[32m   <label for="apellido1">Primer apellido</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m   <span>[m
[32m+[m[32m      <input id="apellido2" name="apellido2" value="" />[m
[32m+[m[32m      <label for="apellido2">Segundo apellido</label>[m
[32m+[m
[32m+[m[32m   </span>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">No te olvides de escribir tambiÃ©n tu segundo apellido</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li>[m
[32m+[m[32m   <label class="titulo" for="direccion">DirecciÃ³n <span[m
[32m+[m
[32m+[m[32mclass="requerido">*</span></label>[m
[32m+[m
[32m+[m[32m<div>[m
[32m+[m[32m   <span>[m
[32m+[m[32m      <input id="direccion" name="direccion" value="" />[m
[32m+[m[32m      <label for="direccion">Calle, nÃºmero, piso, puerta</label>[m
[32m+[m[32m   </span>[m
[32m+[m
[32m+[m[32m<span>[m
[32m+[m[32m   <input id="codigopostal" name="codigopostal" value="" />[m
[32m+[m[32m   <label for="codigopostal">CÃ³digo postal</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span>[m
[32m+[m[32m   <input id="municipio" name="municipio" value="" />[m
[32m+[m[32m   <label for="municipio">Municipio</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span>[m
[32m+[m[32m   <select id="provincia" name="provincia">[m
[32m+[m[32m      <option value=""></option>[m
[32m+[m[32m      <option value="provincia1">Provincia 1</option>[m
[32m+[m[32m      <option value="provincia2">Provincia 2</option>[m
[32m+[m[32m      <option value="provincia3">Provincia 3</option>[m
[32m+[m[32m   </select>[m
[32m+[m[32m   <label for="provincia">Provincia</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span>[m
[32m+[m[32m   <select id="pais" name="pais">[m
[32m+[m[32m      <option value=""></option>[m
[32m+[m[32m      <option value="pais1">PaÃ­s 1</option>[m
[32m+[m[32m      <option value="pais2">PaÃ­s 2</option>[m
[32m+[m[32m      <option value="pais3">PaÃ­s 3</option>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               220[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m         </select>[m
[32m+[m[32m         <label for="pais">PaÃ­s</label>[m
[32m+[m[32m      </span>[m
[32m+[m[32m   </div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">El cÃ³digo postal es imprescindible para poder recibir los[m
[32m+[m[32mpedidos</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li>[m
[32m+[m[32m   <label class="titulo" for="email">Email</label>[m
[32m+[m
[32m+[m[32m   <div>[m
[32m+[m[32m      <span>[m
[32m+[m[32m         <input id="email" name="email" value="" />[m
[32m+[m[32m      </span>[m
[32m+[m
[32m+[m[32m   </div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">AsegÃºrate de que sea vÃ¡lido</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li>[m
[32m+[m[32m   <label class="titulo" for="telefonofijo">TelÃ©fono <span[m
[32m+[m
[32m+[m[32mclass="requerido">*</span></label>[m
[32m+[m
[32m+[m[32m   <div>[m
[32m+[m[32m      <span>[m
[32m+[m[32m         <input id="telefonofijo" name="telefonofijo" value="" />[m
[32m+[m[32m         <label for="telefonofijo">Fijo</label>[m
[32m+[m[32m      </span>[m
[32m+[m
[32m+[m[32m      <span>[m
[32m+[m[32m         <input id="telefonomovil" name="telefonomovil" value="" />[m
[32m+[m[32m         <label for="telefonomovil">MÃ³vil</label>[m
[32m+[m
[32m+[m[32m      </span>[m
[32m+[m[32m   </div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">Sin prefijo de paÃ­s y sin espacios en blanco</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li>[m
[32m+[m[32m   <input id="alta" type="submit" value="Darme de alta &rarr;" />[m
[32m+[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m</ul>[m
[32m+[m[32m</form>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               221[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m15.13. Ejercicio 13[m
[32m+[m
[32m+[m[32mDeterminar las reglas CSS necesarias para mostrar la pÃ¡gina HTML que se proporciona[m
[32m+[m[32mcon el estilo que se muestra en la siguiente imagen:[m
[32m+[m
[32m+[m[32m          Figura 15.26. Aspecto final que debe mostrar la pÃ¡gina HTML proporcionada[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indica una propuesta de los pasos que se pueden seguir para obtener[m
[32m+[m[32mel aspecto final deseado:[m
[32m+[m
[32m+[m[32m    â–ª AÃ±adir los estilos bÃ¡sicos de la pÃ¡gina (tipo de letra Verdana, color de letra[m
[32m+[m[32m       #192666, imagen de fondo llamada fondo.gif, color de fondo #F2F5FE).[m
[32m+[m
[32m+[m[32m    â–ª Definir la estructura bÃ¡sica de la pÃ¡gina: anchura fija de 770 pÃ­xel, centrada en la[m
[32m+[m[32m       ventana del navegador, cabecera y pie, columna central de contenidos de anchura[m
[32m+[m[32m       530 pÃ­xel y columna secundaria de contenidos de 200 pÃ­xel de anchura.[m
[32m+[m
[32m+[m[32m    â–ª La cabecera tiene una altura de 100 pÃ­xel y una imagen de fondo llamada[m
[32m+[m[32m       cabecera.jpg.[m
[32m+[m
[32m+[m[32m    â–ª Los elementos del menÃº de navegaciÃ³n tienen un color de fondo #253575, un color[m
[32m+[m[32m       de letra #B5C4E3. Cuando el ratÃ³n pasa por encima de cada elemento, su color de[m
[32m+[m[32m       fondo cambia a #31479B. Los elementos seleccionados se muestran con un color de[m
[32m+[m[32m       fondo blanco y un color de letra #FF9000:[m
[32m+[m
[32m+[m[32mFigura 15.27. Imagen detallada del aspecto que muestran los elementos del menÃº de[m
[32m+[m[32m                                             navegaciÃ³n[m
[32m+[m
[32m+[m[32mâ–ª Con la ayuda de las imÃ¡genes que se proporcionan, mostrar cada uno de los[m
[32m+[m[32m   artÃ­culos de contenido con el estilo que se muestra en la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es    222[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 15. Ejercicios[m
[32m+[m
[32m+[m[32m       Figura 15.28. Aspecto de un artÃ­culo de la secciÃ³n principal de contenidos[m
[32m+[m
[32m+[m[32mâ–ª AÃ±adir los estilos adecuados para mostrar los elementos de la columna secundaria[m
[32m+[m[32m   de contenidos con el siguiente aspecto.[m
[32m+[m
[32m+[m[32mFigura 15.29. Aspecto de las secciones de la columna secundaria de contenidos[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               223[m
[32m+[m[32mIntroducciÃ³n a CSS                                      CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32mCapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32mEste Ãºltimo capÃ­tulo muestra las soluciones completas de todos los ejercicios planteados[m
[32m+[m[32men el libro. AdemÃ¡s de visualizarlas, todas las soluciones se pueden descargar.[m
[32m+[m
[32m+[m[32m16.1. SoluciÃ³n ejercicio 1[m
[32m+[m
[32m+[m[32m     /* Todos los elementos de la pagina */[m
[32m+[m[32m     * { font: 1em/1.3 Arial, Helvetica, sans-serif; }[m
[32m+[m
[32m+[m[32m/* Todos los pÃ¡rrafos de la pagina */[m
[32m+[m[32mp { color: #555; }[m
[32m+[m
[32m+[m[32m/* Solo los pÃ¡rrafos contenidos en #primero */[m
[32m+[m[32m#primero p { color: #336699; }[m
[32m+[m
[32m+[m[32m/* Todos los enlaces la pagina */[m
[32m+[m[32ma { color: #CC3300; }[m
[32m+[m
[32m+[m[32m/* Los elementos em contenidos en #primero */[m
[32m+[m[32m#primero em { background: #FFFFCC; padding: .1em; }[m
[32m+[m
[32m+[m[32m/* Todos los elementos em de tipo especial en toda la pagina */[m
[32m+[m[32mem.especial { background: #FFCC99; border: 1px solid #FF9900; padding: .1em; }[m
[32m+[m
[32m+[m[32m/* Elementos span contenidos en .normal */[m
[32m+[m[32m.normal span { font-weight: bold; }[m
[32m+[m
[32m+[m[32m16.2. SoluciÃ³n ejercicio 2[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />[m
[32m+[m[32m     <title>Ejercicio de selectores</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     /* No borrar la siguiente regla CSS porque es necesaria para ver los bordes de[m
[32m+[m[32m     la tabla */[m
[32m+[m[32m     table, tr, th, td {border:1px solid #000; border-collapse:collapse;[m
[32m+[m[32m     padding:5px;}[m
[32m+[m
[32m+[m[32mh1#titulo { color: teal; }[m
[32m+[m
[32m+[m[32mstrong { color: red; }[m
[32m+[m[32mspan.destacado { color: orange; }[m
[32m+[m
[32m+[m[32mh2#subtitulo { color: blue; }[m
[32m+[m
[32m+[m[32mspan.especial { color: purple; }[m
[32m+[m
[32m+[m[32ma { color: red; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                        224[m
[32m+[m[32mIntroducciÃ³n a CSS                               CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32ma em { color: blue; }[m
[32m+[m
[32m+[m[32mdiv#adicional p { color: olive; }[m
[32m+[m[32mdiv#adicional span#especial { color: fuchsia; }[m
[32m+[m[32mdiv#adicional a { color: green; }[m
[32m+[m
[32m+[m[32mcaption { color: blue; }[m
[32m+[m[32mtd { color: green; }[m
[32m+[m[32mtd strong { color: orange; }[m
[32m+[m[32mth { color: red; }[m
[32m+[m[32mth.especial { color: orange; }[m
[32m+[m[32m</style>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<h1 id="titulo">Lorem ipsum dolor sit amet</h1>[m
[32m+[m
[32m+[m[32m<p>Nulla pretium. Sed tempus nunc vitae neque. <strong>Suspendisse[m
[32m+[m[32mgravida</strong>, metus a scelerisque sollicitudin, lacus velit[m
[32m+[m[32multricies nisl, nonummy tempus neque diam quis felis. <span[m
[32m+[m[32mclass="destacado">Etiam sagittis tortor</span> sed arcu sagittis tristique.</p>[m
[32m+[m
[32m+[m[32m<h2 id="subtitulo">Aliquam tincidunt, sem eget volutpat porta</h2>[m
[32m+[m
[32m+[m[32m<p>Vivamus velit dui, placerat vel, feugiat in, ornare et, urna. <a[m
[32m+[m[32mhref="#">Aenean turpis metus, <em>aliquam non</em>, tristique in</a>, pretium[m
[32m+[m[32mvarius, sapien. Proin vitae nisi. Suspendisse <span class="especial">porttitor[m
[32m+[m[32mpurus ac elit</span>. Suspendisse eleifend odio at dui. In in elit sed metus[m
[32m+[m[32mpretium elementum.</p>[m
[32m+[m
[32m+[m[32m<table summary="DescripciÃ³n de la tabla y su contenido">[m
[32m+[m[32m<caption>TÃ­tulo de la tabla</caption>[m
[32m+[m[32m<thead>[m
[32m+[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="col"></th>[m
[32m+[m[32m      <th scope="col" class="especial">TÃ­tulo columna 1</th>[m
[32m+[m[32m      <th scope="col" class="especial">TÃ­tulo columna 2</th>[m
[32m+[m
[32m+[m[32m   </tr>[m
[32m+[m[32m</thead>[m
[32m+[m
[32m+[m[32m<tfoot>[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="col"></th>[m
[32m+[m[32m      <th scope="col">TÃ­tulo columna 1</th>[m
[32m+[m[32m      <th scope="col">TÃ­tulo columna 2</th>[m
[32m+[m[32m   </tr>[m
[32m+[m
[32m+[m[32m</tfoot>[m
[32m+[m
[32m+[m[32m<tbody>[m
[32m+[m[32m   <tr>[m
[32m+[m[32m      <th scope="row" class="especial">TÃ­tulo fila 1</th>[m
[32m+[m[32m      <td>Donec purus ipsum</td>[m
[32m+[m[32m      <td>Curabitur <em>blandit</em></td>[m
[32m+[m[32m   </tr>[m
[32m+[m[32m   <tr>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                    225[m
[32m+[m[32mIntroducciÃ³n a CSS                                 CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m      <th scope="row">TÃ­tulo fila 2</th>[m
[32m+[m[32m      <td>Donec <strong>purus ipsum</strong></td>[m
[32m+[m[32m      <td>Curabitur blandit</td>[m
[32m+[m[32m   </tr>[m
[32m+[m[32m</tbody>[m
[32m+[m[32m</table>[m
[32m+[m
[32m+[m[32m<div id="adicional">[m
[32m+[m[32m<p>Donec purus ipsum, posuere id, venenatis at, <span>placerat ac,[m
[32m+[m[32mlorem</span>. Curabitur blandit, eros sed gravida aliquet, risus justo[m
[32m+[m[32mporta lorem, ut mollis lectus tortor in orci. Pellentesque nec augue.</p>[m
[32m+[m
[32m+[m[32m<p>Fusce nec felis eu diam pretium adipiscing. <span id="especial">Nunc elit[m
[32m+[m[32melit, vehicula vulputate</span>, venenatis in,[m
[32m+[m[32mposuere id, lorem. Etiam sagittis, tellus in ultrices accumsan, diam nisi[m
[32m+[m[32mfeugiat ante, eu congue magna mi non nisl.</p>[m
[32m+[m
[32m+[m[32m<p>Vivamus ultrices aliquet augue. <a href="#">Donec arcu pede, pretium[m
[32m+[m[32mvitae</a>, rutrum aliquet, tincidunt blandit, pede.[m
[32m+[m[32mAliquam in nisi. Suspendisse volutpat. Nulla facilisi. Ut ullamcorper nisi quis[m
[32m+[m[32mmi.</p>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m16.3. SoluciÃ³n ejercicio 3[m
[32m+[m
[32m+[m[32m     /* === IMPORTANTE ===================================================[m
[32m+[m[32m          No modificar estos estilos, ya que son imprescindibles para[m
[32m+[m[32m          que la pÃ¡gina se vea correctamente.[m
[32m+[m[32m          ================================================================== */[m
[32m+[m
[32m+[m[32m/*-- BÃ¡sico ----------------------------------------------------------*/[m
[32m+[m[32mul, ul li { margin: 0; padding: 0; list-style: none; }[m
[32m+[m[32mh1, h2, h3, p, form { margin: 0; padding: 0; }[m
[32m+[m[32m.clear { clear: both; }[m
[32m+[m[32mimg { border: none; }[m
[32m+[m
[32m+[m[32m/*-- Layout ----------------------------------------------------------*/[m
[32m+[m[32m#contenedor {[m
[32m+[m
[32m+[m[32m   width: 90%;[m
[32m+[m[32m   max-width: 900px;[m
[32m+[m[32m   width: expression(document.body.clientWidth > 901? "900px": "auto");[m
[32m+[m[32m   margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera, #menu, #lateral, #contenido, #contenido #principal, #contenido[m
[32m+[m[32m#secundario, #pie {[m
[32m+[m
[32m+[m[32m   border: 2px solid #777;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera { clear: both; }[m
[32m+[m[32m#menu { clear: both; }[m
[32m+[m[32m#lateral { float: left; width: 20%; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 226[m
[32m+[m[32mIntroducciÃ³n a CSS             CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#contenido { float: right; width: 78%; }[m
[32m+[m[32m#contenido #principal { float: left; width: 78%; }[m
[32m+[m[32m#contenido #secundario { float: right; width: 20%; }[m
[32m+[m[32m#pie { clear: both; }[m
[32m+[m
[32m+[m[32m/*-- Cabecera --------------------------------------------------------*/[m
[32m+[m[32m#cabecera #logo { float: left; }[m
[32m+[m[32m#cabecera #buscador { float: right; }[m
[32m+[m
[32m+[m[32m/*-- Menu ------------------------------------------------------------*/[m
[32m+[m[32m#menu ul#menu_principal li { display: inline; float: left; }[m
[32m+[m
[32m+[m[32m/*-- SecciÃ³n Principal -----------------------------------------------*/[m
[32m+[m[32m#contenido #principal .articulo img { width: 100px; float: left; }[m
[32m+[m
[32m+[m[32m/*-- Pie de pÃ¡gina ---------------------------------------------------*/[m
[32m+[m[32m#pie .enlaces { float: left; }[m
[32m+[m[32m#pie .copyright { float: right; }[m
[32m+[m
[32m+[m[32m/* === IMPORTANTE ===================================================[m
[32m+[m[32m    A partir de aquÃ­, se pueden aÃ±adir todos los estilos propios que[m
[32m+[m[32m    sean necesarios.[m
[32m+[m[32m    ================================================================== */[m
[32m+[m
[32m+[m[32m     #cabecera,                                                            227[m
[32m+[m[32m     #menu,[m
[32m+[m[32m     #lateral,[m
[32m+[m[32m     #lateral #noticias,[m
[32m+[m[32m     #lateral #publicidad,[m
[32m+[m[32m     #contenido,[m
[32m+[m[32m     #contenido #principal,[m
[32m+[m[32m     #contenido #secundario,[m
[32m+[m[32m     #pie {[m
[32m+[m
[32m+[m[32m         padding: .5em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral {[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         padding: 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #menu {[m
[32m+[m[32m         margin-bottom: .5em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido {[m
[32m+[m[32m         width: 77%;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal {[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                                    CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   width: 73%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#pie {[m
[32m+[m[32m   padding: .5em 0;[m
[32m+[m[32m   margin-top: 1em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal .articulo {[m
[32m+[m[32m   margin-bottom: 1em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal .articulo img {[m
[32m+[m[32m   margin: .5em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#lateral #publicidad {[m
[32m+[m[32m   margin-top: 1em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m16.4. SoluciÃ³n ejercicio 4[m
[32m+[m
[32m+[m[32m     /* === IMPORTANTE ===================================================[m
[32m+[m[32m          No modificar estos estilos, ya que son imprescindibles para[m
[32m+[m[32m          que la pÃ¡gina se vea correctamente.[m
[32m+[m[32m          ================================================================== */[m
[32m+[m
[32m+[m[32m/*-- BÃ¡sico ----------------------------------------------------------*/[m
[32m+[m[32mul, ul li { margin: 0; padding: 0; list-style: none; }[m
[32m+[m[32mh1, h2, h3, p, form { margin: 0; padding: 0; }[m
[32m+[m[32m.clear { clear: both; }[m
[32m+[m[32mimg { border: none; }[m
[32m+[m
[32m+[m[32m/*-- Layout ----------------------------------------------------------*/[m
[32m+[m[32m#contenedor {[m
[32m+[m
[32m+[m[32m   width: 90%;[m
[32m+[m[32m   max-width: 900px;[m
[32m+[m[32m   width: expression(document.body.clientWidth > 901? "900px": "auto");[m
[32m+[m[32m   margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera, #menu, #lateral, #contenido, #contenido #principal, #contenido[m
[32m+[m[32m#secundario, #pie {[m
[32m+[m
[32m+[m[32m   border: 2px solid #777;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera { clear: both; }[m
[32m+[m[32m#menu { clear: both; }[m
[32m+[m[32m#lateral { float: left; width: 20%; }[m
[32m+[m[32m#contenido { float: right; width: 78%; }[m
[32m+[m[32m#contenido #principal { float: left; width: 78%; }[m
[32m+[m[32m#contenido #secundario { float: right; width: 20%; }[m
[32m+[m[32m#pie { clear: both; }[m
[32m+[m
[32m+[m[32m/*-- Cabecera --------------------------------------------------------*/[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 228[m
[32m+[m[32mIntroducciÃ³n a CSS                          CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#cabecera #logo { float: left; }[m
[32m+[m[32m#cabecera #buscador { float: right; }[m
[32m+[m
[32m+[m[32m/*-- Menu ------------------------------------------------------------*/[m
[32m+[m[32m#menu ul#menu_principal li { display: inline; float: left; }[m
[32m+[m
[32m+[m[32m/*-- SecciÃ³n Principal -----------------------------------------------*/[m
[32m+[m[32m#contenido #principal .articulo img { width: 100px; float: left; }[m
[32m+[m
[32m+[m[32m/*-- Pie de pÃ¡gina ---------------------------------------------------*/[m
[32m+[m[32m#pie .enlaces { float: left; }[m
[32m+[m[32m#pie .copyright { float: right; }[m
[32m+[m
[32m+[m[32m/* === IMPORTANTE ===================================================[m
[32m+[m[32m    A partir de aquÃ­, se pueden aÃ±adir todos los estilos propios que[m
[32m+[m[32m    sean necesarios.[m
[32m+[m[32m    ================================================================== */[m
[32m+[m
[32m+[m[32m     #cabecera,                                                            229[m
[32m+[m[32m     #menu,[m
[32m+[m[32m     #lateral,[m
[32m+[m[32m     #lateral #noticias,[m
[32m+[m[32m     #lateral #publicidad,[m
[32m+[m[32m     #contenido,[m
[32m+[m[32m     #contenido #principal,[m
[32m+[m[32m     #contenido #secundario,[m
[32m+[m[32m     #pie {[m
[32m+[m
[32m+[m[32m         padding: .5em;[m
[32m+[m[32m         border: none;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral {[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         padding: 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #menu {[m
[32m+[m[32m         margin-bottom: .5em;[m
[32m+[m[32m         border-bottom: 1px solid #004C99;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido {[m
[32m+[m[32m         width: 77%;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal {[m
[32m+[m[32m         width: 73%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #secundario {[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                     CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   border: 1px solid #C60;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#pie {[m
[32m+[m[32m   padding: .5em 0;[m
[32m+[m[32m   margin-top: 1em;[m
[32m+[m[32m   border-top: 1px solid #C5C5C5;[m
[32m+[m[32m   border-bottom: 1px solid #C5C5C5;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal .articulo {[m
[32m+[m[32m   margin-bottom: 1em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal .articulo img {[m
[32m+[m[32m   margin: .5em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#lateral #noticias {[m
[32m+[m[32m   border: 1px solid #C5C5C5;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#lateral #publicidad {[m
[32m+[m[32m   margin-top: 1em;[m
[32m+[m[32m   border: 1px dashed #C60;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m16.5. SoluciÃ³n ejercicio 5[m
[32m+[m
[32m+[m[32m     /* === IMPORTANTE ===================================================[m
[32m+[m[32m          No modificar estos estilos, ya que son imprescindibles para[m
[32m+[m[32m          que la pÃ¡gina se vea correctamente.[m
[32m+[m[32m          ================================================================== */[m
[32m+[m
[32m+[m[32m/*-- BÃ¡sico ----------------------------------------------------------*/[m
[32m+[m[32mul, ul li { margin: 0; padding: 0; list-style: none; }[m
[32m+[m[32mh1, h2, h3, p, form { margin: 0; padding: 0; }[m
[32m+[m[32m.clear { clear: both; }[m
[32m+[m[32mimg { border: none; }[m
[32m+[m
[32m+[m[32m/*-- Layout ----------------------------------------------------------*/[m
[32m+[m[32m#contenedor {[m
[32m+[m
[32m+[m[32m   width: 90%;[m
[32m+[m[32m   max-width: 900px;[m
[32m+[m[32m   width: expression(document.body.clientWidth > 901? "900px": "auto");[m
[32m+[m[32m   margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera, #menu, #lateral, #contenido, #contenido #principal, #contenido[m
[32m+[m[32m#secundario, #pie {[m
[32m+[m
[32m+[m[32m   border: 2px solid #777;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera { clear: both; }[m
[32m+[m[32m#menu { clear: both; }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 230[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#lateral { float: left; width: 20%; }[m
[32m+[m[32m#contenido { float: right; width: 78%; }[m
[32m+[m[32m#contenido #principal { float: left; width: 78%; }[m
[32m+[m[32m#contenido #secundario { float: right; width: 20%; }[m
[32m+[m[32m#pie { clear: both; }[m
[32m+[m
[32m+[m[32m/*-- Cabecera --------------------------------------------------------*/[m
[32m+[m[32m#cabecera #logo { float: left; }[m
[32m+[m[32m#cabecera #buscador { float: right; }[m
[32m+[m
[32m+[m[32m/*-- Menu ------------------------------------------------------------*/[m
[32m+[m[32m#menu ul#menu_principal li { display: inline; float: left; }[m
[32m+[m
[32m+[m[32m/*-- SecciÃ³n Principal -----------------------------------------------*/[m
[32m+[m[32m#contenido #principal .articulo img { width: 100px; float: left; }[m
[32m+[m
[32m+[m[32m/*-- Pie de pÃ¡gina ---------------------------------------------------*/[m
[32m+[m[32m#pie .enlaces { float: left; }[m
[32m+[m[32m#pie .copyright { float: right; }[m
[32m+[m
[32m+[m[32m/* === IMPORTANTE ===================================================[m
[32m+[m[32m    A partir de aquÃ­, se pueden aÃ±adir todos los estilos propios que[m
[32m+[m[32m    sean necesarios.[m
[32m+[m[32m    ================================================================== */[m
[32m+[m
[32m+[m[32m     #cabecera,                                                             231[m
[32m+[m[32m     #menu,[m
[32m+[m[32m     #lateral,[m
[32m+[m[32m     #lateral #noticias,[m
[32m+[m[32m     #lateral #publicidad,[m
[32m+[m[32m     #contenido,[m
[32m+[m[32m     #contenido #principal,[m
[32m+[m[32m     #contenido #secundario,[m
[32m+[m[32m     #pie {[m
[32m+[m
[32m+[m[32m         padding: .5em;[m
[32m+[m[32m         border: none;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral {[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #cabecera {[m
[32m+[m[32m         padding: 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #cabecera h1 {[m
[32m+[m[32m         background: url(../comun/imagenes/logo.gif) no-repeat -5px -10px;[m
[32m+[m[32m         width: 180px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #cabecera h1 span {[m
[32m+[m[32m         visibility: hidden;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#menu {[m
[32m+[m[32m   margin-bottom: .5em;[m
[32m+[m[32m   border-bottom: 1px solid #004C99;[m
[32m+[m[32m   background: url(../comun/imagenes/fondo_menu.gif) repeat-x;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido {[m
[32m+[m[32m   width: 77%;[m
[32m+[m[32m   padding: 0;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal {[m
[32m+[m[32m   width: 73%;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario {[m
[32m+[m[32m   border: 1px solid #C60;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario h2 {[m
[32m+[m[32m      background: #DB905C;[m
[32m+[m[32m             padding: .2em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#pie {[m
[32m+[m[32m   padding: .5em 0;[m
[32m+[m[32m   margin-top: 1em;[m
[32m+[m[32m   border-top: 1px solid #C5C5C5;[m
[32m+[m[32m   border-bottom: 1px solid #C5C5C5;[m
[32m+[m[32m   background: #F8F8F8;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal .articulo {[m
[32m+[m[32m   margin-bottom: 1em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal .articulo img {[m
[32m+[m[32m   margin: .5em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#lateral #noticias {[m
[32m+[m[32m   border: 1px solid #C5C5C5;[m
[32m+[m[32m   background: #F8F8F8;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#lateral #publicidad {[m
[32m+[m[32m   margin-top: 1em;[m
[32m+[m[32m   border: 1px dashed #C60;[m
[32m+[m[32m   background: #FFF6CD;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                232[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m16.6. SoluciÃ³n ejercicio 6[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio posicionamiento float</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     div#paginacion {[m
[32m+[m
[32m+[m[32m         border: 1px solid #CCC;[m
[32m+[m[32m         background-color: #E0E0E0;[m
[32m+[m[32m         padding: .5em;[m
[32m+[m[32m     }[m
[32m+[m[32m     .derecha {[m
[32m+[m[32m         float: right;[m
[32m+[m[32m     }[m
[32m+[m[32m     .izquierda {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m     }[m
[32m+[m[32m     div.clear {[m
[32m+[m[32m         clear: both;[m
[32m+[m[32m     }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<div id="paginacion">[m
[32m+[m[32m<span class="izquierda">&laquo; Anterior</span> <span class="derecha">Siguiente[m
[32m+[m[32m&raquo;</span>[m
[32m+[m[32m<div class="clear"></div>[m
[32m+[m[32m</div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m16.7. SoluciÃ³n ejercicio 7[m
[32m+[m
[32m+[m[32m     /* === IMPORTANTE ===================================================[m
[32m+[m[32m          No modificar estos estilos, ya que son imprescindibles para[m
[32m+[m[32m          que la pÃ¡gina se vea correctamente.[m
[32m+[m[32m          ================================================================== */[m
[32m+[m
[32m+[m[32m/*-- BÃ¡sico ----------------------------------------------------------*/[m
[32m+[m[32mul, ul li { margin: 0; padding: 0; list-style: none; }[m
[32m+[m[32mh1, h2, h3, p, form { margin: 0; padding: 0; }[m
[32m+[m[32m.clear { clear: both; }[m
[32m+[m[32mimg { border: none; }[m
[32m+[m
[32m+[m[32m     /*-- Layout ----------------------------------------------------------*/    233[m
[32m+[m[32m     #contenedor {[m
[32m+[m
[32m+[m[32m         width: 90%;[m
[32m+[m[32m         max-width: 900px;[m
[32m+[m[32m         width: expression(document.body.clientWidth > 901? "900px": "auto");[m
[32m+[m[32m         margin: 0 auto;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                                    CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#cabecera, #menu, #lateral, #contenido, #contenido #principal, #contenido[m
[32m+[m[32m#secundario, #pie {[m
[32m+[m
[32m+[m[32m   border: 2px solid #777;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera { clear: both; }[m
[32m+[m[32m#menu { clear: both; }[m
[32m+[m[32m#lateral { float: left; width: 20%; }[m
[32m+[m[32m#contenido { float: right; width: 78%; }[m
[32m+[m[32m#contenido #principal { float: left; width: 78%; }[m
[32m+[m[32m#contenido #secundario { float: right; width: 20%; }[m
[32m+[m[32m#pie { clear: both; }[m
[32m+[m
[32m+[m[32m/*-- Cabecera --------------------------------------------------------*/[m
[32m+[m[32m#cabecera #logo { float: left; }[m
[32m+[m[32m#cabecera #buscador { float: right; }[m
[32m+[m
[32m+[m[32m/*-- Menu ------------------------------------------------------------*/[m
[32m+[m[32m#menu ul#menu_principal li { display: inline; float: left; }[m
[32m+[m
[32m+[m[32m/*-- SecciÃ³n Principal -----------------------------------------------*/[m
[32m+[m[32m#contenido #principal .articulo img { width: 100px; float: left; }[m
[32m+[m
[32m+[m[32m/*-- Pie de pÃ¡gina ---------------------------------------------------*/[m
[32m+[m[32m#pie .enlaces { float: left; }[m
[32m+[m[32m#pie .copyright { float: right; }[m
[32m+[m
[32m+[m[32m/* === IMPORTANTE ===================================================[m
[32m+[m[32m    A partir de aquÃ­, se pueden aÃ±adir todos los estilos propios que[m
[32m+[m[32m    sean necesarios.[m
[32m+[m[32m    ================================================================== */[m
[32m+[m
[32m+[m[32mbody {[m
[32m+[m[32m   font: .9em/1.4 Arial, Helvetica, sans-serif;[m
[32m+[m[32m   color: #000;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera,[m
[32m+[m[32m#menu,[m
[32m+[m[32m#lateral,[m
[32m+[m[32m#lateral #noticias,[m
[32m+[m[32m#lateral #publicidad,[m
[32m+[m[32m#contenido,[m
[32m+[m[32m#contenido #principal,[m
[32m+[m[32m#contenido #secundario,[m
[32m+[m[32m#pie {[m
[32m+[m
[32m+[m[32m   padding: .5em;[m
[32m+[m[32m   border: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#lateral {[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   font-size: .9em;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                           234[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     #cabecera {                                                           235[m
[32m+[m[32m         padding: 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #cabecera h1 {[m
[32m+[m[32m         background: url(../comun/imagenes/logo.gif) no-repeat -5px -5px;[m
[32m+[m[32m         width: 180px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #cabecera h1 span {[m
[32m+[m[32m         visibility: hidden;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #menu {[m
[32m+[m[32m         margin-bottom: .5em;[m
[32m+[m[32m         border-bottom: 1px solid #004C99;[m
[32m+[m[32m         background: url(../comun/imagenes/fondo_menu.gif) repeat-x;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #menu li {[m
[32m+[m[32m         margin-right: 1em;[m
[32m+[m[32m         font-size: 1.3em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #menu li a {[m
[32m+[m[32m         color: #FFF;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido {[m
[32m+[m[32m         width: 77%;[m
[32m+[m[32m         padding: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal {[m
[32m+[m[32m         width: 73%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #secundario {[m
[32m+[m[32m         border: 1px solid #C60;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #secundario h2 {[m
[32m+[m[32m         background: #DB905C;[m
[32m+[m[32m         padding: .2em;[m
[32m+[m[32m         font-size: 1em;[m
[32m+[m[32m         color: #FFF;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #secundario p {[m
[32m+[m[32m         margin: .5em 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #pie {[m
[32m+[m[32m         padding: .5em 0;[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                          CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m         margin-top: 1em;                                              236[m
[32m+[m[32m         border-top: 1px solid #C5C5C5;[m
[32m+[m[32m         border-bottom: 1px solid #C5C5C5;[m
[32m+[m[32m         background: #F8F8F8;[m
[32m+[m[32m         color: #555;[m
[32m+[m[32m         font-size: .75em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal .articulo {[m
[32m+[m[32m         margin-bottom: 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal .articulo p {[m
[32m+[m[32m         margin: .3em 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal .articulo a {[m
[32m+[m[32m         color: #C60;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal .articulo h2 {[m
[32m+[m[32m         color: #C60;[m
[32m+[m[32m         font-size: 1.6em;[m
[32m+[m[32m         line-height: 1.2;[m
[32m+[m[32m         margin-bottom: .3em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #contenido #principal .articulo img {[m
[32m+[m[32m         margin: .5em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral #noticias {[m
[32m+[m[32m         border: 1px solid #C5C5C5;[m
[32m+[m[32m         background: #F8F8F8;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral #noticias h3 {[m
[32m+[m[32m         color: #036;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral #noticias span.fecha {[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         color: #999;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral #publicidad {[m
[32m+[m[32m         margin-top: 1em;[m
[32m+[m[32m         border: 1px dashed #C60;[m
[32m+[m[32m         background: #FFF6CD;[m
[32m+[m[32m         color: #555;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     #lateral #publicidad a {[m
[32m+[m[32m         color: #C60;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS               CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m16.8. SoluciÃ³n ejercicio 8[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio de pseudo clases de enlaces</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     a{[m
[32m+[m
[32m+[m[32m         margin: 1em 0;[m
[32m+[m[32m         color: #CC0000;[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         clear: left;[m
[32m+[m[32m         padding: 2px;[m
[32m+[m[32m     }[m
[32m+[m[32m     a:hover {[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m         background-color: #CC0000;[m
[32m+[m[32m         color: #FFF;[m
[32m+[m[32m     }[m
[32m+[m[32m     a:visited {[m
[32m+[m[32m         color: #CCC;[m
[32m+[m[32m     }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<a href="#">Enlace nÃºmero 1</a>[m
[32m+[m
[32m+[m[32m<a href="#">Enlace nÃºmero 2</a>[m
[32m+[m
[32m+[m[32m<a href="#">Enlace nÃºmero 3</a>[m
[32m+[m
[32m+[m[32m<a href="#">Enlace nÃºmero 4</a>[m
[32m+[m
[32m+[m[32m<a href="#">Enlace nÃºmero 5</a>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m16.9. SoluciÃ³n ejercicio 9[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio galerÃ­a de imÃ¡genes</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     #galeria {[m
[32m+[m
[32m+[m[32m         /* En el navegador Internet Explorer versiÃ³n 6 y anteriores no funciona la[m
[32m+[m[32m     propiedad "max-width" */[m
[32m+[m
[32m+[m[32m         max-width: 650px;[m
[32m+[m[32m     }[m
[32m+[m[32m     #galeria img {[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                     237[m
[32m+[m[32mIntroducciÃ³n a CSS          CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   float: left;[m
[32m+[m[32m   margin: 1em;[m
[32m+[m[32m   padding: .5em;[m
[32m+[m[32m   border: 1px solid #CCC;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<div id="galeria">[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m<img src="../comun/imagenes/imagen.png" alt="Imagen generica" />[m
[32m+[m[32m</div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m16.10. SoluciÃ³n ejercicio 10[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio menu vertical avanzado</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     ul.menu {[m
[32m+[m
[32m+[m[32m         width: 180px;[m
[32m+[m[32m         list-style: none;[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 0;[m
[32m+[m[32m         border: 1px solid #7C7C7C;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li {[m
[32m+[m[32m         border-bottom: 1px solid #7C7C7C;[m
[32m+[m[32m         border-top: 1px solid #FFF;[m
[32m+[m[32m         background: #F4F4F4;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li a {[m
[32m+[m[32m         padding: .2em 0 .2em 1.5em;[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         text-decoration: none;[m
[32m+[m[32m         color: #333;[m
[32m+[m[32m         background: #F4F4F4 url("../../comun/imagenes/flecha_inactiva.png") no-repeat[m
[32m+[m[32m     3px;[m
[32m+[m[32m     }[m
[32m+[m[32m     ul.menu li a:hover, ul.menu li a:active {[m
[32m+[m[32m         background: #E4E4E4 url("../../comun/imagenes/flecha_activa.png") no-repeat[m
[32m+[m[32m     3px;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                  238[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<ul class="menu">[m
[32m+[m
[32m+[m[32m   <li><a href="#" title="Enlace genÃ©rico">Elemento 1</a></li>[m
[32m+[m[32m   <li><a href="#" title="Enlace genÃ©rico">Elemento 2</a></li>[m
[32m+[m[32m   <li><a href="#" title="Enlace genÃ©rico">Elemento 3</a></li>[m
[32m+[m[32m   <li><a href="#" title="Enlace genÃ©rico">Elemento 4</a></li>[m
[32m+[m[32m   <li><a href="#" title="Enlace genÃ©rico">Elemento 5</a></li>[m
[32m+[m[32m   <li><a href="#" title="Enlace genÃ©rico">Elemento 6</a></li>[m
[32m+[m[32m</ul>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m16.11. SoluciÃ³n ejercicio 11[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio formatear tabla</title>[m
[32m+[m[32m     <style type="text/css">[m
[32m+[m[32m     table {[m
[32m+[m
[32m+[m[32m         font: .9em Arial, Helvetica, sans-serif;[m
[32m+[m[32m         border: 1px solid #333;[m
[32m+[m[32m         border-collapse: collapse;[m
[32m+[m[32m         text-align: center;[m
[32m+[m[32m     }[m
[32m+[m[32m     table th {[m
[32m+[m[32m         background: #F5F5F5 url(../../comun/imagenes/fondo_gris.gif) repeat-x;[m
[32m+[m[32m         padding: 0 .3em;[m
[32m+[m[32m         text-align: left;[m
[32m+[m[32m     }[m
[32m+[m[32m     table thead th {[m
[32m+[m[32m         text-align: center;[m
[32m+[m[32m     }[m
[32m+[m[32m     table th.euro {[m
[32m+[m[32m         background: #E6F3FF url(../../comun/imagenes/euro.png) no-repeat left center;[m
[32m+[m[32m         padding: 0 .3em 0 1.2em;[m
[32m+[m[32m     }[m
[32m+[m[32m     table th.dolar {[m
[32m+[m[32m         background: #E6F3FF url(../../comun/imagenes/dolar.png) no-repeat left center;[m
[32m+[m[32m         padding: 0 .3em 0 1.2em;[m
[32m+[m[32m     }[m
[32m+[m[32m     table th.libra {[m
[32m+[m[32m         background: #E6F3FF url(../../comun/imagenes/libra.png) no-repeat left center;[m
[32m+[m[32m         padding: 0 .3em 0 1.2em;[m
[32m+[m[32m     }[m
[32m+[m[32m     table th.yen {[m
[32m+[m[32m         background: #E6F3FF url(../../comun/imagenes/yen.png) no-repeat left center;[m
[32m+[m[32m         padding: 0 .3em 0 1.2em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                239[m
[32m+[m[32mIntroducciÃ³n a CSS                                             CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     table th, table, td {                                     240[m
[32m+[m[32m         border: 1px solid #333;[m
[32m+[m[32m         line-height: 2em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     .par {[m
[32m+[m
[32m+[m[32m         background-color:#FFFFCC;[m
[32m+[m[32m     }[m
[32m+[m[32m     table tr:hover {[m
[32m+[m
[32m+[m[32m         background: #FFFF66 !important;[m
[32m+[m[32m     }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <table summary="Tipos de cambio">[m
[32m+[m
[32m+[m[32m         <thead>[m
[32m+[m[32m            <tr class="cabecera">[m
[32m+[m[32m               <th scope="col">Cambio</th>[m
[32m+[m[32m               <th scope="col">Compra</th>[m
[32m+[m[32m               <th scope="col">Venta</th>[m
[32m+[m[32m               <th scope="col">M&aacute;ximo</th>[m
[32m+[m[32m               <th scope="col">M&iacute;nimo</th>[m
[32m+[m[32m            </tr>[m
[32m+[m
[32m+[m[32m         </thead>[m
[32m+[m[32m         <tbody>[m
[32m+[m
[32m+[m[32m            <tr class="par">[m
[32m+[m[32m               <th scope="row" class="euro">Euro/Dolar</th>[m
[32m+[m[32m               <td>1.2524</td>[m
[32m+[m[32m               <td>1.2527</td>[m
[32m+[m[32m               <td>1.2539</td>[m
[32m+[m[32m               <td>1.2488</td>[m
[32m+[m
[32m+[m[32m            </tr>[m
[32m+[m[32m            <tr>[m
[32m+[m
[32m+[m[32m               <th scope="row" class="dolar">Dolar/Yen</th>[m
[32m+[m[32m               <td>119.01</td>[m
[32m+[m[32m               <td>119.05</td>[m
[32m+[m[32m               <td>119.82</td>[m
[32m+[m[32m               <td>119.82</td>[m
[32m+[m[32m            </tr>[m
[32m+[m[32m            <tr class="par">[m
[32m+[m[32m               <th scope="row" class="libra">Libra/Dolar</th>[m
[32m+[m[32m               <td>1.8606</td>[m
[32m+[m[32m               <td>1.8611</td>[m
[32m+[m[32m               <td>1.8651</td>[m
[32m+[m[32m               <td>1.8522</td>[m
[32m+[m[32m            </tr>[m
[32m+[m[32m            <tr>[m
[32m+[m[32m               <th scope="row" class="yen">Yen/Euro</th>[m
[32m+[m[32m               <td>0.6711</td>[m
[32m+[m[32m               <td>0.6705</td>[m
[32m+[m[32m               <td>0.6676</td>[m
[32m+[m[32m               <td>0.6713</td>[m
[32m+[m[32m            </tr>[m
[32m+[m[32m         </tbody>[m
[32m+[m[32m     </table>[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                            CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m16.12. SoluciÃ³n ejercicio 12[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m
[32m+[m[32m<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">[m
[32m+[m[32m<head>[m
[32m+[m[32m<title>Ejercicio 12 - Formulario de alta</title>[m
[32m+[m[32m<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />[m
[32m+[m
[32m+[m[32m<style type="text/css">[m
[32m+[m[32m/* Formatear el formulario a dos columnas */[m
[32m+[m[32mbody {[m
[32m+[m
[32m+[m[32m   font: 13px/1.6 Tahoma, sans-serif;[m
[32m+[m[32m   background: #F5F5F5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.izquierda {[m
[32m+[m[32m   float: left;[m
[32m+[m[32m   clear: left;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.derecha {[m
[32m+[m[32m   float: right;[m
[32m+[m[32m   clear: right;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mul {[m
[32m+[m[32m   list-style: none;[m
[32m+[m[32m   margin: 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenedor {[m
[32m+[m[32m   background: #FFF;[m
[32m+[m[32m   border: 1px solid silver;[m
[32m+[m[32m   margin: 1em auto;[m
[32m+[m[32m   padding: 1em;[m
[32m+[m[32m   width: 768px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mspan.requerido {[m
[32m+[m[32m   font-size: 1.3em;[m
[32m+[m[32m   font-weight: bold;[m
[32m+[m[32m   color: #C00;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mh2 {[m
[32m+[m[32m   font: normal 2em arial, sans-serif;[m
[32m+[m[32m   margin: 0;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                       241[m
[32m+[m[32mIntroducciÃ³n a CSS                              CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     ul li.botones {                                                       242[m
[32m+[m[32m         border-top: 2px solid #CCC;[m
[32m+[m[32m         clear: both;[m
[32m+[m[32m         float: none;[m
[32m+[m[32m         padding: 1em 0;[m
[32m+[m[32m         margin-top: 1em;[m
[32m+[m[32m         text-align: right;[m
[32m+[m[32m         width: 100%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li.botones input {[m
[32m+[m[32m         font-size: 1.3em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li {[m
[32m+[m[32m         margin: 0.5em 0;[m
[32m+[m[32m         padding: 0.5em;[m
[32m+[m[32m         width: 46%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li label.titulo {[m
[32m+[m[32m         font-weight: bold;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div span {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         padding: 0.3em 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div span.completo {[m
[32m+[m[32m         width: 100%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div span.mitad {[m
[32m+[m[32m         width: 50%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div span.tercio {[m
[32m+[m[32m         width: 33%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div span.dostercios {[m
[32m+[m[32m         width: 66%;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div span label {[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         font: normal 0.8em arial, sans-serif;[m
[32m+[m[32m         color: #333;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li p.ayuda {[m
[32m+[m[32m         display: none;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     ul li input {                                                           243[m
[32m+[m[32m         padding: 0.2em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     input#apellido1, input#apellido2, input#direccion, input#email {[m
[32m+[m[32m         width: 260px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     input#codigopostal {[m
[32m+[m[32m         width: 80px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     select#provincia {[m
[32m+[m[32m         width: 90px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     select#pais {[m
[32m+[m[32m         width: 150px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     input#telefonofijo, input#telefonomovil {[m
[32m+[m[32m         width: 135px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* Cambiar el color en el :hover y resaltar los campos en el :focus */[m
[32m+[m[32m     ul li:hover {[m
[32m+[m
[32m+[m[32m         background-color: #FF9;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li.botones:hover {[m
[32m+[m[32m         background-color: transparent;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li input:focus {[m
[32m+[m[32m         border: 2px solid #E6B700;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     /* Formatear el formulario a una columna */[m
[32m+[m[32m     ul li.izquierda, ul li.derecha {[m
[32m+[m
[32m+[m[32m         float: none;[m
[32m+[m[32m         width: auto;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li {[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li label.titulo {[m
[32m+[m[32m         float: left;[m
[32m+[m[32m         width: 150px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div {[m
[32m+[m[32m         margin-left: 160px;[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     }                                                                244[m
[32m+[m
[32m+[m[32m     /* Aspecto final del formulario con los mensajes de ayuda */[m
[32m+[m[32m     h2 {[m
[32m+[m
[32m+[m[32m         margin-bottom: 0.3em;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li {[m
[32m+[m[32m         border-top: 1px solid #CCC;[m
[32m+[m[32m         margin: 0;[m
[32m+[m[32m         padding: 1em;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li.botones {[m
[32m+[m[32m         margin: 0;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li label.titulo {[m
[32m+[m[32m         text-align: right;[m
[32m+[m[32m         width: 100px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li div {[m
[32m+[m[32m         margin-left: 110px;[m
[32m+[m[32m         overflow: hidden;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li {[m
[32m+[m[32m         position: relative;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ul li:hover p.ayuda {[m
[32m+[m[32m         display: block;[m
[32m+[m[32m         margin: 0.3em;[m
[32m+[m[32m         position: absolute;[m
[32m+[m[32m         top: 0;[m
[32m+[m[32m         right: 0;[m
[32m+[m[32m         width: 150px;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     </style>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <div id="contenedor">[m
[32m+[m
[32m+[m[32m     <h2>Formulario de alta</h2>[m
[32m+[m
[32m+[m[32m     <form method="post" action="#">[m
[32m+[m[32m     <ul>[m
[32m+[m[32m     <li class="izquierda">[m
[32m+[m
[32m+[m[32m         <label class="titulo" for="nombre">Nombre y apellidos <span[m
[32m+[m[32m     class="requerido">*</span></label>[m
[32m+[m
[32m+[m[32m         <div>[m
[32m+[m[32m            <span class="completo">[m
[32m+[m[32m               <input id="nombre" name="nombre" value="" />[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a CSS                           CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   <label for="nombre">Nombre</label>[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span class="completo">[m
[32m+[m[32m   <input id="apellido1" name="apellido1" value="" />[m
[32m+[m[32m   <label for="apellido1">Primer apellido</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m   <span class="completo">[m
[32m+[m[32m      <input id="apellido2" name="apellido2" value="" />[m
[32m+[m[32m      <label for="apellido2">Segundo apellido</label>[m
[32m+[m
[32m+[m[32m   </span>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">No te olvides de escribir tambiÃ©n tu segundo apellido</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li class="derecha">[m
[32m+[m[32m   <label class="titulo" for="direccion">DirecciÃ³n <span[m
[32m+[m
[32m+[m[32mclass="requerido">*</span></label>[m
[32m+[m
[32m+[m[32m<div>[m
[32m+[m[32m   <span class="completo">[m
[32m+[m[32m      <input id="direccion" name="direccion" value="" />[m
[32m+[m[32m      <label for="direccion">Calle, nÃºmero, piso, puerta</label>[m
[32m+[m[32m   </span>[m
[32m+[m
[32m+[m[32m<span class="tercio">[m
[32m+[m[32m   <input id="codigopostal" name="codigopostal" value="" />[m
[32m+[m[32m   <label for="codigopostal">CÃ³digo postal</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span class="dostercios">[m
[32m+[m[32m   <input id="municipio" name="municipio" value="" />[m
[32m+[m[32m   <label for="municipio">Municipio</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span class="tercio">[m
[32m+[m[32m   <select id="provincia" name="provincia">[m
[32m+[m[32m      <option value=""></option>[m
[32m+[m[32m      <option value="provincia1">Provincia 1</option>[m
[32m+[m[32m      <option value="provincia2">Provincia 2</option>[m
[32m+[m[32m      <option value="provincia3">Provincia 3</option>[m
[32m+[m[32m   </select>[m
[32m+[m[32m   <label for="provincia">Provincia</label>[m
[32m+[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<span class="dostercios">[m
[32m+[m[32m   <select id="pais" name="pais">[m
[32m+[m[32m      <option value=""></option>[m
[32m+[m[32m      <option value="pais1">PaÃ­s 1</option>[m
[32m+[m[32m      <option value="pais2">PaÃ­s 2</option>[m
[32m+[m[32m      <option value="pais3">PaÃ­s 3</option>[m
[32m+[m[32m   </select>[m
[32m+[m[32m   <label for="pais">PaÃ­s</label>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               245[m
[32m+[m[32mIntroducciÃ³n a CSS                                   CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   </span>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">El cÃ³digo postal es imprescindible para poder recibir los[m
[32m+[m[32mpedidos</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li class="izquierda">[m
[32m+[m[32m   <label class="titulo" for="email">Email</label>[m
[32m+[m
[32m+[m[32m<div>[m
[32m+[m[32m   <span class="completo">[m
[32m+[m[32m      <input id="email" name="email" value="" />[m
[32m+[m[32m   </span>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">AsegÃºrate de que sea vÃ¡lido</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li class="derecha">[m
[32m+[m[32m   <label class="titulo" for="telefonofijo">TelÃ©fono <span[m
[32m+[m
[32m+[m[32mclass="requerido">*</span></label>[m
[32m+[m
[32m+[m[32m<div>[m
[32m+[m[32m   <span class="mitad">[m
[32m+[m[32m      <input id="telefonofijo" name="telefonofijo" value="" />[m
[32m+[m[32m      <label for="telefonofijo">Fijo</label>[m
[32m+[m[32m   </span>[m
[32m+[m
[32m+[m[32m   <span class="mitad">[m
[32m+[m[32m      <input id="telefonomovil" name="telefonomovil" value="" />[m
[32m+[m[32m      <label for="telefonomovil">MÃ³vil</label>[m
[32m+[m
[32m+[m[32m   </span>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m   <p class="ayuda">Sin prefijo de paÃ­s y sin espacios en blanco</p>[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m<li class="botones">[m
[32m+[m[32m   <input id="alta" type="submit" value="Darme de alta &rarr;" />[m
[32m+[m
[32m+[m[32m</li>[m
[32m+[m
[32m+[m[32m</ul>[m
[32m+[m[32m</form>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m16.13. SoluciÃ³n ejercicio 13[m
[32m+[m
[32m+[m[32m     /* ---- Estilos bÃ¡sicos ---------------------------------------------------- */[m
[32m+[m
[32m+[m[32mbody {[m
[32m+[m[32m   margin: 0;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               246[m
[32m+[m[32mIntroducciÃ³n a CSS                 CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   background: #F2F5FE url("../imagenes/fondo.gif") 0 0 repeat-x;[m
[32m+[m[32m   font: 70%/160% "verdana", sans-serif;[m
[32m+[m[32m   color: #192666;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32ma{[m
[32m+[m[32m   color:#192666;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32ma:hover {[m
[32m+[m
[32m+[m[32m   color:#4F6AD7;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mp{[m
[32m+[m[32m   margin: 1em 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.clear {[m
[32m+[m[32m   clear: both;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mh1, h2, h3, h4, h5 {[m
[32m+[m[32m   margin: 1em 0;[m
[32m+[m[32m   padding:0;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mh1 {[m
[32m+[m[32m   font-size: 260%;[m
[32m+[m[32m   font-family: "georgia", serif;[m
[32m+[m[32m   font-weight: normal;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mh2 {[m
[32m+[m[32m   font-size:180%;[m
[32m+[m[32m   font-family: "georgia", serif;[m
[32m+[m[32m   font-weight:normal;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mh3 {[m
[32m+[m[32m   font-size:120%;[m
[32m+[m[32m   font-weight:bold;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mul, ol {[m
[32m+[m[32m   margin: 1em 0 1em 2em;[m
[32m+[m[32m   padding:0;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ---- Layout ------------------------------------------------------------- */[m
[32m+[m
[32m+[m[32m#contenedor {[m
[32m+[m[32m   width:770px;[m
[32m+[m[32m   margin: 50px auto 0 auto;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                   247[m
[32m+[m[32mIntroducciÃ³n a CSS       CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#cabecera {[m
[32m+[m[32m   width: 770px;[m
[32m+[m[32m   position: relative;[m
[32m+[m[32m   height: 100px;[m
[32m+[m[32m   margin: 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   background: #233C9B url("../imagenes/cabecera.jpg") no-repeat;[m
[32m+[m[32m   color: #FFF;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido {[m
[32m+[m[32m   width: 760px;[m
[32m+[m[32m   margin: 0 5px;[m
[32m+[m[32m   background: #FFF;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #principal {[m
[32m+[m[32m   float: left;[m
[32m+[m[32m   width: 530px;[m
[32m+[m[32m   margin-top: 15px;[m
[32m+[m[32m   padding:0 0 0 20px;[m
[32m+[m[32m   background: #FFF;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario {[m
[32m+[m[32m   float: left;[m
[32m+[m[32m   width: 200px;[m
[32m+[m[32m   margin: 15px 0 0 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   background: #CEDBF9 url("../imagenes/fondo_columna.gif") no-repeat;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#pie {[m
[32m+[m[32m   clear: both;[m
[32m+[m[32m   height: 60px;[m
[32m+[m[32m   margin-bottom: 50px;[m
[32m+[m[32m   background: url("../imagenes/fondo_pie.jpg") no-repeat;[m
[32m+[m[32m   color: #6685CC;[m
[32m+[m[32m   position: relative;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ---- Cabecera ----------------------------------------------------------- */[m
[32m+[m[32m#cabecera #logo {[m
[32m+[m
[32m+[m[32m   position: absolute;[m
[32m+[m[32m   top: 35px;[m
[32m+[m[32m   left: 35px;[m
[32m+[m[32m   margin: 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera #logo a {[m
[32m+[m[32m   color: #FFF;[m
[32m+[m[32m   display: block;[m
[32m+[m[32m   line-height: 35px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                        248[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#cabecera #logo a:hover {[m
[32m+[m[32m   color: #B5C4E3;[m
[32m+[m[32m   text-decoration: underline;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera #buscador {[m
[32m+[m[32m   position: absolute;[m
[32m+[m[32m   top: 40px;[m
[32m+[m[32m   right: 20px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera #buscador legend {[m
[32m+[m[32m   display: none;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#cabecera #buscador fieldset {[m
[32m+[m[32m   border: none;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ---- MenÃº --------------------------------------------------------------- */[m
[32m+[m[32m#menu {[m
[32m+[m
[32m+[m[32m   background: #192666;[m
[32m+[m[32m   margin: 0 5px;[m
[32m+[m[32m   padding: 10px 0 0 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#menu ul {[m
[32m+[m[32m   margin: 0 10px;[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   list-style:none;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#menu ul li {[m
[32m+[m[32m   margin: 0 5px 0 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   float:left;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#menu ul li a {[m
[32m+[m[32m   display: block;[m
[32m+[m[32m   position: relative;[m
[32m+[m[32m   padding: 5px 15px;[m
[32m+[m[32m   border: 0;[m
[32m+[m[32m   background: #253575;[m
[32m+[m[32m   color: #B5C4E3;[m
[32m+[m[32m   font-weight: bold;[m
[32m+[m[32m   text-decoration: none;[m
[32m+[m[32m   cursor: pointer;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#menu ul li a:hover {[m
[32m+[m[32m   background: #31479B;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es    249[m
[32m+[m[32mIntroducciÃ³n a CSS                           CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m#menu ul li.seleccionado a {[m
[32m+[m[32m   background: #FFF;[m
[32m+[m[32m   color: #FF9000;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ---- Contenidos --------------------------------------------------------- */[m
[32m+[m[32m#contenido .articulo {[m
[32m+[m
[32m+[m[32m   clear: both;[m
[32m+[m[32m   margin: 0;[m
[32m+[m[32m   padding: 20px;[m
[32m+[m[32m   background: url("../imagenes/fondo_articulo.jpg") no-repeat;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido .articulo h2 {[m
[32m+[m[32m   margin: 0 -20px;[m
[32m+[m[32m   padding: 10px;[m
[32m+[m[32m   background: #DEE5FD;[m
[32m+[m[32m   color: #192666;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido .info {[m
[32m+[m[32m   margin: 10px 0;[m
[32m+[m[32m   padding-bottom: 8px;[m
[32m+[m[32m   border-bottom: 1px solid #DEE5FD;[m
[32m+[m[32m   color:#6685CC;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido .info a { color:#6685CC; }[m
[32m+[m[32m#contenido .info a:hover { color:#FF9000; }[m
[32m+[m
[32m+[m[32m#contenido .info span.fecha, #contenido .info span.categoria, #contenido .info[m
[32m+[m[32mspan.autor, #contenido .info span.comentarios {[m
[32m+[m
[32m+[m[32m   padding-left:15px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido .info span.fecha { background: url("../imagenes/icono_fecha.gif") 0[m
[32m+[m[32m50% no-repeat; }[m
[32m+[m[32m#contenido .info span.categoria { background: url("../imagenes/[m
[32m+[m[32micono_categoria.gif") 0 50% no-repeat; margin-left: 8px; }[m
[32m+[m[32m#contenido .info span.autor { background: url("../imagenes/icono_autor.gif") 0[m
[32m+[m[32m50% no-repeat; margin-left: 8px; }[m
[32m+[m[32m#contenido .info span.comentarios { background: url("../imagenes/[m
[32m+[m[32micono_comentarios.gif") 0 50% no-repeat; margin-left: 8px; }[m
[32m+[m
[32m+[m[32m#contenido #secundario h3 {[m
[32m+[m[32m   padding: 10px 0 10px 10px;[m
[32m+[m[32m   margin-top: 20px;[m
[32m+[m[32m   background: #A0B9F3;[m
[32m+[m[32m   color: #192666;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario #sobremi img {[m
[32m+[m[32m   float: left;[m
[32m+[m[32m   margin: 4px 5px 0 0;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                             250[m
[32m+[m[32mIntroducciÃ³n a CSS  CapÃ­tulo 16. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario #sobremi p {[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario div {[m
[32m+[m[32m   padding: 0 10px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario ul {[m
[32m+[m[32m   margin: 15px 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   list-style:none;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario li {[m
[32m+[m[32m   margin: 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   border-bottom: 1px solid #E0E8FA;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario li a {[m
[32m+[m[32m   display: block;[m
[32m+[m[32m   padding: 3px 0 3px 22px;[m
[32m+[m[32m   background: url("../imagenes/icono_elemento.gif") 8px no-repeat;[m
[32m+[m[32m   text-decoration: none;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario li a:hover {[m
[32m+[m[32m   background-color: #E0E8FA;[m
[32m+[m[32m   color: #192666;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#contenido #secundario li.seleccionado a {[m
[32m+[m[32m   background: #E0E8FA url("../imagenes/icono_elemento_seleccionado.gif") 8px[m
[32m+[m
[32m+[m[32mno-repeat;[m
[32m+[m[32m   font-weight: bold;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ---- Pie ---------------------------------------------------------------- */[m
[32m+[m[32m#pie p {[m
[32m+[m
[32m+[m[32m   margin: 0;[m
[32m+[m[32m   padding: 0;[m
[32m+[m[32m   position: absolute;[m
[32m+[m[32m   top: 10px;[m
[32m+[m[32m   left: 40px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es    251[m
[32m+[m[32m[m
[1mdiff --git a/introduccion_javascript.pdf b/introduccion_javascript.pdf[m
[1mnew file mode 100644[m
[1mindex 0000000..a736671[m
[1m--- /dev/null[m
[1m+++ b/introduccion_javascript.pdf[m
[36m@@ -0,0 +1,6997 @@[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m
[32m+[m[32m     IntroducciÃ³n a[m
[32m+[m
[32m+[m[32mJavaScript[m
[32m+[m
[32m+[m[32m                                      Javier EguÃ­luz PÃ©rez[m
[32m+[m[32mIntroducciÃ³n a JavaScript[m
[32m+[m
[32m+[m[32mSobre este libro...[m
[32m+[m
[32m+[m[32m    â–ª Los contenidos de este libro estÃ¡n bajo una licencia Creative Commons[m
[32m+[m[32m       Reconocimiento - No Comercial - Sin Obra Derivada 3.0[m
[32m+[m[32m       (http://creativecommons.org/licenses/by-nc-nd/3.0/deed.es)[m
[32m+[m
[32m+[m[32m    â–ª Esta versiÃ³n impresa se creÃ³ el 25 de marzo de 2009 y todavÃ­a estÃ¡[m
[32m+[m[32m       incompleta. La versiÃ³n mÃ¡s actualizada de los contenidos de este libro se puede[m
[32m+[m[32m       encontrar en http://www.librosweb.es/javascript[m
[32m+[m
[32m+[m[32m    â–ª Si quieres aportar sugerencias, comentarios, crÃ­ticas o informar sobre errores,[m
[32m+[m[32m       puedes enviarnos un mensaje a contacto@librosweb.es[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        2[m
[32m+[m[32mIntroducciÃ³n a JavaScript[m
[32m+[m
[32m+[m[32mCapÃ­tulo 1. IntroducciÃ³n ............................................................................................................... 5[m
[32m+[m[32m   1.1. Â¿QuÃ© es JavaScript? .................................................................................................................. 5[m
[32m+[m[32m   1.2. Breve historia............................................................................................................................ 5[m
[32m+[m[32m   1.3. Especificaciones oficiales.......................................................................................................... 6[m
[32m+[m[32m   1.4. CÃ³mo incluir JavaScript en documentos XHTML ...................................................................... 6[m
[32m+[m[32m   1.5. Etiqueta noscript ...................................................................................................................... 8[m
[32m+[m[32m   1.6. Glosario bÃ¡sico ....................................................................................................................... 10[m
[32m+[m[32m   1.7. Sintaxis.................................................................................................................................... 10[m
[32m+[m[32m   1.8. Posibilidades y limitaciones .................................................................................................... 11[m
[32m+[m[32m   1.9. JavaScript y navegadores........................................................................................................ 12[m
[32m+[m[32m   1.10. JavaScript en otros entornos ................................................................................................ 12[m
[32m+[m
[32m+[m[32mCapÃ­tulo 2. El primer script ......................................................................................................... 13[m
[32m+[m[32mCapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica................................................................................................. 16[m
[32m+[m
[32m+[m[32m   3.1. Variables ................................................................................................................................. 16[m
[32m+[m[32m   3.2. Tipos de variables ................................................................................................................... 18[m
[32m+[m[32m   3.3. Operadores............................................................................................................................. 21[m
[32m+[m[32m   3.4. Estructuras de control de flujo ............................................................................................... 27[m
[32m+[m[32m   3.5. Funciones y propiedades bÃ¡sicas de JavaScript...................................................................... 34[m
[32m+[m[32mCapÃ­tulo 4. ProgramaciÃ³n avanzada............................................................................................ 39[m
[32m+[m[32m   4.1. Funciones................................................................................................................................ 39[m
[32m+[m[32m   4.2. Ãmbito de las variables........................................................................................................... 45[m
[32m+[m[32m   4.3. Sentencias break y continue................................................................................................... 47[m
[32m+[m[32m   4.4. Otras estructuras de control................................................................................................... 49[m
[32m+[m[32mCapÃ­tulo 5. DOM......................................................................................................................... 53[m
[32m+[m[32mCapÃ­tulo 6. Eventos .................................................................................................................... 63[m
[32m+[m[32m   6.1. Modelos de eventos ............................................................................................................... 63[m
[32m+[m[32m   6.2. Modelo bÃ¡sico de eventos...................................................................................................... 64[m
[32m+[m[32m   6.3. Obteniendo informaciÃ³n del evento (objeto event) .............................................................. 71[m
[32m+[m[32mCapÃ­tulo 7. Formularios .............................................................................................................. 81[m
[32m+[m[32m   7.1. Propiedades bÃ¡sicas de formularios y elementos .................................................................. 81[m
[32m+[m[32m   7.2. Utilidades bÃ¡sicas para formularios........................................................................................ 83[m
[32m+[m[32m   7.3. ValidaciÃ³n ............................................................................................................................... 90[m
[32m+[m[32mCapÃ­tulo 8. Otras utilidades ........................................................................................................ 98[m
[32m+[m[32m   8.1. Relojes, contadores e intervalos de tiempo ........................................................................... 98[m
[32m+[m[32m   8.2. Calendario............................................................................................................................. 101[m
[32m+[m[32m   8.3. Tooltip................................................................................................................................... 104[m
[32m+[m[32m   8.4. MenÃº desplegable ................................................................................................................ 107[m
[32m+[m[32m   8.5. GalerÃ­as de imÃ¡genes (Lightbox)........................................................................................... 110[m
[32m+[m[32mCapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de errores........................................................................... 115[m
[32m+[m[32m   9.1. CorrecciÃ³n de errores con Internet Explorer ........................................................................ 115[m
[32m+[m[32m   9.2. CorrecciÃ³n de errores con Firefox ........................................................................................ 117[m
[32m+[m[32m   9.3. CorrecciÃ³n de errores con Opera ......................................................................................... 119[m
[32m+[m
[32m+[m[32mwww.librosweb.es           3[m
[32m+[m[32mIntroducciÃ³n a JavaScript[m
[32m+[m
[32m+[m[32m   CapÃ­tulo 10. Recursos Ãºtiles...................................................................................................... 121[m
[32m+[m[32m   CapÃ­tulo 11. Ejercicios resueltos ............................................................................................... 122[m
[32m+[m
[32m+[m[32mwww.librosweb.es  4[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mCapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m1.1. Â¿QuÃ© es JavaScript?[m
[32m+[m
[32m+[m[32mJavaScript es un lenguaje de programaciÃ³n que se utiliza principalmente para crear[m
[32m+[m[32mpÃ¡ginas web dinÃ¡micas.[m
[32m+[m
[32m+[m[32mUna pÃ¡gina web dinÃ¡mica es aquella que incorpora efectos como texto que aparece y[m
[32m+[m[32mdesaparece, animaciones, acciones que se activan al pulsar botones y ventanas con[m
[32m+[m[32mmensajes de aviso al usuario.[m
[32m+[m
[32m+[m[32mTÃ©cnicamente, JavaScript es un lenguaje de programaciÃ³n interpretado, por lo que no es[m
[32m+[m[32mnecesario compilar los programas para ejecutarlos. En otras palabras, los programas[m
[32m+[m[32mescritos con JavaScript se pueden probar directamente en cualquier navegador sin[m
[32m+[m[32mnecesidad de procesos intermedios.[m
[32m+[m
[32m+[m[32mA pesar de su nombre, JavaScript no guarda ninguna relaciÃ³n directa con el lenguaje de[m
[32m+[m[32mprogramaciÃ³n Java. Legalmente, JavaScript es una marca registrada de la empresa Sun[m
[32m+[m[32mMicrosystems, como se puede ver en http://www.sun.com/suntrademarks/.[m
[32m+[m
[32m+[m[32m1.2. Breve historia[m
[32m+[m
[32m+[m[32mA principios de los aÃ±os 90, la mayorÃ­a de usuarios que se conectaban a Internet lo[m
[32m+[m[32mhacÃ­an con mÃ³dems a una velocidad mÃ¡xima de 28.8 kbps. En esa Ã©poca, empezaban a[m
[32m+[m[32mdesarrollarse las primeras aplicaciones web y por tanto, las pÃ¡ginas web comenzaban a[m
[32m+[m[32mincluir formularios complejos.[m
[32m+[m
[32m+[m[32mCon unas aplicaciones web cada vez mÃ¡s complejas y una velocidad de navegaciÃ³n tan[m
[32m+[m[32mlenta, surgiÃ³ la necesidad de un lenguaje de programaciÃ³n que se ejecutara en el[m
[32m+[m[32mnavegador del usuario. De esta forma, si el usuario no rellenaba correctamente un[m
[32m+[m[32mformulario, no se le hacÃ­a esperar mucho tiempo hasta que el servidor volviera a[m
[32m+[m[32mmostrar el formulario indicando los errores existentes.[m
[32m+[m
[32m+[m[32mBrendan Eich, un programador que trabajaba en Netscape, pensÃ³ que podrÃ­a solucionar[m
[32m+[m[32meste problema adaptando otras tecnologÃ­as existentes (como ScriptEase) al navegador[m
[32m+[m[32mNetscape Navigator 2.0, que iba a lanzarse en 1995. Inicialmente, Eich denominÃ³ a su[m
[32m+[m[32mlenguaje LiveScript.[m
[32m+[m
[32m+[m[32mPosteriormente, Netscape firmÃ³ una alianza con Sun Microsystems para el desarrollo del[m
[32m+[m[32mnuevo lenguaje de programaciÃ³n. AdemÃ¡s, justo antes del lanzamiento Netscape decidiÃ³[m
[32m+[m[32mcambiar el nombre por el de JavaScript. La razÃ³n del cambio de nombre fue[m
[32m+[m[32mexclusivamente por marketing, ya que Java era la palabra de moda en el mundo[m
[32m+[m[32minformÃ¡tico y de Internet de la Ã©poca.[m
[32m+[m
[32m+[m[32mLa primera versiÃ³n de JavaScript fue un completo Ã©xito y Netscape Navigator 3.0 ya[m
[32m+[m[32mincorporaba la siguiente versiÃ³n del lenguaje, la versiÃ³n 1.1. Al mismo tiempo, Microsoft[m
[32m+[m
[32m+[m[32mwww.librosweb.es           5[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mlanzÃ³ JScript con su navegador Internet Explorer 3. JScript era una copia de JavaScript al[m
[32m+[m[32mque le cambiaron el nombre para evitar problemas legales.[m
[32m+[m
[32m+[m[32mPara evitar una guerra de tecnologÃ­as, Netscape decidiÃ³ que lo mejor serÃ­a estandarizar[m
[32m+[m[32mel lenguaje JavaScript. De esta forma, en 1997 se enviÃ³ la especificaciÃ³n JavaScript 1.1 al[m
[32m+[m[32morganismo ECMA (European Computer Manufacturers Association).[m
[32m+[m
[32m+[m[32mECMA creÃ³ el comitÃ© TC39 con el objetivo de "estandarizar de un lenguaje de script[m
[32m+[m[32mmultiplataforma e independiente de cualquier empresa". El primer estÃ¡ndar que creÃ³ el[m
[32m+[m[32mcomitÃ© TC39 se denominÃ³ ECMA-262, en el que se definiÃ³ por primera vez el lenguaje[m
[32m+[m[32mECMAScript.[m
[32m+[m
[32m+[m[32mPor este motivo, algunos programadores prefieren la denominaciÃ³n ECMAScript para[m
[32m+[m[32mreferirse al lenguaje JavaScript. De hecho, JavaScript no es mÃ¡s que la implementaciÃ³n[m
[32m+[m[32mque realizÃ³ la empresa Netscape del estÃ¡ndar ECMAScript.[m
[32m+[m
[32m+[m[32mLa organizaciÃ³n internacional para la estandarizaciÃ³n (ISO) adoptÃ³ el estÃ¡ndar[m
[32m+[m[32mECMA-262 a travÃ©s de su comisiÃ³n IEC, dando lugar al estÃ¡ndar ISO/IEC-16262.[m
[32m+[m
[32m+[m[32m1.3. Especificaciones oficiales[m
[32m+[m
[32m+[m[32mECMA ha publicado varios estÃ¡ndares relacionados con ECMAScript. En Junio de 1997 se[m
[32m+[m[32mpublicÃ³ la primera ediciÃ³n del estÃ¡ndar ECMA-262. Un aÃ±o despuÃ©s, en Junio de 1998 se[m
[32m+[m[32mrealizaron pequeÃ±as modificaciones para adaptarlo al estandar ISO/IEC-16262 y se creÃ³[m
[32m+[m[32mla segunda ediciÃ³n.[m
[32m+[m
[32m+[m[32mLa tercera ediciÃ³n del estÃ¡ndar ECMA-262 (publicada en Diciembre de 1999) es la[m
[32m+[m[32mversiÃ³n que utilizan los navegadores actuales y se puede consultar gratuitamente en[m
[32m+[m[32mhttp://www.ecma-international.org/publications/standards/Ecma-262.htm[m
[32m+[m
[32m+[m[32mActualmente se encuentra en desarrollo la cuarta versiÃ³n de ECMA-262, que podrÃ­a[m
[32m+[m[32mincluir novedades como paquetes, namespaces, definiciÃ³n explÃ­cita de clases, etc.[m
[32m+[m
[32m+[m[32mECMA tambiÃ©n ha definido varios estÃ¡ndares relacionados con ECMAScript, como el[m
[32m+[m[32mestÃ¡ndar ECMA-357, que define una extensiÃ³n conocida como E4X y que permite la[m
[32m+[m[32mintegraciÃ³n de JavaScript y XML.[m
[32m+[m
[32m+[m[32m1.4. CÃ³mo incluir JavaScript en documentos XHTML[m
[32m+[m
[32m+[m[32mLa integraciÃ³n de JavaScript y XHTML es muy flexible, ya que existen al menos tres[m
[32m+[m[32mformas para incluir cÃ³digo JavaScript en las pÃ¡ginas web.[m
[32m+[m
[32m+[m[32m1.4.1. Incluir JavaScript en el mismo documento XHTML[m
[32m+[m
[32m+[m[32mEl cÃ³digo JavaScript se encierra entre etiquetas <script> y se incluye en cualquier parte[m
[32m+[m[32mdel documento. Aunque es correcto incluir cualquier bloque de cÃ³digo en cualquier zona[m
[32m+[m[32mde la pÃ¡gina, se recomienda definir el cÃ³digo JavaScript dentro de la cabecera del[m
[32m+[m[32mdocumento (dentro de la etiqueta <head>):[m
[32m+[m
[32m+[m[32mwww.librosweb.es           6[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m<html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m<head>[m
[32m+[m[32m<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m<title>Ejemplo de cÃ³digo JavaScript en el propio documento</title>[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m
[32m+[m[32m   alert("Un mensaje de prueba");[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Un pÃ¡rrafo de texto.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mPara que la pÃ¡gina XHTML resultante sea vÃ¡lida, es necesario aÃ±adir el atributo type a la[m
[32m+[m[32metiqueta <script>. Los valores que se incluyen en el atributo type estÃ¡n estandarizados[m
[32m+[m[32my para el caso de JavaScript, el valor correcto es text/javascript.[m
[32m+[m
[32m+[m[32mEste mÃ©todo se emplea cuando se define un bloque pequeÃ±o de cÃ³digo o cuando se[m
[32m+[m[32mquieren incluir instrucciones especÃ­ficas en un determinado documento HTML que[m
[32m+[m[32mcompleten las instrucciones y funciones que se incluyen por defecto en todos los[m
[32m+[m[32mdocumentos del sitio web.[m
[32m+[m
[32m+[m[32mEl principal inconveniente es que si se quiere hacer una modificaciÃ³n en el bloque de[m
[32m+[m[32mcÃ³digo, es necesario modificar todas las pÃ¡ginas que incluyen ese mismo bloque de[m
[32m+[m[32mcÃ³digo JavaScript.[m
[32m+[m
[32m+[m[32m1.4.2. Definir JavaScript en un archivo externo[m
[32m+[m
[32m+[m[32mLas instrucciones JavaScript se pueden incluir en un archivo externo de tipo JavaScript[m
[32m+[m[32mque los documentos XHTML enlazan mediante la etiqueta <script>. Se pueden crear[m
[32m+[m[32mtodos los archivos JavaScript que sean necesarios y cada documento XHTML puede[m
[32m+[m[32menlazar tantos archivos JavaScript como necesite.[m
[32m+[m
[32m+[m[32mEjemplo:[m
[32m+[m
[32m+[m[32mArchivo codigo.js[m
[32m+[m
[32m+[m[32m     alert("Un mensaje de prueba");[m
[32m+[m
[32m+[m[32mDocumento XHTML[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de cÃ³digo JavaScript en el propio documento</title>[m
[32m+[m[32m     <script type="text/javascript" src="/js/codigo.js"></script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                            7[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m     <p>Un pÃ¡rrafo de texto.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mAdemÃ¡s del atributo type, este mÃ©todo requiere definir el atributo src, que es el que[m
[32m+[m[32mindica la URL correspondiente al archivo JavaScript que se quiere enlazar. Cada etiqueta[m
[32m+[m[32m<script> solamente puede enlazar un Ãºnico archivo, pero en una misma pÃ¡gina se[m
[32m+[m[32mpueden incluir tantas etiquetas <script> como sean necesarias.[m
[32m+[m
[32m+[m[32mLos archivos de tipo JavaScript son documentos normales de texto con la extensiÃ³n .js,[m
[32m+[m[32mque se pueden crear con cualquier editor de texto como Notepad, Wordpad, EmEditor,[m
[32m+[m[32mUltraEdit, Vi, etc.[m
[32m+[m
[32m+[m[32mLa principal ventaja de enlazar un archivo JavaScript externo es que se simplifica el[m
[32m+[m[32mcÃ³digo XHTML de la pÃ¡gina, que se puede reutilizar el mismo cÃ³digo JavaScript en todas[m
[32m+[m[32mlas pÃ¡ginas del sitio web y que cualquier modificaciÃ³n realizada en el archivo JavaScript[m
[32m+[m[32mse ve reflejada inmediatamente en todas las pÃ¡ginas XHTML que lo enlazan.[m
[32m+[m
[32m+[m[32m1.4.3. Incluir JavaScript en los elementos XHTML[m
[32m+[m
[32m+[m[32mEste Ãºltimo mÃ©todo es el menos utilizado, ya que consiste en incluir trozos de JavaScript[m
[32m+[m[32mdentro del cÃ³digo XHTML de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejemplo de cÃ³digo JavaScript en el propio documento</title>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p onclick="alert('Un mensaje de prueba')">Un pÃ¡rrafo de texto.</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mEl mayor inconveniente de este mÃ©todo es que ensucia innecesariamente el cÃ³digo[m
[32m+[m[32mXHTML de la pÃ¡gina y complica el mantenimiento del cÃ³digo JavaScript. En general, este[m
[32m+[m[32mmÃ©todo sÃ³lo se utiliza para definir algunos eventos y en algunos otros casos especiales,[m
[32m+[m[32mcomo se verÃ¡ mÃ¡s adelante.[m
[32m+[m
[32m+[m[32m1.5. Etiqueta noscript[m
[32m+[m
[32m+[m[32mAlgunos navegadores no disponen de soporte completo de JavaScript, otros navegadores[m
[32m+[m[32mpermiten bloquearlo parcialmente e incluso algunos usuarios bloquean completamente[m
[32m+[m[32mel uso de JavaScript porque creen que asÃ­ navegan de forma mÃ¡s segura.[m
[32m+[m
[32m+[m[32mEn estos casos, es habitual que si la pÃ¡gina web requiere JavaScript para su correcto[m
[32m+[m[32mfuncionamiento, se incluya un mensaje de aviso al usuario indicÃ¡ndole que deberÃ­a[m
[32m+[m[32mactivar JavaScript para disfrutar completamente de la pÃ¡gina. El siguiente ejemplo[m
[32m+[m
[32m+[m[32mwww.librosweb.es           8[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mmuestra una pÃ¡gina web basada en JavaScript cuando se accede con JavaScript activado[m
[32m+[m[32my cuando se accede con JavaScript completamente desactivado.[m
[32m+[m
[32m+[m[32mFigura 1.1. Imagen de www.Netvibes.com con JavaScript activado[m
[32m+[m
[32m+[m[32m              Figura 1.2. Imagen de www.Netvibes.com con JavaScript desactivado[m
[32m+[m
[32m+[m[32mEl lenguaje HTML define la etiqueta <noscript> para mostrar un mensaje al usuario[m
[32m+[m[32mcuando su navegador no puede ejecutar JavaScript. El siguiente cÃ³digo muestra un[m
[32m+[m[32mejemplo del uso de la etiqueta <noscript>:[m
[32m+[m
[32m+[m[32m     <head> ... </head>[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <noscript>[m
[32m+[m
[32m+[m[32m         <p>Bienvenido a Mi Sitio</p>[m
[32m+[m[32m         <p>La pÃ¡gina que estÃ¡s viendo requiere para su funcionamiento el uso de[m
[32m+[m[32m     JavaScript.[m
[32m+[m[32m     Si lo has deshabilitado intencionadamente, por favor vuelve a activarlo.</p>[m
[32m+[m[32m     </noscript>[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mLa etiqueta <noscript> se debe incluir en el interior de la etiqueta <body>[m
[32m+[m[32m(normalmente se incluye al principio de <body>). El mensaje que muestra <noscript>[m
[32m+[m[32mpuede incluir cualquier elemento o etiqueta XHTML.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                9[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m1.6. Glosario bÃ¡sico[m
[32m+[m
[32m+[m[32mScript: cada uno de los programas, aplicaciones o trozos de cÃ³digo creados con el[m
[32m+[m[32mlenguaje de programaciÃ³n JavaScript. Unas pocas lÃ­neas de cÃ³digo forman un script y un[m
[32m+[m[32marchivo de miles de lÃ­neas de JavaScript tambiÃ©n se considera un script. A veces se[m
[32m+[m[32mtraduce al espaÃ±ol directamente como "guiÃ³n", aunque script es una palabra mÃ¡s[m
[32m+[m[32madecuada y comÃºnmente aceptada.[m
[32m+[m
[32m+[m[32mSentencia: cada una de las instrucciones que forman un script.[m
[32m+[m
[32m+[m[32mPalabras reservadas: son las palabras (en inglÃ©s) que se utilizan para construir las[m
[32m+[m[32msentencias de JavaScript y que por tanto no pueden ser utilizadas libremente. Las[m
[32m+[m[32mpalabras actualmente reservadas por JavaScript son: break, case, catch, continue,[m
[32m+[m[32mdefault, delete, do, else, finally, for, function, if, in, instanceof, new, return,[m
[32m+[m[32mswitch, this, throw, try, typeof, var, void, while, with.[m
[32m+[m
[32m+[m[32m1.7. Sintaxis[m
[32m+[m
[32m+[m[32mLa sintaxis de un lenguaje de programaciÃ³n se define como el conjunto de reglas que[m
[32m+[m[32mdeben seguirse al escribir el cÃ³digo fuente de los programas para considerarse como[m
[32m+[m[32mcorrectos para ese lenguaje de programaciÃ³n.[m
[32m+[m
[32m+[m[32mLa sintaxis de JavaScript es muy similar a la de otros lenguajes de programaciÃ³n como[m
[32m+[m[32mJava y C. Las normas bÃ¡sicas que definen la sintaxis de JavaScript son las siguientes:[m
[32m+[m
[32m+[m[32m    â–ª No se tienen en cuenta los espacios en blanco y las nuevas lÃ­neas: como[m
[32m+[m[32m       sucede con XHTML, el intÃ©rprete de JavaScript ignora cualquier espacio en blanco[m
[32m+[m[32m       sobrante, por lo que el cÃ³digo se puede ordenar de forma adecuada para[m
[32m+[m[32m       entenderlo mejor (tabulando las lÃ­neas, aÃ±adiendo espacios, creando nuevas[m
[32m+[m[32m       lÃ­neas, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Se distinguen las mayÃºsculas y minÃºsculas: al igual que sucede con la sintaxis[m
[32m+[m[32m       de las etiquetas y elementos XHTML. Sin embargo, si en una pÃ¡gina XHTML se[m
[32m+[m[32m       utilizan indistintamente mayÃºsculas y minÃºsculas, la pÃ¡gina se visualiza[m
[32m+[m[32m       correctamente, siendo el Ãºnico problema la no validaciÃ³n de la pÃ¡gina. En cambio,[m
[32m+[m[32m       si en JavaScript se intercambian mayÃºsculas y minÃºsculas el script no funciona.[m
[32m+[m
[32m+[m[32m    â–ª No se define el tipo de las variables: al crear una variable, no es necesario[m
[32m+[m[32m       indicar el tipo de dato que almacenarÃ¡. De esta forma, una misma variable puede[m
[32m+[m[32m       almacenar diferentes tipos de datos durante la ejecuciÃ³n del script.[m
[32m+[m
[32m+[m[32m    â–ª No es necesario terminar cada sentencia con el carÃ¡cter de punto y coma (;):[m
[32m+[m[32m       en la mayorÃ­a de lenguajes de programaciÃ³n, es obligatorio terminar cada[m
[32m+[m[32m       sentencia con el carÃ¡cter ;. Aunque JavaScript no obliga a hacerlo, es conveniente[m
[32m+[m[32m       seguir la tradiciÃ³n de terminar cada sentencia con el carÃ¡cter del punto y coma[m
[32m+[m[32m       (;).[m
[32m+[m
[32m+[m[32m    â–ª Se pueden incluir comentarios: los comentarios se utilizan para aÃ±adir[m
[32m+[m[32m       informaciÃ³n en el cÃ³digo fuente del programa. Aunque el contenido de los[m
[32m+[m
[32m+[m[32mwww.librosweb.es           10[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32m       comentarios no se visualiza por pantalla, si que se envÃ­a al navegador del usuario[m
[32m+[m[32m       junto con el resto del script, por lo que es necesario extremar las precauciones[m
[32m+[m[32m       sobre la informaciÃ³n incluida en los comentarios.[m
[32m+[m
[32m+[m[32mJavaScript define dos tipos de comentarios: los de una sola lÃ­nea y los que ocupan varias[m
[32m+[m[32mlÃ­neas.[m
[32m+[m
[32m+[m[32mEjemplo de comentario de una sola lÃ­nea:[m
[32m+[m
[32m+[m[32m     // a continuaciÃ³n se muestra un mensaje[m
[32m+[m[32m     alert("mensaje de prueba");[m
[32m+[m
[32m+[m[32mLos comentarios de una sola lÃ­nea se definen aÃ±adiendo dos barras oblicuas (//) al[m
[32m+[m[32mprincipio de la lÃ­nea.[m
[32m+[m
[32m+[m[32mEjemplo de comentario de varias lÃ­neas:[m
[32m+[m
[32m+[m[32m     /* Los comentarios de varias lÃ­neas son muy Ãºtiles[m
[32m+[m[32m     cuando se necesita incluir bastante informaciÃ³n[m
[32m+[m[32m     en los comentarios */[m
[32m+[m[32m     alert("mensaje de prueba");[m
[32m+[m
[32m+[m[32mLos comentarios multilÃ­nea se definen encerrando el texto del comentario entre los[m
[32m+[m[32msÃ­mbolos /* y */.[m
[32m+[m
[32m+[m[32m1.8. Posibilidades y limitaciones[m
[32m+[m
[32m+[m[32mDesde su apariciÃ³n, JavaScript siempre fue utilizado de forma masiva por la mayorÃ­a de[m
[32m+[m[32msitios de Internet. La apariciÃ³n de Flash disminuyÃ³ su popularidad, ya que Flash[m
[32m+[m[32mpermitÃ­a realizar algunas acciones imposibles de llevar a cabo mediante JavaScript.[m
[32m+[m
[32m+[m[32mSin embargo, la apariciÃ³n de las aplicaciones AJAX programadas con JavaScript le ha[m
[32m+[m[32mdevuelto una popularidad sin igual dentro de los lenguajes de programaciÃ³n web.[m
[32m+[m
[32m+[m[32mEn cuanto a las limitaciones, JavaScript fue diseÃ±ado de forma que se ejecutara en un[m
[32m+[m[32mentorno muy limitado que permitiera a los usuarios confiar en la ejecuciÃ³n de los scripts.[m
[32m+[m
[32m+[m[32mDe esta forma, los scripts de JavaScript no pueden comunicarse con recursos que no[m
[32m+[m[32mpertenezcan al mismo dominio desde el que se descargÃ³ el script. Los scripts tampoco[m
[32m+[m[32mpueden cerrar ventanas que no hayan abierto esos mismos scripts. Las ventanas que se[m
[32m+[m[32mcrean no pueden ser demasiado pequeÃ±as ni demasiado grandes ni colocarse fuera de la[m
[32m+[m[32mvista del usuario (aunque los detalles concretos dependen de cada navegador).[m
[32m+[m
[32m+[m[32mAdemÃ¡s, los scripts no pueden acceder a los archivos del ordenador del usuario (ni en[m
[32m+[m[32mmodo lectura ni en modo escritura) y tampoco pueden leer o modificar las preferencias[m
[32m+[m[32mdel navegador.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, si la ejecuciÃ³n de un script dura demasiado tiempo (por ejemplo por un[m
[32m+[m[32merror de programaciÃ³n) el navegador informa al usuario de que un script estÃ¡[m
[32m+[m[32mconsumiendo demasiados recursos y le da la posibilidad de detener su ejecuciÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           11[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 1. IntroducciÃ³n[m
[32m+[m
[32m+[m[32mA pesar de todo, existen alternativas para poder saltarse algunas de las limitaciones[m
[32m+[m[32manteriores. La alternativa mÃ¡s utilizada y conocida consiste en firmar digitalmente el[m
[32m+[m[32mscript y solicitar al usuario el permiso para realizar esas acciones.[m
[32m+[m
[32m+[m[32m1.9. JavaScript y navegadores[m
[32m+[m
[32m+[m[32mLos navegadores mÃ¡s modernos disponibles actualmente incluyen soporte de JavaScript[m
[32m+[m[32mhasta la versiÃ³n correspondiente a la tercera ediciÃ³n del estÃ¡ndar ECMA-262.[m
[32m+[m
[32m+[m[32mLa mayor diferencia reside en el dialecto utilizado, ya que mientras Internet Explorer[m
[32m+[m[32mutiliza JScript, el resto de navegadores (Firefox, Opera, Safari, Konqueror) utilizan[m
[32m+[m[32mJavaScript.[m
[32m+[m
[32m+[m[32m1.10. JavaScript en otros entornos[m
[32m+[m
[32m+[m[32mLa inigualable popularidad de JavaScript como lenguaje de programaciÃ³n de[m
[32m+[m[32maplicaciones web se ha extendido a otras aplicaciones y otros entornos no relacionados[m
[32m+[m[32mcon la web.[m
[32m+[m
[32m+[m[32mHerramientas como Adobe Acrobat permiten incluir cÃ³digo JavaScript en archivos PDF.[m
[32m+[m[32mOtras herramientas de Adobe como Flash y Flex utilizan ActionScript, un dialecto del[m
[32m+[m[32mmismo estÃ¡ndar de JavaScript.[m
[32m+[m
[32m+[m[32mPhotoshop permite realizar pequeÃ±os scripts mediante JavaScript y la versiÃ³n 6 de Java[m
[32m+[m[32mincluye un nuevo paquete (denominado javax.script) que permite integrar ambos[m
[32m+[m[32mlenguajes.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, aplicaciones como Yahoo Widgets (http://widgets.yahoo.com/) y el[m
[32m+[m[32mDashboard de Apple (http://www.apple.com/downloads/dashboard/) utilizan[m
[32m+[m[32mJavaScript para programar sus widgets.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           12[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 2. El primer script[m
[32m+[m
[32m+[m[32mCapÃ­tulo 2. El primer script[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, se muestra un primer script sencillo pero completo:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>El primer script</title>[m
[32m+[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m         alert("Hola Mundo!");[m
[32m+[m
[32m+[m[32m     </script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Esta pÃ¡gina contiene el primer script</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mEn este ejemplo, el script se incluye como un bloque de cÃ³digo dentro de una pÃ¡gina[m
[32m+[m[32mXHTML. Por tanto, en primer lugar se debe crear una pÃ¡gina XHTML correcta que[m
[32m+[m[32mincluya la declaraciÃ³n del DOCTYPE, el atributo xmlns, las secciones <head> y <body>, la[m
[32m+[m[32metiqueta <title>, etc.[m
[32m+[m
[32m+[m[32mAunque el cÃ³digo del script se puede incluir en cualquier parte de la pÃ¡gina, se[m
[32m+[m[32mrecomienda incluirlo en la cabecera del documento, es decir, dentro de la etiqueta[m
[32m+[m[32m<head>.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, el cÃ³digo JavaScript se debe incluir entre las etiquetas[m
[32m+[m[32m<script>...</script>. AdemÃ¡s, para que la pÃ¡gina sea vÃ¡lida, es necesario definir el[m
[32m+[m[32matributo type de la etiqueta <script>. TÃ©cnicamente, el atributo type se corresponde[m
[32m+[m[32mcon "el tipo MIME", que es un estÃ¡ndar para identificar los diferentes tipos de[m
[32m+[m[32mcontenidos. El "tipo MIME" correcto para JavaScript es text/javascript.[m
[32m+[m
[32m+[m[32mUna vez definida la zona en la que se incluirÃ¡ el script, se escriben todas las sentencias[m
[32m+[m[32mque forman la aplicaciÃ³n. Este primer ejemplo es tan sencillo que solamente incluye una[m
[32m+[m[32msentencia: alert("Hola Mundo!");.[m
[32m+[m
[32m+[m[32mLa instrucciÃ³n alert() es una de las utilidades que incluye JavaScript y permite mostrar[m
[32m+[m[32mun mensaje en la pantalla del usuario. Si se visualiza la pÃ¡gina web de este primer script[m
[32m+[m[32men cualquier navegador, automÃ¡ticamente se mostrarÃ¡ una ventana con el mensaje[m
[32m+[m[32m"Hola Mundo!".[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el resultado de ejecutar el script en diferentes navegadores:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           13[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 2. El primer script[m
[32m+[m
[32m+[m[32mFigura 2.1. Mensaje mostrado con "alert()" en Internet Explorer[m
[32m+[m
[32m+[m[32m                  Figura 2.2. Mensaje mostrado con "alert()" en Firefox[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                         14[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 2. El primer script[m
[32m+[m
[32m+[m[32m                        Figura 2.3. Mensaje mostrado con "alert()" en Opera[m
[32m+[m
[32m+[m[32mComo se puede observar en las imÃ¡genes anteriores, el funcionamiento de la utilidad[m
[32m+[m[32malert() en los distintos navegadores es idÃ©ntico. Sin embargo, existen grandes[m
[32m+[m[32mdiferencias visuales en la forma en la que se presentan los mensajes.[m
[32m+[m
[32m+[m[32m Ejercicio 1[m
[32m+[m
[32m+[m[32mModificar el primer script para que:[m
[32m+[m
[32m+[m[32m      1. Todo el cÃ³digo JavaScript se encuentre en un archivo externo llamado codigo.js y[m
[32m+[m[32m           el script siga funcionando de la misma manera.[m
[32m+[m
[32m+[m[32m      2. DespuÃ©s del primer mensaje, se debe mostrar otro mensaje que diga "Soy el primer[m
[32m+[m[32m           script"[m
[32m+[m
[32m+[m[32m      3. AÃ±adir algunos comentarios que expliquen el funcionamiento del cÃ³digo[m
[32m+[m[32m      4. AÃ±adir en la pÃ¡gina XHTML un mensaje de aviso para los navegadores que no[m
[32m+[m
[32m+[m[32m           tengan activado el soporte de JavaScript[m
[32m+[m
[32m+[m[32mwww.librosweb.es           15[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mCapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mAntes de comenzar a desarrollar programas y utilidades con JavaScript, es necesario[m
[32m+[m[32mconocer los elementos bÃ¡sicos con los que se construyen las aplicaciones. Si ya sabes[m
[32m+[m[32mprogramar en algÃºn lenguaje de programaciÃ³n, este capÃ­tulo te servirÃ¡ para conocer la[m
[32m+[m[32msintaxis especÃ­fica de JavaScript.[m
[32m+[m
[32m+[m[32mSi nunca has programado, este capÃ­tulo explica en detalle y comenzando desde cero los[m
[32m+[m[32mconocimientos bÃ¡sicos necesarios para poder entender posteriormente la programaciÃ³n[m
[32m+[m[32mavanzada, que es la que se utiliza para crear las aplicaciones reales.[m
[32m+[m
[32m+[m[32m3.1. Variables[m
[32m+[m
[32m+[m[32mLas variables en los lenguajes de programaciÃ³n siguen una lÃ³gica similar a las variables[m
[32m+[m[32mutilizadas en otros Ã¡mbitos como las matemÃ¡ticas. Una variable es un elemento que se[m
[32m+[m[32memplea para almacenar y hacer referencia a otro valor. Gracias a las variables es posible[m
[32m+[m[32mcrear "programas genÃ©ricos", es decir, programas que funcionan siempre igual[m
[32m+[m[32mindependientemente de los valores concretos utilizados.[m
[32m+[m
[32m+[m[32mDe la misma forma que si en MatemÃ¡ticas no existieran las variables no se podrÃ­an[m
[32m+[m[32mdefinir las ecuaciones y fÃ³rmulas, en programaciÃ³n no se podrÃ­an hacer programas[m
[32m+[m[32mrealmente Ãºtiles sin las variables.[m
[32m+[m
[32m+[m[32mSi no existieran variables, un programa que suma dos nÃºmeros podrÃ­a escribirse como:[m
[32m+[m
[32m+[m[32m     resultado = 3 + 1[m
[32m+[m
[32m+[m[32mEl programa anterior es tan poco Ãºtil que sÃ³lo sirve para el caso en el que el primer[m
[32m+[m[32mnÃºmero de la suma sea el 3 y el segundo nÃºmero sea el 1. En cualquier otro caso, el[m
[32m+[m[32mprograma obtiene un resultado incorrecto.[m
[32m+[m
[32m+[m[32mSin embargo, el programa se puede rehacer de la siguiente manera utilizando variables[m
[32m+[m[32mpara almacenar y referirse a cada nÃºmero:[m
[32m+[m
[32m+[m[32m     numero_1 = 3[m
[32m+[m[32m     numero_2 = 1[m
[32m+[m[32m     resultado = numero_1 + numero_2[m
[32m+[m
[32m+[m[32mLos elementos numero_1 y numero_2 son variables que almacenan los valores que utiliza[m
[32m+[m[32mel programa. El resultado se calcula siempre en funciÃ³n del valor almacenado por las[m
[32m+[m[32mvariables, por lo que este programa funciona correctamente para cualquier par de[m
[32m+[m[32mnÃºmeros indicado. Si se modifica el valor de las variables numero_1 y numero_2, el[m
[32m+[m[32mprograma sigue funcionando correctamente.[m
[32m+[m
[32m+[m[32mLas variables en JavaScript se crean mediante la palabra reservada var. De esta forma, el[m
[32m+[m[32mejemplo anterior se puede realizar en JavaScript de la siguiente manera:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           16[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32m     var numero_1 = 3;[m
[32m+[m[32m     var numero_2 = 1;[m
[32m+[m[32m     var resultado = numero_1 + numero_2;[m
[32m+[m
[32m+[m[32mLa palabra reservada var solamente se debe indicar al definir por primera vez la[m
[32m+[m[32mvariable, lo que se denomina declarar una variable. Cuando se utilizan las variables en[m
[32m+[m[32mel resto de instrucciones del script, solamente es necesario indicar su nombre. En otras[m
[32m+[m[32mpalabras, en el ejemplo anterior serÃ­a un error indicar lo siguiente:[m
[32m+[m
[32m+[m[32m     var numero_1 = 3;[m
[32m+[m[32m     var numero_2 = 1;[m
[32m+[m[32m     var resultado = var numero_1 + var numero_2;[m
[32m+[m
[32m+[m[32mSi cuando se declara una variable se le asigna tambiÃ©n un valor, se dice que la variable[m
[32m+[m[32mha sido inicializada. En JavaScript no es obligatorio inicializar las variables, ya que se[m
[32m+[m[32mpueden declarar por una parte y asignarles un valor posteriormente. Por tanto, el[m
[32m+[m[32mejemplo anterior se puede rehacer de la siguiente manera:[m
[32m+[m
[32m+[m[32m     var numero_1;[m
[32m+[m[32m     var numero_2;[m
[32m+[m
[32m+[m[32m     numero_1 = 3;[m
[32m+[m[32m     numero_2 = 1;[m
[32m+[m
[32m+[m[32m     var resultado = numero_1 + numero_2;[m
[32m+[m
[32m+[m[32mUna de las caracterÃ­sticas mÃ¡s sorprendentes de JavaSript para los programadores[m
[32m+[m[32mhabituados a otros lenguajes de programaciÃ³n es que tampoco es necesario declarar las[m
[32m+[m[32mvariables. En otras palabras, se pueden utilizar variables que no se han definido[m
[32m+[m[32manteriormente mediante la palabra reservada var. El ejemplo anterior tambiÃ©n es[m
[32m+[m[32mcorrecto en JavaScript de la siguiente forma:[m
[32m+[m
[32m+[m[32m     var numero_1 = 3;[m
[32m+[m[32m     var numero_2 = 1;[m
[32m+[m[32m     resultado = numero_1 + numero_2;[m
[32m+[m
[32m+[m[32mLa variable resultado no estÃ¡ declarada, por lo que JavaScript crea una variable global[m
[32m+[m[32m(mÃ¡s adelante se verÃ¡n las diferencias entre variables locales y globales) y le asigna el[m
[32m+[m[32mvalor correspondiente. De la misma forma, tambiÃ©n serÃ­a correcto el siguiente cÃ³digo:[m
[32m+[m
[32m+[m[32m     numero_1 = 3;[m
[32m+[m[32m     numero_2 = 1;[m
[32m+[m[32m     resultado = numero_1 + numero_2;[m
[32m+[m
[32m+[m[32mEn cualquier caso, se recomienda declarar todas las variables que se vayan a utilizar.[m
[32m+[m
[32m+[m[32mEl nombre de una variable tambiÃ©n se conoce como identificador y debe cumplir las[m
[32m+[m[32msiguientes normas:[m
[32m+[m
[32m+[m[32m    â–ª SÃ³lo puede estar formado por letras, nÃºmeros y los sÃ­mbolos $ (dÃ³lar) y _ (guiÃ³n[m
[32m+[m[32m       bajo).[m
[32m+[m
[32m+[m[32m    â–ª El primer carÃ¡cter no puede ser un nÃºmero.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           17[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                      CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mPor tanto, las siguientes variables tienen nombres correctos:[m
[32m+[m
[32m+[m[32mvar $numero1;[m
[32m+[m[32mvar _$letra;[m
[32m+[m[32mvar $$$otroNumero;[m
[32m+[m[32mvar $_a__$4;[m
[32m+[m
[32m+[m[32mSin embargo, las siguientes variables tienen identificadores incorrectos:[m
[32m+[m
[32m+[m[32mvar 1numero;               // Empieza por un nÃºmero[m
[32m+[m
[32m+[m[32mvar numero;1_123; // Contiene un carÃ¡cter ";"[m
[32m+[m
[32m+[m[32m3.2. Tipos de variables[m
[32m+[m
[32m+[m[32mAunque todas las variables de JavaScript se crean de la misma forma (mediante la[m
[32m+[m[32mpalabra reservada var), la forma en la que se les asigna un valor depende del tipo de[m
[32m+[m[32mvalor que se quiere almacenar (nÃºmeros, textos, etc.)[m
[32m+[m
[32m+[m[32m3.2.1. NumÃ©ricas[m
[32m+[m
[32m+[m[32mSe utilizan para almacenar valores numÃ©ricos enteros (llamados integer en inglÃ©s) o[m
[32m+[m[32mdecimales (llamados float en inglÃ©s). En este caso, el valor se asigna indicando[m
[32m+[m[32mdirectamente el nÃºmero entero o decimal. Los nÃºmeros decimales utilizan el carÃ¡cter .[m
[32m+[m[32m(punto) en vez de , (coma) para separar la parte entera y la parte decimal:[m
[32m+[m
[32m+[m[32mvar iva = 16;              // variable tipo entero[m
[32m+[m
[32m+[m[32mvar total = 234.65; // variable tipo decimal[m
[32m+[m
[32m+[m[32m3.2.2. Cadenas de texto[m
[32m+[m
[32m+[m[32mSe utilizan para almacenar caracteres, palabras y/o frases de texto. Para asignar el valor[m
[32m+[m[32ma la variable, se encierra el valor entre comillas dobles o simples, para delimitar su[m
[32m+[m[32mcomienzo y su final:[m
[32m+[m
[32m+[m[32m     var mensaje = "Bienvenido a nuestro sitio web";[m
[32m+[m[32m     var nombreProducto = 'Producto ABC';[m
[32m+[m[32m     var letraSeleccionada = 'c';[m
[32m+[m
[32m+[m[32mEn ocasiones, el texto que se almacena en las variables no es tan sencillo. Si por ejemplo[m
[32m+[m[32mel propio texto contiene comillas simples o dobles, la estrategia que se sigue es la de[m
[32m+[m[32mencerrar el texto con las comillas (simples o dobles) que no utilice el texto:[m
[32m+[m
[32m+[m[32m     /* El contenido de texto1 tiene comillas simples, por lo que[m
[32m+[m[32m            se encierra con comillas dobles */[m
[32m+[m
[32m+[m[32m     var texto1 = "Una frase con 'comillas simples' dentro";[m
[32m+[m
[32m+[m[32m     /* El contenido de texto2 tiene comillas dobles, por lo que[m
[32m+[m[32m            se encierra con comillas simples */[m
[32m+[m
[32m+[m[32m     var texto2 = 'Una frase con "comillas dobles" dentro';[m
[32m+[m
[32m+[m[32mNo obstante, a veces las cadenas de texto contienen tanto comillas simples como dobles.[m
[32m+[m[32mAdemÃ¡s, existen otros caracteres que son difÃ­ciles de incluir en una variable de texto[m
[32m+[m[32m(tabulador, ENTER, etc.) Para resolver estos problemas, JavaScript define un mecanismo[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                           18[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mpara incluir de forma sencilla caracteres especiales y problemÃ¡ticos dentro de una[m
[32m+[m[32mcadena de texto.[m
[32m+[m
[32m+[m[32mEl mecanismo consiste en sustituir el carÃ¡cter problemÃ¡tico por una combinaciÃ³n simple[m
[32m+[m[32mde caracteres. A continuaciÃ³n se muestra la tabla de conversiÃ³n que se debe utilizar:[m
[32m+[m
[32m+[m[32mSi se quiere incluir...    Se debe incluir...[m
[32m+[m[32mUna nueva lÃ­nea            \n[m
[32m+[m[32mUn tabulador               \t[m
[32m+[m[32mUna comilla simple         \'[m
[32m+[m[32mUna comilla doble          \"[m
[32m+[m[32mUna barra inclinada        \\[m
[32m+[m
[32m+[m[32mDe esta forma, el ejemplo anterior que contenÃ­a comillas simples y dobles dentro del[m
[32m+[m[32mtexto se puede rehacer de la siguiente forma:[m
[32m+[m
[32m+[m[32m     var texto1 = 'Una frase con \'comillas simples\' dentro';[m
[32m+[m
[32m+[m[32m     var texto2 = "Una frase con \"comillas dobles\" dentro";[m
[32m+[m
[32m+[m[32mEste mecanismo de JavaScript se denomina "mecanismo de escape" de los caracteres[m
[32m+[m[32mproblemÃ¡ticos, y es habitual referirse a que los caracteres han sido "escapados".[m
[32m+[m
[32m+[m[32m Ejercicio 2[m
[32m+[m
[32m+[m[32mModificar el primer script del capÃ­tulo anterior para que:[m
[32m+[m
[32m+[m[32m      1. El mensaje que se muestra al usuario se almacene en una variable llamada mensaje[m
[32m+[m[32m           y el funcionamiento del script sea el mismo.[m
[32m+[m
[32m+[m[32m      2. El mensaje mostrado sea el de la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                               19[m
[32m+[m[32mIntroducciÃ³n a JavaScript       CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32m                  Figura 3.1. Nuevo mensaje que debe mostrar el script[m
[32m+[m
[32m+[m[32m3.2.3. Arrays[m
[32m+[m
[32m+[m[32mEn ocasiones, a los arrays se les llama vectores, matrices e incluso arreglos. No obstante,[m
[32m+[m[32mel tÃ©rmino array es el mÃ¡s utilizado y es una palabra comÃºnmente aceptada en el[m
[32m+[m[32mentorno de la programaciÃ³n.[m
[32m+[m
[32m+[m[32mUn array es una colecciÃ³n de variables, que pueden ser todas del mismo tipo o cada una[m
[32m+[m[32mde un tipo diferente. Su utilidad se comprende mejor con un ejemplo sencillo: si una[m
[32m+[m[32maplicaciÃ³n necesita manejar los dÃ­as de la semana, se podrÃ­an crear siete variables de[m
[32m+[m[32mtipo texto:[m
[32m+[m
[32m+[m[32m     var dia1 = "Lunes";[m
[32m+[m[32m     var dia2 = "Martes";[m
[32m+[m[32m     ...[m
[32m+[m[32m     var dia7 = "Domingo";[m
[32m+[m
[32m+[m[32mAunque el cÃ³digo anterior no es incorrecto, sÃ­ que es poco eficiente y complica en exceso[m
[32m+[m[32mla programaciÃ³n. Si en vez de los dÃ­as de la semana se tuviera que guardar el nombre de[m
[32m+[m[32mlos meses del aÃ±o, el nombre de todos los paÃ­ses del mundo o las mediciones diarias de[m
[32m+[m[32mtemperatura de los Ãºltimos 100 aÃ±os, se tendrÃ­an que crear decenas o cientos de[m
[32m+[m[32mvariables.[m
[32m+[m
[32m+[m[32mEn este tipo de casos, se pueden agrupar todas las variables relacionadas en una[m
[32m+[m[32mcolecciÃ³n de variables o array. El ejemplo anterior se puede rehacer de la siguiente[m
[32m+[m[32mforma:[m
[32m+[m
[32m+[m[32m     var dias = ["Lunes", "Martes", "MiÃ©rcoles", "Jueves", "Viernes", "SÃ¡bado",[m
[32m+[m[32m     "Domingo"];[m
[32m+[m
[32m+[m[32mAhora, una Ãºnica variable llamada dias almacena todos los valores relacionados entre sÃ­,[m
[32m+[m[32men este caso los dÃ­as de la semana. Para definir un array, se utilizan los caracteres [ y ][m
[32m+[m[32mpara delimitar su comienzo y su final y se utiliza el carÃ¡cter , (coma) para separar sus[m
[32m+[m[32melementos:[m
[32m+[m
[32m+[m[32m     var nombre_array = [valor1, valor2, ..., valorN];[m
[32m+[m
[32m+[m[32mUna vez definido un array, es muy sencillo acceder a cada uno de sus elementos. Cada[m
[32m+[m[32melemento se accede indicando su posiciÃ³n dentro del array. La Ãºnica complicaciÃ³n, que[m
[32m+[m[32mes responsable de muchos errores cuando se empieza a programar, es que las posiciones[m
[32m+[m[32mde los elementos empiezan a contarse en el 0 y no en el 1:[m
[32m+[m
[32m+[m[32mvar diaSeleccionado = dias[0];  // diaSeleccionado = "Lunes"[m
[32m+[m[32mvar otroDia = dias[5];          // otroDia = "SÃ¡bado"[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, la primera instrucciÃ³n quiere obtener el primer elemento del[m
[32m+[m[32marray. Para ello, se indica el nombre del array y entre corchetes la posiciÃ³n del elemento[m
[32m+[m[32mdentro del array. Como se ha comentado, las posiciones se empiezan a contar en el 0, por[m
[32m+[m[32mlo que el primer elemento ocupa la posiciÃ³n 0 y se accede a el mediante dias[0].[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                        20[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mEl valor dias[5] hace referencia al elemento que ocupa la sexta posiciÃ³n dentro del[m
[32m+[m[32marray dias. Como las posiciones empiezan a contarse en 0, la posiciÃ³n 5 hace referencia[m
[32m+[m[32mal sexto elemento, en este caso, el valor SÃ¡bado.[m
[32m+[m
[32m+[m[32m Ejercicio 3[m
[32m+[m
[32m+[m[32mCrear un array llamado meses y que almacene el nombre de los doce meses del aÃ±o. Mostrar[m
[32m+[m[32mpor pantalla los doce nombres utilizando la funciÃ³n alert().[m
[32m+[m
[32m+[m[32m3.2.4. Booleanos[m
[32m+[m
[32m+[m[32mLas variables de tipo boolean o booleano tambiÃ©n se conocen con el nombre de variables[m
[32m+[m[32mde tipo lÃ³gico. Aunque para entender realmente su utilidad se debe estudiar la[m
[32m+[m[32mprogramaciÃ³n avanzada con JavaScript del siguiente capÃ­tulo, su funcionamiento bÃ¡sico[m
[32m+[m[32mes muy sencillo.[m
[32m+[m
[32m+[m[32mUna variable de tipo boolean almacena un tipo especial de valor que solamente puede[m
[32m+[m[32mtomar dos valores: true (verdadero) o false (falso). No se puede utilizar para[m
[32m+[m[32malmacenar nÃºmeros y tampoco permite guardar cadenas de texto.[m
[32m+[m
[32m+[m[32mLos Ãºnicos valores que pueden almacenar estas variables son true y false, por lo que[m
[32m+[m[32mno pueden utilizarse los valores verdadero y falso. A continuaciÃ³n se muestra un par de[m
[32m+[m[32mvariables de tipo booleano:[m
[32m+[m
[32m+[m[32m     var clienteRegistrado = false;[m
[32m+[m[32m     var ivaIncluido = true;[m
[32m+[m
[32m+[m[32m3.3. Operadores[m
[32m+[m
[32m+[m[32mLas variables por sÃ­ solas son de poca utilidad. Hasta ahora, sÃ³lo se ha visto cÃ³mo crear[m
[32m+[m[32mvariables de diferentes tipos y cÃ³mo mostrar su valor mediante la funciÃ³n alert(). Para[m
[32m+[m[32mhacer programas realmente Ãºtiles, son necesarias otro tipo de herramientas.[m
[32m+[m
[32m+[m[32mLos operadores permiten manipular el valor de las variables, realizar operaciones[m
[32m+[m[32mmatemÃ¡ticas con sus valores y comparar diferentes variables. De esta forma, los[m
[32m+[m[32moperadores permiten a los programas realizar cÃ¡lculos complejos y tomar decisiones[m
[32m+[m[32mlÃ³gicas en funciÃ³n de comparaciones y otros tipos de condiciones.[m
[32m+[m
[32m+[m[32m3.3.1. AsignaciÃ³n[m
[32m+[m
[32m+[m[32mEl operador de asignaciÃ³n es el mÃ¡s utilizado y el mÃ¡s sencillo. Este operador se utiliza[m
[32m+[m[32mpara guardar un valor especÃ­fico en una variable. El sÃ­mbolo utilizado es = (no confundir[m
[32m+[m[32mcon el operador == que se verÃ¡ mÃ¡s adelante):[m
[32m+[m
[32m+[m[32m     var numero1 = 3;[m
[32m+[m
[32m+[m[32mA la izquierda del operador, siempre debe indicarse el nombre de una variable. A la[m
[32m+[m[32mderecha del operador, se pueden indicar variables, valores, condiciones lÃ³gicas, etc:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           21[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32m     var numero1 = 3;[m
[32m+[m[32m     var numero2 = 4;[m
[32m+[m
[32m+[m[32m     /* Error, la asignaciÃ³n siempre se realiza a una variable,[m
[32m+[m[32m            por lo que en la izquierda no se puede indicar un nÃºmero */[m
[32m+[m
[32m+[m[32m     5 = numero1;[m
[32m+[m
[32m+[m[32m     // Ahora, la variable numero1 vale 5[m
[32m+[m[32m     numero1 = 5;[m
[32m+[m
[32m+[m[32m     // Ahora, la variable numero1 vale 4[m
[32m+[m[32m     numero1 = numero2;[m
[32m+[m
[32m+[m[32m3.3.2. Incremento y decremento[m
[32m+[m
[32m+[m[32mEstos dos operadores solamente son vÃ¡lidos para las variables numÃ©ricas y se utilizan[m
[32m+[m[32mpara incrementar o decrementar en una unidad el valor de una variable.[m
[32m+[m
[32m+[m[32mEjemplo:[m
[32m+[m
[32m+[m[32m     var numero = 5;[m
[32m+[m[32m     ++numero;[m
[32m+[m[32m     alert(numero); // numero = 6[m
[32m+[m
[32m+[m[32mEl operador de incremento se indica mediante el prefijo ++ en el nombre de la variable.[m
[32m+[m[32mEl resultado es que el valor de esa variable se incrementa en una unidad. Por tanto, el[m
[32m+[m[32manterior ejemplo es equivalente a:[m
[32m+[m
[32m+[m[32m     var numero = 5;[m
[32m+[m[32m     numero = numero + 1;[m
[32m+[m[32m     alert(numero); // numero = 6[m
[32m+[m
[32m+[m[32mDe forma equivalente, el operador decremento (indicado como un prefijo -- en el[m
[32m+[m[32mnombre de la variable) se utiliza para decrementar el valor de la variable:[m
[32m+[m
[32m+[m[32m     var numero = 5;[m
[32m+[m[32m     --numero;[m
[32m+[m[32m     alert(numero); // numero = 4[m
[32m+[m
[32m+[m[32mEl anterior ejemplo es equivalente a:[m
[32m+[m
[32m+[m[32m     var numero = 5;[m
[32m+[m[32m     numero = numero - 1;[m
[32m+[m[32m     alert(numero); // numero = 4[m
[32m+[m
[32m+[m[32mLos operadores de incremento y decremento no solamente se pueden indicar como[m
[32m+[m[32mprefijo del nombre de la variable, sino que tambiÃ©n es posible utilizarlos como sufijo. En[m
[32m+[m[32meste caso, su comportamiento es similar pero muy diferente. En el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     var numero = 5;[m
[32m+[m[32m     numero++;[m
[32m+[m[32m     alert(numero); // numero = 6[m
[32m+[m
[32m+[m[32mEl resultado de ejecutar el script anterior es el mismo que cuando se utiliza el operador[m
[32m+[m[32m++numero, por lo que puede parecer que es equivalente indicar el operador ++ delante o[m
[32m+[m
[32m+[m[32mwww.librosweb.es           22[m
[32m+[m[32mIntroducciÃ³n a JavaScript             CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mdetrÃ¡s del identificador de la variable. Sin embargo, el siguiente ejemplo muestra sus[m
[32m+[m[32mdiferencias:[m
[32m+[m
[32m+[m[32m     var numero1 = 5;[m
[32m+[m[32m     var numero2 = 2;[m
[32m+[m[32m     numero3 = numero1++ + numero2;[m
[32m+[m[32m     // numero3 = 7, numero1 = 6[m
[32m+[m
[32m+[m[32m     var numero1 = 5;[m
[32m+[m[32m     var numero2 = 2;[m
[32m+[m[32m     numero3 = ++numero1 + numero2;[m
[32m+[m[32m     // numero3 = 8, numero1 = 6[m
[32m+[m
[32m+[m[32mSi el operador ++ se indica como prefijo del identificador de la variable, su valor se[m
[32m+[m[32mincrementa antes de realizar cualquier otra operaciÃ³n. Si el operador ++ se indica como[m
[32m+[m[32msufijo del identificador de la variable, su valor se incrementa despuÃ©s de ejecutar la[m
[32m+[m[32msentencia en la que aparece.[m
[32m+[m
[32m+[m[32mPor tanto, en la instrucciÃ³n numero3 = numero1++ + numero2;, el valor de numero1 se[m
[32m+[m[32mincrementa despuÃ©s de realizar la operaciÃ³n (primero se suma y numero3 vale 7, despuÃ©s[m
[32m+[m[32mse incrementa el valor de numero1 y vale 6). Sin embargo, en la instrucciÃ³n numero3 =[m
[32m+[m[32m++numero1 + numero2;, en primer lugar se incrementa el valor de numero1 y despuÃ©s se[m
[32m+[m[32mrealiza la suma (primero se incrementa numero1 y vale 6, despuÃ©s se realiza la suma y[m
[32m+[m[32mnumero3 vale 8).[m
[32m+[m
[32m+[m[32m3.3.3. LÃ³gicos[m
[32m+[m
[32m+[m[32mLos operadores lÃ³gicos son imprescindibles para realizar aplicaciones complejas, ya que[m
[32m+[m[32mse utilizan para tomar decisiones sobre las instrucciones que deberÃ­a ejecutar el[m
[32m+[m[32mprograma en funciÃ³n de ciertas condiciones.[m
[32m+[m
[32m+[m[32mEl resultado de cualquier operaciÃ³n que utilice operadores lÃ³gicos siempre es un valor[m
[32m+[m[32mlÃ³gico o booleano.[m
[32m+[m
[32m+[m[32m3.3.3.1. NegaciÃ³n[m
[32m+[m
[32m+[m[32mUno de los operadores lÃ³gicos mÃ¡s utilizados es el de la negaciÃ³n. Se utiliza para obtener[m
[32m+[m[32mel valor contrario al valor de la variable:[m
[32m+[m
[32m+[m[32m     var visible = true;[m
[32m+[m[32m     alert(!visible); // Muestra "false" y no "true"[m
[32m+[m
[32m+[m[32mLa negaciÃ³n lÃ³gica se obtiene prefijando el sÃ­mbolo ! al identificador de la variable. El[m
[32m+[m[32mfuncionamiento de este operador se resume en la siguiente tabla:[m
[32m+[m
[32m+[m[32mvariable                   !variable[m
[32m+[m[32mtrue                       false[m
[32m+[m[32mfalse                      true[m
[32m+[m
[32m+[m[32mwww.librosweb.es                      23[m
[32m+[m[32mIntroducciÃ³n a JavaScript                           CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mSi la variable original es de tipo booleano, es muy sencillo obtener su negaciÃ³n. Sin[m
[32m+[m[32membargo, Â¿quÃ© sucede cuando la variable es un nÃºmero o una cadena de texto? Para[m
[32m+[m[32mobtener la negaciÃ³n en este tipo de variables, se realiza en primer lugar su conversiÃ³n a[m
[32m+[m[32mun valor booleano:[m
[32m+[m
[32m+[m[32m    â–ª Si la variable contiene un nÃºmero, se transforma en false si vale 0 y en true para[m
[32m+[m[32m       cualquier otro nÃºmero (positivo o negativo, decimal o entero).[m
[32m+[m
[32m+[m[32m    â–ª Si la variable contiene una cadena de texto, se transforma en false si la cadena es[m
[32m+[m[32m       vacÃ­a ("") y en true en cualquier otro caso.[m
[32m+[m
[32m+[m[32m     var cantidad = 0;[m
[32m+[m[32m     vacio = !cantidad; // vacio = true[m
[32m+[m
[32m+[m[32mcantidad = 2;[m
[32m+[m[32mvacio = !cantidad; // vacio = false[m
[32m+[m
[32m+[m[32mvar mensaje = "";[m
[32m+[m[32mmensajeVacio = !mensaje; // mensajeVacio = true[m
[32m+[m
[32m+[m[32mmensaje = "Bienvenido";[m
[32m+[m[32mmensajeVacio = !mensaje; // mensajeVacio = false[m
[32m+[m
[32m+[m[32m3.3.3.2. AND[m
[32m+[m
[32m+[m[32mLa operaciÃ³n lÃ³gica AND obtiene su resultado combinando dos valores booleanos. El[m
[32m+[m[32moperador se indica mediante el sÃ­mbolo && y su resultado solamente es true si los dos[m
[32m+[m[32moperandos son true:[m
[32m+[m
[32m+[m[32mvariable1         variable2           variable1 && variable2[m
[32m+[m[32mtrue              true                true[m
[32m+[m[32mtrue              false               false[m
[32m+[m[32mfalse             true                false[m
[32m+[m[32mfalse             false               false[m
[32m+[m
[32m+[m[32mvar valor1 = true;[m
[32m+[m[32mvar valor2 = false;[m
[32m+[m[32mresultado = valor1 && valor2; // resultado = false[m
[32m+[m
[32m+[m[32mvalor1 = true;[m
[32m+[m[32mvalor2 = true;[m
[32m+[m[32mresultado = valor1 && valor2; // resultado = true[m
[32m+[m
[32m+[m[32m3.3.3.3. OR[m
[32m+[m
[32m+[m[32mLa operaciÃ³n lÃ³gica OR tambiÃ©n combina dos valores booleanos. El operador se indica[m
[32m+[m[32mmediante el sÃ­mbolo || y su resultado es true si alguno de los dos operandos es true:[m
[32m+[m
[32m+[m[32mvariable1                  variable2  variable1 || variable2[m
[32m+[m[32mtrue                       true       true[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                              24[m
[32m+[m[32mIntroducciÃ³n a JavaScript                            CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mtrue                       false  true[m
[32m+[m[32mfalse                      true   true[m
[32m+[m[32mfalse                      false  false[m
[32m+[m
[32m+[m[32mvar valor1 = true;[m
[32m+[m[32mvar valor2 = false;[m
[32m+[m[32mresultado = valor1 || valor2; // resultado = true[m
[32m+[m
[32m+[m[32mvalor1 = false;[m
[32m+[m[32mvalor2 = false;[m
[32m+[m[32mresultado = valor1 || valor2; // resultado = false[m
[32m+[m
[32m+[m[32m3.3.4. MatemÃ¡ticos[m
[32m+[m
[32m+[m[32mJavaScript permite realizar manipulaciones matemÃ¡ticas sobre el valor de las variables[m
[32m+[m[32mnumÃ©ricas. Los operadores definidos son: suma (+), resta (-), multiplicaciÃ³n (*) y[m
[32m+[m[32mdivisiÃ³n (/). Ejemplo:[m
[32m+[m
[32m+[m[32m     var numero1 = 10;[m
[32m+[m[32m     var numero2 = 5;[m
[32m+[m
[32m+[m[32mresultado = numero1 / numero2; // resultado = 2[m
[32m+[m
[32m+[m[32mresultado = 3 + numero1;          // resultado = 13[m
[32m+[m
[32m+[m[32mresultado = numero2 â€“ 4;          // resultado = 1[m
[32m+[m
[32m+[m[32mresultado = numero1 * numero 2; // resultado = 50[m
[32m+[m
[32m+[m[32mAdemÃ¡s de los cuatro operadores bÃ¡sicos, JavaScript define otro operador matemÃ¡tico[m
[32m+[m[32mque no es sencillo de entender cuando se estudia por primera vez, pero que es muy Ãºtil[m
[32m+[m[32men algunas ocasiones.[m
[32m+[m
[32m+[m[32mSe trata del operador "mÃ³dulo", que calcula el resto de la divisiÃ³n entera de dos[m
[32m+[m[32mnÃºmeros. Si se divide por ejemplo 10 y 5, la divisiÃ³n es exacta y da un resultado de 2. El[m
[32m+[m[32mresto de esa divisiÃ³n es 0, por lo que mÃ³dulo de 10 y 5 es igual a 0.[m
[32m+[m
[32m+[m[32mSin embargo, si se divide 9 y 5, la divisiÃ³n no es exacta, el resultado es 1 y el resto 4, por[m
[32m+[m[32mlo que mÃ³dulo de 9 y 5 es igual a 4.[m
[32m+[m
[32m+[m[32mEl operador mÃ³dulo en JavaScript se indica mediante el sÃ­mbolo %, que no debe[m
[32m+[m[32mconfundirse con el cÃ¡lculo del porcentaje:[m
[32m+[m
[32m+[m[32mvar numero1 = 10;[m
[32m+[m[32mvar numero2 = 5;[m
[32m+[m[32mresultado = numero1 % numero2; // resultado = 0[m
[32m+[m
[32m+[m[32m     numero1 = 9;[m
[32m+[m[32m     numero2 = 5;[m
[32m+[m[32m     resultado = numero1 % numero2; // resultado = 4[m
[32m+[m
[32m+[m[32mLos operadores matemÃ¡ticos tambiÃ©n se pueden combinar con el operador de[m
[32m+[m[32masignaciÃ³n para abreviar su notaciÃ³n:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                     25[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32m     var numero1 = 5;[m
[32m+[m[32m     numero1 += 3; // numero1 = numero1 + 3 = 8[m
[32m+[m[32m     numero1 -= 1; // numero1 = numero1 - 1 = 4[m
[32m+[m[32m     numero1 *= 2; // numero1 = numero1 * 2 = 10[m
[32m+[m[32m     numero1 /= 5; // numero1 = numero1 / 5 = 1[m
[32m+[m[32m     numero1 %= 4; // numero1 = numero1 % 4 = 1[m
[32m+[m
[32m+[m[32m3.3.5. Relacionales[m
[32m+[m
[32m+[m[32mLos operadores relacionales definidos por JavaScript son idÃ©nticos a los que definen las[m
[32m+[m[32mmatemÃ¡ticas: mayor que (>), menor que (<), mayor o igual (>=), menor o igual (<=), igual[m
[32m+[m[32mque (==) y distinto de (!=).[m
[32m+[m
[32m+[m[32mLos operadores que relacionan variables son imprescindibles para realizar cualquier[m
[32m+[m[32maplicaciÃ³n compleja, como se verÃ¡ en el siguiente capÃ­tulo de programaciÃ³n avanzada. El[m
[32m+[m[32mresultado de todos estos operadores siempre es un valor booleano:[m
[32m+[m
[32m+[m[32m     var numero1 = 3;[m
[32m+[m[32m     var numero2 = 5;[m
[32m+[m[32m     resultado = numero1 > numero2; // resultado = false[m
[32m+[m[32m     resultado = numero1 < numero2; // resultado = true[m
[32m+[m
[32m+[m[32m     numero1 = 5;[m
[32m+[m[32m     numero2 = 5;[m
[32m+[m[32m     resultado = numero1 >= numero2; // resultado = true[m
[32m+[m[32m     resultado = numero1 <= numero2; // resultado = true[m
[32m+[m[32m     resultado = numero1 == numero2; // resultado = true[m
[32m+[m[32m     resultado = numero1 != numero2; // resultado = false[m
[32m+[m
[32m+[m[32mSe debe tener especial cuidado con el operador de igualdad (==), ya que es el origen de la[m
[32m+[m[32mmayorÃ­a de errores de programaciÃ³n, incluso para los usuarios que ya tienen cierta[m
[32m+[m[32mexperiencia desarrollando scripts. El operador == se utiliza para comparar el valor de[m
[32m+[m[32mdos variables, por lo que es muy diferente del operador =, que se utiliza para asignar un[m
[32m+[m[32mvalor a una variable:[m
[32m+[m
[32m+[m[32m     // El operador "=" asigna valores[m
[32m+[m[32m     var numero1 = 5;[m
[32m+[m[32m     resultado = numero1 = 3; // numero1 = 3 y resultado = 3[m
[32m+[m
[32m+[m[32m     // El operador "==" compara variables[m
[32m+[m[32m     var numero1 = 5;[m
[32m+[m[32m     resultado = numero1 == 3; // numero1 = 5 y resultado = false[m
[32m+[m
[32m+[m[32mLos operadores relacionales tambiÃ©n se pueden utilizar con variables de tipo cadena de[m
[32m+[m[32mtexto:[m
[32m+[m
[32m+[m[32m     var texto1 = "hola";[m
[32m+[m[32m     var texto2 = "hola";[m
[32m+[m[32m     var texto3 = "adios";[m
[32m+[m
[32m+[m[32m     resultado = texto1 == texto3; // resultado = false[m
[32m+[m[32m     resultado = texto1 != texto2; // resultado = false[m
[32m+[m[32m     resultado = texto3 >= texto2; // resultado = false[m
[32m+[m
[32m+[m[32mwww.librosweb.es           26[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mCuando se utilizan cadenas de texto, los operadores "mayor que" (>) y "menor que" (<)[m
[32m+[m[32msiguen un razonamiento no intuitivo: se compara letra a letra comenzando desde la[m
[32m+[m[32mizquierda hasta que se encuentre una diferencia entre las dos cadenas de texto. Para[m
[32m+[m[32mdeterminar si una letra es mayor o menor que otra, las mayÃºsculas se consideran[m
[32m+[m[32mmenores que las minÃºsculas y las primeras letras del alfabeto son menores que las[m
[32m+[m[32mÃºltimas (a es menor que b, b es menor que c, A es menor que a, etc.)[m
[32m+[m
[32m+[m[32m Ejercicio 4[m
[32m+[m
[32m+[m[32mA partir del siguiente array que se proporciona: var valores = [true, 5, false,[m
[32m+[m[32m"hola", "adios", 2];[m
[32m+[m
[32m+[m[32m      1. Determinar cual de los dos elementos de texto es mayor[m
[32m+[m[32m      2. Utilizando exclusivamente los dos valores booleanos del array, determinar los[m
[32m+[m
[32m+[m[32m           operadores necesarios para obtener un resultado true y otro resultado false[m
[32m+[m[32m      3. Determinar el resultado de las cinco operaciones matemÃ¡ticas realizadas con los[m
[32m+[m
[32m+[m[32m           dos elementos numÃ©ricos[m
[32m+[m
[32m+[m[32m3.4. Estructuras de control de flujo[m
[32m+[m
[32m+[m[32mLos programas que se pueden realizar utilizando solamente variables y operadores son[m
[32m+[m[32muna simple sucesiÃ³n lineal de instrucciones bÃ¡sicas.[m
[32m+[m
[32m+[m[32mSin embargo, no se pueden realizar programas que muestren un mensaje si el valor de[m
[32m+[m[32muna variable es igual a un valor determinado y no muestren el mensaje en el resto de[m
[32m+[m[32mcasos. Tampoco se puede repetir de forma eficiente una misma instrucciÃ³n, como por[m
[32m+[m[32mejemplo sumar un determinado valor a todos los elementos de un array.[m
[32m+[m
[32m+[m[32mPara realizar este tipo de programas son necesarias las estructuras de control de flujo,[m
[32m+[m[32mque son instrucciones del tipo "si se cumple esta condiciÃ³n, hazlo; si no se cumple, haz esto[m
[32m+[m[32motro". TambiÃ©n existen instrucciones del tipo "repite esto mientras se cumpla esta[m
[32m+[m[32mcondiciÃ³n".[m
[32m+[m
[32m+[m[32mSi se utilizan estructuras de control de flujo, los programas dejan de ser una sucesiÃ³n[m
[32m+[m[32mlineal de instrucciones para convertirse en programas inteligentes que pueden tomar[m
[32m+[m[32mdecisiones en funciÃ³n del valor de las variables.[m
[32m+[m
[32m+[m[32m3.4.1. Estructura if[m
[32m+[m
[32m+[m[32mLa estructura mÃ¡s utilizada en JavaScript y en la mayorÃ­a de lenguajes de programaciÃ³n[m
[32m+[m[32mes la estructura if. Se emplea para tomar decisiones en funciÃ³n de una condiciÃ³n. Su[m
[32m+[m[32mdefiniciÃ³n formal es:[m
[32m+[m
[32m+[m[32m     if(condicion) {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi la condiciÃ³n se cumple (es decir, si su valor es true) se ejecutan todas las[m
[32m+[m[32minstrucciones que se encuentran dentro de {...}. Si la condiciÃ³n no se cumple (es decir,[m
[32m+[m
[32m+[m[32mwww.librosweb.es           27[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32msi su valor es false) no se ejecuta ninguna instrucciÃ³n contenida en {...} y el programa[m
[32m+[m[32mcontinÃºa ejecutando el resto de instrucciones del script.[m
[32m+[m
[32m+[m[32mEjemplo:[m
[32m+[m
[32m+[m[32m     var mostrarMensaje = true;[m
[32m+[m
[32m+[m[32m     if(mostrarMensaje) {[m
[32m+[m[32m         alert("Hola Mundo");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, el mensaje sÃ­ que se muestra al usuario ya que la variable[m
[32m+[m[32mmostrarMensaje tiene un valor de true y por tanto, el programa entra dentro del bloque[m
[32m+[m[32mde instrucciones del if.[m
[32m+[m
[32m+[m[32mEl ejemplo se podrÃ­a reescribir tambiÃ©n como:[m
[32m+[m
[32m+[m[32m     var mostrarMensaje = true;[m
[32m+[m
[32m+[m[32m     if(mostrarMensaje == true) {[m
[32m+[m[32m         alert("Hola Mundo");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn este caso, la condiciÃ³n es una comparaciÃ³n entre el valor de la variable[m
[32m+[m[32mmostrarMensaje y el valor true. Como los dos valores coinciden, la igualdad se cumple y[m
[32m+[m[32mpor tanto la condiciÃ³n es cierta, su valor es true y se ejecutan las instrucciones[m
[32m+[m[32mcontenidas en ese bloque del if.[m
[32m+[m
[32m+[m[32mLa comparaciÃ³n del ejemplo anterior suele ser el origen de muchos errores de[m
[32m+[m[32mprogramaciÃ³n, al confundir los operadores == y =. Las comparaciones siempre se[m
[32m+[m[32mrealizan con el operador ==, ya que el operador = solamente asigna valores:[m
[32m+[m
[32m+[m[32m     var mostrarMensaje = true;[m
[32m+[m
[32m+[m[32m     // Se comparan los dos valores[m
[32m+[m[32m     if(mostrarMensaje == false) {[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     // Error - Se asigna el valor "false" a la variable[m
[32m+[m[32m     if(mostrarMensaje = false) {[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa condiciÃ³n que controla el if() puede combinar los diferentes operadores lÃ³gicos y[m
[32m+[m[32mrelacionales mostrados anteriormente:[m
[32m+[m
[32m+[m[32m     var mostrado = false;[m
[32m+[m
[32m+[m[32m     if(!mostrado) {[m
[32m+[m[32m         alert("Es la primera vez que se muestra el mensaje");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es           28[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mLos operadores AND y OR permiten encadenar varias condiciones simples para construir[m
[32m+[m[32mcondiciones complejas:[m
[32m+[m
[32m+[m[32m     var mostrado = false;[m
[32m+[m[32m     var usuarioPermiteMensajes = true;[m
[32m+[m
[32m+[m[32m     if(!mostrado && usuarioPermiteMensajes) {[m
[32m+[m[32m         alert("Es la primera vez que se muestra el mensaje");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa condiciÃ³n anterior estÃ¡ formada por una operaciÃ³n AND sobre dos variables. A su vez,[m
[32m+[m[32ma la primera variable se le aplica el operador de negaciÃ³n antes de realizar la operaciÃ³n[m
[32m+[m[32mAND. De esta forma, como el valor de mostrado es false, el valor !mostrado serÃ­a true.[m
[32m+[m[32mComo la variable usuarioPermiteMensajes vale true, el resultado de !mostrado &&[m
[32m+[m[32musuarioPermiteMensajes serÃ­a igual a true && true, por lo que el resultado final de la[m
[32m+[m[32mcondiciÃ³n del if() serÃ­a true y por tanto, se ejecutan las instrucciones que se[m
[32m+[m[32mencuentran dentro del bloque del if().[m
[32m+[m
[32m+[m[32m Ejercicio 5[m
[32m+[m
[32m+[m[32mCompletar las condiciones de los if del siguiente script para que los mensajes de los[m
[32m+[m[32malert() se muestren siempre de forma correcta:[m
[32m+[m
[32m+[m[32m     var numero1 = 5;[m
[32m+[m[32m     var numero2 = 8;[m
[32m+[m
[32m+[m[32mif(...) {[m
[32m+[m[32m   alert("numero1 no es mayor que numero2");[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32mif(...) {[m
[32m+[m
[32m+[m[32m   alert("numero2 es positivo");[m
[32m+[m[32m}[m
[32m+[m[32mif(...) {[m
[32m+[m
[32m+[m[32m   alert("numero1 es negativo o distinto de cero");[m
[32m+[m[32m}[m
[32m+[m[32mif(...) {[m
[32m+[m
[32m+[m[32m   alert("Incrementar en 1 unidad el valor de numero1 no lo hace mayor o igual[m
[32m+[m[32mque numero2");[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m3.4.2. Estructura if...else[m
[32m+[m
[32m+[m[32mEn ocasiones, las decisiones que se deben realizar no son del tipo "si se cumple la[m
[32m+[m[32mcondiciÃ³n, hazlo; si no se cumple, no hagas nada". Normalmente las condiciones suelen[m
[32m+[m[32mser del tipo "si se cumple esta condiciÃ³n, hazlo; si no se cumple, haz esto otro".[m
[32m+[m
[32m+[m[32mPara este segundo tipo de decisiones, existe una variante de la estructura if llamada[m
[32m+[m[32mif...else. Su definiciÃ³n formal es la siguiente:[m
[32m+[m
[32m+[m[32m     if(condicion) {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     else {[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                29[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi la condiciÃ³n se cumple (es decir, si su valor es true) se ejecutan todas las[m
[32m+[m[32minstrucciones que se encuentran dentro del if(). Si la condiciÃ³n no se cumple (es decir,[m
[32m+[m[32msi su valor es false) se ejecutan todas las instrucciones contenidas en else { }.[m
[32m+[m[32mEjemplo:[m
[32m+[m
[32m+[m[32m     var edad = 18;[m
[32m+[m
[32m+[m[32m     if(edad >= 18) {[m
[32m+[m[32m         alert("Eres mayor de edad");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     else {[m
[32m+[m
[32m+[m[32m         alert("TodavÃ­a eres menor de edad");[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi el valor de la variable edad es mayor o igual que el valor numÃ©rico 18, la condiciÃ³n del[m
[32m+[m[32mif() se cumple y por tanto, se ejecutan sus instrucciones y se muestra el mensaje "Eres[m
[32m+[m[32mmayor de edad". Sin embargo, cuando el valor de la variable edad no es igual o mayor[m
[32m+[m[32mque 18, la condiciÃ³n del if() no se cumple, por lo que automÃ¡ticamente se ejecutan[m
[32m+[m[32mtodas las instrucciones del bloque else { }. En este caso, se mostrarÃ­a el mensaje[m
[32m+[m[32m"TodavÃ­a eres menor de edad".[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo compara variables de tipo cadena de texto:[m
[32m+[m
[32m+[m[32m     var nombre = "";[m
[32m+[m
[32m+[m[32m     if(nombre == "") {[m
[32m+[m[32m         alert("AÃºn no nos has dicho tu nombre");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     else {[m
[32m+[m
[32m+[m[32m         alert("Hemos guardado tu nombre");[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa condiciÃ³n del if() anterior se construye mediante el operador ==, que es el que se[m
[32m+[m[32memplea para comparar dos valores (no confundir con el operador = que se utiliza para[m
[32m+[m[32masignar valores). En el ejemplo anterior, si la cadena de texto almacenada en la variable[m
[32m+[m[32mnombre es vacÃ­a (es decir, es igual a "") se muestra el mensaje definido en el if(). En[m
[32m+[m[32motro caso, se muestra el mensaje definido en el bloque else { }.[m
[32m+[m
[32m+[m[32mLa estructura if...else se puede encadenar para realizar varias comprobaciones[m
[32m+[m[32mseguidas:[m
[32m+[m
[32m+[m[32m     if(edad < 12) {[m
[32m+[m[32m         alert("TodavÃ­a eres muy pequeÃ±o");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     else if(edad < 19) {[m
[32m+[m
[32m+[m[32m         alert("Eres un adolescente");[m
[32m+[m[32m     }[m
[32m+[m[32m     else if(edad < 35) {[m
[32m+[m
[32m+[m[32m         alert("Aun sigues siendo joven");[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es           30[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32m     else {[m
[32m+[m[32m         alert("Piensa en cuidarte un poco mÃ¡s");[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mNo es obligatorio que la combinaciÃ³n de estructuras if...else acabe con la instrucciÃ³n[m
[32m+[m[32melse, ya que puede terminar con una instrucciÃ³n de tipo else if().[m
[32m+[m
[32m+[m[32m Ejercicio 6[m
[32m+[m
[32m+[m[32mEl cÃ¡lculo de la letra del Documento Nacional de Identidad (DNI) es un proceso matemÃ¡tico[m
[32m+[m[32msencillo que se basa en obtener el resto de la divisiÃ³n entera del nÃºmero de DNI y el nÃºmero[m
[32m+[m[32m23. A partir del resto de la divisiÃ³n, se obtiene la letra seleccionÃ¡ndola dentro de un array de[m
[32m+[m[32mletras.[m
[32m+[m
[32m+[m[32mEl array de letras es:[m
[32m+[m
[32m+[m[32mvar letras = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B',[m
[32m+[m[32m'N', 'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E', 'T'];[m
[32m+[m
[32m+[m[32mPor tanto si el resto de la divisiÃ³n es 0, la letra del DNI es la T y si el resto es 3 la letra es la A.[m
[32m+[m[32mCon estos datos, elaborar un pequeÃ±o script que:[m
[32m+[m
[32m+[m[32m      1. Almacene en una variable el nÃºmero de DNI indicado por el usuario y en otra[m
[32m+[m[32m           variable la letra del DNI que se ha indicado. (Pista: si se quiere pedir directamente[m
[32m+[m[32m           al usuario que indique su nÃºmero y su letra, se puede utilizar la funciÃ³n prompt())[m
[32m+[m
[32m+[m[32m      2. En primer lugar (y en una sola instrucciÃ³n) se debe comprobar si el nÃºmero es[m
[32m+[m[32m           menor que 0 o mayor que 99999999. Si ese es el caso, se muestra un mensaje al[m
[32m+[m[32m           usuario indicando que el nÃºmero proporcionado no es vÃ¡lido y el programa no[m
[32m+[m[32m           muestra mÃ¡s mensajes.[m
[32m+[m
[32m+[m[32m      3. Si el nÃºmero es vÃ¡lido, se calcula la letra que le corresponde segÃºn el mÃ©todo[m
[32m+[m[32m           explicado anteriormente.[m
[32m+[m
[32m+[m[32m      4. Una vez calculada la letra, se debe comparar con la letra indicada por el usuario. Si[m
[32m+[m[32m           no coinciden, se muestra un mensaje al usuario diciÃ©ndole que la letra que ha[m
[32m+[m[32m           indicado no es correcta. En otro caso, se muestra un mensaje indicando que el[m
[32m+[m[32m           nÃºmero y la letra de DNI son correctos.[m
[32m+[m
[32m+[m[32m3.4.3. Estructura for[m
[32m+[m
[32m+[m[32mLas estructuras if y if...else no son muy eficientes cuando se desea ejecutar de forma[m
[32m+[m[32mrepetitiva una instrucciÃ³n. Por ejemplo, si se quiere mostrar un mensaje cinco veces, se[m
[32m+[m[32mpodrÃ­a pensar en utilizar el siguiente if:[m
[32m+[m
[32m+[m[32m     var veces = 0;[m
[32m+[m
[32m+[m[32m     if(veces < 4) {[m
[32m+[m[32m         alert("Mensaje");[m
[32m+[m[32m         veces++;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es           31[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mSe comprueba si la variable veces es menor que 4. Si se cumple, se entra dentro del if(),[m
[32m+[m[32mse muestra el mensaje y se incrementa el valor de la variable veces. AsÃ­ se deberÃ­a seguir[m
[32m+[m[32mejecutando hasta mostrar el mensaje las cinco veces deseadas.[m
[32m+[m
[32m+[m[32mSin embargo, el funcionamiento real del script anterior es muy diferente al deseado, ya[m
[32m+[m[32mque solamente se muestra una vez el mensaje por pantalla. La razÃ³n es que la ejecuciÃ³n[m
[32m+[m[32mde la estructura if() no se repite y la comprobaciÃ³n de la condiciÃ³n sÃ³lo se realiza una[m
[32m+[m[32mvez, independientemente de que dentro del if() se modifique el valor de la variable[m
[32m+[m[32mutilizada en la condiciÃ³n.[m
[32m+[m
[32m+[m[32mLa estructura for permite realizar este tipo de repeticiones (tambiÃ©n llamadas bucles)[m
[32m+[m[32mde una forma muy sencilla. No obstante, su definiciÃ³n formal no es tan sencilla como la[m
[32m+[m[32mde if():[m
[32m+[m
[32m+[m[32m     for(inicializacion; condicion; actualizacion) {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa idea del funcionamiento de un bucle for es la siguiente: "mientras la condiciÃ³n[m
[32m+[m[32mindicada se siga cumpliendo, repite la ejecuciÃ³n de las instrucciones definidas dentro del[m
[32m+[m[32mfor. AdemÃ¡s, despuÃ©s de cada repeticiÃ³n, actualiza el valor de las variables que se utilizan[m
[32m+[m[32men la condiciÃ³n".[m
[32m+[m
[32m+[m[32m    â–ª La "inicializaciÃ³n" es la zona en la que se establece los valores iniciales de las[m
[32m+[m[32m       variables que controlan la repeticiÃ³n.[m
[32m+[m
[32m+[m[32m    â–ª La "condiciÃ³n" es el Ãºnico elemento que decide si continua o se detiene la[m
[32m+[m[32m       repeticiÃ³n.[m
[32m+[m
[32m+[m[32m    â–ª La "actualizaciÃ³n" es el nuevo valor que se asigna despuÃ©s de cada repeticiÃ³n a las[m
[32m+[m[32m       variables que controlan la repeticiÃ³n.[m
[32m+[m
[32m+[m[32m     var mensaje = "Hola, estoy dentro de un bucle";[m
[32m+[m
[32m+[m[32m     for(var i = 0; i < 5; i++) {[m
[32m+[m[32m         alert(mensaje);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa parte de la inicializaciÃ³n del bucle consiste en:[m
[32m+[m
[32m+[m[32m     var i = 0;[m
[32m+[m
[32m+[m[32mPor tanto, en primer lugar se crea la variable i y se le asigna el valor de 0. Esta zona de[m
[32m+[m[32minicializaciÃ³n solamente se tiene en consideraciÃ³n justo antes de comenzar a ejecutar el[m
[32m+[m[32mbucle. Las siguientes repeticiones no tienen en cuenta esta parte de inicializaciÃ³n.[m
[32m+[m
[32m+[m[32mLa zona de condiciÃ³n del bucle es:[m
[32m+[m
[32m+[m[32m     i<5[m
[32m+[m
[32m+[m[32mLos bucles se siguen ejecutando mientras se cumplan las condiciones y se dejan de[m
[32m+[m[32mejecutar justo despuÃ©s de comprobar que la condiciÃ³n no se cumple. En este caso,[m
[32m+[m[32mmientras la variable i valga menos de 5 el bucle se ejecuta indefinidamente.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           32[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mComo la variable i se ha inicializado a un valor de 0 y la condiciÃ³n para salir del bucle es[m
[32m+[m[32mque i sea menor que 5, si no se modifica el valor de i de alguna forma, el bucle se[m
[32m+[m[32mrepetirÃ­a indefinidamente.[m
[32m+[m
[32m+[m[32mPor ese motivo, es imprescindible indicar la zona de actualizaciÃ³n, en la que se modifica[m
[32m+[m[32mel valor de las variables que controlan el bucle:[m
[32m+[m
[32m+[m[32m     i++[m
[32m+[m
[32m+[m[32mEn este caso, el valor de la variable i se incrementa en una unidad despuÃ©s de cada[m
[32m+[m[32mrepeticiÃ³n. La zona de actualizaciÃ³n se ejecuta despuÃ©s de la ejecuciÃ³n de las[m
[32m+[m[32minstrucciones que incluye el for.[m
[32m+[m
[32m+[m[32mAsÃ­, durante la ejecuciÃ³n de la quinta repeticiÃ³n el valor de i serÃ¡ 4. DespuÃ©s de la quinta[m
[32m+[m[32mejecuciÃ³n, se actualiza el valor de i, que ahora valdrÃ¡ 5. Como la condiciÃ³n es que i sea[m
[32m+[m[32mmenor que 5, la condiciÃ³n ya no se cumple y las instrucciones del for no se ejecutan una[m
[32m+[m[32msexta vez.[m
[32m+[m
[32m+[m[32mNormalmente, la variable que controla los bucles for se llama i, ya que recuerda a la[m
[32m+[m[32mpalabra Ã­ndice y su nombre tan corto ahorra mucho tiempo y espacio.[m
[32m+[m
[32m+[m[32mEl ejemplo anterior que mostraba los dÃ­as de la semana contenidos en un array se puede[m
[32m+[m[32mrehacer de forma mÃ¡s sencilla utilizando la estructura for:[m
[32m+[m
[32m+[m[32m     var dias = ["Lunes", "Martes", "MiÃ©rcoles", "Jueves", "Viernes", "SÃ¡bado",[m
[32m+[m[32m     "Domingo"];[m
[32m+[m
[32m+[m[32m     for(var i=0; i<7; i++) {[m
[32m+[m[32m         alert(dias[i]);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m Ejercicio 7[m
[32m+[m
[32m+[m[32mEl factorial de un nÃºmero entero n es una operaciÃ³n matemÃ¡tica que consiste en multiplicar[m
[32m+[m[32mtodos los factores n x (n-1) x (n-2) x ... x 1. AsÃ­, el factorial de 5 (escrito como 5!)[m
[32m+[m[32mes igual a: 5! = 5 x 4 x 3 x 2 x 1 = 120[m
[32m+[m
[32m+[m[32mUtilizando la estructura for, crear un script que calcule el factorial de un nÃºmero entero.[m
[32m+[m
[32m+[m[32m3.4.4. Estructura for...in[m
[32m+[m
[32m+[m[32mUna estructura de control derivada de for es la estructura for...in. Su definiciÃ³n[m
[32m+[m[32mexacta implica el uso de objetos, que es un elemento de programaciÃ³n avanzada que no[m
[32m+[m[32mse va a estudiar. Por tanto, solamente se va a presentar la estructura for...in adaptada[m
[32m+[m[32ma su uso en arrays. Su definiciÃ³n formal adaptada a los arrays es:[m
[32m+[m
[32m+[m[32m     for(indice in array) {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se quieren recorrer todos los elementos que forman un array, la estructura for...in[m
[32m+[m[32mes la forma mÃ¡s eficiente de hacerlo, como se muestra en el siguiente ejemplo:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           33[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32m     var dias = ["Lunes", "Martes", "MiÃ©rcoles", "Jueves", "Viernes", "SÃ¡bado",[m
[32m+[m[32m     "Domingo"];[m
[32m+[m
[32m+[m[32m     for(i in dias) {[m
[32m+[m[32m         alert(dias[i]);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa variable que se indica como indice es la que se puede utilizar dentro del bucle[m
[32m+[m[32mfor...in para acceder a los elementos del array. De esta forma, en la primera repeticiÃ³n[m
[32m+[m[32mdel bucle la variable i vale 0 y en la Ãºltima vale 6.[m
[32m+[m
[32m+[m[32mEsta estructura de control es la mÃ¡s adecuada para recorrer arrays (y objetos), ya que[m
[32m+[m[32mevita tener que indicar la inicializaciÃ³n y las condiciones del bucle for simple y funciona[m
[32m+[m[32mcorrectamente cualquiera que sea la longitud del array. De hecho, sigue funcionando[m
[32m+[m[32migual aunque varÃ­e el nÃºmero de elementos del array.[m
[32m+[m
[32m+[m[32m3.5. Funciones y propiedades bÃ¡sicas de JavaScript[m
[32m+[m
[32m+[m[32mJavaScript incorpora una serie de herramientas y utilidades (llamadas funciones y[m
[32m+[m[32mpropiedades, como se verÃ¡ mÃ¡s adelante) para el manejo de las variables. De esta forma,[m
[32m+[m[32mmuchas de las operaciones bÃ¡sicas con las variables, se pueden realizar directamente[m
[32m+[m[32mcon las utilidades que ofrece JavaScript.[m
[32m+[m
[32m+[m[32m3.5.1. Funciones Ãºtiles para cadenas de texto[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran algunas de las funciones mÃ¡s Ãºtiles para el manejo de[m
[32m+[m[32mcadenas de texto:[m
[32m+[m
[32m+[m[32mlength, calcula la longitud de una cadena de texto (el nÃºmero de caracteres que la[m
[32m+[m[32mforman)[m
[32m+[m
[32m+[m[32m     var mensaje = "Hola Mundo";[m
[32m+[m[32m     var numeroLetras = mensaje.length; // numeroLetras = 10[m
[32m+[m
[32m+[m[32m+, se emplea para concatenar varias cadenas de texto[m
[32m+[m
[32m+[m[32m     var mensaje1 = "Hola";[m
[32m+[m[32m     var mensaje2 = " Mundo";[m
[32m+[m[32m     var mensaje = mensaje1 + mensaje2; // mensaje = "Hola Mundo"[m
[32m+[m
[32m+[m[32mAdemÃ¡s del operador +, tambiÃ©n se puede utilizar la funciÃ³n concat()[m
[32m+[m
[32m+[m[32m     var mensaje1 = "Hola";[m
[32m+[m[32m     var mensaje2 = mensaje1.concat(" Mundo"); // mensaje2 = "Hola Mundo"[m
[32m+[m
[32m+[m[32mLas cadenas de texto tambiÃ©n se pueden unir con variables numÃ©ricas:[m
[32m+[m
[32m+[m[32m     var variable1 = "Hola ";[m
[32m+[m[32m     var variable2 = 3;[m
[32m+[m[32m     var mensaje = variable1 + variable2; // mensaje = "Hola 3"[m
[32m+[m
[32m+[m[32mCuando se unen varias cadenas de texto es habitual olvidar aÃ±adir un espacio de[m
[32m+[m[32mseparaciÃ³n entre las palabras:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           34[m
[32m+[m[32mIntroducciÃ³n a JavaScript                               CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mvar mensaje1 = "Hola";[m
[32m+[m[32mvar mensaje2 = "Mundo";[m
[32m+[m[32mvar mensaje = mensaje1 + mensaje2; // mensaje = "HolaMundo"[m
[32m+[m
[32m+[m[32mLos espacios en blanco se pueden aÃ±adir al final o al principio de las cadenas y tambiÃ©n[m
[32m+[m[32mse pueden indicar forma explÃ­cita:[m
[32m+[m
[32m+[m[32mvar mensaje1 = "Hola";[m
[32m+[m[32mvar mensaje2 = "Mundo";[m
[32m+[m[32mvar mensaje = mensaje1 + " " + mensaje2; // mensaje = "Hola Mundo"[m
[32m+[m
[32m+[m[32mtoUpperCase(), transforma todos los caracteres de la cadena a sus correspondientes[m
[32m+[m[32mcaracteres en mayÃºsculas:[m
[32m+[m
[32m+[m[32mvar mensaje1 = "Hola";[m
[32m+[m[32mvar mensaje2 = mensaje1.toUpperCase(); // mensaje2 = "HOLA"[m
[32m+[m
[32m+[m[32mtoLowerCase(), transforma todos los caracteres de la cadena a sus correspondientes[m
[32m+[m[32mcaracteres en minÃºsculas:[m
[32m+[m
[32m+[m[32mvar mensaje1 = "HolA";[m
[32m+[m[32mvar mensaje2 = mensaje1.toLowerCase(); // mensaje2 = "hola"[m
[32m+[m
[32m+[m[32mcharAt(posicion), obtiene el carÃ¡cter que se encuentra en la posiciÃ³n indicada:[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola";[m
[32m+[m
[32m+[m[32mvar letra = mensaje.charAt(0); // letra = H[m
[32m+[m
[32m+[m[32mletra = mensaje.charAt(2);  // letra = l[m
[32m+[m
[32m+[m[32mindexOf(caracter), calcula la posiciÃ³n en la que se encuentra el carÃ¡cter indicado[m
[32m+[m[32mdentro de la cadena de texto. Si el carÃ¡cter se incluye varias veces dentro de la cadena de[m
[32m+[m[32mtexto, se devuelve su primera posiciÃ³n empezando a buscar desde la izquierda. Si la[m
[32m+[m[32mcadena no contiene el carÃ¡cter, la funciÃ³n devuelve el valor -1:[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola";[m
[32m+[m
[32m+[m[32mvar posicion = mensaje.indexOf('a'); // posicion = 3[m
[32m+[m
[32m+[m[32mposicion = mensaje.indexOf('b');      // posicion = -1[m
[32m+[m
[32m+[m[32mSu funciÃ³n anÃ¡loga es lastIndexOf():[m
[32m+[m
[32m+[m[32mlastIndexOf(caracter), calcula la Ãºltima posiciÃ³n en la que se encuentra el carÃ¡cter[m
[32m+[m[32mindicado dentro de la cadena de texto. Si la cadena no contiene el carÃ¡cter, la funciÃ³n[m
[32m+[m[32mdevuelve el valor -1:[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola";[m
[32m+[m
[32m+[m[32mvar posicion = mensaje.lastIndexOf('a'); // posicion = 3[m
[32m+[m
[32m+[m[32mposicion = mensaje.lastIndexOf('b');  // posicion = -1[m
[32m+[m
[32m+[m[32mLa funciÃ³n lastIndexOf() comienza su bÃºsqueda desde el final de la cadena hacia el[m
[32m+[m[32mprincipio, aunque la posiciÃ³n devuelta es la correcta empezando a contar desde el[m
[32m+[m[32mprincipio de la palabra.[m
[32m+[m
[32m+[m[32msubstring(inicio, final), extrae una porciÃ³n de una cadena de texto. El segundo[m
[32m+[m[32mparÃ¡metro es opcional. Si sÃ³lo se indica el parÃ¡metro inicio, la funciÃ³n devuelve la[m
[32m+[m[32mparte de la cadena original correspondiente desde esa posiciÃ³n hasta el final:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 35[m
[32m+[m[32mIntroducciÃ³n a JavaScript                               CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola Mundo";[m
[32m+[m
[32m+[m[32mvar porcion = mensaje.substring(2); // porcion = "la Mundo"[m
[32m+[m
[32m+[m[32mporcion = mensaje.substring(5);     // porcion = "Mundo"[m
[32m+[m
[32m+[m[32mporcion = mensaje.substring(7);     // porcion = "ndo"[m
[32m+[m
[32m+[m[32mSi se indica un inicio negativo, se devuelve la misma cadena original:[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola Mundo";[m
[32m+[m[32mvar porcion = mensaje.substring(-2); // porcion = "Hola Mundo"[m
[32m+[m
[32m+[m[32mCuando se indica el inicio y el final, se devuelve la parte de la cadena original[m
[32m+[m[32mcomprendida entre la posiciÃ³n inicial y la inmediatamente anterior a la posiciÃ³n final (es[m
[32m+[m[32mdecir, la posiciÃ³n inicio estÃ¡ incluida y la posiciÃ³n final no):[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola Mundo";[m
[32m+[m
[32m+[m[32mvar porcion = mensaje.substring(1, 8); // porcion = "ola Mun"[m
[32m+[m
[32m+[m[32mporcion = mensaje.substring(3, 4);  // porcion = "a"[m
[32m+[m
[32m+[m[32mSi se indica un final mÃ¡s pequeÃ±o que el inicio, JavaScript los considera de forma[m
[32m+[m[32minversa, ya que automÃ¡ticamente asigna el valor mÃ¡s pequeÃ±o al inicio y el mÃ¡s grande[m
[32m+[m[32mal final:[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola Mundo";[m
[32m+[m
[32m+[m[32mvar porcion = mensaje.substring(5, 0); // porcion = "Hola "[m
[32m+[m
[32m+[m[32mporcion = mensaje.substring(0, 5);  // porcion = "Hola "[m
[32m+[m
[32m+[m[32msplit(separador), convierte una cadena de texto en un array de cadenas de texto. La[m
[32m+[m[32mfunciÃ³n parte la cadena de texto determinando sus trozos a partir del carÃ¡cter[m
[32m+[m[32mseparador indicado:[m
[32m+[m
[32m+[m[32mvar mensaje = "Hola Mundo, soy una cadena de texto!";[m
[32m+[m[32mvar palabras = mensaje.split(" ");[m
[32m+[m[32m// palabras = ["Hola", "Mundo,", "soy", "una", "cadena", "de", "texto!"];[m
[32m+[m
[32m+[m[32mCon esta funciÃ³n se pueden extraer fÃ¡cilmente las letras que forman una palabra:[m
[32m+[m
[32m+[m[32mvar palabra = "Hola";[m
[32m+[m[32mvar letras = palabra.split(""); // letras = ["H", "o", "l", "a"][m
[32m+[m
[32m+[m[32m3.5.2. Funciones Ãºtiles para arrays[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran algunas de las funciones mÃ¡s Ãºtiles para el manejo de[m
[32m+[m[32marrays:[m
[32m+[m
[32m+[m[32mlength, calcula el nÃºmero de elementos de un array[m
[32m+[m
[32m+[m[32m     var vocales = ["a", "e", "i", "o", "u"];[m
[32m+[m[32m     var numeroVocales = vocales.length; // numeroVocales = 5[m
[32m+[m
[32m+[m[32mconcat(), se emplea para concatenar los elementos de varios arrays[m
[32m+[m
[32m+[m[32m     var array1 = [1, 2, 3];[m
[32m+[m[32m     array2 = array1.concat(4, 5, 6); // array2 = [1, 2, 3, 4, 5, 6][m
[32m+[m[32m     array3 = array1.concat([4, 5, 6]); // array3 = [1, 2, 3, 4, 5, 6][m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  36[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32mjoin(separador), es la funciÃ³n contraria a split(). Une todos los elementos de un[m
[32m+[m[32marray para formar una cadena de texto. Para unir los elementos se utiliza el carÃ¡cter[m
[32m+[m[32mseparador indicado[m
[32m+[m
[32m+[m[32m     var array = ["hola", "mundo"];[m
[32m+[m[32m     var mensaje = array.join(""); // mensaje = "holamundo"[m
[32m+[m[32m     mensaje = array.join(" "); // mensaje = "hola mundo"[m
[32m+[m
[32m+[m[32mpop(), elimina el Ãºltimo elemento del array y lo devuelve. El array original se modifica y[m
[32m+[m[32msu longitud disminuye en 1 elemento.[m
[32m+[m
[32m+[m[32m     var array = [1, 2, 3];[m
[32m+[m[32m     var ultimo = array.pop();[m
[32m+[m[32m     // ahora array = [1, 2], ultimo = 3[m
[32m+[m
[32m+[m[32mpush(), aÃ±ade un elemento al final del array. El array original se modifica y aumenta su[m
[32m+[m[32mlongitud en 1 elemento. (TambiÃ©n es posible aÃ±adir mÃ¡s de un elemento a la vez)[m
[32m+[m
[32m+[m[32m     var array = [1, 2, 3];[m
[32m+[m[32m     array.push(4);[m
[32m+[m[32m     // ahora array = [1, 2, 3, 4][m
[32m+[m
[32m+[m[32mshift(), elimina el primer elemento del array y lo devuelve. El array original se ve[m
[32m+[m[32mmodificado y su longitud disminuida en 1 elemento.[m
[32m+[m
[32m+[m[32m     var array = [1, 2, 3];[m
[32m+[m[32m     var primero = array.shift();[m
[32m+[m[32m     // ahora array = [2, 3], primero = 1[m
[32m+[m
[32m+[m[32munshift(), aÃ±ade un elemento al principio del array. El array original se modifica y[m
[32m+[m[32maumenta su longitud en 1 elemento. (TambiÃ©n es posible aÃ±adir mÃ¡s de un elemento a la[m
[32m+[m[32mvez)[m
[32m+[m
[32m+[m[32m     var array = [1, 2, 3];[m
[32m+[m[32m     array.unshift(0);[m
[32m+[m[32m     // ahora array = [0, 1, 2, 3][m
[32m+[m
[32m+[m[32mreverse(), modifica un array colocando sus elementos en el orden inverso a su posiciÃ³n[m
[32m+[m[32moriginal:[m
[32m+[m
[32m+[m[32m     var array = [1, 2, 3];[m
[32m+[m[32m     array.reverse();[m
[32m+[m[32m     // ahora array = [3, 2, 1][m
[32m+[m
[32m+[m[32m3.5.3. Funciones Ãºtiles para nÃºmeros[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran algunas de las funciones y propiedades mÃ¡s Ãºtiles para el[m
[32m+[m[32mmanejo de nÃºmeros.[m
[32m+[m
[32m+[m[32mNaN, (del inglÃ©s, "Not a Number") JavaScript emplea el valor NaN para indicar un valor[m
[32m+[m[32mnumÃ©rico no definido (por ejemplo, la divisiÃ³n 0/0).[m
[32m+[m
[32m+[m[32m     var numero1 = 0;[m
[32m+[m[32m     var numero2 = 0;[m
[32m+[m[32m     alert(numero1/numero2); // se muestra el valor NaN[m
[32m+[m
[32m+[m[32mwww.librosweb.es           37[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 3. ProgramaciÃ³n bÃ¡sica[m
[32m+[m
[32m+[m[32misNaN(), permite proteger a la aplicaciÃ³n de posibles valores numÃ©ricos no definidos[m
[32m+[m
[32m+[m[32m     var numero1 = 0;[m
[32m+[m[32m     var numero2 = 0;[m
[32m+[m[32m     if(isNaN(numero1/numero2)) {[m
[32m+[m
[32m+[m[32m         alert("La divisiÃ³n no estÃ¡ definida para los nÃºmeros indicados");[m
[32m+[m[32m     }[m
[32m+[m[32m     else {[m
[32m+[m
[32m+[m[32m         alert("La divisiÃ³n es igual a => " + numero1/numero2);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mInfinity, hace referencia a un valor numÃ©rico infinito y positivo (tambiÃ©n existe el valor[m
[32m+[m[32mâ€“Infinity para los infinitos negativos)[m
[32m+[m
[32m+[m[32m     var numero1 = 10;[m
[32m+[m[32m     var numero2 = 0;[m
[32m+[m[32m     alert(numero1/numero2); // se muestra el valor Infinity[m
[32m+[m
[32m+[m[32mtoFixed(digitos), devuelve el nÃºmero original con tantos decimales como los[m
[32m+[m[32mindicados por el parÃ¡metro digitos y realiza los redondeos necesarios. Se trata de una[m
[32m+[m[32mfunciÃ³n muy Ãºtil por ejemplo para mostrar precios.[m
[32m+[m
[32m+[m[32m     var numero1 = 4564.34567;[m
[32m+[m[32m     numero1.toFixed(2); // 4564.35[m
[32m+[m[32m     numero1.toFixed(6); // 4564.345670[m
[32m+[m[32m     numero1.toFixed(); // 4564[m
[32m+[m
[32m+[m[32mwww.librosweb.es           38[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32mCapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32mLas estructuras de control, los operadores y todas las utilidades propias de JavaScript[m
[32m+[m[32mque se han visto en los capÃ­tulos anteriores, permiten crear scripts sencillos y de[m
[32m+[m[32mmediana complejidad.[m
[32m+[m
[32m+[m[32mSin embargo, para las aplicaciones mÃ¡s complejas son necesarios otros elementos como[m
[32m+[m[32mlas funciones y otras estructuras de control mÃ¡s avanzadas, que se describen en este[m
[32m+[m[32mcapÃ­tulo.[m
[32m+[m
[32m+[m[32m4.1. Funciones[m
[32m+[m
[32m+[m[32mCuando se desarrolla una aplicaciÃ³n compleja, es muy habitual utilizar una y otra vez las[m
[32m+[m[32mmismas instrucciones. Un script para una tienda de comercio electrÃ³nico por ejemplo,[m
[32m+[m[32mtiene que calcular el precio total de los productos varias veces, para aÃ±adir los[m
[32m+[m[32mimpuestos y los gastos de envÃ­o.[m
[32m+[m
[32m+[m[32mCuando una serie de instrucciones se repiten una y otra vez, se complica demasiado el[m
[32m+[m[32mcÃ³digo fuente de la aplicaciÃ³n, ya que:[m
[32m+[m
[32m+[m[32m    â–ª El cÃ³digo de la aplicaciÃ³n es mucho mÃ¡s largo porque muchas instrucciones estÃ¡n[m
[32m+[m[32m       repetidas.[m
[32m+[m
[32m+[m[32m    â–ª Si se quiere modificar alguna de las instrucciones repetidas, se deben hacer tantas[m
[32m+[m[32m       modificaciones como veces se haya escrito esa instrucciÃ³n, lo que se convierte en[m
[32m+[m[32m       un trabajo muy pesado y muy propenso a cometer errores.[m
[32m+[m
[32m+[m[32mLas funciones son la soluciÃ³n a todos estos problemas, tanto en JavaScript como en el[m
[32m+[m[32mresto de lenguajes de programaciÃ³n. Una funciÃ³n es un conjunto de instrucciones que se[m
[32m+[m[32magrupan para realizar una tarea concreta y que se pueden reutilizar fÃ¡cilmente.[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, las instrucciones que suman los dos nÃºmeros y muestran un[m
[32m+[m[32mmensaje con el resultado se repiten una y otra vez:[m
[32m+[m
[32m+[m[32m     var resultado;[m
[32m+[m
[32m+[m[32m     var numero1 = 3;[m
[32m+[m[32m     var numero2 = 5;[m
[32m+[m
[32m+[m[32m     // Se suman los nÃºmeros y se muestra el resultado[m
[32m+[m[32m     resultado = numero1 + numero2;[m
[32m+[m[32m     alert("El resultado es " + resultado);[m
[32m+[m
[32m+[m[32m     numero1 = 10;[m
[32m+[m[32m     numero2 = 7;[m
[32m+[m
[32m+[m[32m     // Se suman los nÃºmeros y se muestra el resultado[m
[32m+[m[32m     resultado = numero1 + numero2;[m
[32m+[m[32m     alert("El resultado es " + resultado);[m
[32m+[m
[32m+[m[32mwww.librosweb.es           39[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m     numero1 = 5;[m
[32m+[m[32m     numero2 = 8;[m
[32m+[m
[32m+[m[32m     // Se suman los nÃºmeros y se muestra el resultado[m
[32m+[m[32m     resultado = numero1 + numero2;[m
[32m+[m[32m     alert("El resultado es " + resultado);[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32mAunque es un ejemplo muy sencillo, parece evidente que repetir las mismas[m
[32m+[m[32minstrucciones a lo largo de todo el cÃ³digo no es algo recomendable. La soluciÃ³n que[m
[32m+[m[32mproponen las funciones consiste en extraer las instrucciones que se repiten y sustituirlas[m
[32m+[m[32mpor una instrucciÃ³n del tipo "en este punto, se ejecutan las instrucciones que se han[m
[32m+[m[32mextraÃ­do":[m
[32m+[m
[32m+[m[32m     var resultado;[m
[32m+[m
[32m+[m[32m     var numero1 = 3;[m
[32m+[m[32m     var numero2 = 5;[m
[32m+[m
[32m+[m[32m     /* En este punto, se llama a la funciÃ³n que suma[m
[32m+[m[32m            2 nÃºmeros y muestra el resultado */[m
[32m+[m
[32m+[m[32m     numero1 = 10;[m
[32m+[m[32m     numero2 = 7;[m
[32m+[m
[32m+[m[32m     /* En este punto, se llama a la funciÃ³n que suma[m
[32m+[m[32m            2 nÃºmeros y muestra el resultado */[m
[32m+[m
[32m+[m[32m     numero1 = 5;[m
[32m+[m[32m     numero2 = 8;[m
[32m+[m
[32m+[m[32m     /* En este punto, se llama a la funciÃ³n que suma[m
[32m+[m[32m            2 nÃºmeros y muestra el resultado */[m
[32m+[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32mPara que la soluciÃ³n del ejemplo anterior sea vÃ¡lida, las instrucciones comunes se tienen[m
[32m+[m[32mque agrupar en una funciÃ³n a la que se le puedan indicar los nÃºmeros que debe sumar[m
[32m+[m[32mantes de mostrar el mensaje.[m
[32m+[m
[32m+[m[32mPor lo tanto, en primer lugar se debe crear la funciÃ³n bÃ¡sica con las instrucciones[m
[32m+[m[32mcomunes. Las funciones en JavaScript se definen mediante la palabra reservada[m
[32m+[m[32mfunction, seguida del nombre de la funciÃ³n. Su definiciÃ³n formal es la siguiente:[m
[32m+[m
[32m+[m[32m     function nombre_funcion() {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl nombre de la funciÃ³n se utiliza para llamar a esa funciÃ³n cuando sea necesario. El[m
[32m+[m[32mconcepto es el mismo que con las variables, a las que se les asigna un nombre Ãºnico para[m
[32m+[m[32mpoder utilizarlas dentro del cÃ³digo. DespuÃ©s del nombre de la funciÃ³n, se incluyen dos[m
[32m+[m[32mparÃ©ntesis cuyo significado se detalla mÃ¡s adelante. Por Ãºltimo, los sÃ­mbolos { y } se[m
[32m+[m[32mutilizan para encerrar todas las instrucciones que pertenecen a la funciÃ³n (de forma[m
[32m+[m[32msimilar a como se encierran las instrucciones en las estructuras if o for).[m
[32m+[m
[32m+[m[32mwww.librosweb.es           40[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32mVolviendo al ejemplo anterior, se crea una funciÃ³n llamada suma_y_muestra de la[m
[32m+[m[32msiguiente forma:[m
[32m+[m
[32m+[m[32m     function suma_y_muestra() {[m
[32m+[m[32m         resultado = numero1 + numero2;[m
[32m+[m[32m         alert("El resultado es " + resultado);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mAunque la funciÃ³n anterior estÃ¡ correctamente creada, no funciona como deberÃ­a ya que[m
[32m+[m[32mle faltan los "argumentos", que se explican en la siguiente secciÃ³n. Una vez creada la[m
[32m+[m[32mfunciÃ³n, desde cualquier punto del cÃ³digo se puede llamar a la funciÃ³n para que se[m
[32m+[m[32mejecuten sus instrucciones (ademÃ¡s de "llamar a la funciÃ³n", tambiÃ©n se suele utilizar la[m
[32m+[m[32mexpresiÃ³n "invocar a la funciÃ³n").[m
[32m+[m
[32m+[m[32mLa llamada a la funciÃ³n se realiza simplemente indicando su nombre, incluyendo los[m
[32m+[m[32mparÃ©ntesis del final y el carÃ¡cter ; para terminar la instrucciÃ³n:[m
[32m+[m
[32m+[m[32m     function suma_y_muestra() {[m
[32m+[m[32m         resultado = numero1 + numero2;[m
[32m+[m[32m         alert("El resultado es " + resultado);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     var resultado;[m
[32m+[m
[32m+[m[32m     var numero1 = 3;[m
[32m+[m[32m     var numero2 = 5;[m
[32m+[m
[32m+[m[32m     suma_y_muestra();[m
[32m+[m
[32m+[m[32m     numero1 = 10;[m
[32m+[m[32m     numero2 = 7;[m
[32m+[m
[32m+[m[32m     suma_y_muestra();[m
[32m+[m
[32m+[m[32m     numero1 = 5;[m
[32m+[m[32m     numero2 = 8;[m
[32m+[m
[32m+[m[32m     suma_y_muestra();[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32mEl cÃ³digo del ejemplo anterior es mucho mÃ¡s eficiente que el primer cÃ³digo que se[m
[32m+[m[32mmostrÃ³, ya que no existen instrucciones repetidas. Las instrucciones que suman y[m
[32m+[m[32mmuestran mensajes se han agrupado bajo una funciÃ³n, lo que permite ejecutarlas en[m
[32m+[m[32mcualquier punto del programa simplemente indicando el nombre de la funciÃ³n.[m
[32m+[m
[32m+[m[32mLo Ãºnico que le falta al ejemplo anterior para funcionar correctamente es poder indicar a[m
[32m+[m[32mla funciÃ³n los nÃºmeros que debe sumar. Cuando se necesitan pasar datos a una funciÃ³n,[m
[32m+[m[32mse utilizan los "argumentos", como se explica en la siguiente secciÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           41[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m4.1.1. Argumentos y valores de retorno[m
[32m+[m
[32m+[m[32mLas funciones mÃ¡s sencillas no necesitan ninguna informaciÃ³n para producir sus[m
[32m+[m[32mresultados. Sin embargo, la mayorÃ­a de funciones de las aplicaciones reales deben[m
[32m+[m[32macceder al valor de algunas variables para producir sus resultados.[m
[32m+[m
[32m+[m[32mLas variables que necesitan las funciones se llaman argumentos. Antes de que pueda[m
[32m+[m[32mutilizarlos, la funciÃ³n debe indicar cuÃ¡ntos argumentos necesita y cuÃ¡l es el nombre de[m
[32m+[m[32mcada argumento. AdemÃ¡s, al invocar la funciÃ³n, se deben incluir los valores que se le van[m
[32m+[m[32ma pasar a la funciÃ³n. Los argumentos se indican dentro de los parÃ©ntesis que van detrÃ¡s[m
[32m+[m[32mdel nombre de la funciÃ³n y se separan con una coma (,).[m
[32m+[m
[32m+[m[32mSiguiendo el ejemplo anterior, la funciÃ³n debe indicar que necesita dos argumentos,[m
[32m+[m[32mcorrespondientes a los dos nÃºmeros que tiene que sumar:[m
[32m+[m
[32m+[m[32m     function suma_y_muestra(primerNumero, segundoNumero) { ... }[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, para utilizar el valor de los argumentos dentro de la funciÃ³n, se debe[m
[32m+[m[32memplear el mismo nombre con el que se definieron los argumentos:[m
[32m+[m
[32m+[m[32m     function suma_y_muestra(primerNumero, segundoNumero) { ... }[m
[32m+[m[32m         var resultado = primerNumero + segundoNumero;[m
[32m+[m[32m         alert("El resultado es " + resultado);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mDentro de la funciÃ³n, el valor de la variable primerNumero serÃ¡ igual al primer valor que[m
[32m+[m[32mse le pase a la funciÃ³n y el valor de la variable segundoNumero serÃ¡ igual al segundo valor[m
[32m+[m[32mque se le pasa. Para pasar valores a la funciÃ³n, se incluyen dentro de los parÃ©ntesis[m
[32m+[m[32mutilizados al llamar a la funciÃ³n:[m
[32m+[m
[32m+[m[32m     // DefiniciÃ³n de la funciÃ³n[m
[32m+[m[32m     function suma_y_muestra(primerNumero, segundoNumero) { ... }[m
[32m+[m
[32m+[m[32m         var resultado = primerNumero + segundoNumero;[m
[32m+[m[32m         alert("El resultado es " + resultado);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     // DeclaraciÃ³n de las variables[m
[32m+[m[32m     var numero1 = 3;[m
[32m+[m[32m     var numero2 = 5;[m
[32m+[m
[32m+[m[32m     // Llamada a la funciÃ³n[m
[32m+[m[32m     suma_y_muestra(numero1, numero2);[m
[32m+[m
[32m+[m[32mEn el cÃ³digo anterior, se debe tener en cuenta que:[m
[32m+[m
[32m+[m[32m    â–ª Aunque casi siempre se utilizan variables para pasar los datos a la funciÃ³n, se[m
[32m+[m[32m       podrÃ­a haber utilizado directamente el valor de esas variables:[m
[32m+[m[32m        suma_y_muestra(3, 5);[m
[32m+[m
[32m+[m[32m    â–ª El nÃºmero de argumentos que se pasa a una funciÃ³n deberÃ­a ser el mismo que el[m
[32m+[m[32m       nÃºmero de argumentos que ha indicado la funciÃ³n. No obstante, JavaScript no[m
[32m+[m[32m       muestra ningÃºn error si se pasan mÃ¡s o menos argumentos de los necesarios.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           42[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m    â–ª El orden de los argumentos es fundamental, ya que el primer dato que se indica en[m
[32m+[m[32m       la llamada, serÃ¡ el primer valor que espera la funciÃ³n; el segundo valor indicado[m
[32m+[m[32m       en la llamada, es el segundo valor que espera la funciÃ³n y asÃ­ sucesivamente.[m
[32m+[m
[32m+[m[32m    â–ª Se puede utilizar un nÃºmero ilimitado de argumentos, aunque si su nÃºmero es[m
[32m+[m[32m       muy grande, se complica en exceso la llamada a la funciÃ³n.[m
[32m+[m
[32m+[m[32m    â–ª No es obligatorio que coincida el nombre de los argumentos que utiliza la funciÃ³n[m
[32m+[m[32m       y el nombre de los argumentos que se le pasan. En el ejemplo anterior, los[m
[32m+[m[32m       argumentos que se pasan son numero1 y numero2 y los argumentos que utiliza la[m
[32m+[m[32m       funciÃ³n son primerNumero y segundoNumero.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra otro ejemplo de una funciÃ³n que calcula el precio total de un[m
[32m+[m[32mproducto a partir de su precio bÃ¡sico:[m
[32m+[m
[32m+[m[32m     // DefiniciÃ³n de la funciÃ³n[m
[32m+[m[32m     function calculaPrecioTotal(precio) {[m
[32m+[m
[32m+[m[32m         var impuestos = 1.16;[m
[32m+[m[32m         var gastosEnvio = 10;[m
[32m+[m[32m         var precioTotal = ( precio * impuestos ) + gastosEnvio;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     // Llamada a la funciÃ³n[m
[32m+[m[32m     calculaPrecioTotal(23.34);[m
[32m+[m
[32m+[m[32mLa funciÃ³n anterior toma como argumento una variable llamada precio y le suma los[m
[32m+[m[32mimpuestos y los gastos de envÃ­o para obtener el precio total. Al llamar a la funciÃ³n, se[m
[32m+[m[32mpasa directamente el valor del precio bÃ¡sico mediante el nÃºmero 23.34.[m
[32m+[m
[32m+[m[32mNo obstante, el cÃ³digo anterior no es demasiado Ãºtil, ya que lo ideal serÃ­a que la funciÃ³n[m
[32m+[m[32mpudiera devolver el resultado obtenido para guardarlo en otra variable y poder seguir[m
[32m+[m[32mtrabajando con este precio total:[m
[32m+[m
[32m+[m[32m     function calculaPrecioTotal(precio) {[m
[32m+[m[32m         var impuestos = 1.16;[m
[32m+[m[32m         var gastosEnvio = 10;[m
[32m+[m[32m         var precioTotal = ( precio * impuestos ) + gastosEnvio;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     // El valor devuelto por la funciÃ³n, se guarda en una variable[m
[32m+[m[32m     var precioTotal = calculaPrecioTotal(23.34);[m
[32m+[m
[32m+[m[32m     // Seguir trabajando con la variable "precioTotal"[m
[32m+[m
[32m+[m[32mAfortunadamente, las funciones no solamente puede recibir variables y datos, sino que[m
[32m+[m[32mtambiÃ©n pueden devolver los valores que han calculado. Para devolver valores dentro de[m
[32m+[m[32muna funciÃ³n, se utiliza la palabra reservada return. Aunque las funciones pueden[m
[32m+[m[32mdevolver valores de cualquier tipo, solamente pueden devolver un valor cada vez que se[m
[32m+[m[32mejecutan.[m
[32m+[m
[32m+[m[32m     function calculaPrecioTotal(precio) {[m
[32m+[m[32m         var impuestos = 1.16;[m
[32m+[m[32m         var gastosEnvio = 10;[m
[32m+[m
[32m+[m[32mwww.librosweb.es           43[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m         var precioTotal = ( precio * impuestos ) + gastosEnvio;[m
[32m+[m[32m         return precioTotal;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     var precioTotal = calculaPrecioTotal(23.34);[m
[32m+[m
[32m+[m[32m     // Seguir trabajando con la variable "precioTotal"[m
[32m+[m
[32m+[m[32mPara que la funciÃ³n devuelva un valor, solamente es necesario escribir la palabra[m
[32m+[m[32mreservada return junto con el nombre de la variable que se quiere devolver. En el[m
[32m+[m[32mejemplo anterior, la ejecuciÃ³n de la funciÃ³n llega a la instrucciÃ³n return precioTotal; y[m
[32m+[m[32men ese momento, devuelve el valor que contenga la variable precioTotal.[m
[32m+[m
[32m+[m[32mComo la funciÃ³n devuelve un valor, en el punto en el que se realiza la llamada, debe[m
[32m+[m[32mindicarse el nombre de una variable en el que se guarda el valor devuelto:[m
[32m+[m
[32m+[m[32m     var precioTotal = calculaPrecioTotal(23.34);[m
[32m+[m
[32m+[m[32mSi no se indica el nombre de ninguna variable, JavaScript no muestra ningÃºn error y el[m
[32m+[m[32mvalor devuelto por la funciÃ³n simplemente se pierde y por tanto, no se utilizarÃ¡ en el[m
[32m+[m[32mresto del programa. En este caso, tampoco es obligatorio que el nombre de la variable[m
[32m+[m[32mdevuelta por la funciÃ³n coincida con el nombre de la variable en la que se va a almacenar[m
[32m+[m[32mese valor.[m
[32m+[m
[32m+[m[32mSi la funciÃ³n llega a una instrucciÃ³n de tipo return, se devuelve el valor indicado y[m
[32m+[m[32mfinaliza la ejecuciÃ³n de la funciÃ³n. Por tanto, todas las instrucciones que se incluyen[m
[32m+[m[32mdespuÃ©s de un return se ignoran y por ese motivo la instrucciÃ³n return suele ser la[m
[32m+[m[32mÃºltima de la mayorÃ­a de funciones.[m
[32m+[m
[32m+[m[32mPara que el ejemplo anterior sea mÃ¡s completo, se puede aÃ±adir otro argumento a la[m
[32m+[m[32mfunciÃ³n que indique el porcentaje de impuestos que se debe aÃ±adir al precio del[m
[32m+[m[32mproducto. Evidentemente, el nuevo argumento se debe aÃ±adir tanto a la definiciÃ³n de la[m
[32m+[m[32mfunciÃ³n como a su llamada:[m
[32m+[m
[32m+[m[32m     function calculaPrecioTotal(precio, porcentajeImpuestos) {[m
[32m+[m[32m         var gastosEnvio = 10;[m
[32m+[m[32m         var precioConImpuestos = (1 + porcentajeImpuestos/100) * precio;[m
[32m+[m[32m         var precioTotal = precioConImpuestos + gastosEnvio;[m
[32m+[m[32m         return precioTotal;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     var precioTotal = calculaPrecioTotal(23.34, 16);[m
[32m+[m[32m     var otroPrecioTotal = calculaPrecioTotal(15.20, 4);[m
[32m+[m
[32m+[m[32mPara terminar de completar el ejercicio anterior, se puede rendondear a dos decimales[m
[32m+[m[32mel precio total devuelto por la funciÃ³n:[m
[32m+[m
[32m+[m[32m     function calculaPrecioTotal(precio, porcentajeImpuestos) {[m
[32m+[m[32m         var gastosEnvio = 10;[m
[32m+[m[32m         var precioConImpuestos = (1 + porcentajeImpuestos/100) * precio;[m
[32m+[m[32m         var precioTotal = precioConImpuestos + gastosEnvio;[m
[32m+[m[32m         return precioTotal.toFixed(2);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es           44[m
[32m+[m[32mIntroducciÃ³n a JavaScript     CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m     var precioTotal = calculaPrecioTotal(23.34, 16);[m
[32m+[m
[32m+[m[32m Ejercicio 8[m
[32m+[m
[32m+[m[32mEscribir el cÃ³digo de una funciÃ³n a la que se pasa como parÃ¡metro un nÃºmero entero y[m
[32m+[m[32mdevuelve como resultado una cadena de texto que indica si el nÃºmero es par o impar.[m
[32m+[m[32mMostrar por pantalla el resultado devuelto por la funciÃ³n.[m
[32m+[m
[32m+[m[32m Ejercicio 9[m
[32m+[m
[32m+[m[32mDefinir una funciÃ³n que muestre informaciÃ³n sobre una cadena de texto que se le pasa[m
[32m+[m[32mcomo argumento. A partir de la cadena que se le pasa, la funciÃ³n determina si esa cadena[m
[32m+[m[32mestÃ¡ formada sÃ³lo por mayÃºsculas, sÃ³lo por minÃºsculas o por una mezcla de ambas.[m
[32m+[m
[32m+[m[32m Ejercicio 10[m
[32m+[m
[32m+[m[32mDefinir una funciÃ³n que determine si la cadena de texto que se le pasa como parÃ¡metro es[m
[32m+[m[32mun palÃ­ndromo, es decir, si se lee de la misma forma desde la izquierda y desde la derecha.[m
[32m+[m[32mEjemplo de palÃ­ndromo complejo: "La ruta nos aporto otro paso natural".[m
[32m+[m
[32m+[m[32m4.2. Ãmbito de las variables[m
[32m+[m
[32m+[m[32mEl Ã¡mbito de una variable (llamado "scope" en inglÃ©s) es la zona del programa en la que[m
[32m+[m[32mse define la variable. JavaScript define dos Ã¡mbitos para las variables: global y local.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo ilustra el comportamiento de los Ã¡mbitos:[m
[32m+[m
[32m+[m[32m     function creaMensaje() {[m
[32m+[m[32m         var mensaje = â€œMensaje de pruebaâ€;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     creaMensaje();[m
[32m+[m[32m     alert(mensaje);[m
[32m+[m
[32m+[m[32mEl ejemplo anterior define en primer lugar una funciÃ³n llamada creaMensaje que crea[m
[32m+[m[32muna variable llamada mensaje. A continuaciÃ³n, se ejecuta la funciÃ³n mediante la llamada[m
[32m+[m[32mcreaMensaje(); y seguidamente, se muestra mediante la funciÃ³n alert() el valor de[m
[32m+[m[32muna variable llamada mensaje.[m
[32m+[m
[32m+[m[32mSin embargo, al ejecutar el cÃ³digo anterior no se muestra ningÃºn mensaje por pantalla.[m
[32m+[m[32mLa razÃ³n es que la variable mensaje se ha definido dentro de la funciÃ³n creaMensaje() y[m
[32m+[m[32mpor tanto, es una variable local que solamente estÃ¡ definida dentro de la funciÃ³n.[m
[32m+[m
[32m+[m[32mCualquier instrucciÃ³n que se encuentre dentro de la funciÃ³n puede hacer uso de esa[m
[32m+[m[32mvariable, pero todas las instrucciones que se encuentren en otras funciones o fuera de[m
[32m+[m[32mcualquier funciÃ³n no tendrÃ¡n definida la variable mensaje. De esta forma, para mostrar[m
[32m+[m[32mel mensaje en el cÃ³digo anterior, la funciÃ³n alert() debe llamarse desde dentro de la[m
[32m+[m[32mfunciÃ³n creaMensaje():[m
[32m+[m
[32m+[m[32m     function creaMensaje() {[m
[32m+[m[32m         var mensaje = â€œMensaje de pruebaâ€;[m
[32m+[m[32m         alert(mensaje);[m
[32m+[m
[32m+[m[32mwww.librosweb.es              45[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     creaMensaje();[m
[32m+[m
[32m+[m[32mAdemÃ¡s de variables locales, tambiÃ©n existe el concepto de variable global, que estÃ¡[m
[32m+[m[32mdefinida en cualquier punto del programa (incluso dentro de cualquier funciÃ³n).[m
[32m+[m
[32m+[m[32m     var mensaje = â€œMensaje de pruebaâ€;[m
[32m+[m
[32m+[m[32m     function muestraMensaje() {[m
[32m+[m[32m         alert(mensaje);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior es el ejemplo inverso al mostrado anteriormente. Dentro de la funciÃ³n[m
[32m+[m[32mmuestraMensaje() se quiere hacer uso de una variable llamada mensaje y que no ha sido[m
[32m+[m[32mdefinida dentro de la propia funciÃ³n. Sin embargo, si se ejecuta el cÃ³digo anterior, sÃ­ que[m
[32m+[m[32mse muestra el mensaje definido por la variable mensaje.[m
[32m+[m
[32m+[m[32mEl motivo es que en el cÃ³digo JavaScript anterior, la variable mensaje se ha definido[m
[32m+[m[32mfuera de cualquier funciÃ³n. Este tipo de variables automÃ¡ticamente se transforman en[m
[32m+[m[32mvariables globales y estÃ¡n disponibles en cualquier punto del programa (incluso dentro[m
[32m+[m[32mde cualquier funciÃ³n).[m
[32m+[m
[32m+[m[32mDe esta forma, aunque en el interior de la funciÃ³n no se ha definido ninguna variable[m
[32m+[m[32mllamada mensaje, la variable global creada anteriormente permite que la instrucciÃ³n[m
[32m+[m[32malert() dentro de la funciÃ³n muestre el mensaje correctamente.[m
[32m+[m
[32m+[m[32mSi una variable se declara fuera de cualquier funciÃ³n, automÃ¡ticamente se transforma en[m
[32m+[m[32mvariable global independientemente de si se define utilizando la palabra reservada var o[m
[32m+[m[32mno. Sin embargo, las variables definidas dentro de una funciÃ³n pueden ser globales o[m
[32m+[m[32mlocales.[m
[32m+[m
[32m+[m[32mSi en el interior de una funciÃ³n, las variables se declaran mediante var se consideran[m
[32m+[m[32mlocales y las variables que no se han declarado mediante var, se transforman[m
[32m+[m[32mautomÃ¡ticamente en variables globales.[m
[32m+[m
[32m+[m[32mPor lo tanto, se puede rehacer el cÃ³digo del primer ejemplo para que muestre el mensaje[m
[32m+[m[32mcorrectamente. Para ello, simplemente se debe definir la variable dentro de la funciÃ³n[m
[32m+[m[32msin la palabra reservada var, para que se transforme en una variable global:[m
[32m+[m
[32m+[m[32m     function creaMensaje() {[m
[32m+[m[32m         mensaje = "Mensaje de prueba";[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     creaMensaje();[m
[32m+[m[32m     alert(mensaje);[m
[32m+[m
[32m+[m[32mÂ¿QuÃ© sucede si una funciÃ³n define una variable local con el mismo nombre que una[m
[32m+[m[32mvariable global que ya existe? En este caso, las variables locales prevalecen sobre las[m
[32m+[m[32mglobales, pero sÃ³lo dentro de la funciÃ³n:[m
[32m+[m
[32m+[m[32m     var mensaje = "gana la de fuera";[m
[32m+[m
[32m+[m[32mwww.librosweb.es           46[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m     function muestraMensaje() {[m
[32m+[m[32m         var mensaje = "gana la de dentro";[m
[32m+[m[32m         alert(mensaje);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     alert(mensaje);[m
[32m+[m[32m     muestraMensaje();[m
[32m+[m[32m     alert(mensaje);[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior muestra por pantalla los siguientes mensajes:[m
[32m+[m
[32m+[m[32m     gana la de fuera[m
[32m+[m[32m     gana la de dentro[m
[32m+[m[32m     gana la de fuera[m
[32m+[m
[32m+[m[32mDentro de la funciÃ³n, la variable local llamada mensaje tiene mÃ¡s prioridad que la[m
[32m+[m[32mvariable global del mismo nombre, pero solamente dentro de la funciÃ³n.[m
[32m+[m
[32m+[m[32mÂ¿QuÃ© sucede si dentro de una funciÃ³n se define una variable global con el mismo nombre[m
[32m+[m[32mque otra variable global que ya existe? En este otro caso, la variable global definida[m
[32m+[m[32mdentro de la funciÃ³n simplemente modifica el valor de la variable global definida[m
[32m+[m[32manteriormente:[m
[32m+[m
[32m+[m[32m     var mensaje = "gana la de fuera";[m
[32m+[m[32m     function muestraMensaje() {[m
[32m+[m
[32m+[m[32m         mensaje = "gana la de dentro";[m
[32m+[m[32m         alert(mensaje);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     alert(mensaje);[m
[32m+[m[32m     muestraMensaje();[m
[32m+[m[32m     alert(mensaje);[m
[32m+[m
[32m+[m[32mEn este caso, los mensajes mostrados son:[m
[32m+[m
[32m+[m[32m     gana la de fuera[m
[32m+[m[32m     gana la de dentro[m
[32m+[m[32m     gana la de dentro[m
[32m+[m
[32m+[m[32mLa recomendaciÃ³n general es definir como variables locales todas las variables que sean[m
[32m+[m[32mde uso exclusivo para realizar las tareas encargadas a cada funciÃ³n. Las variables[m
[32m+[m[32mglobales se utilizan para compartir variables entre funciones de forma sencilla.[m
[32m+[m
[32m+[m[32m4.3. Sentencias break y continue[m
[32m+[m
[32m+[m[32mLa estructura de control for es muy sencilla de utilizar, pero tiene el inconveniente de[m
[32m+[m[32mque el nÃºmero de repeticiones que se realizan sÃ³lo se pueden controlar mediante las[m
[32m+[m[32mvariables definidas en la zona de actualizaciÃ³n del bucle.[m
[32m+[m
[32m+[m[32mLas sentencias break y continue permiten manipular el comportamiento normal de los[m
[32m+[m[32mbucles for para detener el bucle o para saltarse algunas repeticiones. Concretamente, la[m
[32m+[m[32msentencia break permite terminar de forma abrupta un bucle y la sentencia continue[m
[32m+[m[32mpermite saltarse algunas repeticiones del bucle.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           47[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra el uso de la sentencia break:[m
[32m+[m
[32m+[m[32m     var cadena = "En un lugar de la Mancha de cuyo nombre no quiero acordarme...";[m
[32m+[m[32m     var letras = cadena.split("");[m
[32m+[m[32m     var resultado = "";[m
[32m+[m
[32m+[m[32m     for(i in letras) {[m
[32m+[m[32m         if(letras[i] == 'a') {[m
[32m+[m[32m            break;[m
[32m+[m[32m         }[m
[32m+[m[32m         else {[m
[32m+[m[32m            resultado += letras[i];[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     alert(resultado);[m
[32m+[m[32m     // muestra "En un lug"[m
[32m+[m
[32m+[m[32mSi el programa llega a una instrucciÃ³n de tipo break;, sale inmediatamente del bucle y[m
[32m+[m[32mcontinÃºa ejecutando el resto de instrucciones que se encuentran fuera del bucle for. En[m
[32m+[m[32mel ejemplo anterior, se recorren todas las letras de una cadena de texto y cuando se[m
[32m+[m[32mencuentra con la primera letra "a", se detiene la ejecuciÃ³n del bucle for.[m
[32m+[m
[32m+[m[32mLa utilidad de break es terminar la ejecuciÃ³n del bucle cuando una variable toma un[m
[32m+[m[32mdeterminado valor o cuando se cumple alguna condiciÃ³n.[m
[32m+[m
[32m+[m[32mEn ocasiones, lo que se desea es saltarse alguna repeticiÃ³n del bucle cuando se dan[m
[32m+[m[32malgunas condiciones. Siguiendo con el ejemplo anterior, ahora se desea que el texto de[m
[32m+[m[32msalida elimine todas las letras "a" de la cadena de texto original:[m
[32m+[m
[32m+[m[32m     var cadena = "En un lugar de la Mancha de cuyo nombre no quiero acordarme...";[m
[32m+[m[32m     var letras = cadena.split("");[m
[32m+[m[32m     var resultado = "";[m
[32m+[m
[32m+[m[32m     for(i in letras) {[m
[32m+[m[32m         if(letras[i] == 'a') {[m
[32m+[m[32m            continue;[m
[32m+[m[32m         }[m
[32m+[m[32m         else {[m
[32m+[m[32m            resultado += letras[i];[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     alert(resultado);[m
[32m+[m[32m     // muestra "En un lugr de l Mnch de cuyo nombre no quiero cordrme..."[m
[32m+[m
[32m+[m[32mEn este caso, cuando se encuentra una letra "a" no se termina el bucle, sino que no se[m
[32m+[m[32mejecutan las instrucciones de esa repeticiÃ³n y se pasa directamente a la siguiente[m
[32m+[m[32mrepeticiÃ³n del bucle for.[m
[32m+[m
[32m+[m[32mLa utilidad de continue es que permite utilizar el bucle for para filtrar los resultados en[m
[32m+[m[32mfunciÃ³n de algunas condiciones o cuando el valor de alguna variable coincide con un[m
[32m+[m[32mvalor determinado.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           48[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m4.4. Otras estructuras de control[m
[32m+[m
[32m+[m[32mLas estructuras de control de flujo que se han visto (if, else, for) y las sentencias que[m
[32m+[m[32mmodifican su comportamiento (break, continue) no son suficientes para realizar[m
[32m+[m[32malgunas tareas complejas y otro tipo de repeticiones. Por ese motivo, JavaScript[m
[32m+[m[32mproporciona otras estructuras de control de flujo diferentes y en algunos casos mÃ¡s[m
[32m+[m[32meficientes.[m
[32m+[m
[32m+[m[32m4.4.1. Estructura while[m
[32m+[m
[32m+[m[32mLa estructura while permite crear bucles que se ejecutan ninguna o mÃ¡s veces,[m
[32m+[m[32mdependiendo de la condiciÃ³n indicada. Su definiciÃ³n formal es:[m
[32m+[m
[32m+[m[32m     while(condicion) {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl funcionamiento del bucle while se resume en: "mientras se cumpla la condiciÃ³n[m
[32m+[m[32mindicada, repite indefinidamente las instrucciones incluidas dentro del bucle".[m
[32m+[m
[32m+[m[32mSi la condiciÃ³n no se cumple ni siquiera la primera vez, el bucle no se ejecuta. Si la[m
[32m+[m[32mcondiciÃ³n se cumple, se ejecutan las instrucciones una vez y se vuelve a comprobar la[m
[32m+[m[32mcondiciÃ³n. Si se sigue cumpliendo la condiciÃ³n, se vuelve a ejecutar el bucle y asÃ­ se[m
[32m+[m[32mcontinÃºa hasta que la condiciÃ³n no se cumpla.[m
[32m+[m
[32m+[m[32mEvidentemente, las variables que controlan la condiciÃ³n deben modificarse dentro del[m
[32m+[m[32mpropio bucle, ya que de otra forma, la condiciÃ³n se cumplirÃ­a siempre y el bucle while se[m
[32m+[m[32mrepetirÃ­a indefinidamente.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo utiliza el bucle while para sumar todos los nÃºmeros menores o[m
[32m+[m[32miguales que otro nÃºmero:[m
[32m+[m
[32m+[m[32m     var resultado = 0;[m
[32m+[m[32m     var numero = 100;[m
[32m+[m[32m     var i = 0;[m
[32m+[m
[32m+[m[32m     while(i <= numero) {[m
[32m+[m[32m         resultado += i;[m
[32m+[m[32m         i++;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     alert(resultado);[m
[32m+[m
[32m+[m[32mEl programa debe sumar todos los nÃºmeros menores o igual que otro dado. Por ejemplo[m
[32m+[m[32msi el nÃºmero es 5, se debe calcular: 1 + 2 + 3 + 4 + 5 = 15[m
[32m+[m
[32m+[m[32mEste tipo de condiciones ("suma nÃºmeros mientras sean menores o iguales que otro[m
[32m+[m[32mnÃºmero dado") se resuelven muy fÃ¡cilmente con los bucles tipo while, aunque tambiÃ©n[m
[32m+[m[32mse podÃ­an resolver con bucles de tipo for.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           49[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, mientras se cumpla la condiciÃ³n, es decir, mientras que la[m
[32m+[m[32mvariable i sea menor o igual que la variable numero, se ejecutan las instrucciones del[m
[32m+[m[32mbucle.[m
[32m+[m
[32m+[m[32mDentro del bucle se suma el valor de la variable i al resultado total (variable resultado)[m
[32m+[m[32my se actualiza el valor de la variable i, que es la que controla la condiciÃ³n del bucle. Si no[m
[32m+[m[32mse actualiza el valor de la variable i, la ejecuciÃ³n del bucle continua infinitamente o hasta[m
[32m+[m[32mque el navegador permita al usuario detener el script.[m
[32m+[m
[32m+[m[32m4.4.2. Estructura do...while[m
[32m+[m
[32m+[m[32mEl bucle de tipo do...while es muy similar al bucle while, salvo que en este caso[m
[32m+[m[32msiempre se ejecutan las instrucciones del bucle al menos la primera vez. Su definiciÃ³n[m
[32m+[m[32mformal es:[m
[32m+[m
[32m+[m[32m     do {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     } while(condicion);[m
[32m+[m
[32m+[m[32mDe esta forma, como la condiciÃ³n se comprueba despuÃ©s de cada repeticiÃ³n, la primera[m
[32m+[m[32mvez siempre se ejecutan las instrucciones del bucle. Es importante no olvidar que[m
[32m+[m[32mdespuÃ©s del while() se debe aÃ±adir el carÃ¡cter ; (al contrario de lo que sucede con el[m
[32m+[m[32mbucle while simple).[m
[32m+[m
[32m+[m[32mUtilizando este bucle se puede calcular fÃ¡cilmente el factorial de un nÃºmero:[m
[32m+[m
[32m+[m[32m     var resultado = 1;[m
[32m+[m[32m     var numero = 5;[m
[32m+[m
[32m+[m[32mdo {                       // resultado = resultado * numero[m
[32m+[m[32m   resultado *= numero;[m
[32m+[m[32m   numero--;[m
[32m+[m
[32m+[m[32m} while(numero > 0);[m
[32m+[m
[32m+[m[32m     alert(resultado);[m
[32m+[m
[32m+[m[32mEn el cÃ³digo anterior, el resultado se multiplica en cada repeticiÃ³n por el valor de la[m
[32m+[m[32mvariable numero. AdemÃ¡s, en cada repeticiÃ³n se decrementa el valor de esta variable[m
[32m+[m[32mnumero. La condiciÃ³n del bucle do...while es que el valor de numero sea mayor que 0, ya[m
[32m+[m[32mque el factorial de un nÃºmero multiplica todos los nÃºmeros menores o iguales que Ã©l[m
[32m+[m[32mmismo, pero hasta el nÃºmero 1 (el factorial de 5 por ejemplo es 5 x 4 x 3 x 2 x 1 =[m
[32m+[m[32m120).[m
[32m+[m
[32m+[m[32mComo en cada repeticiÃ³n se decrementa el valor de la variable numero y la condiciÃ³n es[m
[32m+[m[32mque numero sea mayor que cero, en la repeticiÃ³n en la que numero valga 0, la condiciÃ³n ya[m
[32m+[m[32mno se cumple y el programa se sale del bucle do...while.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                              50[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32m4.4.3. Estructura switch[m
[32m+[m
[32m+[m[32mLa estructura if...else se puede utilizar para realizar comprobaciones mÃºltiples y[m
[32m+[m[32mtomar decisiones complejas. Sin embargo, si todas las condiciones dependen siempre de[m
[32m+[m[32mla misma variable, el cÃ³digo JavaScript resultante es demasiado redundante:[m
[32m+[m
[32m+[m[32m     if(numero == 5) {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     else if(numero == 8) {[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     }[m
[32m+[m[32m     else if(numero == 20) {[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     }[m
[32m+[m[32m     else {[m
[32m+[m
[32m+[m[32m         ...[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn estos casos, la estructura switch es la mÃ¡s eficiente, ya que estÃ¡ especialmente[m
[32m+[m[32mdiseÃ±ada para manejar de forma sencilla mÃºltiples condiciones sobre la misma variable.[m
[32m+[m[32mSu definiciÃ³n formal puede parecer compleja, aunque su uso es muy sencillo:[m
[32m+[m
[32m+[m[32m     switch(variable) {[m
[32m+[m[32m         case valor_1:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m[32m         case valor_2:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m[32m         ...[m
[32m+[m[32m         case valor_n:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m[32m         default:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl anterior ejemplo realizado con if...else se puede rehacer mediante switch:[m
[32m+[m
[32m+[m[32m     switch(numero) {[m
[32m+[m[32m         case 5:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m[32m         case 8:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m[32m         case 20:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m[32m         default:[m
[32m+[m[32m            ...[m
[32m+[m[32m            break;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es           51[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 4. ProgramaciÃ³n avanzada[m
[32m+[m
[32m+[m[32mLa estructura switch se define mediante la palabra reservada switch seguida, entre[m
[32m+[m[32mparÃ©ntesis, del nombre de la variable que se va a utilizar en las comparaciones. Como es[m
[32m+[m[32mhabitual, las instrucciones que forman parte del switch se encierran entre las llaves { y[m
[32m+[m[32m}.[m
[32m+[m
[32m+[m[32mDentro del switch se definen todas las comparaciones que se quieren realizar sobre el[m
[32m+[m[32mvalor de la variable. Cada comparaciÃ³n se indica mediante la palabra reservada case[m
[32m+[m[32mseguida del valor con el que se realiza la comparaciÃ³n. Si el valor de la variable utilizada[m
[32m+[m[32mpor switch coincide con el valor indicado por case, se ejecutan las instrucciones[m
[32m+[m[32mdefinidas dentro de ese case.[m
[32m+[m
[32m+[m[32mNormalmente, despuÃ©s de las instrucciones de cada case se incluye la sentencia break[m
[32m+[m[32mpara terminar la ejecuciÃ³n del switch, aunque no es obligatorio. Las comparaciones se[m
[32m+[m[32mrealizan por orden, desde el primer case hasta el Ãºltimo, por lo que es muy importante[m
[32m+[m[32mel orden en el que se definen los case.[m
[32m+[m
[32m+[m[32mÂ¿QuÃ© sucede si ningÃºn valor de la variable del switch coincide con los valores definidos[m
[32m+[m[32men los case? En este caso, se utiliza el valor default para indicar las instrucciones que se[m
[32m+[m[32mejecutan en el caso en el que ningÃºn case se cumpla para la variable indicada.[m
[32m+[m
[32m+[m[32mAunque default es opcional, las estructuras switch suelen incluirlo para definir al[m
[32m+[m[32mmenos un valor por defecto para alguna variable o para mostrar algÃºn mensaje por[m
[32m+[m[32mpantalla.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           52[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32mCapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32mLa creaciÃ³n del Document Object Model o DOM es una de las innovaciones que mÃ¡s ha[m
[32m+[m[32minfluido en el desarrollo de las pÃ¡ginas web dinÃ¡micas y de las aplicaciones web mÃ¡s[m
[32m+[m[32mcomplejas.[m
[32m+[m
[32m+[m[32mDOM permite a los programadores web acceder y manipular las pÃ¡ginas XHTML como si[m
[32m+[m[32mfueran documentos XML. De hecho, DOM se diseÃ±Ã³ originalmente para manipular de[m
[32m+[m[32mforma sencilla los documentos XML.[m
[32m+[m
[32m+[m[32mA pesar de sus orÃ­genes, DOM se ha convertido en una utilidad disponible para la[m
[32m+[m[32mmayorÃ­a de lenguajes de programaciÃ³n (Java, PHP, JavaScript) y cuyas Ãºnicas diferencias[m
[32m+[m[32mse encuentran en la forma de implementarlo.[m
[32m+[m
[32m+[m[32m5.1. Ãrbol de nodos[m
[32m+[m
[32m+[m[32mUna de las tareas habituales en la programaciÃ³n de aplicaciones web con JavaScript[m
[32m+[m[32mconsiste en la manipulaciÃ³n de las pÃ¡ginas web. De esta forma, es habitual obtener el[m
[32m+[m[32mvalor almacenado por algunos elementos (por ejemplo los elementos de un formulario),[m
[32m+[m[32mcrear un elemento (pÃ¡rrafos, <div>, etc.) de forma dinÃ¡mica y aÃ±adirlo a la pÃ¡gina,[m
[32m+[m[32maplicar una animaciÃ³n a un elemento (que aparezca/desaparezca, que se desplace, etc.).[m
[32m+[m
[32m+[m[32mTodas estas tareas habituales son muy sencillas de realizar gracias a DOM. Sin embargo,[m
[32m+[m[32mpara poder utilizar las utilidades de DOM, es necesario "transformar" la pÃ¡gina original.[m
[32m+[m[32mUna pÃ¡gina HTML normal no es mÃ¡s que una sucesiÃ³n de caracteres, por lo que es un[m
[32m+[m[32mformato muy difÃ­cil de manipular. Por ello, los navegadores web transforman[m
[32m+[m[32mautomÃ¡ticamente todas las pÃ¡ginas web en una estructura mÃ¡s eficiente de manipular.[m
[32m+[m
[32m+[m[32mEsta transformaciÃ³n la realizan todos los navegadores de forma automÃ¡tica y nos[m
[32m+[m[32mpermite utilizar las herramientas de DOM de forma muy sencilla. El motivo por el que se[m
[32m+[m[32mmuestra el funcionamiento de esta transformaciÃ³n interna es que condiciona el[m
[32m+[m[32mcomportamiento de DOM y por tanto, la forma en la que se manipulan las pÃ¡ginas.[m
[32m+[m
[32m+[m[32mDOM transforma todos los documentos XHTML en un conjunto de elementos llamados[m
[32m+[m[32mnodos, que estÃ¡n interconectados y que representan los contenidos de las pÃ¡ginas web y[m
[32m+[m[32mlas relaciones entre ellos. Por su aspecto, la uniÃ³n de todos los nodos se llama "Ã¡rbol de[m
[32m+[m[32mnodos".[m
[32m+[m
[32m+[m[32mLa siguiente pÃ¡gina XHTML sencilla:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>PÃ¡gina sencilla</title>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32mwww.librosweb.es           53[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                 CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Esta pÃ¡gina es <strong>muy sencilla</strong></p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mSe transforma en el siguiente Ã¡rbol de nodos:[m
[32m+[m
[32m+[m[32m Figura 5.1. Ãrbol de nodos generado automÃ¡ticamente por DOM a partir del cÃ³digo XHTML[m
[32m+[m[32m                                                 de la pÃ¡gina[m
[32m+[m
[32m+[m[32mEn el esquema anterior, cada rectÃ¡ngulo representa un nodo DOM y las flechas indican[m
[32m+[m[32mlas relaciones entre nodos. Dentro de cada nodo, se ha incluido su tipo (que se verÃ¡ mÃ¡s[m
[32m+[m[32madelante) y su contenido.[m
[32m+[m
[32m+[m[32mLa raÃ­z del Ã¡rbol de nodos de cualquier pÃ¡gina XHTML siempre es la misma: un nodo de[m
[32m+[m[32mtipo especial denominado "Documento".[m
[32m+[m
[32m+[m[32mA partir de ese nodo raÃ­z, cada etiqueta XHTML se transforma en un nodo de tipo[m
[32m+[m[32m"Elemento". La conversiÃ³n de etiquetas en nodos se realiza de forma jerÃ¡rquica. De esta[m
[32m+[m[32mforma, del nodo raÃ­z solamente pueden derivar los nodos HEAD y BODY. A partir de esta[m
[32m+[m[32mderivaciÃ³n inicial, cada etiqueta XHTML se transforma en un nodo que deriva del nodo[m
[32m+[m[32mcorrespondiente a su "etiqueta padre".[m
[32m+[m
[32m+[m[32mLa transformaciÃ³n de las etiquetas XHTML habituales genera dos nodos: el primero es el[m
[32m+[m[32mnodo de tipo "Elemento" (correspondiente a la propia etiqueta XHTML) y el segundo es[m
[32m+[m[32mun nodo de tipo "Texto" que contiene el texto encerrado por esa etiqueta XHTML.[m
[32m+[m
[32m+[m[32mAsÃ­, la siguiente etiqueta XHTML:[m
[32m+[m
[32m+[m[32m     <title>PÃ¡gina sencilla</title>[m
[32m+[m
[32m+[m[32mGenera los siguientes dos nodos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                          54[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32m Figura 5.2. Nodos generados automÃ¡ticamente por DOM para una etiqueta XHTML sencilla[m
[32m+[m
[32m+[m[32mDe la misma forma, la siguiente etiqueta XHTML:[m
[32m+[m
[32m+[m[32m     <p>Esta pÃ¡gina es <strong>muy sencilla</strong></p>[m
[32m+[m
[32m+[m[32mGenera los siguientes nodos:[m
[32m+[m
[32m+[m[32m    â–ª Nodo de tipo "Elemento" correspondiente a la etiqueta <p>.[m
[32m+[m[32m    â–ª Nodo de tipo "Texto" con el contenido textual de la etiqueta <p>.[m
[32m+[m[32m    â–ª Como el contenido de <p> incluye en su interior otra etiqueta XHTML, la etiqueta[m
[32m+[m
[32m+[m[32m       interior se transforma en un nodo de tipo "Elemento" que representa la etiqueta[m
[32m+[m[32m       <strong> y que deriva del nodo anterior.[m
[32m+[m[32m    â–ª El contenido de la etiqueta <strong> genera a su vez otro nodo de tipo "Texto" que[m
[32m+[m[32m       deriva del nodo generado por <strong>.[m
[32m+[m
[32m+[m[32mFigura 5.3. Nodos generados automÃ¡ticamente por DOM para una etiqueta XHTML con otras[m
[32m+[m[32m                                      etiquetas XHTML en su interior[m
[32m+[m
[32m+[m[32mLa transformaciÃ³n automÃ¡tica de la pÃ¡gina en un Ã¡rbol de nodos siempre sigue las[m
[32m+[m[32mmismas reglas:[m
[32m+[m
[32m+[m[32m    â–ª Las etiquetas XHTML se transforman en dos nodos: el primero es la propia[m
[32m+[m[32m       etiqueta y el segundo nodo es hijo del primero y consiste en el contenido textual[m
[32m+[m[32m       de la etiqueta.[m
[32m+[m
[32m+[m[32m    â–ª Si una etiqueta XHTML se encuentra dentro de otra, se sigue el mismo[m
[32m+[m[32m       procedimiento anterior, pero los nodos generados serÃ¡n nodos hijo de su etiqueta[m
[32m+[m[32m       padre.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           55[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32mComo se puede suponer, las pÃ¡ginas XHTML habituales producen Ã¡rboles con miles de[m
[32m+[m[32mnodos. Aun asÃ­, el proceso de transformaciÃ³n es rÃ¡pido y automÃ¡tico, siendo las[m
[32m+[m[32mfunciones proporcionadas por DOM (que se verÃ¡n mÃ¡s adelante) las Ãºnicas que[m
[32m+[m[32mpermiten acceder a cualquier nodo de la pÃ¡gina de forma sencilla e inmediata.[m
[32m+[m
[32m+[m[32m5.2. Tipos de nodos[m
[32m+[m
[32m+[m[32mLa especificaciÃ³n completa de DOM define 12 tipos de nodos, aunque las pÃ¡ginas XHTML[m
[32m+[m[32mhabituales se pueden manipular manejando solamente cuatro o cinco tipos de nodos:[m
[32m+[m
[32m+[m[32m    â–ª Document, nodo raÃ­z del que derivan todos los demÃ¡s nodos del Ã¡rbol.[m
[32m+[m
[32m+[m[32m    â–ª Element, representa cada una de las etiquetas XHTML. Se trata del Ãºnico nodo que[m
[32m+[m[32m       puede contener atributos y el Ãºnico del que pueden derivar otros nodos.[m
[32m+[m
[32m+[m[32m    â–ª Attr, se define un nodo de este tipo para representar cada uno de los atributos de[m
[32m+[m[32m       las etiquetas XHTML, es decir, uno por cada par atributo=valor.[m
[32m+[m
[32m+[m[32m    â–ª Text, nodo que contiene el texto encerrado por una etiqueta XHTML.[m
[32m+[m
[32m+[m[32m    â–ª Comment, representa los comentarios incluidos en la pÃ¡gina XHTML.[m
[32m+[m
[32m+[m[32mLos otros tipos de nodos existentes que no se van a considerar son DocumentType,[m
[32m+[m[32mCDataSection, DocumentFragment, Entity, EntityReference, ProcessingInstruction y[m
[32m+[m[32mNotation.[m
[32m+[m
[32m+[m[32m5.3. Acceso directo a los nodos[m
[32m+[m
[32m+[m[32mUna vez construido automÃ¡ticamente el Ã¡rbol completo de nodos DOM, ya es posible[m
[32m+[m[32mutilizar las funciones DOM para acceder de forma directa a cualquier nodo del Ã¡rbol.[m
[32m+[m[32mComo acceder a un nodo del Ã¡rbol es equivalente a acceder a "un trozo" de la pÃ¡gina, una[m
[32m+[m[32mvez construido el Ã¡rbol, ya es posible manipular de forma sencilla la pÃ¡gina: acceder al[m
[32m+[m[32mvalor de un elemento, establecer el valor de un elemento, mover un elemento de la[m
[32m+[m[32mpÃ¡gina, crear y aÃ±adir nuevos elementos, etc.[m
[32m+[m
[32m+[m[32mDOM proporciona dos mÃ©todos alternativos para acceder a un nodo especÃ­fico: acceso a[m
[32m+[m[32mtravÃ©s de sus nodos padre y acceso directo.[m
[32m+[m
[32m+[m[32mLas funciones que proporciona DOM para acceder a un nodo a travÃ©s de sus nodos padre[m
[32m+[m[32mconsisten en acceder al nodo raÃ­z de la pÃ¡gina y despuÃ©s a sus nodos hijos y a los nodos[m
[32m+[m[32mhijos de esos hijos y asÃ­ sucesivamente hasta el Ãºltimo nodo de la rama terminada por el[m
[32m+[m[32mnodo buscado. Sin embargo, cuando se quiere acceder a un nodo especÃ­fico, es mucho[m
[32m+[m[32mmÃ¡s rÃ¡pido acceder directamente a ese nodo y no llegar hasta Ã©l descendiendo a travÃ©s[m
[32m+[m[32mde todos sus nodos padre.[m
[32m+[m
[32m+[m[32mPor ese motivo, no se van a presentar las funciones necesarias para el acceso jerÃ¡rquico[m
[32m+[m[32mde nodos y se muestran solamente las que permiten acceder de forma directa a los[m
[32m+[m[32mnodos.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           56[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32mPor Ãºltimo, es importante recordar que el acceso a los nodos, su modificaciÃ³n y su[m
[32m+[m[32meliminaciÃ³n solamente es posible cuando el Ã¡rbol DOM ha sido construido[m
[32m+[m[32mcompletamente, es decir, despuÃ©s de que la pÃ¡gina XHTML se cargue por completo. MÃ¡s[m
[32m+[m[32madelante se verÃ¡ cÃ³mo asegurar que un cÃ³digo JavaScript solamente se ejecute cuando el[m
[32m+[m[32mnavegador ha cargado entera la pÃ¡gina XHTML.[m
[32m+[m
[32m+[m[32m5.3.1. getElementsByTagName()[m
[32m+[m
[32m+[m[32mComo sucede con todas las funciones que proporciona DOM, la funciÃ³n[m
[32m+[m[32mgetElementsByTagName() tiene un nombre muy largo, pero que lo hace autoexplicativo.[m
[32m+[m
[32m+[m[32mLa funciÃ³n getElementsByTagName(nombreEtiqueta) obtiene todos los elementos de la[m
[32m+[m[32mpÃ¡gina XHTML cuya etiqueta sea igual que el parÃ¡metro que se le pasa a la funciÃ³n.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo muestra cÃ³mo obtener todos los pÃ¡rrafos de una pÃ¡gina XHTML:[m
[32m+[m
[32m+[m[32m     var parrafos = document.getElementsByTagName("p");[m
[32m+[m
[32m+[m[32mEl valor que se indica delante del nombre de la funciÃ³n (en este caso, document) es el[m
[32m+[m[32mnodo a partir del cual se realiza la bÃºsqueda de los elementos. En este caso, como se[m
[32m+[m[32mquieren obtener todos los pÃ¡rrafos de la pÃ¡gina, se utiliza el valor document como punto[m
[32m+[m[32mde partida de la bÃºsqueda.[m
[32m+[m
[32m+[m[32mEl valor que devuelve la funciÃ³n es un array con todos los nodos que cumplen la[m
[32m+[m[32mcondiciÃ³n de que su etiqueta coincide con el parÃ¡metro proporcionado. El valor devuelto[m
[32m+[m[32mes un array de nodos DOM, no un array de cadenas de texto o un array de objetos[m
[32m+[m[32mnormales. Por lo tanto, se debe procesar cada valor del array de la forma que se muestra[m
[32m+[m[32men las siguientes secciones.[m
[32m+[m
[32m+[m[32mDe este modo, se puede obtener el primer pÃ¡rrafo de la pÃ¡gina de la siguiente manera:[m
[32m+[m
[32m+[m[32m     var primerParrafo = parrafos[0];[m
[32m+[m
[32m+[m[32mDe la misma forma, se podrÃ­an recorrer todos los pÃ¡rrafos de la pÃ¡gina con el siguiente[m
[32m+[m[32mcÃ³digo:[m
[32m+[m
[32m+[m[32m     for(var i=0; i<parrafos.length; i++) {[m
[32m+[m[32m         var parrafo = parrafos[i];[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa funciÃ³n getElementsByTagName() se puede aplicar de forma recursiva sobre cada[m
[32m+[m[32muno de los nodos devueltos por la funciÃ³n. En el siguiente ejemplo, se obtienen todos los[m
[32m+[m[32menlaces del primer pÃ¡rrafo de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     var parrafos = document.getElementsByTagName("p");[m
[32m+[m[32m     var primerParrafo = parrafos[0];[m
[32m+[m[32m     var enlaces = primerParrafo.getElementsByTagName("a");[m
[32m+[m
[32m+[m[32mwww.librosweb.es           57[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32m5.3.2. getElementsByName()[m
[32m+[m
[32m+[m[32mLa funciÃ³n getElementsByName() es similar a la anterior, pero en este caso se buscan los[m
[32m+[m[32melementos cuyo atributo name sea igual al parÃ¡metro proporcionado. En el siguiente[m
[32m+[m[32mejemplo, se obtiene directamente el Ãºnico pÃ¡rrafo con el nombre indicado:[m
[32m+[m
[32m+[m[32m     var parrafoEspecial = document.getElementsByName("especial");[m
[32m+[m
[32m+[m[32m     <p name="prueba">...</p>[m
[32m+[m[32m     <p name="especial">...</p>[m
[32m+[m[32m     <p>...</p>[m
[32m+[m
[32m+[m[32mNormalmente el atributo name es Ãºnico para los elementos HTML que lo definen, por lo[m
[32m+[m[32mque es un mÃ©todo muy prÃ¡ctico para acceder directamente al nodo deseado. En el caso[m
[32m+[m[32mde los elementos HTML radiobutton, el atributo name es comÃºn a todos los radiobutton[m
[32m+[m[32mque estÃ¡n relacionados, por lo que la funciÃ³n devuelve una colecciÃ³n de elementos.[m
[32m+[m
[32m+[m[32mInternet Explorer 6.0 no implementa de forma correcta esta funciÃ³n, ya que sÃ³lo la tiene[m
[32m+[m[32men cuenta para los elementos de tipo <input> y <img>. AdemÃ¡s, tambiÃ©n tiene en[m
[32m+[m[32mconsideraciÃ³n los elementos cuyo atributo id sea igual al parÃ¡metro de la funciÃ³n.[m
[32m+[m
[32m+[m[32m5.3.3. getElementById()[m
[32m+[m
[32m+[m[32mLa funciÃ³n getElementById() es la mÃ¡s utilizada cuando se desarrollan aplicaciones[m
[32m+[m[32mweb dinÃ¡micas. Se trata de la funciÃ³n preferida para acceder directamente a un nodo y[m
[32m+[m[32mpoder leer o modificar sus propiedades.[m
[32m+[m
[32m+[m[32mLa funciÃ³n getElementById() devuelve el elemento XHTML cuyo atributo id coincide[m
[32m+[m[32mcon el parÃ¡metro indicado en la funciÃ³n. Como el atributo id debe ser Ãºnico para cada[m
[32m+[m[32melemento de una misma pÃ¡gina, la funciÃ³n devuelve Ãºnicamente el nodo deseado.[m
[32m+[m
[32m+[m[32m     var cabecera = document.getElementById("cabecera");[m
[32m+[m
[32m+[m[32m     <div id="cabecera">[m
[32m+[m[32m         <a href="/" id="logo">...</a>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mLa funciÃ³n getElementById() es tan importante y tan utilizada en todas las aplicaciones[m
[32m+[m[32mweb, que casi todos los ejemplos y ejercicios que siguen la utilizan constantemente.[m
[32m+[m
[32m+[m[32mInternet Explorer 6.0 tambiÃ©n interpreta incorrectamente esta funciÃ³n, ya que devuelve[m
[32m+[m[32mtambiÃ©n aquellos elementos cuyo atributo name coincida con el parÃ¡metro[m
[32m+[m[32mproporcionado a la funciÃ³n.[m
[32m+[m
[32m+[m[32m5.4. CreaciÃ³n y eliminaciÃ³n de nodos[m
[32m+[m
[32m+[m[32mAcceder a los nodos y a sus propiedades (que se verÃ¡ mÃ¡s adelante) es sÃ³lo una parte de[m
[32m+[m[32mlas manipulaciones habituales en las pÃ¡ginas. Las otras operaciones habituales son las[m
[32m+[m[32mde crear y eliminar nodos del Ã¡rbol DOM, es decir, crear y eliminar "trozos" de la pÃ¡gina[m
[32m+[m[32mweb.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           58[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32m5.4.1. CreaciÃ³n de elementos XHTML simples[m
[32m+[m
[32m+[m[32mComo se ha visto, un elemento XHTML sencillo, como por ejemplo un pÃ¡rrafo, genera[m
[32m+[m[32mdos nodos: el primer nodo es de tipo Element y representa la etiqueta <p> y el segundo[m
[32m+[m[32mnodo es de tipo Text y representa el contenido textual de la etiqueta <p>.[m
[32m+[m
[32m+[m[32mPor este motivo, crear y aÃ±adir a la pÃ¡gina un nuevo elemento XHTML sencillo consta de[m
[32m+[m[32mcuatro pasos diferentes:[m
[32m+[m
[32m+[m[32m      1. CreaciÃ³n de un nodo de tipo Element que represente al elemento.[m
[32m+[m[32m      2. CreaciÃ³n de un nodo de tipo Text que represente el contenido del elemento.[m
[32m+[m[32m      3. AÃ±adir el nodo Text como nodo hijo del nodo Element.[m
[32m+[m[32m      4. AÃ±adir el nodo Element a la pÃ¡gina, en forma de nodo hijo del nodo[m
[32m+[m
[32m+[m[32m           correspondiente al lugar en el que se quiere insertar el elemento.[m
[32m+[m
[32m+[m[32mDe este modo, si se quiere aÃ±adir un pÃ¡rrafo simple al final de una pÃ¡gina XHTML, es[m
[32m+[m[32mnecesario incluir el siguiente cÃ³digo JavaScript:[m
[32m+[m
[32m+[m[32m     // Crear nodo de tipo Element[m
[32m+[m[32m     var parrafo = document.createElement("p");[m
[32m+[m
[32m+[m[32m     // Crear nodo de tipo Text[m
[32m+[m[32m     var contenido = document.createTextNode("Hola Mundo!");[m
[32m+[m
[32m+[m[32m     // AÃ±adir el nodo Text como hijo del nodo Element[m
[32m+[m[32m     parrafo.appendChild(contenido);[m
[32m+[m
[32m+[m[32m     // AÃ±adir el nodo Element como hijo de la pagina[m
[32m+[m[32m     document.body.appendChild(parrafo);[m
[32m+[m
[32m+[m[32mEl proceso de creaciÃ³n de nuevos nodos puede llegar a ser tedioso, ya que implica la[m
[32m+[m[32mutilizaciÃ³n de tres funciones DOM:[m
[32m+[m
[32m+[m[32m    â–ª createElement(etiqueta): crea un nodo de tipo Element que representa al[m
[32m+[m[32m       elemento XHTML cuya etiqueta se pasa como parÃ¡metro.[m
[32m+[m
[32m+[m[32m    â–ª createTextNode(contenido): crea un nodo de tipo Text que almacena el[m
[32m+[m[32m       contenido textual de los elementos XHTML.[m
[32m+[m
[32m+[m[32m    â–ª nodoPadre.appendChild(nodoHijo): aÃ±ade un nodo como hijo de otro nodo. Se[m
[32m+[m[32m       debe utilizar al menos dos veces con los nodos habituales: en primer lugar se[m
[32m+[m[32m       aÃ±ade el nodo Text como hijo del nodo Element y a continuaciÃ³n se aÃ±ade el nodo[m
[32m+[m[32m       Element como hijo de algÃºn nodo de la pÃ¡gina.[m
[32m+[m
[32m+[m[32m5.4.2. EliminaciÃ³n de nodos[m
[32m+[m
[32m+[m[32mAfortunadamente, eliminar un nodo del Ã¡rbol DOM de la pÃ¡gina es mucho mÃ¡s sencillo[m
[32m+[m[32mque aÃ±adirlo. En este caso, solamente es necesario utilizar la funciÃ³n removeChild():[m
[32m+[m
[32m+[m[32m     var parrafo = document.getElementById("provisional");[m
[32m+[m[32m     parrafo.parentNode.removeChild(parrafo);[m
[32m+[m
[32m+[m[32mwww.librosweb.es           59[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32m     <p id="provisional">...</p>[m
[32m+[m
[32m+[m[32mLa funciÃ³n removeChild() requiere como parÃ¡metro el nodo que se va a eliminar.[m
[32m+[m[32mAdemÃ¡s, esta funciÃ³n debe ser invocada desde el elemento padre de ese nodo que se[m
[32m+[m[32mquiere eliminar. La forma mÃ¡s segura y rÃ¡pida de acceder al nodo padre de un elemento[m
[32m+[m[32mes mediante la propiedad nodoHijo.parentNode.[m
[32m+[m
[32m+[m[32mAsÃ­, para eliminar un nodo de una pÃ¡gina XHTML se invoca a la funciÃ³n removeChild()[m
[32m+[m[32mdesde el valor parentNode del nodo que se quiere eliminar. Cuando se elimina un nodo,[m
[32m+[m[32mtambiÃ©n se eliminan automÃ¡ticamente todos los nodos hijos que tenga, por lo que no es[m
[32m+[m[32mnecesario borrar manualmente cada nodo hijo.[m
[32m+[m
[32m+[m[32m5.5. Acceso directo a los atributos XHTML[m
[32m+[m
[32m+[m[32mUna vez que se ha accedido a un nodo, el siguiente paso natural consiste en acceder y/o[m
[32m+[m[32mmodificar sus atributos y propiedades. Mediante DOM, es posible acceder de forma[m
[32m+[m[32msencilla a todos los atributos XHTML y todas las propiedades CSS de cualquier elemento[m
[32m+[m[32mde la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLos atributos XHTML de los elementos de la pÃ¡gina se transforman automÃ¡ticamente en[m
[32m+[m[32mpropiedades de los nodos. Para acceder a su valor, simplemente se indica el nombre del[m
[32m+[m[32matributo XHTML detrÃ¡s del nombre del nodo.[m
[32m+[m
[32m+[m[32mEl siguiente ejemplo obtiene de forma directa la direcciÃ³n a la que enlaza el enlace:[m
[32m+[m
[32m+[m[32m     var enlace = document.getElementById("enlace");[m
[32m+[m[32m     alert(enlace.href); // muestra http://www...com[m
[32m+[m
[32m+[m[32m     <a id="enlace" href="http://www...com">Enlace</a>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, se obtiene el nodo DOM que representa el enlace mediante la[m
[32m+[m[32mfunciÃ³n document.getElementById(). A continuaciÃ³n, se obtiene el atributo href del[m
[32m+[m[32menlace mediante enlace.href. Para obtener por ejemplo el atributo id, se utilizarÃ­a[m
[32m+[m[32menlace.id.[m
[32m+[m
[32m+[m[32mLas propiedades CSS no son tan fÃ¡ciles de obtener como los atributos XHTML. Para[m
[32m+[m[32mobtener el valor de cualquier propiedad CSS del nodo, se debe utilizar el atributo style.[m
[32m+[m[32mEl siguiente ejemplo obtiene el valor de la propiedad margin de la imagen:[m
[32m+[m
[32m+[m[32m     var imagen = document.getElementById("imagen");[m
[32m+[m[32m     alert(imagen.style.margin);[m
[32m+[m
[32m+[m[32m     <img id="imagen" style="margin:0; border:0;" src="logo.png" />[m
[32m+[m
[32m+[m[32mAunque el funcionamiento es homogÃ©neo entre distintos navegadores, los resultados no[m
[32m+[m[32mson exactamente iguales, como muestran las siguientes imÃ¡genes que son el resultado[m
[32m+[m[32mde ejecutar el cÃ³digo anterior en distintos navegadores:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           60[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32mFigura 5.4. Valores que muestra Internet Explorer al acceder a las propiedades CSS a travÃ©s[m
[32m+[m[32m                                               de JavaScript[m
[32m+[m
[32m+[m[32m     Figura 5.5. Valores que muestra Firefox al acceder a las propiedades CSS a travÃ©s de[m
[32m+[m[32m                                                   JavaScript[m
[32m+[m
[32m+[m[32mSi el nombre de una propiedad CSS es compuesto, se accede a su valor modificando[m
[32m+[m[32mligeramente su nombre:[m
[32m+[m
[32m+[m[32m     var parrafo = document.getElementById("parrafo");[m
[32m+[m[32m     alert(parrafo.style.fontWeight); // muestra "bold"[m
[32m+[m
[32m+[m[32m     <p id="parrafo" style="font-weight: bold;">...</p>[m
[32m+[m
[32m+[m[32mLa transformaciÃ³n del nombre de las propiedades CSS compuestas consiste en eliminar[m
[32m+[m[32mtodos los guiones medios (-) y escribir en mayÃºscula la letra siguiente a cada guiÃ³n[m
[32m+[m[32mmedio. A continuaciÃ³n se muestran algunos ejemplos:[m
[32m+[m
[32m+[m[32m    â–ª font-weight se transforma en fontWeight[m
[32m+[m[32m    â–ª line-height se transforma en lineHeight[m
[32m+[m[32m    â–ª border-top-style se transforma en borderTopStyle[m
[32m+[m[32m    â–ª list-style-image se transforma en listStyleImage[m
[32m+[m
[32m+[m[32mEl Ãºnico atributo XHTML que no tiene el mismo nombre en XHTML y en las propiedades[m
[32m+[m[32mDOM es el atributo class. Como la palabra class estÃ¡ reservada por JavaScript, no es[m
[32m+[m[32mposible utilizarla para acceder al atributo class del elemento XHTML. En su lugar, DOM[m
[32m+[m[32mutiliza el nombre className para acceder al atributo class de XHTML:[m
[32m+[m
[32m+[m[32m     var parrafo = document.getElementById("parrafo");[m
[32m+[m[32m     alert(parrafo.class); // muestra "undefined"[m
[32m+[m[32m     alert(parrafo.className); // muestra "normal"[m
[32m+[m
[32m+[m[32m     <p id="parrafo" class="normal">...</p>[m
[32m+[m
[32m+[m[32mwww.librosweb.es           61[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 5. DOM[m
[32m+[m
[32m+[m[32m5.6. Ejercicios sobre DOM[m
[32m+[m
[32m+[m[32m Ejercicio 11[m
[32m+[m
[32m+[m[32mA partir de la pÃ¡gina web proporcionada y utilizando las funciones DOM, mostrar por[m
[32m+[m[32mpantalla la siguiente informaciÃ³n:[m
[32m+[m
[32m+[m[32m      1. NÃºmero de enlaces de la pÃ¡gina[m
[32m+[m[32m      2. DirecciÃ³n a la que enlaza el penÃºltimo enlace[m
[32m+[m[32m      3. Numero de enlaces que enlazan a http://prueba[m
[32m+[m[32m      4. NÃºmero de enlaces del tercer pÃ¡rrafo[m
[32m+[m
[32m+[m[32m Ejercicio 12[m
[32m+[m
[32m+[m[32mCompletar el cÃ³digo JavaScript proporcionado para que cuando se pinche sobre el enlace se[m
[32m+[m[32mmuestre completo el contenido de texto. AdemÃ¡s, el enlace debe dejar de mostrarse[m
[32m+[m[32mdespuÃ©s de pulsarlo por primera vez. La acciÃ³n de pinchar sobre un enlace forma parte de[m
[32m+[m[32mlos "Eventos" de JavaScript que se ven en el siguiente capÃ­tulo. En este ejercicio, sÃ³lo se[m
[32m+[m[32mdebe saber que al pinchar sobre el enlace, se ejecuta la funciÃ³n llamada muestra().[m
[32m+[m
[32m+[m[32m Ejercicio 13[m
[32m+[m
[32m+[m[32mCompletar el cÃ³digo JavaScript proporcionado para que se aÃ±adan nuevos elementos a la[m
[32m+[m[32mlista cada vez que se pulsa sobre el botÃ³n. Utilizar las funciones DOM para crear nuevos[m
[32m+[m[32mnodos y aÃ±adirlos a la lista existente. Al igual que sucede en el ejercicio anterior, la acciÃ³n de[m
[32m+[m[32mpinchar sobre un botÃ³n forma parte de los "Eventos" de JavaScript que se ven en el siguiente[m
[32m+[m[32mcapÃ­tulo. En este ejercicio, sÃ³lo se debe saber que al pinchar sobre el botÃ³n, se ejecuta la[m
[32m+[m[32mfunciÃ³n llamada anade().[m
[32m+[m
[32m+[m[32mwww.librosweb.es           62[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mCapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mHasta ahora, todas las aplicaciones y scripts que se han creado tienen algo en comÃºn: se[m
[32m+[m[32mejecutan desde la primera instrucciÃ³n hasta la Ãºltima de forma secuencial. Gracias a las[m
[32m+[m[32mestructuras de control de flujo (if, for, while) es posible modificar ligeramente este[m
[32m+[m[32mcomportamiento y repetir algunos trozos del script y saltarse otros trozos en funciÃ³n de[m
[32m+[m[32malgunas condiciones.[m
[32m+[m
[32m+[m[32mEste tipo de aplicaciones son poco Ãºtiles, ya que no interactÃºan con los usuarios y no[m
[32m+[m[32mpueden responder a los diferentes eventos que se producen durante la ejecuciÃ³n de una[m
[32m+[m[32maplicaciÃ³n. Afortunadamente, las aplicaciones web creadas con el lenguaje JavaScript[m
[32m+[m[32mpueden utilizar el modelo de programaciÃ³n basada en eventos.[m
[32m+[m
[32m+[m[32mEn este tipo de programaciÃ³n, los scripts se dedican a esperar a que el usuario "haga[m
[32m+[m[32malgo" (que pulse una tecla, que mueva el ratÃ³n, que cierre la ventana del navegador). A[m
[32m+[m[32mcontinuaciÃ³n, el script responde a la acciÃ³n del usuario normalmente procesando esa[m
[32m+[m[32minformaciÃ³n y generando un resultado.[m
[32m+[m
[32m+[m[32mLos eventos hacen posible que los usuarios transmitan informaciÃ³n a los programas.[m
[32m+[m[32mJavaScript define numerosos eventos que permiten una interacciÃ³n completa entre el[m
[32m+[m[32musuario y las pÃ¡ginas/aplicaciones web. La pulsaciÃ³n de una tecla constituye un evento,[m
[32m+[m[32masÃ­ como pinchar o mover el ratÃ³n, seleccionar un elemento de un formulario,[m
[32m+[m[32mredimensionar la ventana del navegador, etc.[m
[32m+[m
[32m+[m[32mJavaScript permite asignar una funciÃ³n a cada uno de los eventos. De esta forma, cuando[m
[32m+[m[32mse produce cualquier evento, JavaScript ejecuta su funciÃ³n asociada. Este tipo de[m
[32m+[m[32mfunciones se denominan "event handlers" en inglÃ©s y suelen traducirse por "manejadores[m
[32m+[m[32mde eventos".[m
[32m+[m
[32m+[m[32m6.1. Modelos de eventos[m
[32m+[m
[32m+[m[32mCrear pÃ¡ginas y aplicaciones web siempre ha sido mucho mÃ¡s complejo de lo que[m
[32m+[m[32mdeberÃ­a serlo debido a las incompatibilidades entre navegadores. A pesar de que existen[m
[32m+[m[32mdecenas de estÃ¡ndares para las tecnologÃ­as empleadas, los navegadores no los soportan[m
[32m+[m[32mcompletamente o incluso los ignoran.[m
[32m+[m
[32m+[m[32mLas principales incompatibilidades se producen en el lenguaje XHTML, en el soporte de[m
[32m+[m[32mhojas de estilos CSS y sobre todo, en la implementaciÃ³n de JavaScript. De todas ellas, la[m
[32m+[m[32mincompatibilidad mÃ¡s importante se da precisamente en el modelo de eventos del[m
[32m+[m[32mnavegador. AsÃ­, existen hasta tres modelos diferentes para manejar los eventos[m
[32m+[m[32mdependiendo del navegador en el que se ejecute la aplicaciÃ³n.[m
[32m+[m
[32m+[m[32m6.1.1. Modelo bÃ¡sico de eventos[m
[32m+[m
[32m+[m[32mEste modelo simple de eventos se introdujo para la versiÃ³n 4 del estÃ¡ndar HTML y se[m
[32m+[m[32mconsidera parte del nivel mÃ¡s bÃ¡sico de DOM. Aunque sus caracterÃ­sticas son limitadas,[m
[32m+[m
[32m+[m[32mwww.librosweb.es           63[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                               CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mes el Ãºnico modelo que es compatible en todos los navegadores y por tanto, el Ãºnico que[m
[32m+[m[32mpermite crear aplicaciones que funcionan de la misma manera en todos los navegadores.[m
[32m+[m
[32m+[m[32m6.1.2. Modelo de eventos estÃ¡ndar[m
[32m+[m
[32m+[m[32mLas versiones mÃ¡s avanzadas del estÃ¡ndar DOM (DOM nivel 2) definen un modelo de[m
[32m+[m[32meventos completamente nuevo y mucho mÃ¡s poderoso que el original. Todos los[m
[32m+[m[32mnavegadores modernos lo incluyen, salvo Internet Explorer.[m
[32m+[m
[32m+[m[32m6.1.3. Modelo de eventos de Internet Explorer[m
[32m+[m
[32m+[m[32mInternet Explorer utiliza su propio modelo de eventos, que es similar pero incompatible[m
[32m+[m[32mcon el modelo estÃ¡ndar. Se utilizÃ³ por primera vez en Internet Explorer 4 y Microsoft[m
[32m+[m[32mdecidiÃ³ seguir utilizÃ¡ndolo en el resto de versiones, a pesar de que la empresa habÃ­a[m
[32m+[m[32mparticipado en la creaciÃ³n del estÃ¡ndar de DOM que define el modelo de eventos[m
[32m+[m[32mestÃ¡ndar.[m
[32m+[m
[32m+[m[32m6.2. Modelo bÃ¡sico de eventos[m
[32m+[m
[32m+[m[32m6.2.1. Tipos de eventos[m
[32m+[m
[32m+[m[32mEn este modelo, cada elemento o etiqueta XHTML define su propia lista de posibles[m
[32m+[m[32meventos que se le pueden asignar. Un mismo tipo de evento (por ejemplo, pinchar el[m
[32m+[m[32mbotÃ³n izquierdo del ratÃ³n) puede estar definido para varios elementos XHTML[m
[32m+[m[32mdiferentes y un mismo elemento XHTML puede tener asociados varios eventos[m
[32m+[m[32mdiferentes.[m
[32m+[m
[32m+[m[32mEl nombre de cada evento se construye mediante el prefijo on, seguido del nombre en[m
[32m+[m[32minglÃ©s de la acciÃ³n asociada al evento. AsÃ­, el evento de pinchar un elemento con el ratÃ³n[m
[32m+[m[32mse denomina onclick y el evento asociado a la acciÃ³n de mover el ratÃ³n se denomina[m
[32m+[m[32monmousemove.[m
[32m+[m
[32m+[m[32mLa siguiente tabla resume los eventos mÃ¡s importantes definidos por JavaScript:[m
[32m+[m
[32m+[m[32mEvento    DescripciÃ³n                          Elementos para los que estÃ¡ definido[m
[32m+[m
[32m+[m[32monblur    Deseleccionar el elemento            <button>, <input>, <label>,[m
[32m+[m[32m                                               <select>, <textarea>, <body>[m
[32m+[m
[32m+[m[32monchange  Deseleccionar un elemento que se ha  <input>, <select>, <textarea>[m
[32m+[m[32m          modificado[m
[32m+[m
[32m+[m[32monclick   Pinchar y soltar el ratÃ³n            Todos los elementos[m
[32m+[m
[32m+[m[32mondblclick Pinchar dos veces seguidas con el ratÃ³n Todos los elementos[m
[32m+[m
[32m+[m[32monfocus   Seleccionar un elemento              <button>, <input>, <label>,[m
[32m+[m[32m                                               <select>, <textarea>, <body>[m
[32m+[m
[32m+[m[32monkeydown Pulsar una tecla (sin soltar)        Elementos de formulario y <body>[m
[32m+[m
[32m+[m[32monkeypress Pulsar una tecla                    Elementos de formulario y <body>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                     64[m
[32m+[m[32mIntroducciÃ³n a JavaScript                             CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32monkeyup      Soltar una tecla pulsada                 Elementos de formulario y <body>[m
[32m+[m[32m                                                      <body>[m
[32m+[m[32monload       La pÃ¡gina se ha cargado                  Todos los elementos[m
[32m+[m[32m             completamente                            Todos los elementos[m
[32m+[m[32m                                                      Todos los elementos[m
[32m+[m[32monmousedown Pulsar (sin soltar) un botÃ³n del ratÃ³n[m
[32m+[m[32m                                                      Todos los elementos[m
[32m+[m[32monmousemove Mover el ratÃ³n[m
[32m+[m[32m                                                      Todos los elementos[m
[32m+[m[32monmouseout   El ratÃ³n "sale" del elemento (pasa por[m
[32m+[m[32m             encima de otro elemento)                 <form>[m
[32m+[m
[32m+[m[32monmouseover  El ratÃ³n "entra" en el elemento (pasa    <body>[m
[32m+[m[32m             por encima del elemento)                 <input>, <textarea>[m
[32m+[m[32m                                                      <form>[m
[32m+[m[32monmouseup    Soltar el botÃ³n que estaba pulsado en    <body>[m
[32m+[m[32m             el ratÃ³n[m
[32m+[m
[32m+[m[32monreset      Inicializar el formulario (borrar todos[m
[32m+[m[32m             sus datos)[m
[32m+[m
[32m+[m[32monresize     Se ha modificado el tamaÃ±o de la[m
[32m+[m[32m             ventana del navegador[m
[32m+[m
[32m+[m[32monselect Seleccionar un texto[m
[32m+[m
[32m+[m[32monsubmit Enviar el formulario[m
[32m+[m
[32m+[m[32monunload     Se abandona la pÃ¡gina (por ejemplo al[m
[32m+[m[32m             cerrar el navegador)[m
[32m+[m
[32m+[m[32mLos eventos mÃ¡s utilizados en las aplicaciones web tradicionales son onload para[m
[32m+[m[32mesperar a que se cargue la pÃ¡gina por completo, los eventos onclick, onmouseover,[m
[32m+[m[32monmouseout para controlar el ratÃ³n y onsubmit para controlar el envÃ­o de los[m
[32m+[m[32mformularios.[m
[32m+[m
[32m+[m[32mAlgunos eventos de la tabla anterior (onclick, onkeydown, onkeypress, onreset,[m
[32m+[m[32monsubmit) permiten evitar la "acciÃ³n por defecto" de ese evento. MÃ¡s adelante se[m
[32m+[m[32mmuestra en detalle este comportamiento, que puede resultar muy Ãºtil en algunas[m
[32m+[m[32mtÃ©cnicas de programaciÃ³n.[m
[32m+[m
[32m+[m[32mLas acciones tÃ­picas que realiza un usuario en una pÃ¡gina web pueden dar lugar a una[m
[32m+[m[32msucesiÃ³n de eventos. Al pulsar por ejemplo sobre un botÃ³n de tipo <input[m
[32m+[m[32mtype="submit"> se desencadenan los eventos onmousedown, onclick, onmouseup y[m
[32m+[m[32monsubmit de forma consecutiva.[m
[32m+[m
[32m+[m[32m6.2.2. Manejadores de eventos[m
[32m+[m
[32m+[m[32mUn evento de JavaScript por sÃ­ mismo carece de utilidad. Para que los eventos resulten[m
[32m+[m[32mÃºtiles, se deben asociar funciones o cÃ³digo JavaScript a cada evento. De esta forma,[m
[32m+[m[32mcuando se produce un evento se ejecuta el cÃ³digo indicado, por lo que la aplicaciÃ³n[m
[32m+[m[32mpuede responder ante cualquier evento que se produzca durante su ejecuciÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        65[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mLas funciones o cÃ³digo JavaScript que se definen para cada evento se denominan[m
[32m+[m[32m"manejador de eventos" y como JavaScript es un lenguaje muy flexible, existen varias[m
[32m+[m[32mformas diferentes de indicar los manejadores:[m
[32m+[m
[32m+[m[32m    â–ª Manejadores como atributos de los elementos XHTML.[m
[32m+[m
[32m+[m[32m    â–ª Manejadores como funciones JavaScript externas.[m
[32m+[m
[32m+[m[32m    â–ª Manejadores "semÃ¡nticos".[m
[32m+[m
[32m+[m[32m6.2.2.1. Manejadores de eventos como atributos XHTML[m
[32m+[m
[32m+[m[32mSe trata del mÃ©todo mÃ¡s sencillo y a la vez menos profesional de indicar el cÃ³digo[m
[32m+[m[32mJavaScript que se debe ejecutar cuando se produzca un evento. En este caso, el cÃ³digo se[m
[32m+[m[32mincluye en un atributo del propio elemento XHTML. En el siguiente ejemplo, se quiere[m
[32m+[m[32mmostrar un mensaje cuando el usuario pinche con el ratÃ³n sobre un botÃ³n:[m
[32m+[m
[32m+[m[32m     <input type="button" value="Pinchame y verÃ¡s" onclick="alert('Gracias por[m
[32m+[m[32m     pinchar');" />[m
[32m+[m
[32m+[m[32mEn este mÃ©todo, se definen atributos XHTML con el mismo nombre que los eventos que[m
[32m+[m[32mse quieren manejar. El ejemplo anterior sÃ³lo quiere controlar el evento de pinchar con el[m
[32m+[m[32mratÃ³n, cuyo nombre es onclick. AsÃ­, el elemento XHTML para el que se quiere definir[m
[32m+[m[32meste evento, debe incluir un atributo llamado onclick.[m
[32m+[m
[32m+[m[32mEl contenido del atributo es una cadena de texto que contiene todas las instrucciones[m
[32m+[m[32mJavaScript que se ejecutan cuando se produce el evento. En este caso, el cÃ³digo[m
[32m+[m[32mJavaScript es muy sencillo (alert('Gracias por pinchar');), ya que solamente se[m
[32m+[m[32mtrata de mostrar un mensaje.[m
[32m+[m
[32m+[m[32mEn este otro ejemplo, cuando el usuario pincha sobre el elemento <div> se muestra un[m
[32m+[m[32mmensaje y cuando el usuario pasa el ratÃ³n por encima del elemento, se muestra otro[m
[32m+[m[32mmensaje:[m
[32m+[m
[32m+[m[32m     <div onclick="alert('Has pinchado con el ratÃ³n');" onmouseover="alert('Acabas[m
[32m+[m[32m     de pasar el ratÃ³n por encima');">[m
[32m+[m
[32m+[m[32m         Puedes pinchar sobre este elemento o simplemente pasar el ratÃ³n por encima[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEste otro ejemplo incluye una de las instrucciones mÃ¡s utilizadas en las aplicaciones[m
[32m+[m[32mJavaScript mÃ¡s antiguas:[m
[32m+[m
[32m+[m[32m     <body onload="alert('La pÃ¡gina se ha cargado completamente');">[m
[32m+[m[32m          ...[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m
[32m+[m[32mEl mensaje anterior se muestra despuÃ©s de que la pÃ¡gina se haya cargado[m
[32m+[m[32mcompletamente, es decir, despuÃ©s de que se haya descargado su cÃ³digo HTML, sus[m
[32m+[m[32mimÃ¡genes y cualquier otro objeto incluido en la pÃ¡gina.[m
[32m+[m
[32m+[m[32mEl evento onload es uno de los mÃ¡s utilizados ya que, como se vio en el capÃ­tulo de DOM,[m
[32m+[m[32mlas funciones que permiten acceder y manipular los nodos del Ã¡rbol DOM solamente[m
[32m+[m[32mestÃ¡n disponibles cuando la pÃ¡gina se ha cargado completamente.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           66[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m6.2.2.2. Manejadores de eventos y variable this[m
[32m+[m
[32m+[m[32mJavaScript define una variable especial llamada this que se crea automÃ¡ticamente y que[m
[32m+[m[32mse emplea en algunas tÃ©cnicas avanzadas de programaciÃ³n. En los eventos, se puede[m
[32m+[m[32mutilizar la variable this para referirse al elemento XHTML que ha provocado el evento.[m
[32m+[m[32mEsta variable es muy Ãºtil para ejemplos como el siguiente:[m
[32m+[m
[32m+[m[32mCuando el usuario pasa el ratÃ³n por encima del <div>, el color del borde se muestra de[m
[32m+[m[32mcolor negro. Cuando el ratÃ³n sale del <div>, se vuelve a mostrar el borde con el color gris[m
[32m+[m[32mclaro original.[m
[32m+[m
[32m+[m[32mElemento <div> original:[m
[32m+[m
[32m+[m[32m     <div id="contenidos" style="width:150px; height:60px; border:thin solid silver">[m
[32m+[m[32m         SecciÃ³n de contenidos...[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mSi no se utiliza la variable this, el cÃ³digo necesario para modificar el color de los bordes,[m
[32m+[m[32mserÃ­a el siguiente:[m
[32m+[m
[32m+[m[32m     <div id="contenidos" style="width:150px; height:60px; border:thin solid silver"[m
[32m+[m[32m     onmouseover="document.getElementById('contenidos').style.borderColor='black';"[m
[32m+[m[32m     onmouseout="document.getElementById('contenidos').style.borderColor='silver';">[m
[32m+[m
[32m+[m[32m         SecciÃ³n de contenidos...[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior es demasiado largo y demasiado propenso a cometer errores. Dentro[m
[32m+[m[32mdel cÃ³digo de un evento, JavaScript crea automÃ¡ticamente la variable this, que hace[m
[32m+[m[32mreferencia al elemento XHTML que ha provocado el evento. AsÃ­, el ejemplo anterior se[m
[32m+[m[32mpuede reescribir de la siguiente manera:[m
[32m+[m
[32m+[m[32m     <div id="contenidos" style="width:150px; height:60px; border:thin solid silver"[m
[32m+[m[32m     onmouseover="this.style.borderColor='black';"[m
[32m+[m[32m     onmouseout="this.style.borderColor='silver';">[m
[32m+[m
[32m+[m[32m         SecciÃ³n de contenidos...[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior es mucho mÃ¡s compacto, mÃ¡s fÃ¡cil de leer y de escribir y sigue[m
[32m+[m[32mfuncionando correctamente aunque se modifique el valor del atributo id del <div>.[m
[32m+[m
[32m+[m[32m6.2.2.3. Manejadores de eventos como funciones externas[m
[32m+[m
[32m+[m[32mLa definiciÃ³n de los manejadores de eventos en los atributos XHTML es el mÃ©todo mÃ¡s[m
[32m+[m[32msencillo pero menos aconsejable de tratar con los eventos en JavaScript. El principal[m
[32m+[m[32minconveniente es que se complica en exceso en cuanto se aÃ±aden algunas pocas[m
[32m+[m[32minstrucciones, por lo que solamente es recomendable para los casos mÃ¡s sencillos.[m
[32m+[m
[32m+[m[32mSi se realizan aplicaciones complejas, como por ejemplo la validaciÃ³n de un formulario,[m
[32m+[m[32mes aconsejable agrupar todo el cÃ³digo JavaScript en una funciÃ³n externa y llamar a esta[m
[32m+[m[32mfunciÃ³n desde el elemento XHTML.[m
[32m+[m
[32m+[m[32mSiguiendo con el ejemplo anterior que muestra un mensaje al pinchar sobre un botÃ³n:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           67[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m     <input type="button" value="Pinchame y verÃ¡s" onclick="alert('Gracias por[m
[32m+[m[32m     pinchar');" />[m
[32m+[m
[32m+[m[32mUtilizando funciones externas se puede transformar en:[m
[32m+[m
[32m+[m[32m     function muestraMensaje() {[m
[32m+[m[32m         alert('Gracias por pinchar');[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <input type="button" value="Pinchame y verÃ¡s" onclick="muestraMensaje()" />[m
[32m+[m
[32m+[m[32mEsta tÃ©cnica consiste en extraer todas las instrucciones de JavaScript y agruparlas en una[m
[32m+[m[32mfunciÃ³n externa. Una vez definida la funciÃ³n, en el atributo del elemento XHTML se[m
[32m+[m[32mincluye el nombre de la funciÃ³n, para indicar que es la funciÃ³n que se ejecuta cuando se[m
[32m+[m[32mproduce el evento.[m
[32m+[m
[32m+[m[32mLa llamada a la funciÃ³n se realiza de la forma habitual, indicando su nombre seguido de[m
[32m+[m[32mlos parÃ©ntesis y de forma opcional, incluyendo todos los argumentos y parÃ¡metros que[m
[32m+[m[32mse necesiten.[m
[32m+[m
[32m+[m[32mEl principal inconveniente de este mÃ©todo es que en las funciones externas no se puede[m
[32m+[m[32mseguir utilizando la variable this y por tanto, es necesario pasar esta variable como[m
[32m+[m[32mparÃ¡metro a la funciÃ³n:[m
[32m+[m
[32m+[m[32m     function resalta(elemento) {[m
[32m+[m[32m         switch(elemento.style.borderColor) {[m
[32m+[m[32m            case 'silver':[m
[32m+[m[32m            case 'silver silver silver silver':[m
[32m+[m[32m            case '#c0c0c0':[m
[32m+[m[32m               elemento.style.borderColor = 'black';[m
[32m+[m[32m               break;[m
[32m+[m[32m            case 'black':[m
[32m+[m[32m            case 'black black black black':[m
[32m+[m[32m            case '#000000':[m
[32m+[m[32m               elemento.style.borderColor = 'silver';[m
[32m+[m[32m               break;[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <div style="width:150px; height:60px; border:thin solid silver"[m
[32m+[m[32m     onmouseover="resalta(this)" onmouseout="resalta(this)">[m
[32m+[m
[32m+[m[32m         SecciÃ³n de contenidos...[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, la funciÃ³n externa es llamada con el parÃ¡metro this, que dentro[m
[32m+[m[32mde la funciÃ³n se denomina elemento. La complejidad del ejemplo se produce sobre todo[m
[32m+[m[32mpor la forma en la que los distintos navegadores almacenan el valor de la propiedad[m
[32m+[m[32mborderColor.[m
[32m+[m
[32m+[m[32mMientras que Firefox almacena (en caso de que los cuatro bordes coincidan en color) el[m
[32m+[m[32mvalor black, Internet Explorer lo almacena como black black black black y Opera[m
[32m+[m[32malmacena su representaciÃ³n hexadecimal #000000.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           68[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m6.2.2.4. Manejadores de eventos semÃ¡nticos[m
[32m+[m
[32m+[m[32mLos mÃ©todos que se han visto para aÃ±adir manejadores de eventos (como atributos[m
[32m+[m[32mXHTML y como funciones externas) tienen un grave inconveniente: "ensucian" el cÃ³digo[m
[32m+[m[32mXHTML de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mComo es conocido, una de las buenas prÃ¡cticas bÃ¡sicas en el diseÃ±o de pÃ¡ginas y[m
[32m+[m[32maplicaciones web es la separaciÃ³n de los contenidos (XHTML) y su aspecto o[m
[32m+[m[32mpresentaciÃ³n (CSS). Siempre que sea posible, tambiÃ©n se recomienda separar los[m
[32m+[m[32mcontenidos (XHTML) y su comportamiento o programaciÃ³n (JavaScript).[m
[32m+[m
[32m+[m[32mMezclar el cÃ³digo JavaScript con los elementos XHTML solamente contribuye a[m
[32m+[m[32mcomplicar el cÃ³digo fuente de la pÃ¡gina, a dificultar la modificaciÃ³n y mantenimiento de[m
[32m+[m[32mla pÃ¡gina y a reducir la semÃ¡ntica del documento final producido.[m
[32m+[m
[32m+[m[32mAfortunadamente, existe un mÃ©todo alternativo para definir los manejadores de eventos[m
[32m+[m[32mde JavaScript. Esta tÃ©cnica es una evoluciÃ³n del mÃ©todo de las funciones externas, ya que[m
[32m+[m[32mse basa en utilizar las propiedades DOM de los elementos XHTML para asignar todas las[m
[32m+[m[32mfunciones externas que actÃºan de manejadores de eventos. AsÃ­, el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     <input id="pinchable" type="button" value="Pinchame y verÃ¡s"[m
[32m+[m[32m     onclick="alert('Gracias por pinchar');" />[m
[32m+[m
[32m+[m[32mSe puede transformar en:[m
[32m+[m
[32m+[m[32m     // FunciÃ³n externa[m
[32m+[m[32m     function muestraMensaje() {[m
[32m+[m
[32m+[m[32m         alert('Gracias por pinchar');[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     // Asignar la funciÃ³n externa al elemento[m
[32m+[m[32m     document.getElementById("pinchable").onclick = muestraMensaje;[m
[32m+[m
[32m+[m[32m     // Elemento XHTML[m
[32m+[m[32m     <input id="pinchable" type="button" value="Pinchame y verÃ¡s" />[m
[32m+[m
[32m+[m[32mLa tÃ©cnica de los manejadores semÃ¡nticos consiste en:[m
[32m+[m
[32m+[m[32m      1. Asignar un identificador Ãºnico al elemento XHTML mediante el atributo id.[m
[32m+[m[32m      2. Crear una funciÃ³n de JavaScript encargada de manejar el evento.[m
[32m+[m[32m      3. Asignar la funciÃ³n externa al evento correspondiente en el elemento deseado.[m
[32m+[m
[32m+[m[32mEl Ãºltimo paso es la clave de esta tÃ©cnica. En primer lugar, se obtiene el elemento al que[m
[32m+[m[32mse desea asociar la funciÃ³n externa:[m
[32m+[m
[32m+[m[32m     document.getElementById("pinchable");[m
[32m+[m
[32m+[m[32mA continuaciÃ³n, se utiliza una propiedad del elemento con el mismo nombre que el[m
[32m+[m[32mevento que se quiere manejar. En este caso, la propiedad es onclick:[m
[32m+[m
[32m+[m[32m     document.getElementById("pinchable").onclick = ...[m
[32m+[m
[32m+[m[32mwww.librosweb.es           69[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                       CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mPor Ãºltimo, se asigna la funciÃ³n externa mediante su nombre sin parÃ©ntesis. Lo mÃ¡s[m
[32m+[m[32mimportante (y la causa mÃ¡s comÃºn de errores) es indicar solamente el nombre de la[m
[32m+[m[32mfunciÃ³n, es decir, prescindir de los parÃ©ntesis al asignar la funciÃ³n:[m
[32m+[m
[32m+[m[32m     document.getElementById("pinchable").onclick = muestraMensaje;[m
[32m+[m
[32m+[m[32mSi se aÃ±aden los parÃ©ntesis despuÃ©s del nombre de la funciÃ³n, en realidad se estÃ¡[m
[32m+[m[32mejecutando la funciÃ³n y guardando el valor devuelto por la funciÃ³n en la propiedad[m
[32m+[m[32monclick de elemento.[m
[32m+[m
[32m+[m[32m     // Asignar una funciÃ³n externa a un evento de un elemento[m
[32m+[m[32m     document.getElementById("pinchable").onclick = muestraMensaje;[m
[32m+[m
[32m+[m[32m     // Ejecutar una funciÃ³n y guardar su resultado en una propiedad de un elemento[m
[32m+[m[32m     document.getElementById("pinchable").onclick = muestraMensaje();[m
[32m+[m
[32m+[m[32mLa gran ventaja de este mÃ©todo es que el cÃ³digo XHTML resultante es muy "limpio", ya[m
[32m+[m[32mque no se mezcla con el cÃ³digo JavaScript. AdemÃ¡s, dentro de las funciones externas[m
[32m+[m[32masignadas sÃ­ que se puede utilizar la variable this para referirse al elemento que[m
[32m+[m[32mprovoca el evento.[m
[32m+[m
[32m+[m[32mEl Ãºnico inconveniente de este mÃ©todo es que la pÃ¡gina se debe cargar completamente[m
[32m+[m[32mantes de que se puedan utilizar las funciones DOM que asignan los manejadores a los[m
[32m+[m[32melementos XHTML. Una de las formas mÃ¡s sencillas de asegurar que cierto cÃ³digo se va a[m
[32m+[m[32mejecutar despuÃ©s de que la pÃ¡gina se cargue por completo es utilizar el evento onload:[m
[32m+[m
[32m+[m[32m     window.onload = function() {[m
[32m+[m[32m         document.getElementById("pinchable").onclick = muestraMensaje;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa tÃ©cnica anterior utiliza el concepto de funciones anÃ³nimas, que no se va a estudiar,[m
[32m+[m[32mpero que permite crear un cÃ³digo compacto y muy sencillo. Para asegurarse que un[m
[32m+[m[32mcÃ³digo JavaScript va a ejecutarse despuÃ©s de que la pÃ¡gina se haya cargado[m
[32m+[m[32mcompletamente, sÃ³lo es necesario incluir esas instrucciones entre los sÃ­mbolos { y }:[m
[32m+[m
[32m+[m[32m     window.onload = function() {[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEn el siguiente ejemplo, se aÃ±aden eventos a los elementos de tipo input=text de un[m
[32m+[m[32mformulario complejo:[m
[32m+[m
[32m+[m[32m     function resalta() {[m
[32m+[m[32m         // CÃ³digo JavaScript[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwindow.onload = function() {[m
[32m+[m[32m   var formulario = document.getElementById("formulario");[m
[32m+[m[32m   var camposInput = formulario.getElementsByTagName("input");[m
[32m+[m
[32m+[m[32mfor(var i=0; i<camposInput.length; i++) {[m
[32m+[m[32m   if(camposInput[i].type == "text") {[m
[32m+[m[32m      camposInput[i].onclick = resalta;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                70[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m Ejercicio 14[m
[32m+[m
[32m+[m[32mA partir de la pÃ¡gina web proporcionada, completar el cÃ³digo JavaScript para que:[m
[32m+[m
[32m+[m[32m      1. Cuando se pinche sobre el primer enlace, se oculte su secciÃ³n relacionada[m
[32m+[m[32m      2. Cuando se vuelva a pinchar sobre el mismo enlace, se muestre otra vez esa secciÃ³n[m
[32m+[m
[32m+[m[32m           de contenidos[m
[32m+[m[32m      3. Completar el resto de enlaces de la pÃ¡gina para que su comportamiento sea[m
[32m+[m
[32m+[m[32m           idÃ©ntico al del primer enlace[m
[32m+[m[32m      4. Cuando una secciÃ³n se oculte, debe cambiar el mensaje del enlace asociado (pista:[m
[32m+[m
[32m+[m[32m           propiedad innerHTML)[m
[32m+[m
[32m+[m[32m6.3. Obteniendo informaciÃ³n del evento (objeto event)[m
[32m+[m
[32m+[m[32mNormalmente, los manejadores de eventos requieren informaciÃ³n adicional para[m
[32m+[m[32mprocesar sus tareas. Si una funciÃ³n por ejemplo se encarga de procesar el evento[m
[32m+[m[32monclick, quizÃ¡s necesite saber en que posiciÃ³n estaba el ratÃ³n en el momento de[m
[32m+[m[32mpinchar el botÃ³n.[m
[32m+[m
[32m+[m[32mNo obstante, el caso mÃ¡s habitual en el que es necesario conocer informaciÃ³n adicional[m
[32m+[m[32msobre el evento es el de los eventos asociados al teclado. Normalmente, es muy[m
[32m+[m[32mimportante conocer la tecla que se ha pulsado, por ejemplo para diferenciar las teclas[m
[32m+[m[32mnormales de las teclas especiales (ENTER, tabulador, Alt, Ctrl., etc.).[m
[32m+[m
[32m+[m[32mJavaScript permite obtener informaciÃ³n sobre el ratÃ³n y el teclado mediante un objeto[m
[32m+[m[32mespecial llamado event. Desafortunadamente, los diferentes navegadores presentan[m
[32m+[m[32mdiferencias muy notables en el tratamiento de la informaciÃ³n sobre los eventos.[m
[32m+[m
[32m+[m[32mLa principal diferencia reside en la forma en la que se obtiene el objeto event. Internet[m
[32m+[m[32mExplorer considera que este objeto forma parte del objeto window y el resto de[m
[32m+[m[32mnavegadores lo consideran como el Ãºnico argumento que tienen las funciones[m
[32m+[m[32mmanejadoras de eventos.[m
[32m+[m
[32m+[m[32mAunque es un comportamiento que resulta muy extraÃ±o al principio, todos los[m
[32m+[m[32mnavegadores modernos excepto Internet Explorer crean mÃ¡gicamente y de forma[m
[32m+[m[32mautomÃ¡tica un argumento que se pasa a la funciÃ³n manejadora, por lo que no es[m
[32m+[m[32mnecesario incluirlo en la llamada a la funciÃ³n manejadora. De esta forma, para utilizar[m
[32m+[m[32meste "argumento mÃ¡gico", sÃ³lo es necesario asignarle un nombre, ya que los navegadores[m
[32m+[m[32mlo crean automÃ¡ticamente.[m
[32m+[m
[32m+[m[32mEn resumen, en los navegadores tipo Internet Explorer, el objeto event se obtiene[m
[32m+[m[32mdirectamente mediante:[m
[32m+[m
[32m+[m[32m     var evento = window.event;[m
[32m+[m
[32m+[m[32mPor otra parte, en el resto de navegadores, el objeto event se obtiene mÃ¡gicamente a[m
[32m+[m[32mpartir del argumento que el navegador crea automÃ¡ticamente:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           71[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                     CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m     function manejadorEventos(elEvento) {[m
[32m+[m[32m         var evento = elEvento;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se quiere programar una aplicaciÃ³n que funcione correctamente en todos los[m
[32m+[m[32mnavegadores, es necesario obtener el objeto event de forma correcta segÃºn cada[m
[32m+[m[32mnavegador. El siguiente cÃ³digo muestra la forma correcta de obtener el objeto event en[m
[32m+[m[32mcualquier navegador:[m
[32m+[m
[32m+[m[32m     function manejadorEventos(elEvento) {[m
[32m+[m[32m         var evento = elEvento || window.event;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mUna vez obtenido el objeto event, ya se puede acceder a toda la informaciÃ³n relacionada[m
[32m+[m[32mcon el evento, que depende del tipo de evento producido.[m
[32m+[m
[32m+[m[32m6.3.1. InformaciÃ³n sobre el evento[m
[32m+[m
[32m+[m[32mLa propiedad type indica el tipo de evento producido, lo que es Ãºtil cuando una misma[m
[32m+[m[32mfunciÃ³n se utiliza para manejar varios eventos:[m
[32m+[m
[32m+[m[32m     var tipo = evento.type;[m
[32m+[m
[32m+[m[32mLa propiedad type devuelve el tipo de evento producido, que es igual al nombre del[m
[32m+[m[32mevento pero sin el prefijo on.[m
[32m+[m
[32m+[m[32mMediante esta propiedad, se puede rehacer de forma mÃ¡s sencilla el ejemplo anterior en[m
[32m+[m[32mel que se resaltaba una secciÃ³n de contenidos al pasar el ratÃ³n por encima:[m
[32m+[m
[32m+[m[32m     function resalta(elEvento) {[m
[32m+[m[32m         var evento = elEvento || window.event;[m
[32m+[m[32m         switch(evento.type) {[m
[32m+[m[32m            case 'mouseover':[m
[32m+[m[32m               this.style.borderColor = 'black';[m
[32m+[m[32m               break;[m
[32m+[m[32m            case 'mouseout':[m
[32m+[m[32m               this.style.borderColor = 'silver';[m
[32m+[m[32m               break;[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwindow.onload = function() {[m
[32m+[m[32m   document.getElementById("seccion").onmouseover = resalta;[m
[32m+[m[32m   document.getElementById("seccion").onmouseout = resalta;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m<div id="seccion" style="width:150px; height:60px; border:thin solid silver">[m
[32m+[m[32m   SecciÃ³n de contenidos...[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m6.3.2. InformaciÃ³n sobre los eventos de teclado[m
[32m+[m
[32m+[m[32mDe todos los eventos disponibles en JavaScript, los eventos relacionados con el teclado[m
[32m+[m[32mson los mÃ¡s incompatibles entre diferentes navegadores y por tanto, los mÃ¡s difÃ­ciles de[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                               72[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mmanejar. En primer lugar, existen muchas diferencias entre los navegadores, los teclados[m
[32m+[m[32my los sistemas operativos de los usuarios, principalmente debido a las diferencias entre[m
[32m+[m[32midiomas.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, existen tres eventos diferentes para las pulsaciones de las teclas (onkeyup,[m
[32m+[m[32monkeypress y onkeydown). Por Ãºltimo, existen dos tipos de teclas: las teclas normales[m
[32m+[m[32m(como letras, nÃºmeros y sÃ­mbolos normales) y las teclas especiales (como ENTER, Alt,[m
[32m+[m[32mShift, etc.)[m
[32m+[m
[32m+[m[32mCuando un usuario pulsa una tecla normal, se producen tres eventos seguidos y en este[m
[32m+[m[32morden: onkeydown, onkeypress y onkeyup. El evento onkeydown se corresponde con el[m
[32m+[m[32mhecho de pulsar una tecla y no soltarla; el evento onkeypress es la propia pulsaciÃ³n de la[m
[32m+[m[32mtecla y el evento onkeyup hace referencia al hecho de soltar una tecla que estaba pulsada.[m
[32m+[m
[32m+[m[32mLa forma mÃ¡s sencilla de obtener la informaciÃ³n sobre la tecla que se ha pulsado es[m
[32m+[m[32mmediante el evento onkeypress. La informaciÃ³n que proporcionan los eventos[m
[32m+[m[32monkeydown y onkeyup se puede considerar como mÃ¡s tÃ©cnica, ya que devuelven el cÃ³digo[m
[32m+[m[32minterno de cada tecla y no el carÃ¡cter que se ha pulsado.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se incluye una lista con todas las propiedades diferentes de todos los[m
[32m+[m[32meventos de teclado tanto en Internet Explorer como en el resto de navegadores:[m
[32m+[m
[32m+[m[32m    â–ª Evento keydown:[m
[32m+[m
[32m+[m[32m            â–ª Mismo comportamiento en todos los navegadores:[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad keyCode: cÃ³digo interno de la tecla[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad charCode: no definido[m
[32m+[m
[32m+[m[32m    â–ª Evento keypress:[m
[32m+[m
[32m+[m[32m            â–ª Internet Explorer:[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad keyCode: el cÃ³digo del carÃ¡cter de la tecla que se ha pulsado[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad charCode: no definido[m
[32m+[m
[32m+[m[32m            â–ª Resto de navegadores:[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad keyCode: para las teclas normales, no definido. Para las[m
[32m+[m[32m                       teclas especiales, el cÃ³digo interno de la tecla.[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad charCode: para las teclas normales, el cÃ³digo del carÃ¡cter[m
[32m+[m[32m                       de la tecla que se ha pulsado. Para las teclas especiales, 0.[m
[32m+[m
[32m+[m[32m    â–ª Evento keyup:[m
[32m+[m
[32m+[m[32m            â–ª Mismo comportamiento en todos los navegadores:[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad keyCode: cÃ³digo interno de la tecla[m
[32m+[m
[32m+[m[32m                    â–ª Propiedad charCode: no definido[m
[32m+[m
[32m+[m[32mwww.librosweb.es           73[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mPara convertir el cÃ³digo de un carÃ¡cter (no confundir con el cÃ³digo interno) al carÃ¡cter[m
[32m+[m[32mque representa la tecla que se ha pulsado, se utiliza la funciÃ³n String.fromCharCode().[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se incluye un script que muestra toda la informaciÃ³n sobre los tres[m
[32m+[m[32meventos de teclado:[m
[32m+[m
[32m+[m[32m     window.onload = function() {[m
[32m+[m[32m         document.onkeyup = muestraInformacion;[m
[32m+[m[32m         document.onkeypress = muestraInformacion;[m
[32m+[m[32m         document.onkeydown = muestraInformacion;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     function muestraInformacion(elEvento) {[m
[32m+[m[32m         var evento = window.event || elEvento;[m
[32m+[m
[32m+[m[32m         var mensaje = "Tipo de evento: " + evento.type + "<br>" +[m
[32m+[m[32m                                "Propiedad keyCode: " + evento.keyCode + "<br>" +[m
[32m+[m[32m                                "Propiedad charCode: " + evento.charCode + "<br>" +[m
[32m+[m[32m                                "CarÃ¡cter pulsado: " + String.fromCharCode(evento.charCode);[m
[32m+[m
[32m+[m[32m         info.innerHTML += "<br>--------------------------------------<br>" + mensaje[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     ...[m
[32m+[m
[32m+[m[32m     <div id="info"></div>[m
[32m+[m
[32m+[m[32mAl pulsar la tecla a en el navegador Firefox, se muestra la siguiente sucesiÃ³n de eventos:[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keypress[m
[32m+[m[32m     Propiedad keyCode: 0[m
[32m+[m[32m     Propiedad charCode: 97[m
[32m+[m[32m     CarÃ¡cter pulsado: a[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keyup[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m
[32m+[m[32mAl pulsar la tecla A (la misma tecla, pero habiendo activado previamente las mayÃºsculas)[m
[32m+[m[32mse muestra la siguiente sucesiÃ³n de eventos en el navegador Firefox:[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keypress[m
[32m+[m
[32m+[m[32mwww.librosweb.es           74[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m     Propiedad keyCode: 0[m
[32m+[m[32m     Propiedad charCode: 65[m
[32m+[m[32m     CarÃ¡cter pulsado: A[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keyup[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m
[32m+[m[32mEn los eventos keydown y keyup, la propiedad keyCode sigue valiendo lo mismo en los[m
[32m+[m[32mdos casos. El motivo es que keyCode almacena el cÃ³digo interno de la tecla, por lo que si[m
[32m+[m[32mse pulsa la misma tecla, se obtiene el mismo cÃ³digo, independientemente de que una[m
[32m+[m[32mmisma tecla puede producir caracteres diferentes (por ejemplo mayÃºsculas y[m
[32m+[m[32mminÃºsculas).[m
[32m+[m
[32m+[m[32mEn el evento keypress, el valor de la propiedad charCode varÃ­a, ya que el carÃ¡cter a, no[m
[32m+[m[32mes el mismo que el carÃ¡cter A. En este caso, el valor de charCode coincide con el cÃ³digo[m
[32m+[m[32mASCII del carÃ¡cter pulsado.[m
[32m+[m
[32m+[m[32mSiguiendo en el navegador Firefox, si ahora se pulsa una tecla especial, como por ejemplo[m
[32m+[m[32mel tabulador, se muestra la siguiente informaciÃ³n:[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 9[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keypress[m
[32m+[m[32m     Propiedad keyCode: 9[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keyup[m
[32m+[m[32m     Propiedad keyCode: 9[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m
[32m+[m[32mLas teclas especiales no disponen de la propiedad charCode, ya que sÃ³lamente se guarda[m
[32m+[m[32mel cÃ³digo interno de la tecla pulsada en la propiedad keyCode, en este caso el cÃ³digo 9. Si[m
[32m+[m[32mse pulsa la tecla Enter, se obtiene el cÃ³digo 13, la tecla de la flecha superior produce el[m
[32m+[m[32mcÃ³digo 38, etc. No obstante, dependiendo del teclado utilizado para pulsar las teclas y[m
[32m+[m[32mdependiendo de la disposiciÃ³n de las teclas en funciÃ³n del idioma del teclado, estos[m
[32m+[m[32mcÃ³digos podrÃ­an variar.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el resultado de la ejecuciÃ³n del mismo ejemplo anterior en el[m
[32m+[m[32mnavegador Internet Explorer. Al pulsar la tecla a, se obtiene la siguiente informaciÃ³n:[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: undefined[m
[32m+[m[32m     CarÃ¡cter pulsado:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           75[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keypress[m
[32m+[m[32m     Propiedad keyCode: 97[m
[32m+[m[32m     Propiedad charCode: undefined[m
[32m+[m[32m     CarÃ¡cter pulsado:[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keyup[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: undefined[m
[32m+[m[32m     CarÃ¡cter pulsado:[m
[32m+[m
[32m+[m[32mLa propiedad keyCode en el evento keypress contiene el cÃ³digo ASCII del carÃ¡cter de la[m
[32m+[m[32mtecla, por lo que se puede obtener directamente el carÃ¡cter mediante[m
[32m+[m[32mString.fromCharCode(keyCode).[m
[32m+[m
[32m+[m[32mSi se pulsa la tecla A, la informaciÃ³n mostrada es idÃ©ntica a la anterior, salvo que el[m
[32m+[m[32mcÃ³digo que muestra el evento keypress cambia por 65, que es el cÃ³digo ASCII de la tecla[m
[32m+[m[32mA:[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: undefined[m
[32m+[m[32m     CarÃ¡cter pulsado:[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keypress[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: undefined[m
[32m+[m[32m     CarÃ¡cter pulsado:[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keyup[m
[32m+[m[32m     Propiedad keyCode: 65[m
[32m+[m[32m     Propiedad charCode: undefined[m
[32m+[m[32m     CarÃ¡cter pulsado:[m
[32m+[m
[32m+[m[32mAl pulsar una tecla especial como el tabulador, Internet Explorer muestra la siguiente[m
[32m+[m[32minformaciÃ³n:[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 9[m
[32m+[m[32m     Propiedad charCode: undefined[m
[32m+[m[32m     CarÃ¡cter pulsado:[m
[32m+[m
[32m+[m[32mLos cÃ³digos mostrados para las teclas especiales coinciden con los de Firefox y el resto[m
[32m+[m[32mde navegadores, pero recuerda que pueden variar en funciÃ³n del teclado que se utiliza y[m
[32m+[m[32men funciÃ³n de la disposiciÃ³n de las teclas para cada idioma.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, las propiedades altKey, ctrlKey y shiftKey almacenan un valor booleano[m
[32m+[m[32mque indica si alguna de esas teclas estaba pulsada al producirse el evento del teclado.[m
[32m+[m[32mSorprendentemente, estas tres propiedades funcionan de la misma forma en todos los[m
[32m+[m[32mnavegadores:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           76[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m     if(evento.altKey) {[m
[32m+[m[32m         alert('Estaba pulsada la tecla ALT');[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el caso en el que se pulsa la tecla Shift y sin soltarla, se pulsa[m
[32m+[m[32msobre la tecla que contiene el nÃºmero 2 (en este caso, se refiere a la tecla que se[m
[32m+[m[32mencuentra en la parte superior del teclado y por tanto, no se refiere a la que se encuentra[m
[32m+[m[32men el teclado numÃ©rico). Tanto Internet Explorer como Firefox muestran la misma[m
[32m+[m[32msecuencia de eventos:[m
[32m+[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 16[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keydown[m
[32m+[m[32m     Propiedad keyCode: 50[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keypress[m
[32m+[m[32m     Propiedad keyCode: 0[m
[32m+[m[32m     Propiedad charCode: 34[m
[32m+[m[32m     CarÃ¡cter pulsado: "[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keyup[m
[32m+[m[32m     Propiedad keyCode: 50[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m[32m     --------------------------------------[m
[32m+[m[32m     Tipo de evento: keyup[m
[32m+[m[32m     Propiedad keyCode: 16[m
[32m+[m[32m     Propiedad charCode: 0[m
[32m+[m[32m     CarÃ¡cter pulsado: ?[m
[32m+[m
[32m+[m[32mEl evento keypress es el Ãºnico que permite obtener el carÃ¡cter realmente pulsado, ya[m
[32m+[m[32mque al pulsar sobre la tecla 2 habiendo pulsado la tecla Shift previamente, se obtiene el[m
[32m+[m[32mcarÃ¡cter ", que es precisamente el que muestra el evento keypress.[m
[32m+[m
[32m+[m[32mEl siguiente cÃ³digo de JavaScript permite obtener de forma correcta en cualquier[m
[32m+[m[32mnavegador el carÃ¡cter correspondiente a la tecla pulsada:[m
[32m+[m
[32m+[m[32m     function manejador(elEvento) {[m
[32m+[m[32m         var evento = elEvento || window.event;[m
[32m+[m[32m         var caracter = evento.charCode || evento.keyCode;[m
[32m+[m[32m         alert("El carÃ¡cter pulsado es: " + String.fromCharCode(caracter));[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     document.onkeypress = manejador;[m
[32m+[m
[32m+[m[32mwww.librosweb.es           77[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m6.3.3. InformaciÃ³n sobre los eventos de ratÃ³n[m
[32m+[m
[32m+[m[32mLa informaciÃ³n mÃ¡s relevante sobre los eventos relacionados con el ratÃ³n es la de las[m
[32m+[m[32mcoordenadas de la posiciÃ³n del puntero del ratÃ³n. Aunque el origen de las coordenadas[m
[32m+[m[32msiempre se encuentra en la esquina superior izquierda, el punto que se toma como[m
[32m+[m[32mreferencia de las coordenadas puede variar.[m
[32m+[m
[32m+[m[32mDe esta forma, es posible obtener la posiciÃ³n del ratÃ³n respecto de la pantalla del[m
[32m+[m[32mordenador, respecto de la ventana del navegador y respecto de la propia pÃ¡gina HTML[m
[32m+[m[32m(que se utiliza cuando el usuario ha hecho scroll sobre la pÃ¡gina). Las coordenadas mÃ¡s[m
[32m+[m[32msencillas son las que se refieren a la posiciÃ³n del puntero respecto de la ventana del[m
[32m+[m[32mnavegador, que se obtienen mediante las propiedades clientX y clientY:[m
[32m+[m
[32m+[m[32m     function muestraInformacion(elEvento) {[m
[32m+[m[32m         var evento = elEvento || window.event;[m
[32m+[m[32m         var coordenadaX = evento.clientX;[m
[32m+[m[32m         var coordenadaY = evento.clientY;[m
[32m+[m[32m         alert("Has pulsado el ratÃ³n en la posiciÃ³n: " + coordenadaX + ", " +[m
[32m+[m
[32m+[m[32m     coordenadaY);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     document.onclick = muestraInformacion;[m
[32m+[m
[32m+[m[32mLas coordenadas de la posiciÃ³n del puntero del ratÃ³n respecto de la pantalla completa[m
[32m+[m[32mdel ordenador del usuario se obtienen de la misma forma, mediante las propiedades[m
[32m+[m[32mscreenX y screenY:[m
[32m+[m
[32m+[m[32m     var coordenadaX = evento.screenX;[m
[32m+[m[32m     var coordenadaY = evento.screenY;[m
[32m+[m
[32m+[m[32mEn muchas ocasiones, es necesario obtener otro par de coordenadas diferentes: las que[m
[32m+[m[32mcorresponden a la posiciÃ³n del ratÃ³n respecto del origen de la pÃ¡gina. Estas coordenadas[m
[32m+[m[32mno siempre coinciden con las coordenadas respecto del origen de la ventana del[m
[32m+[m[32mnavegador, ya que el usuario puede hacer scroll sobre la pÃ¡gina web. Internet Explorer[m
[32m+[m[32mno proporciona estas coordenadas de forma directa, mientras que el resto de[m
[32m+[m[32mnavegadores sÃ­ que lo hacen. De esta forma, es necesario detectar si el navegador es de[m
[32m+[m[32mtipo Internet Explorer y en caso afirmativo realizar un cÃ¡lculo sencillo:[m
[32m+[m
[32m+[m[32m     // Detectar si el navegador es Internet Explorer[m
[32m+[m[32m     var ie = navigator.userAgent.toLowerCase().indexOf('msie')!=-1;[m
[32m+[m
[32m+[m[32m     if(ie) {[m
[32m+[m[32m         coordenadaX = evento.clientX + document.body.scrollLeft;[m
[32m+[m[32m         coordenadaY = evento.clientY + document.body.scrollTop;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m[32m     else {[m
[32m+[m
[32m+[m[32m         coordenadaX = evento.pageX;[m
[32m+[m[32m         coordenadaY = evento.pageY;[m
[32m+[m[32m     }[m
[32m+[m[32m     alert("Has pulsado el ratÃ³n en la posiciÃ³n: " + coordenadaX + ", " +[m
[32m+[m[32m     coordenadaY + " respecto de la pÃ¡gina web");[m
[32m+[m
[32m+[m[32mwww.librosweb.es           78[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32mLa variable ie vale true si el navegador en el que se ejecuta el script es de tipo Internet[m
[32m+[m[32mExplorer (cualquier versiÃ³n) y vale false en otro caso. Para el resto de navegadores, las[m
[32m+[m[32mcoordenadas respecto del origen de la pÃ¡gina se obtienen mediante las propiedades[m
[32m+[m[32mpageX y pageY. En el caso de Internet Explorer, se obtienen sumando la posiciÃ³n[m
[32m+[m[32mrespecto de la ventana del navegador (clientX, clientY) y el desplazamiento que ha[m
[32m+[m[32msufrido la pÃ¡gina (document.body.scrollLeft, document.body.scrollTop).[m
[32m+[m
[32m+[m[32m Ejercicio 15[m
[32m+[m
[32m+[m[32mCompletar el cÃ³digo JavaScript proporcionado para que:[m
[32m+[m
[32m+[m[32m      1. Al mover el ratÃ³n en cualquier punto de la ventana del navegador, se muestre la[m
[32m+[m[32m           posiciÃ³n del puntero respecto del navegador y respecto de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m               Figura 6.1. InformaciÃ³n que se muestra para los eventos del ratÃ³n[m
[32m+[m
[32m+[m[32m    Para mostrar los mensajes, utilizar la funciÃ³n muestraInformacion() deduciendo[m
[32m+[m[32m    su funcionamiento a partir de su cÃ³digo fuente.[m
[32m+[m[32m2. Al pulsar cualquier tecla, el mensaje mostrado debe cambiar para indicar el nuevo[m
[32m+[m[32m    evento y su informaciÃ³n asociada:[m
[32m+[m
[32m+[m[32m              Figura 6.2. InformaciÃ³n que se muestra para los eventos del teclado[m
[32m+[m
[32m+[m[32m3. AÃ±adir la siguiente caracterÃ­stica al script: cuando se pulsa un botÃ³n del ratÃ³n, el[m
[32m+[m[32m    color de fondo del cuadro de mensaje debe ser amarillo (#FFFFCC) y cuando se[m
[32m+[m[32m    pulsa una tecla, el color de fondo debe ser azul (#CCE6FF). Al volver a mover el[m
[32m+[m[32m    ratÃ³n, el color de fondo vuelve a ser blanco.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                         79[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 6. Eventos[m
[32m+[m
[32m+[m[32m            Figura 6.3. El color de fondo del cuadro de informaciÃ³n cambia en funciÃ³n del tipo[m
[32m+[m[32m                                                        de evento[m
[32m+[m
[32m+[m[32m Ejercicio 16[m
[32m+[m
[32m+[m[32mCrear un script que informe al usuario en que zona de la pantalla ha pulsado el ratÃ³n. Las[m
[32m+[m[32mzonas definidas son las siguientes: izquierda arriba, izquierda abajo, derecha arriba y[m
[32m+[m[32mderecha abajo. Para determinar el tamaÃ±o de la ventana del navegador, utilizar la funciÃ³n[m
[32m+[m[32mtamanoVentanaNavegador() proporcionada.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           80[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mCapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mLa programaciÃ³n de aplicaciones que contienen formularios web siempre ha sido una de[m
[32m+[m[32mlas tareas fundamentales de JavaScript. De hecho, una de las principales razones por las[m
[32m+[m[32mque se inventÃ³ el lenguaje de programaciÃ³n JavaScript fue la necesidad de validar los[m
[32m+[m[32mdatos de los formularios directamente en el navegador del usuario. De esta forma, se[m
[32m+[m[32mevitaba recargar la pÃ¡gina cuando el usuario cometÃ­a errores al rellenar los formularios.[m
[32m+[m
[32m+[m[32mNo obstante, la apariciÃ³n de las aplicaciones AJAX ha relevado al tratamiento de[m
[32m+[m[32mformularios como la principal actividad de JavaScript. Ahora, el principal uso de[m
[32m+[m[32mJavaScript es el de las comunicaciones asÃ­ncronas con los servidores y el de la[m
[32m+[m[32mmanipulaciÃ³n dinÃ¡mica de las aplicaciones. De todas formas, el manejo de los[m
[32m+[m[32mformularios sigue siendo un requerimiento imprescindible para cualquier programador[m
[32m+[m[32mde JavaScript.[m
[32m+[m
[32m+[m[32m7.1. Propiedades bÃ¡sicas de formularios y elementos[m
[32m+[m
[32m+[m[32mJavaScript dispone de numerosas propiedades y funciones que facilitan la programaciÃ³n[m
[32m+[m[32mde aplicaciones que manejan formularios. En primer lugar, cuando se carga una pÃ¡gina[m
[32m+[m[32mweb, el navegador crea automÃ¡ticamente un array llamado forms y que contiene la[m
[32m+[m[32mreferencia a todos los formularios de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mPara acceder al array forms, se utiliza el objeto document, por lo que document.forms es[m
[32m+[m[32mel array que contiene todos los formularios de la pÃ¡gina. Como se trata de un array, el[m
[32m+[m[32macceso a cada formulario se realiza con la misma sintaxis de los arrays. La siguiente[m
[32m+[m[32minstrucciÃ³n accede al primer formulario de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     document.forms[0];[m
[32m+[m
[32m+[m[32mAdemÃ¡s del array de formularios, el navegador crea automÃ¡ticamente un array llamado[m
[32m+[m[32melements por cada uno de los formularios de la pÃ¡gina. Cada array elements contiene la[m
[32m+[m[32mreferencia a todos los elementos (cuadros de texto, botones, listas desplegables, etc.) de[m
[32m+[m[32mese formulario. Utilizando la sintaxis de los arrays, la siguiente instrucciÃ³n obtiene el[m
[32m+[m[32mprimer elemento del primer formulario de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     document.forms[0].elements[0];[m
[32m+[m
[32m+[m[32mLa sintaxis de los arrays no siempre es tan concisa. El siguiente ejemplo muestra cÃ³mo[m
[32m+[m[32mobtener directamente el Ãºltimo elemento del primer formulario de la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     document.forms[0].elements[document.forms[0].elements.length-1];[m
[32m+[m
[32m+[m[32mAunque esta forma de acceder a los formularios es rÃ¡pida y sencilla, tiene un[m
[32m+[m[32minconveniente muy grave. Â¿QuÃ© sucede si cambia el diseÃ±o de la pÃ¡gina y en el cÃ³digo[m
[32m+[m[32mHTML se cambia el orden de los formularios originales o se aÃ±aden nuevos formularios?[m
[32m+[m[32mEl problema es que "el primer formulario de la pÃ¡gina" ahora podrÃ­a ser otro formulario[m
[32m+[m[32mdiferente al que espera la aplicaciÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           81[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mEn un entorno tan cambiante como el diseÃ±o web, es muy difÃ­cil confiar en que el orden[m
[32m+[m[32mde los formularios se mantenga estable en una pÃ¡gina web. Por este motivo, siempre[m
[32m+[m[32mdeberÃ­a evitarse el acceso a los formularios de una pÃ¡gina mediante el array[m
[32m+[m[32mdocument.forms.[m
[32m+[m
[32m+[m[32mUna forma de evitar los problemas del mÃ©todo anterior consiste en acceder a los[m
[32m+[m[32mformularios de una pÃ¡gina a travÃ©s de su nombre (atributo name) o a travÃ©s de su[m
[32m+[m[32matributo id. El objeto document permite acceder directamente a cualquier formulario[m
[32m+[m[32mmediante su atributo name:[m
[32m+[m
[32m+[m[32m     var formularioPrincipal = document.formulario;[m
[32m+[m[32m     var formularioSecundario = document.otro_formulario;[m
[32m+[m
[32m+[m[32m     <form name="formulario" >[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32m     <form name="otro_formulario" >[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mAccediendo de esta forma a los formularios de la pÃ¡gina, el script funciona[m
[32m+[m[32mcorrectamente aunque se reordenen los formularios o se aÃ±adan nuevos formularios a la[m
[32m+[m[32mpÃ¡gina. Los elementos de los formularios tambiÃ©n se pueden acceder directamente[m
[32m+[m[32mmediante su atributo name:[m
[32m+[m
[32m+[m[32m     var formularioPrincipal = document.formulario;[m
[32m+[m[32m     var primerElemento = document.formulario.elemento;[m
[32m+[m
[32m+[m[32m     <form name="formulario">[m
[32m+[m[32m         <input type="text" name="elemento" />[m
[32m+[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mObviamente, tambiÃ©n se puede acceder a los formularios y a sus elementos utilizando las[m
[32m+[m[32mfunciones DOM de acceso directo a los nodos. El siguiente ejemplo utiliza la habitual[m
[32m+[m[32mfunciÃ³n document.getElementById() para acceder de forma directa a un formulario y a[m
[32m+[m[32muno de sus elementos:[m
[32m+[m
[32m+[m[32m     var formularioPrincipal = document.getElementById("formulario");[m
[32m+[m[32m     var primerElemento = document.getElementById("elemento");[m
[32m+[m
[32m+[m[32m     <form name="formulario" id="formulario" >[m
[32m+[m[32m         <input type="text" name="elemento" id="elemento" />[m
[32m+[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mIndependientemente del mÃ©todo utilizado para obtener la referencia a un elemento de[m
[32m+[m[32mformulario, cada elemento dispone de las siguientes propiedades Ãºtiles para el[m
[32m+[m[32mdesarrollo de las aplicaciones:[m
[32m+[m
[32m+[m[32m    â–ª type: indica el tipo de elemento que se trata. Para los elementos de tipo <input>[m
[32m+[m[32m       (text, button, checkbox, etc.) coincide con el valor de su atributo type. Para las[m
[32m+[m[32m       listas desplegables normales (elemento <select>) su valor es select-one, lo que[m
[32m+[m
[32m+[m[32mwww.librosweb.es           82[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m       permite diferenciarlas de las listas que permiten seleccionar varios elementos a la[m
[32m+[m[32m       vez y cuyo tipo es select-multiple. Por Ãºltimo, en los elementos de tipo[m
[32m+[m[32m       <textarea>, el valor de type es textarea.[m
[32m+[m
[32m+[m[32m    â–ª form: es una referencia directa al formulario al que pertenece el elemento. AsÃ­,[m
[32m+[m[32m       para acceder al formulario de un elemento, se puede utilizar[m
[32m+[m[32m        document.getElementById("id_del_elemento").form[m
[32m+[m
[32m+[m[32m    â–ª name: obtiene el valor del atributo name de XHTML. Solamente se puede leer su[m
[32m+[m[32m       valor, por lo que no se puede modificar.[m
[32m+[m
[32m+[m[32m    â–ª value: permite leer y modificar el valor del atributo value de XHTML. Para los[m
[32m+[m[32m       campos de texto (<input type="text"> y <textarea>) obtiene el texto que ha[m
[32m+[m[32m       escrito el usuario. Para los botones obtiene el texto que se muestra en el botÃ³n.[m
[32m+[m[32m       Para los elementos checkbox y radiobutton no es muy Ãºtil, como se verÃ¡ mÃ¡s[m
[32m+[m[32m       adelante[m
[32m+[m
[32m+[m[32mPor Ãºltimo, los eventos mÃ¡s utilizados en el manejo de los formularios son los siguientes:[m
[32m+[m
[32m+[m[32m    â–ª onclick: evento que se produce cuando se pincha con el ratÃ³n sobre un elemento.[m
[32m+[m[32m       Normalmente se utiliza con cualquiera de los tipos de botones que permite definir[m
[32m+[m[32m       XHTML (<input type="button">, <input type="submit">, <input[m
[32m+[m[32m       type="image">).[m
[32m+[m
[32m+[m[32m    â–ª onchange: evento que se produce cuando el usuario cambia el valor de un[m
[32m+[m[32m       elemento de texto (<input type="text"> o <textarea>). TambiÃ©n se produce[m
[32m+[m[32m       cuando el usuario selecciona una opciÃ³n en una lista desplegable (<select>). Sin[m
[32m+[m[32m       embargo, el evento sÃ³lo se produce si despuÃ©s de realizar el cambio, el usuario[m
[32m+[m[32m       pasa al siguiente campo del formulario, lo que tÃ©cnicamente se conoce como que[m
[32m+[m[32m       "el otro campo de formulario ha perdido el foco".[m
[32m+[m
[32m+[m[32m    â–ª onfocus: evento que se produce cuando el usuario selecciona un elemento del[m
[32m+[m[32m       formulario.[m
[32m+[m
[32m+[m[32m    â–ª onblur: evento complementario de onfocus, ya que se produce cuando el usuario[m
[32m+[m[32m       ha deseleccionado un elemento por haber seleccionado otro elemento del[m
[32m+[m[32m       formulario. TÃ©cnicamente, se dice que el elemento anterior "ha perdido el foco".[m
[32m+[m
[32m+[m[32m7.2. Utilidades bÃ¡sicas para formularios[m
[32m+[m
[32m+[m[32m7.2.1. Obtener el valor de los campos de formulario[m
[32m+[m
[32m+[m[32mLa mayorÃ­a de tÃ©cnicas JavaScript relacionadas con los formularios requieren leer y/o[m
[32m+[m[32mmodificar el valor de los campos del formulario. Por tanto, a continuaciÃ³n se muestra[m
[32m+[m[32mcÃ³mo obtener el valor de los campos de formulario mÃ¡s utilizados.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           83[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m7.2.1.1. Cuadro de texto y textarea[m
[32m+[m
[32m+[m[32mEl valor del texto mostrado por estos elementos se obtiene y se establece directamente[m
[32m+[m[32mmediante la propiedad value.[m
[32m+[m
[32m+[m[32m     <input type="text" id="texto" />[m
[32m+[m[32m     var valor = document.getElementById("texto").value;[m
[32m+[m
[32m+[m[32m     <textarea id="parrafo"></textarea>[m
[32m+[m[32m     var valor = document.getElementById("parrafo").value;[m
[32m+[m
[32m+[m[32m7.2.1.2. Radiobutton[m
[32m+[m
[32m+[m[32mCuando se dispone de un grupo de radiobuttons, generalmente no se quiere obtener el[m
[32m+[m[32mvalor del atributo value de alguno de ellos, sino que lo importante es conocer cuÃ¡l de[m
[32m+[m[32mtodos los radiobuttons se ha seleccionado. La propiedad checked devuelve true para el[m
[32m+[m[32mradiobutton seleccionado y false en cualquier otro caso. Si por ejemplo se dispone del[m
[32m+[m[32msiguiente grupo de radiobuttons:[m
[32m+[m
[32m+[m[32m     <input type="radio" value="si" name="pregunta" id="pregunta_si"/> SI[m
[32m+[m[32m     <input type="radio" value="no" name="pregunta" id="pregunta_no"/> NO[m
[32m+[m[32m     <input type="radio" value="nsnc" name="pregunta" id="pregunta_nsnc"/> NS/NC[m
[32m+[m
[32m+[m[32mEl siguiente cÃ³digo permite determinar si cada radiobutton ha sido seleccionado o no:[m
[32m+[m
[32m+[m[32m     var elementos = document.getElementsByName("pregunta");[m
[32m+[m
[32m+[m[32m     for(var i=0; i<elementos.length; i++) {[m
[32m+[m[32m         alert(" Elemento: " + elementos[i].value + "\n Seleccionado: " +[m
[32m+[m
[32m+[m[32m     elementos[i].checked);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m7.2.1.3. Checkbox[m
[32m+[m
[32m+[m[32mLos elementos de tipo checkbox son muy similares a los radiobutton, salvo que en este[m
[32m+[m[32mcaso se debe comprobar cada checkbox de forma independiente del resto. El motivo es[m
[32m+[m[32mque los grupos de radiobutton son mutuamente excluyentes y sÃ³lo se puede seleccionar[m
[32m+[m[32muno de ellos cada vez. Por su parte, los checkbox se pueden seleccionar de forma[m
[32m+[m[32mindependiente respecto de los demÃ¡s.[m
[32m+[m
[32m+[m[32mSi se dispone de los siguientes checkbox:[m
[32m+[m
[32m+[m[32m     <input type="checkbox" value="condiciones" name="condiciones"[m
[32m+[m[32m     id="condiciones"/> He leÃ­do y acepto las condiciones[m
[32m+[m[32m     <input type="checkbox" value="privacidad" name="privacidad" id="privacidad"/>[m
[32m+[m[32m     He leÃ­do la polÃ­tica de privacidad[m
[32m+[m
[32m+[m[32mUtilizando la propiedad checked, es posible comprobar si cada checkbox ha sido[m
[32m+[m[32mseleccionado:[m
[32m+[m
[32m+[m[32m     var elemento = document.getElementById("condiciones");[m
[32m+[m[32m     alert(" Elemento: " + elemento.value + "\n Seleccionado: " + elemento.checked);[m
[32m+[m
[32m+[m[32mwww.librosweb.es           84[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m     elemento = document.getElementById("privacidad");[m
[32m+[m[32m     alert(" Elemento: " + elemento.value + "\n Seleccionado: " + elemento.checked);[m
[32m+[m
[32m+[m[32m7.2.1.4. Select[m
[32m+[m
[32m+[m[32mLas listas desplegables (<select>) son los elementos en los que es mÃ¡s difÃ­cil obtener su[m
[32m+[m[32mvalor. Si se dispone de una lista desplegable como la siguiente:[m
[32m+[m
[32m+[m[32m     <select id="opciones" name="opciones">[m
[32m+[m[32m         <option value="1">Primer valor</option>[m
[32m+[m[32m         <option value="2">Segundo valor</option>[m
[32m+[m[32m         <option value="3">Tercer valor</option>[m
[32m+[m[32m         <option value="4">Cuarto valor</option>[m
[32m+[m
[32m+[m[32m     </select>[m
[32m+[m
[32m+[m[32mEn general, lo que se requiere es obtener el valor del atributo value de la opciÃ³n[m
[32m+[m[32m(<option>) seleccionada por el usuario. Obtener este valor no es sencillo, ya que se[m
[32m+[m[32mdeben realizar una serie de pasos. AdemÃ¡s, para obtener el valor seleccionado, deben[m
[32m+[m[32mutilizarse las siguientes propiedades:[m
[32m+[m
[32m+[m[32m    â–ª options, es un array creado automÃ¡ticamente por el navegador para cada lista[m
[32m+[m[32m       desplegable y que contiene la referencia a todas las opciones de esa lista. De esta[m
[32m+[m[32m       forma, la primera opciÃ³n de una lista se puede obtener mediante[m
[32m+[m[32m       document.getElementById("id_de_la_lista").options[0].[m
[32m+[m
[32m+[m[32m    â–ª selectedIndex, cuando el usuario selecciona una opciÃ³n, el navegador actualiza[m
[32m+[m[32m       automÃ¡ticamente el valor de esta propiedad, que guarda el Ã­ndice de la opciÃ³n[m
[32m+[m[32m       seleccionada. El Ã­ndice hace referencia al array options creado automÃ¡ticamente[m
[32m+[m[32m       por el navegador para cada lista.[m
[32m+[m
[32m+[m[32m     // Obtener la referencia a la lista[m
[32m+[m[32m     var lista = document.getElementById("opciones");[m
[32m+[m
[32m+[m[32m     // Obtener el Ã­ndice de la opciÃ³n que se ha seleccionado[m
[32m+[m[32m     var indiceSeleccionado = lista.selectedIndex;[m
[32m+[m[32m     // Con el Ã­ndice y el array "options", obtener la opciÃ³n seleccionada[m
[32m+[m[32m     var opcionSeleccionada = lista.options[indiceSeleccionado];[m
[32m+[m
[32m+[m[32m     // Obtener el valor y el texto de la opciÃ³n seleccionada[m
[32m+[m[32m     var textoSeleccionado = opcionSeleccionada.text;[m
[32m+[m[32m     var valorSeleccionado = opcionSeleccionada.value;[m
[32m+[m
[32m+[m[32m     alert("OpciÃ³n seleccionada: " + textoSeleccionado + "\n Valor de la opciÃ³n: " +[m
[32m+[m[32m     valorSeleccionado);[m
[32m+[m
[32m+[m[32mComo se ha visto, para obtener el valor del atributo value correspondiente a la opciÃ³n[m
[32m+[m[32mseleccionada por el usuario, es necesario realizar varios pasos. No obstante,[m
[32m+[m[32mnormalmente se abrevian todos los pasos necesarios en una Ãºnica instrucciÃ³n:[m
[32m+[m
[32m+[m[32m     var lista = document.getElementById("opciones");[m
[32m+[m
[32m+[m[32m     // Obtener el valor de la opciÃ³n seleccionada[m
[32m+[m[32m     var valorSeleccionado = lista.options[lista.selectedIndex].value;[m
[32m+[m
[32m+[m[32mwww.librosweb.es           85[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m     // Obtener el texto que muestra la opciÃ³n seleccionada[m
[32m+[m[32m     var valorSeleccionado = lista.options[lista.selectedIndex].text;[m
[32m+[m
[32m+[m[32mLo mÃ¡s importante es no confundir el valor de la propiedad selectedIndex con el valor[m
[32m+[m[32mcorrespondiente a la propiedad value de la opciÃ³n seleccionada. En el ejemplo anterior,[m
[32m+[m[32mla primera opciÃ³n tiene un value igual a 1. Sin embargo, si se selecciona esta opciÃ³n, el[m
[32m+[m[32mvalor de selectedIndex serÃ¡ 0, ya que es la primera opciÃ³n del array options (y los[m
[32m+[m[32marrays empiezan a contar los elementos en el nÃºmero 0).[m
[32m+[m
[32m+[m[32m7.2.2. Establecer el foco en un elemento[m
[32m+[m
[32m+[m[32mEn programaciÃ³n, cuando un elemento estÃ¡ seleccionado y se puede escribir[m
[32m+[m[32mdirectamente en el o se puede modificar alguna de sus propiedades, se dice que tiene el[m
[32m+[m[32mfoco del programa.[m
[32m+[m
[32m+[m[32mSi un cuadro de texto de un formulario tiene el foco, el usuario puede escribir[m
[32m+[m[32mdirectamente en el sin necesidad de pinchar previamente con el ratÃ³n en el interior del[m
[32m+[m[32mcuadro. Igualmente, si una lista desplegable tiene el foco, el usuario puede seleccionar[m
[32m+[m[32muna opciÃ³n directamente subiendo y bajando con las flechas del teclado.[m
[32m+[m
[32m+[m[32mAl pulsar repetidamente la tecla TABULADOR sobre una pÃ¡gina web, los diferentes[m
[32m+[m[32melementos (enlaces, imÃ¡genes, campos de formulario, etc.) van obteniendo el foco del[m
[32m+[m[32mnavegador (el elemento seleccionado cada vez suele mostrar un pequeÃ±o borde[m
[32m+[m[32mpunteado).[m
[32m+[m
[32m+[m[32mSi en una pÃ¡gina web el formulario es el elemento mÃ¡s importante, como por ejemplo en[m
[32m+[m[32muna pÃ¡gina de bÃºsqueda o en una pÃ¡gina con un formulario para registrarse, se[m
[32m+[m[32mconsidera una buena prÃ¡ctica de usabilidad el asignar automÃ¡ticamente el foco al primer[m
[32m+[m[32melemento del formulario cuando se carga la pÃ¡gina.[m
[32m+[m
[32m+[m[32mPara asignar el foco a un elemento de XHTML, se utiliza la funciÃ³n focus(). El siguiente[m
[32m+[m[32mejemplo asigna el foco a un elemento de formulario cuyo atributo id es igual a primero:[m
[32m+[m
[32m+[m[32m     document.getElementById("primero").focus();[m
[32m+[m
[32m+[m[32m     <form id="formulario" action="#">[m
[32m+[m[32m         <input type="text" id="primero" />[m
[32m+[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mAmpliando el ejemplo anterior, se puede asignar automÃ¡ticamente el foco del programa[m
[32m+[m[32mal primer elemento del primer formulario de la pÃ¡gina, independientemente del id del[m
[32m+[m[32mformulario y de los elementos:[m
[32m+[m
[32m+[m[32m     if(document.forms.length > 0) {[m
[32m+[m[32m         if(document.forms[0].elements.length > 0) {[m
[32m+[m[32m            document.forms[0].elements[0].focus();[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl cÃ³digo anterior comprueba que existe al menos un formulario en la pÃ¡gina mediante[m
[32m+[m[32mel tamaÃ±o del array forms. Si su tamaÃ±o es mayor que 0, se utiliza este primer[m
[32m+[m
[32m+[m[32mwww.librosweb.es           86[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mformulario. Empleando la misma tÃ©cnica, se comprueba que el formulario tenga al[m
[32m+[m[32mmenos un elemento (if(document.forms[0].elements.length > 0)). En caso[m
[32m+[m[32mafirmativo, se establece el foco del navegador en el primer elemento del primer[m
[32m+[m[32mformulario (document.forms[0].elements[0].focus();).[m
[32m+[m
[32m+[m[32mPara que el ejemplo anterior sea completamente correcto, se debe aÃ±adir una[m
[32m+[m[32mcomprobaciÃ³n adicional. El campo de formulario que se selecciona no deberÃ­a ser de[m
[32m+[m[32mtipo hidden:[m
[32m+[m
[32m+[m[32m     if(document.forms.length > 0) {[m
[32m+[m[32m         for(var i=0; i < document.forms[0].elements.length; i++) {[m
[32m+[m[32m            var campo = document.forms[0].elements[i];[m
[32m+[m[32m            if(campo.type != "hidden") {[m
[32m+[m[32m               campo.focus();[m
[32m+[m[32m               break;[m
[32m+[m[32m            }[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m7.2.3. Evitar el envÃ­o duplicado de un formulario[m
[32m+[m
[32m+[m[32mUno de los problemas habituales con el uso de formularios web es la posibilidad de que[m
[32m+[m[32mel usuario pulse dos veces seguidas sobre el botÃ³n "Enviar". Si la conexiÃ³n del usuario es[m
[32m+[m[32mdemasiado lenta o la respuesta del servidor se hace esperar, el formulario original sigue[m
[32m+[m[32mmostrÃ¡ndose en el navegador y por ese motivo, el usuario tiene la tentaciÃ³n de volver a[m
[32m+[m[32mpinchar sobre el botÃ³n de "Enviar".[m
[32m+[m
[32m+[m[32mEn la mayorÃ­a de los casos, el problema no es grave e incluso es posible controlarlo en el[m
[32m+[m[32mservidor, pero puede complicarse en formularios de aplicaciones importantes como las[m
[32m+[m[32mque implican transacciones econÃ³micas.[m
[32m+[m
[32m+[m[32mPor este motivo, una buena prÃ¡ctica en el diseÃ±o de aplicaciones web suele ser la de[m
[32m+[m[32mdeshabilitar el botÃ³n de envÃ­o despuÃ©s de la primera pulsaciÃ³n. El siguiente ejemplo[m
[32m+[m[32mmuestra el cÃ³digo necesario:[m
[32m+[m
[32m+[m[32m     <form id="formulario" action="#">[m
[32m+[m[32m         ...[m
[32m+[m[32m         <input type="button" value="Enviar" onclick="this.disabled=true;[m
[32m+[m
[32m+[m[32m     this.value=â€™Enviando...â€™; this.form.submit()" />[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mCuando se pulsa sobre el botÃ³n de envÃ­o del formulario, se produce el evento onclick[m
[32m+[m[32msobre el botÃ³n y por tanto, se ejecutan las instrucciones JavaScript contenidas en el[m
[32m+[m[32matributo onclick:[m
[32m+[m
[32m+[m[32m      1. En primer lugar, se deshabilita el botÃ³n mediante la instrucciÃ³n this.disabled[m
[32m+[m[32m           = true;. Esta es la Ãºnica instrucciÃ³n necesaria si sÃ³lo se quiere deshabilitar un[m
[32m+[m[32m           botÃ³n.[m
[32m+[m
[32m+[m[32m      2. A continuaciÃ³n, se cambia el mensaje que muestra el botÃ³n. Del original[m
[32m+[m[32m           "Enviar" se pasa al mÃ¡s adecuado "Enviando..."[m
[32m+[m
[32m+[m[32mwww.librosweb.es           87[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m      3. Por Ãºltimo, se envÃ­a el formulario mediante la funciÃ³n submit() en la siguiente[m
[32m+[m[32m           instrucciÃ³n: this.form.submit()[m
[32m+[m
[32m+[m[32mEl botÃ³n del ejemplo anterior estÃ¡ definido mediante un botÃ³n de tipo <input[m
[32m+[m[32mtype="button" />, ya que el cÃ³digo JavaScript mostrado no funciona correctamente con[m
[32m+[m[32mun botÃ³n de tipo <input type="submit" />. Si se utiliza un botÃ³n de tipo submit, el[m
[32m+[m[32mbotÃ³n se deshabilita antes de enviar el formulario y por tanto el formulario acaba sin[m
[32m+[m[32menviarse.[m
[32m+[m
[32m+[m[32m7.2.4. Limitar el tamaÃ±o de caracteres de un textarea[m
[32m+[m
[32m+[m[32mLa carencia mÃ¡s importante de los campos de formulario de tipo textarea es la[m
[32m+[m[32mimposibilidad de limitar el mÃ¡ximo nÃºmero de caracteres que se pueden introducir, de[m
[32m+[m[32mforma similar al atributo maxlength de los cuadros de texto normales.[m
[32m+[m
[32m+[m[32mJavaScript permite aÃ±adir esta caracterÃ­stica de forma muy sencilla. En primer lugar, hay[m
[32m+[m[32mque recordar que con algunos eventos (como onkeypress, onclick y onsubmit) se puede[m
[32m+[m[32mevitar su comportamiento normal si se devuelve el valor false.[m
[32m+[m
[32m+[m[32mEvitar el comportamiento normal equivale a modificar completamente el[m
[32m+[m[32mcomportamiento habitual del evento. Si por ejemplo se devuelve el valor false en el[m
[32m+[m[32mevento onkeypress, la tecla pulsada por el usuario no se tiene en cuenta. Si se devuelve[m
[32m+[m[32mfalse en el evento onclick de un elemento como un enlace, el navegador no carga la[m
[32m+[m[32mpÃ¡gina indicada por el enlace.[m
[32m+[m
[32m+[m[32mSi un evento devuelve el valor true, su comportamiento es el habitual:[m
[32m+[m
[32m+[m[32m     <textarea onkeypress="return true;"></textarea>[m
[32m+[m
[32m+[m[32mEn el textarea del ejemplo anterior, el usuario puede escribir cualquier carÃ¡cter, ya que[m
[32m+[m[32mel evento onkeypress devuelve true y por tanto, su comportamiento es el normal y la[m
[32m+[m[32mtecla pulsada se transforma en un carÃ¡cter dentro del textarea.[m
[32m+[m
[32m+[m[32mSin embargo, en el siguiente ejemplo:[m
[32m+[m
[32m+[m[32m     <textarea onkeypress="return false;"></textarea>[m
[32m+[m
[32m+[m[32mComo el valor devuelto por el evento onkeypress es igual a false, el navegador no[m
[32m+[m[32mejecuta el comportamiento por defecto del evento, es decir, la tecla presionada no se[m
[32m+[m[32mtransforma en ningÃºn carÃ¡cter dentro del textarea. No importa las veces que se pulsen[m
[32m+[m[32mlas teclas y no importa la tecla pulsada, ese textarea no permitirÃ¡ escribir ningÃºn[m
[32m+[m[32mcarÃ¡cter.[m
[32m+[m
[32m+[m[32mAprovechando esta caracterÃ­stica, es sencillo limitar el nÃºmero de caracteres que se[m
[32m+[m[32mpueden escribir en un elemento de tipo textarea: se comprueba si se ha llegado al[m
[32m+[m[32mmÃ¡ximo nÃºmero de caracteres permitido y en caso afirmativo se evita el[m
[32m+[m[32mcomportamiento habitual del evento y por tanto, los caracteres adicionales no se aÃ±aden[m
[32m+[m[32mal textarea:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           88[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m     function limita(maximoCaracteres) {[m
[32m+[m[32m         var elemento = document.getElementById("texto");[m
[32m+[m[32m         if(elemento.value.length >= maximoCaracteres ) {[m
[32m+[m[32m            return false;[m
[32m+[m[32m         }[m
[32m+[m[32m         else {[m
[32m+[m[32m            return true;[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <textarea id="texto" onkeypress="return limita(100);"></textarea>[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior, con cada tecla pulsada se compara el nÃºmero total de caracteres[m
[32m+[m[32mdel textarea con el mÃ¡ximo nÃºmero de caracteres permitido. Si el nÃºmero de caracteres[m
[32m+[m[32mes igual o mayor que el lÃ­mite, se devuelve el valor false y por tanto, se evita el[m
[32m+[m[32mcomportamiento por defecto de onkeypress y la tecla no se aÃ±ade.[m
[32m+[m
[32m+[m[32m Ejercicio 17[m
[32m+[m
[32m+[m[32mMejorar el ejemplo anterior indicando en todo momento al usuario el nÃºmero de caracteres[m
[32m+[m[32mque aÃºn puede escribir. AdemÃ¡s, se debe permitir pulsar las teclas Backspace, Supr. y las[m
[32m+[m[32mflechas horizontales cuando se haya llegado al mÃ¡ximo nÃºmero de caracteres.[m
[32m+[m
[32m+[m[32m7.2.5. Restringir los caracteres permitidos en un cuadro de texto[m
[32m+[m
[32m+[m[32mEn ocasiones, puede ser Ãºtil bloquear algunos caracteres determinados en un cuadro de[m
[32m+[m[32mtexto. Si por ejemplo un cuadro de texto espera que se introduzca un nÃºmero, puede ser[m
[32m+[m[32minteresante no permitir al usuario introducir ningÃºn carÃ¡cter que no sea numÃ©rico.[m
[32m+[m
[32m+[m[32mIgualmente, en algunos casos puede ser Ãºtil impedir que el usuario introduzca nÃºmeros[m
[32m+[m[32men un cuadro de texto. Utilizando el evento onkeypress y unas cuantas sentencias[m
[32m+[m[32mJavaScript, el problema se resuelve fÃ¡cilmente:[m
[32m+[m
[32m+[m[32m     function permite(elEvento, permitidos) {[m
[32m+[m[32m         // Variables que definen los caracteres permitidos[m
[32m+[m[32m         var numeros = "0123456789";[m
[32m+[m[32m         var caracteres = " abcdefghijklmnÃ±opqrstuvwxyzABCDEFGHIJKLMNÃ‘OPQRSTUVWXYZ";[m
[32m+[m[32m         var numeros_caracteres = numeros + caracteres;[m
[32m+[m[32m         var teclas_especiales = [8, 37, 39, 46];[m
[32m+[m[32m         // 8 = BackSpace, 46 = Supr, 37 = flecha izquierda, 39 = flecha derecha[m
[32m+[m
[32m+[m[32m// Seleccionar los caracteres a partir del parÃ¡metro de la funciÃ³n[m
[32m+[m[32mswitch(permitidos) {[m
[32m+[m
[32m+[m[32m   case 'num':[m
[32m+[m[32m      permitidos = numeros;[m
[32m+[m[32m      break;[m
[32m+[m
[32m+[m[32m   case 'car':[m
[32m+[m[32m      permitidos = caracteres;[m
[32m+[m[32m      break;[m
[32m+[m
[32m+[m[32m   case 'num_car':[m
[32m+[m[32m      permitidos = numeros_caracteres;[m
[32m+[m[32m      break;[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                    89[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         // Obtener la tecla pulsada[m
[32m+[m[32m         var evento = elEvento || window.event;[m
[32m+[m[32m         var codigoCaracter = evento.charCode || evento.keyCode;[m
[32m+[m[32m         var caracter = String.fromCharCode(codigoCaracter);[m
[32m+[m
[32m+[m[32m         // Comprobar si la tecla pulsada es alguna de las teclas especiales[m
[32m+[m[32m         // (teclas de borrado y flechas horizontales)[m
[32m+[m[32m         var tecla_especial = false;[m
[32m+[m[32m         for(var i in teclas_especiales) {[m
[32m+[m
[32m+[m[32m            if(codigoCaracter == teclas_especiales[i]) {[m
[32m+[m[32m               tecla_especial = true;[m
[32m+[m[32m               break;[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         // Comprobar si la tecla pulsada se encuentra en los caracteres permitidos[m
[32m+[m[32m         // o si es una tecla especial[m
[32m+[m[32m         return permitidos.indexOf(caracter) != -1 || tecla_especial;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     // SÃ³lo nÃºmeros[m
[32m+[m[32m     <input type="text" id="texto" onkeypress="return permite(event, 'num')" />[m
[32m+[m
[32m+[m[32m     // SÃ³lo letras[m
[32m+[m[32m     <input type="text" id="texto" onkeypress="return permite(event, 'car')" />[m
[32m+[m
[32m+[m[32m     // SÃ³lo letras o nÃºmeros[m
[32m+[m[32m     <input type="text" id="texto" onkeypress="return permite(event, 'num_car')" />[m
[32m+[m
[32m+[m[32mEl funcionamiento del script anterior se basa en permitir o impedir el comportamiento[m
[32m+[m[32mhabitual del evento onkeypress. Cuando se pulsa una tecla, se comprueba si el carÃ¡cter[m
[32m+[m[32mde esa tecla se encuentra dentro de los caracteres permitidos para ese elemento[m
[32m+[m[32m<input>.[m
[32m+[m
[32m+[m[32mSi el carÃ¡cter se encuentra dentro de los caracteres permitidos, se devuelve true y por[m
[32m+[m[32mtanto el comportamiento de onkeypress es el habitual y la tecla se escribe. Si el carÃ¡cter[m
[32m+[m[32mno se encuentra dentro de los caracteres permitidos, se devuelve false y por tanto se[m
[32m+[m[32mimpide el comportamiento normal de onkeypress y la tecla no llega a escribirse en el[m
[32m+[m[32minput.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, el script anterior siempre permite la pulsaciÃ³n de algunas teclas especiales. En[m
[32m+[m[32mconcreto, las teclas BackSpace y Supr para borrar caracteres y las teclas Flecha[m
[32m+[m[32mIzquierda y Flecha Derecha para moverse en el cuadro de texto siempre se puden[m
[32m+[m[32mpulsar independientemente del tipo de caracteres permitidos.[m
[32m+[m
[32m+[m[32m7.3. ValidaciÃ³n[m
[32m+[m
[32m+[m[32mLa principal utilidad de JavaScript en el manejo de los formularios es la validaciÃ³n de los[m
[32m+[m[32mdatos introducidos por los usuarios. Antes de enviar un formulario al servidor, se[m
[32m+[m
[32m+[m[32mwww.librosweb.es           90[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mrecomienda validar mediante JavaScript los datos insertados por el usuario. De esta[m
[32m+[m[32mforma, si el usuario ha cometido algÃºn error al rellenar el formulario, se le puede[m
[32m+[m[32mnotificar de forma instantÃ¡nea, sin necesidad de esperar la respuesta del servidor.[m
[32m+[m
[32m+[m[32mNotificar los errores de forma inmediata mediante JavaScript mejora la satisfacciÃ³n del[m
[32m+[m[32musuario con la aplicaciÃ³n (lo que tÃ©cnicamente se conoce como "mejorar la experiencia[m
[32m+[m[32mde usuario") y ayuda a reducir la carga de procesamiento en el servidor.[m
[32m+[m
[32m+[m[32mNormalmente, la validaciÃ³n de un formulario consiste en llamar a una funciÃ³n de[m
[32m+[m[32mvalidaciÃ³n cuando el usuario pulsa sobre el botÃ³n de envÃ­o del formulario. En esta[m
[32m+[m[32mfunciÃ³n, se comprueban si los valores que ha introducido el usuario cumplen las[m
[32m+[m[32mrestricciones impuestas por la aplicaciÃ³n.[m
[32m+[m
[32m+[m[32mAunque existen tantas posibles comprobaciones como elementos de formulario[m
[32m+[m[32mdiferentes, algunas comprobaciones son muy habituales: que se rellene un campo[m
[32m+[m[32mobligatorio, que se seleccione el valor de una lista desplegable, que la direcciÃ³n de email[m
[32m+[m[32mindicada sea correcta, que la fecha introducida sea lÃ³gica, que se haya introducido un[m
[32m+[m[32mnÃºmero donde asÃ­ se requiere, etc.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestra el cÃ³digo JavaScript bÃ¡sico necesario para incorporar la[m
[32m+[m[32mvalidaciÃ³n a un formulario:[m
[32m+[m
[32m+[m[32m     <form action="" method="" id="" name="" onsubmit="return validacion()">[m
[32m+[m[32m         ...[m
[32m+[m
[32m+[m[32m     </form>[m
[32m+[m
[32m+[m[32mY el esquema de la funciÃ³n validacion() es el siguiente:[m
[32m+[m
[32m+[m[32m     function validacion() {[m
[32m+[m[32m         if (condicion que debe cumplir el primer campo del formulario) {[m
[32m+[m[32m            // Si no se cumple la condicion...[m
[32m+[m[32m            alert('[ERROR] El campo debe tener un valor de...');[m
[32m+[m[32m            return false;[m
[32m+[m[32m         }[m
[32m+[m[32m         else if (condicion que debe cumplir el segundo campo del formulario) {[m
[32m+[m[32m            // Si no se cumple la condicion...[m
[32m+[m[32m            alert('[ERROR] El campo debe tener un valor de...');[m
[32m+[m[32m            return false;[m
[32m+[m[32m         }[m
[32m+[m[32m         ...[m
[32m+[m[32m         else if (condicion que debe cumplir el Ãºltimo campo del formulario) {[m
[32m+[m[32m            // Si no se cumple la condicion...[m
[32m+[m[32m            alert('[ERROR] El campo debe tener un valor de...');[m
[32m+[m[32m            return false;[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         // Si el script ha llegado a este punto, todas las condiciones[m
[32m+[m[32m         // se han cumplido, por lo que se devuelve el valor true[m
[32m+[m[32m         return true;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es           91[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mEl funcionamiento de esta tÃ©cnica de validaciÃ³n se basa en el comportamiento del evento[m
[32m+[m[32monsubmit de JavaScript. Al igual que otros eventos como onclick y onkeypress, el[m
[32m+[m[32mevento 'onsubmit varÃ­a su comportamiento en funciÃ³n del valor que se devuelve.[m
[32m+[m
[32m+[m[32mAsÃ­, si el evento onsubmit devuelve el valor true, el formulario se envÃ­a como lo harÃ­a[m
[32m+[m[32mnormalmente. Sin embargo, si el evento onsubmit devuelve el valor false, el formulario[m
[32m+[m[32mno se envÃ­a. La clave de esta tÃ©cnica consiste en comprobar todos y cada uno de los[m
[32m+[m[32melementos del formulario. En cuando se encuentra un elemento incorrecto, se devuelve[m
[32m+[m[32mel valor false. Si no se encuentra ningÃºn error, se devuelve el valor true.[m
[32m+[m
[32m+[m[32mPor lo tanto, en primer lugar se define el evento onsubmit del formulario como:[m
[32m+[m
[32m+[m[32m     onsubmit="return validacion()"[m
[32m+[m
[32m+[m[32mComo el cÃ³digo JavaScript devuelve el valor resultante de la funciÃ³n validacion(), el[m
[32m+[m[32mformulario solamente se enviarÃ¡ al servidor si esa funciÃ³n devuelve true. En el caso de[m
[32m+[m[32mque la funciÃ³n validacion() devuelva false, el formulario permanecerÃ¡ sin enviarse.[m
[32m+[m
[32m+[m[32mDentro de la funciÃ³n validacion() se comprueban todas las condiciones impuestas por[m
[32m+[m[32mla aplicaciÃ³n. Cuando no se cumple una condiciÃ³n, se devuelve false y por tanto el[m
[32m+[m[32mformulario no se envÃ­a. Si se llega al final de la funciÃ³n, todas las condiciones se han[m
[32m+[m[32mcumplido correctamente, por lo que se devuelve true y el formulario se envÃ­a.[m
[32m+[m
[32m+[m[32mLa notificaciÃ³n de los errores cometidos depende del diseÃ±o de cada aplicaciÃ³n. En el[m
[32m+[m[32mcÃ³digo del ejemplo anterior simplemente se muestran mensajes mediante la funciÃ³n[m
[32m+[m[32malert() indicando el error producido. Las aplicaciones web mejor diseÃ±adas muestran[m
[32m+[m[32mcada mensaje de error al lado del elemento de formulario correspondiente y tambiÃ©n[m
[32m+[m[32msuelen mostrar un mensaje principal indicando que el formulario contiene errores.[m
[32m+[m
[32m+[m[32mUna vez definido el esquema de la funciÃ³n validacion(), se debe aÃ±adir a esta funciÃ³n[m
[32m+[m[32mel cÃ³digo correspondiente a todas las comprobaciones que se realizan sobre los[m
[32m+[m[32melementos del formulario. A continuaciÃ³n, se muestran algunas de las validaciones mÃ¡s[m
[32m+[m[32mhabituales de los campos de formulario.[m
[32m+[m
[32m+[m[32m7.3.1. Validar un campo de texto obligatorio[m
[32m+[m
[32m+[m[32mSe trata de forzar al usuario a introducir un valor en un cuadro de texto o textarea en los[m
[32m+[m[32mque sea obligatorio. La condiciÃ³n en JavaScript se puede indicar como:[m
[32m+[m
[32m+[m[32m     valor = document.getElementById("campo").value;[m
[32m+[m[32m     if( valor == null || valor.length == 0 || /^\s+$/.test(valor) ) {[m
[32m+[m
[32m+[m[32m         return false;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mPara que se de por completado un campo de texto obligatorio, se comprueba que el valor[m
[32m+[m[32mintroducido sea vÃ¡lido, que el nÃºmero de caracteres introducido sea mayor que cero y[m
[32m+[m[32mque no se hayan introducido sÃ³lo espacios en blanco.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           92[m
[32m+[m[32mIntroducciÃ³n a JavaScript                             CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mLa palabra reservada null es un valor especial que se utiliza para indicar "ningÃºn valor".[m
[32m+[m[32mSi el valor de una variable es null, la variable no contiene ningÃºn valor de tipo objeto,[m
[32m+[m[32marray, numÃ©rico, cadena de texto o booleano.[m
[32m+[m
[32m+[m[32mLa segunda parte de la condiciÃ³n obliga a que el texto introducido tenga una longitud[m
[32m+[m[32msuperior a cero caracteres, esto es, que no sea un texto vacÃ­o.[m
[32m+[m
[32m+[m[32mPor Ãºltimo, la tercera parte de la condiciÃ³n (/^\s+$/.test(valor)) obliga a que el valor[m
[32m+[m[32mintroducido por el usuario no sÃ³lo estÃ© formado por espacios en blanco. Esta[m
[32m+[m[32mcomprobaciÃ³n se basa en el uso de "expresiones regulares", un recurso habitual en[m
[32m+[m[32mcualquier lenguaje de programaciÃ³n pero que por su gran complejidad no se van a[m
[32m+[m[32mestudiar. Por lo tanto, sÃ³lo es necesario copiar literalmente esta condiciÃ³n, poniendo[m
[32m+[m[32mespecial cuidado en no modificar ningÃºn carÃ¡cter de la expresiÃ³n.[m
[32m+[m
[32m+[m[32m7.3.2. Validar un campo de texto con valores numÃ©ricos[m
[32m+[m
[32m+[m[32mSe trata de obligar al usuario a introducir un valor numÃ©rico en un cuadro de texto. La[m
[32m+[m[32mcondiciÃ³n JavaScript consiste en:[m
[32m+[m
[32m+[m[32m     valor = document.getElementById("campo").value;[m
[32m+[m[32m     if( isNaN(valor) ) {[m
[32m+[m
[32m+[m[32m         return false;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi el contenido de la variable valor no es un nÃºmero vÃ¡lido, no se cumple la condiciÃ³n.[m
[32m+[m[32mLa ventaja de utilizar la funciÃ³n interna isNaN() es que simplifica las comprobaciones,[m
[32m+[m[32mya que JavaScript se encarga de tener en cuenta los decimales, signos, etc.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se muestran algunos resultados de la funciÃ³n isNaN():[m
[32m+[m
[32m+[m[32misNaN(3);                  // false[m
[32m+[m
[32m+[m[32misNaN("3");                // false[m
[32m+[m
[32m+[m[32misNaN(3.3545);             // false[m
[32m+[m
[32m+[m[32misNaN(32323.345); // false[m
[32m+[m
[32m+[m[32misNaN(+23.2);              // false[m
[32m+[m
[32m+[m[32misNaN("-23.2"); // false[m
[32m+[m
[32m+[m[32misNaN("23a");              // true[m
[32m+[m
[32m+[m[32misNaN("23.43.54"); // true[m
[32m+[m
[32m+[m[32m7.3.3. Validar que se ha seleccionado una opciÃ³n de una lista[m
[32m+[m
[32m+[m[32mSe trata de obligar al usuario a seleccionar un elemento de una lista desplegable. El[m
[32m+[m[32msiguiente cÃ³digo JavaScript permite conseguirlo:[m
[32m+[m
[32m+[m[32m     indice = document.getElementById("opciones").selectedIndex;[m
[32m+[m[32m     if( indice == null || indice == 0 ) {[m
[32m+[m
[32m+[m[32m         return false;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m<select id="opciones" name="opciones">[m
[32m+[m[32m   <option value="">- Selecciona un valor -</option>[m
[32m+[m[32m   <option value="1">Primer valor</option>[m
[32m+[m[32m   <option value="2">Segundo valor</option>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                      93[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32m         <option value="3">Tercer valor</option>[m
[32m+[m[32m     </select>[m
[32m+[m
[32m+[m[32mA partir de la propiedad selectedIndex, se comprueba si el Ã­ndice de la opciÃ³n[m
[32m+[m[32mseleccionada es vÃ¡lido y ademÃ¡s es distinto de cero. La primera opciÃ³n de la lista (-[m
[32m+[m[32mSelecciona un valor â€“) no es vÃ¡lida, por lo que no se permite el valor 0 para esta[m
[32m+[m[32mpropiedad selectedIndex.[m
[32m+[m
[32m+[m[32m7.3.4. Validar una direcciÃ³n de email[m
[32m+[m
[32m+[m[32mSe trata de obligar al usuario a introducir una direcciÃ³n de email con un formato vÃ¡lido.[m
[32m+[m[32mPor tanto, lo que se comprueba es que la direcciÃ³n parezca vÃ¡lida, ya que no se[m
[32m+[m[32mcomprueba si se trata de una cuenta de correo electrÃ³nico real y operativa. La condiciÃ³n[m
[32m+[m[32mJavaScript consiste en:[m
[32m+[m
[32m+[m[32m     valor = document.getElementById("campo").value;[m
[32m+[m[32m     if( !(/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)/.test(valor)) ) {[m
[32m+[m
[32m+[m[32m         return false;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa comprobaciÃ³n se realiza nuevamente mediante las expresiones regulares, ya que las[m
[32m+[m[32mdirecciones de correo electrÃ³nico vÃ¡lidas pueden ser muy diferentes. Por otra parte,[m
[32m+[m[32mcomo el estÃ¡ndar que define el formato de las direcciones de correo electrÃ³nico es muy[m
[32m+[m[32mcomplejo, la expresiÃ³n regular anterior es una simplificaciÃ³n. Aunque esta regla valida la[m
[32m+[m[32mmayorÃ­a de direcciones de correo electrÃ³nico utilizadas por los usuarios, no soporta[m
[32m+[m[32mtodos los diferentes formatos vÃ¡lidos de email.[m
[32m+[m
[32m+[m[32m7.3.5. Validar una fecha[m
[32m+[m
[32m+[m[32mLas fechas suelen ser los campos de formulario mÃ¡s complicados de validar por la[m
[32m+[m[32mmultitud de formas diferentes en las que se pueden introducir. El siguiente cÃ³digo[m
[32m+[m[32masume que de alguna forma se ha obtenido el aÃ±o, el mes y el dÃ­a introducidos por el[m
[32m+[m[32musuario:[m
[32m+[m
[32m+[m[32m     var ano = document.getElementById("ano").value;[m
[32m+[m[32m     var mes = document.getElementById("mes").value;[m
[32m+[m[32m     var dia = document.getElementById("dia").value;[m
[32m+[m
[32m+[m[32m     valor = new Date(ano, mes, dia);[m
[32m+[m
[32m+[m[32m     if( !isNaN(valor) ) {[m
[32m+[m[32m         return false;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa funciÃ³n Date(ano, mes, dia) es una funciÃ³n interna de JavaScript que permite[m
[32m+[m[32mconstruir fechas a partir del aÃ±o, el mes y el dÃ­a de la fecha. Es muy importante tener en[m
[32m+[m[32mcuenta que el nÃºmero de mes se indica de 0 a 11, siendo 0 el mes de Enero y 11 el mes de[m
[32m+[m[32mDiciembre. Los dÃ­as del mes siguen una numeraciÃ³n diferente, ya que el mÃ­nimo[m
[32m+[m[32mpermitido es 1 y el mÃ¡ximo 31.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           94[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mLa validaciÃ³n consiste en intentar construir una fecha con los datos proporcionados por[m
[32m+[m[32mel usuario. Si los datos del usuario no son correctos, la fecha no se puede construir[m
[32m+[m[32mcorrectamente y por tanto la validaciÃ³n del formulario no serÃ¡ correcta.[m
[32m+[m
[32m+[m[32m7.3.6. Validar un nÃºmero de DNI[m
[32m+[m
[32m+[m[32mSe trata de comprobar que el nÃºmero proporcionado por el usuario se corresponde con[m
[32m+[m[32mun nÃºmero vÃ¡lido de Documento Nacional de Identidad o DNI. Aunque para cada paÃ­s o[m
[32m+[m[32mregiÃ³n los requisitos del documento de identidad de las personas pueden variar, a[m
[32m+[m[32mcontinuaciÃ³n se muestra un ejemplo genÃ©rico fÃ¡cilmente adaptable. La validaciÃ³n no[m
[32m+[m[32msÃ³lo debe comprobar que el nÃºmero estÃ© formado por ocho cifras y una letra, sino que[m
[32m+[m[32mtambiÃ©n es necesario comprobar que la letra indicada es correcta para el nÃºmero[m
[32m+[m[32mintroducido:[m
[32m+[m
[32m+[m[32m     valor = document.getElementById("campo").value;[m
[32m+[m[32m     var letras = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N',[m
[32m+[m[32m     'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E', 'T'];[m
[32m+[m
[32m+[m[32m     if( !(/^\d{8}[A-Z]$/.test(valor)) ) {[m
[32m+[m[32m         return false;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     if(valor.charAt(8) != letras[(valor.substring(0, 8))%23]) {[m
[32m+[m[32m         return false;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mLa primera comprobaciÃ³n asegura que el formato del nÃºmero introducido es el correcto,[m
[32m+[m[32mes decir, que estÃ¡ formado por 8 nÃºmeros seguidos y una letra. Si la letra estÃ¡ al[m
[32m+[m[32mprincipio de los nÃºmeros, la comprobaciÃ³n serÃ­a /^[A-Z]\d{8}$/. Si en vez de ocho[m
[32m+[m[32mnÃºmeros y una letra, se requieren diez nÃºmeros y dos letras, la comprobaciÃ³n serÃ­a[m
[32m+[m[32m/^\d{10}[A-Z]{2}$/ y asÃ­ sucesivamente.[m
[32m+[m
[32m+[m[32mLa segunda comprobaciÃ³n aplica el algoritmo de cÃ¡lculo de la letra del DNI y la compara[m
[32m+[m[32mcon la letra proporcionada por el usuario. El algoritmo de cada documento de[m
[32m+[m[32midentificaciÃ³n es diferente, por lo que esta parte de la validaciÃ³n se debe adaptar[m
[32m+[m[32mconvenientemente.[m
[32m+[m
[32m+[m[32m7.3.7. Validar un nÃºmero de telÃ©fono[m
[32m+[m
[32m+[m[32mLos nÃºmeros de telÃ©fono pueden ser indicados de formas muy diferentes: con prefijo[m
[32m+[m[32mnacional, con prefijo internacional, agrupado por pares, separando los nÃºmeros con[m
[32m+[m[32mguiones, etc.[m
[32m+[m
[32m+[m[32mEl siguiente script considera que un nÃºmero de telÃ©fono estÃ¡ formado por nueve dÃ­gitos[m
[32m+[m[32mconsecutivos y sin espacios ni guiones entre las cifras:[m
[32m+[m
[32m+[m[32m     valor = document.getElementById("campo").value;[m
[32m+[m[32m     if( !(/^\d{9}$/.test(valor)) ) {[m
[32m+[m
[32m+[m[32m         return false;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mwww.librosweb.es           95[m
[32m+[m[32mIntroducciÃ³n a JavaScript                             CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32mUna vez mÃ¡s, la condiciÃ³n de JavaScript se basa en el uso de expresiones regulares, que[m
[32m+[m[32mcomprueban si el valor indicado es una sucesiÃ³n de nueve nÃºmeros consecutivos. A[m
[32m+[m[32mcontinuaciÃ³n se muestran otras expresiones regulares que se pueden utilizar para otros[m
[32m+[m[32mformatos de nÃºmero de telÃ©fono:[m
[32m+[m
[32m+[m[32mNÃºmero     ExpresiÃ³n regular       Formato[m
[32m+[m
[32m+[m[32m900900900 /^\d{9}$/                9 cifras seguidas[m
[32m+[m
[32m+[m[32m900-900-900 /^\d{3}-\d{3}-\d{3}$/  9 cifras agrupadas de 3 en 3 y separadas[m
[32m+[m[32m                                   por guiones[m
[32m+[m
[32m+[m[32m900 900900 /^\d{3}\s\d{6}$/        9 cifras, las 3 primeras separadas por un[m
[32m+[m[32m                                   espacio[m
[32m+[m
[32m+[m[32m900 90 09                                                      9 cifras[m
[32m+[m[32m00         /^\d{3}\s\d{2}\s\d{2}\s\d{2}$/ las 3 primeras separadas por un espacio[m
[32m+[m
[32m+[m[32m                                                               las siguientes agrupadas de 2 en 2[m
[32m+[m
[32m+[m[32m(900)      /^\(\d{3}\)\s\d{6}$/    9 cifras[m
[32m+[m[32m900900                             las 3 primeras encerradas por parÃ©ntesis[m
[32m+[m[32m                                   y un espacio de separaciÃ³n respecto del[m
[32m+[m[32m                                   resto[m
[32m+[m
[32m+[m[32m+34        /^\+\d{2,3}\s\d{9}$/    Prefijo internacional (+ seguido de 2 o 3[m
[32m+[m[32m900900900                          cifras)[m
[32m+[m[32m                                   espacio en blanco y 9 cifras consecutivas[m
[32m+[m
[32m+[m[32m7.3.8. Validar que un checkbox ha sido seleccionado[m
[32m+[m
[32m+[m[32mSi un elemento de tipo checkbox se debe seleccionar de forma obligatoria, JavaScript[m
[32m+[m[32mpermite comprobarlo de forma muy sencilla:[m
[32m+[m
[32m+[m[32m     elemento = document.getElementById("campo");[m
[32m+[m[32m     if( !elemento.checked ) {[m
[32m+[m
[32m+[m[32m         return false;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mSi se trata de comprobar que todos los checkbox del formulario han sido seleccionados,[m
[32m+[m[32mes mÃ¡s fÃ¡cil utilizar un bucle:[m
[32m+[m
[32m+[m[32m     formulario = document.getElementById("formulario");[m
[32m+[m[32m     for(var i=0; i<formulario.elements.length; i++) {[m
[32m+[m
[32m+[m[32m         var elemento = formulario.elements[i];[m
[32m+[m[32m         if(elemento.type == "checkbox") {[m
[32m+[m
[32m+[m[32m            if(!elemento.checked) {[m
[32m+[m[32m               return false;[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m7.3.9. Validar que un radiobutton ha sido seleccionado[m
[32m+[m
[32m+[m[32mAunque se trata de un caso similar al de los checkbox, la validaciÃ³n de los radiobutton[m
[32m+[m[32mpresenta una diferencia importante: en general, la comprobaciÃ³n que se realiza es que el[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                      96[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 7. Formularios[m
[32m+[m
[32m+[m[32musuario haya seleccionado algÃºn radiobutton de los que forman un determinado grupo.[m
[32m+[m[32mMediante JavaScript, es sencillo determinar si se ha seleccionado algÃºn radiobutton de[m
[32m+[m[32mun grupo:[m
[32m+[m
[32m+[m[32m     opciones = document.getElementsByName("opciones");[m
[32m+[m
[32m+[m[32m     var seleccionado = false;[m
[32m+[m[32m     for(var i=0; i<opciones.length; i++) {[m
[32m+[m
[32m+[m[32m         if(opciones[i].checked) {[m
[32m+[m[32m            seleccionado = true;[m
[32m+[m[32m            break;[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     if(!seleccionado) {[m
[32m+[m[32m         return false;[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32mEl anterior ejemplo recorre todos los radiobutton que forman un grupo y comprueba[m
[32m+[m[32melemento por elemento si ha sido seleccionado. Cuando se encuentra el primer[m
[32m+[m[32mradiobutton seleccionado, se sale del bucle y se indica que al menos uno ha sido[m
[32m+[m[32mseleccionado.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           97[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mCapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mAdemÃ¡s de los formularios y de todas las funciones y utilidades de JavaScript que se han[m
[32m+[m[32mvisto, existen muchas otras utilidades que es necesario conocer para desarrollar[m
[32m+[m[32maplicaciones completas. Como no es posible estudiar todas las herramientas que se[m
[32m+[m[32mpueden crear con JavaScript, a continuaciÃ³n se muestran algunas de las utilidades[m
[32m+[m[32mbÃ¡sicas mÃ¡s comunes.[m
[32m+[m
[32m+[m[32m8.1. Relojes, contadores e intervalos de tiempo[m
[32m+[m
[32m+[m[32mEn ocasiones, algunas pÃ¡ginas web muestran un reloj con la hora actual. Si el reloj debe[m
[32m+[m[32mactualizarse cada segundo, no se puede mostrar la hora directamente en la pÃ¡gina HTML[m
[32m+[m[32mgenerada por el servidor. En este caso, aunque existen alternativas realizadas con Java y[m
[32m+[m[32mcon Flash, la forma mÃ¡s sencilla de hacerlo es mostrar la hora del ordenador del usuario[m
[32m+[m[32mmediante JavaScript.[m
[32m+[m
[32m+[m[32mPara crear y mostrar un reloj con JavaScript, se debe utilizar el objeto interno Date()[m
[32m+[m[32mpara crear fechas/horas y las utilidades que permiten definir contadores, para actualizar[m
[32m+[m[32mel reloj cada segundo.[m
[32m+[m
[32m+[m[32mEl objeto Date() es una utilidad que proporciona JavaScript para crear fechas y horas.[m
[32m+[m[32mUna vez creado un objeto de tipo fecha, es posible manipularlo para obtener informaciÃ³n[m
[32m+[m[32mo realizar cÃ¡lculos con las fechas. Para obtener la fecha y hora actuales, solamente es[m
[32m+[m[32mnecesario crear un objeto Date() sin pasar ningÃºn parÃ¡metro:[m
[32m+[m
[32m+[m[32m     var fechaHora = new Date();[m
[32m+[m
[32m+[m[32mUtilizando el cÃ³digo anterior, se puede construir un reloj muy bÃ¡sico que no actualiza su[m
[32m+[m[32mcontenido:[m
[32m+[m
[32m+[m[32m     var fechaHora = new Date();[m
[32m+[m[32m     document.getElementById("reloj").innerHTML = fechaHora;[m
[32m+[m
[32m+[m[32m     <div id="reloj" />[m
[32m+[m
[32m+[m[32mCuando se carga la pÃ¡gina, el ejemplo anterior mostrarÃ­a un texto parecido al siguiente[m
[32m+[m[32men el <div> reservado para el reloj:[m
[32m+[m
[32m+[m[32m     Thu Aug 02 2007 19:35:19 GMT+0200 (Hora de verano romance)[m
[32m+[m
[32m+[m[32mEste primer reloj construido presenta muchas diferencias respecto al reloj que se quiere[m
[32m+[m[32mconstruir. En primer lugar, muestra mucha mÃ¡s informaciÃ³n de la necesaria. AdemÃ¡s, su[m
[32m+[m[32mvalor no se actualiza cada segundo, por lo que no es un reloj muy prÃ¡ctico.[m
[32m+[m
[32m+[m[32mEl objeto Date() proporciona unas funciones muy Ãºtiles para obtener informaciÃ³n sobre[m
[32m+[m[32mla fecha y la hora. Concretamente, existen funciones que obtienen directamente la hora,[m
[32m+[m[32mlos minutos y los segundos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           98[m
[32m+[m[32mIntroducciÃ³n a JavaScript                         CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mvar fechaHora = new Date();[m
[32m+[m[32mvar horas = fechaHora.getHours();[m
[32m+[m[32mvar minutos = fechaHora.getMinutes();[m
[32m+[m[32mvar segundos = fechaHora.getSeconds();[m
[32m+[m[32mdocument.getElementById("reloj").innerHTML = horas+':'+minutos+':'+segundos;[m
[32m+[m
[32m+[m[32m     <div id="reloj" />[m
[32m+[m
[32m+[m[32mUtilizando las funciones getHours(), getMinutes() y getSeconds() del objeto Date, el[m
[32m+[m[32mreloj puede mostrar solamente la informaciÃ³n de la hora. El resultado del ejemplo[m
[32m+[m[32manterior serÃ­a un reloj como el siguiente:[m
[32m+[m
[32m+[m[32m     20:9:21[m
[32m+[m
[32m+[m[32mSi la hora, minuto o segundo son menores que 10, JavaScript no aÃ±ade el 0 por delante,[m
[32m+[m[32mpor lo que el resultado no es del todo satisfactorio. El siguiente cÃ³digo soluciona este[m
[32m+[m[32mproblema aÃ±adiendo un 0 cuando sea necesario:[m
[32m+[m
[32m+[m[32m     var fechaHora = new Date();[m
[32m+[m[32m     var horas = fechaHora.getHours();[m
[32m+[m[32m     var minutos = fechaHora.getMinutes();[m
[32m+[m[32m     var segundos = fechaHora.getSeconds();[m
[32m+[m
[32m+[m[32mif(horas < 10) { horas = '0' + horas; }[m
[32m+[m[32mif(minutos < 10) { minutos = '0' + minutos; }[m
[32m+[m[32mif(segundos < 10) { segundos = '0' + segundos; }[m
[32m+[m
[32m+[m[32mdocument.getElementById("reloj").innerHTML = horas+':'+minutos+':'+segundos;[m
[32m+[m
[32m+[m[32m     <div id="reloj" />[m
[32m+[m
[32m+[m[32mAhora el reloj muestra correctamente la hora:[m
[32m+[m
[32m+[m[32m     20:14:03[m
[32m+[m
[32m+[m[32mPara completar el reloj, sÃ³lo falta que se actualice su valor cada segundo. Para[m
[32m+[m[32mconseguirlo, se deben utilizar unas funciones especiales de JavaScript que permiten[m
[32m+[m[32mejecutar determinadas instrucciones cuando ha transcurrido un determinado espacio de[m
[32m+[m[32mtiempo.[m
[32m+[m
[32m+[m[32mLa funciÃ³n setTimeout() permite ejecutar una funciÃ³n una vez que haya transcurrido[m
[32m+[m[32mun periodo de tiempo indicado. La definiciÃ³n de la funciÃ³n es:[m
[32m+[m
[32m+[m[32m     setTimeout(nombreFuncion, milisegundos);[m
[32m+[m
[32m+[m[32mLa funciÃ³n que se va a ejecutar se debe indicar mediante su nombre sin parÃ©ntesis y el[m
[32m+[m[32mtiempo que debe transcurrir hasta que se ejecute se indica en milisegundos. De esta[m
[32m+[m[32mforma, si se crea una funciÃ³n encargada de mostrar la hora del reloj y se denomina[m
[32m+[m[32mmuestraReloj(), se puede indicar que se ejecute dentro de 1 segundo mediante el[m
[32m+[m[32msiguiente cÃ³digo:[m
[32m+[m
[32m+[m[32mfunction muestraReloj() {[m
[32m+[m[32m   var fechaHora = new Date();[m
[32m+[m[32m   var horas = fechaHora.getHours();[m
[32m+[m[32m   var minutos = fechaHora.getMinutes();[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                              99[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m         var segundos = fechaHora.getSeconds();[m
[32m+[m
[32m+[m[32m         if(horas < 10) { horas = '0' + horas; }[m
[32m+[m[32m         if(minutos < 10) { minutos = '0' + minutos; }[m
[32m+[m[32m         if(segundos < 10) { segundos = '0' + segundos; }[m
[32m+[m
[32m+[m[32m         document.getElementById("reloj").innerHTML = horas+':'+minutos+':'+segundos;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     setTimeout(muestraReloj, 1000);[m
[32m+[m
[32m+[m[32m     <div id="reloj" />[m
[32m+[m
[32m+[m[32mNo obstante, el cÃ³digo anterior simplemente muestra el contenido del reloj 1 segundo[m
[32m+[m[32mdespuÃ©s de que se cargue la pÃ¡gina, por lo que no es muy Ãºtil. Para ejecutar una funciÃ³n[m
[32m+[m[32mde forma periÃ³dica, se utiliza una funciÃ³n de JavaScript muy similar a setTimeout() que[m
[32m+[m[32mse denomina setInterval(). Su definiciÃ³n es:[m
[32m+[m
[32m+[m[32m     setInterval(nombreFuncion, milisegundos);[m
[32m+[m
[32m+[m[32mLa definiciÃ³n de esta funciÃ³n es idÃ©ntica a la funciÃ³n setTimeout(), salvo que en este[m
[32m+[m[32mcaso, la funciÃ³n programada se ejecuta infinitas veces de forma periÃ³dica con un lapso[m
[32m+[m[32mde tiempo entre ejecuciones de tantos milisegundos como se hayan establecido.[m
[32m+[m
[32m+[m[32mAsÃ­, para construir el reloj completo, se establece una ejecuciÃ³n periÃ³dica de la funciÃ³n[m
[32m+[m[32mmuestraReloj() cada segundo:[m
[32m+[m
[32m+[m[32m     function muestraReloj() {[m
[32m+[m[32m         var fechaHora = new Date();[m
[32m+[m[32m         var horas = fechaHora.getHours();[m
[32m+[m[32m         var minutos = fechaHora.getMinutes();[m
[32m+[m[32m         var segundos = fechaHora.getSeconds();[m
[32m+[m
[32m+[m[32m         if(horas < 10) { horas = '0' + horas; }[m
[32m+[m[32m         if(minutos < 10) { minutos = '0' + minutos; }[m
[32m+[m[32m         if(segundos < 10) { segundos = '0' + segundos; }[m
[32m+[m
[32m+[m[32m         document.getElementById("reloj").innerHTML = horas+':'+minutos+':'+segundos;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     window.onload = function() {[m
[32m+[m[32m         setInterval(muestraReloj, 1000);[m
[32m+[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     <div id="reloj" />[m
[32m+[m
[32m+[m[32mEmpleando el objeto Date y sus funciones, es posible construir "cuentras atrÃ¡s", es decir,[m
[32m+[m[32mrelojes que muestran el tiempo que falta hasta que se produzca un evento. AdemÃ¡s, las[m
[32m+[m[32mfunciones setTimeout() y setInterval() pueden resultar muy Ãºtiles en otras tÃ©cnicas[m
[32m+[m[32mde programaciÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           100[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m8.2. Calendario[m
[32m+[m
[32m+[m[32mCuando una aplicaciÃ³n muestra un formulario para que el usuario inserte sus datos, la[m
[32m+[m[32minformaciÃ³n mÃ¡s complicada de obtener siempre suelen ser los nÃºmeros de telÃ©fono y[m
[32m+[m[32mlas fechas. El motivo es que existen muchas formas diferentes de indicar estos datos. Las[m
[32m+[m[32mfechas por ejemplo se pueden indicar como dd/mm/aa, dd/mm/aaaa, aaaa/mm/dd,[m
[32m+[m[32mdd-mm-aa, dd mm aaaa, etc.[m
[32m+[m
[32m+[m[32mLos mÃ©todos mÃ¡s utilizados para que el usuario introduzca la informaciÃ³n relativa a una[m
[32m+[m[32mfecha suelen ser un cuadro de texto en el que tiene que insertar la fecha completa[m
[32m+[m[32m(indicÃ¡ndole el formato que debe seguir) o un cuadro de texto para el dÃ­a, una lista[m
[32m+[m[32mdesplegable para el mes y otro cuadro de texto para el aÃ±o.[m
[32m+[m
[32m+[m[32mEn cualquier caso, para el usuario suele ser mÃ¡s cÃ³modo que la aplicaciÃ³n incluya un[m
[32m+[m[32mcalendario en el que pueda indicar la fecha pinchando sobre el dÃ­a elegido:[m
[32m+[m
[32m+[m[32m                     Figura 8.1. Aspecto de un calendario creado con JavaScript[m
[32m+[m
[32m+[m[32mAdemÃ¡s, este mÃ©todo es menos propenso a cometer errores, ya que si el calendario estÃ¡[m
[32m+[m[32mbien construido, no es posible introducir fechas invÃ¡lidas y tampoco es posible insertar[m
[32m+[m[32mlas fechas en un formato incorrecto.[m
[32m+[m
[32m+[m[32mNo obstante, realizar un calendario completo en JavaScript no es una tarea trivial, por lo[m
[32m+[m[32mque no se va a estudiar su desarrollo completo. Afortunadamente, existen scripts[m
[32m+[m[32mgratuitos para mostrar calendarios y que permiten su uso libre incluso en aplicaciones[m
[32m+[m[32mcomerciales.[m
[32m+[m
[32m+[m[32mDe entre todos los calendarios disponibles, uno de los mÃ¡s completos es el desarrollado[m
[32m+[m[32mpor la empresa DynArch, que se puede acceder desde su pÃ¡gina web oficial:[m
[32m+[m[32mhttp://www.dynarch.com/projects/calendar/ y que se puede descargar gratuitamente[m
[32m+[m[32mdesde http://sourceforge.net/projects/jscalendar/ El archivo descargado incluye todos[m
[32m+[m[32mlos scripts necesarios, su documentaciÃ³n, ejemplos de uso, diferentes estilos CSS para el[m
[32m+[m[32mcalendario, etc.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indican los pasos necesarios para incluir un calendario bÃ¡sico en[m
[32m+[m[32mcualquier pÃ¡gina web:[m
[32m+[m
[32m+[m[32m1) Enlazar los archivos JavaScript y CSS requeridos:[m
[32m+[m
[32m+[m[32mSe descomprime el archivo descargado, se guardan los archivos JavaScript y CSS en el[m
[32m+[m[32msitio adecuado (en este ejemplo se supone que los archivos JavaScript se guardan en el[m
[32m+[m
[32m+[m[32mwww.librosweb.es           101[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                    CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mdirectorio js/ y los archivos CSS en el directorio css/) y se enlazan directamente desde[m
[32m+[m[32mla cabecera de la pÃ¡gina HTML.[m
[32m+[m
[32m+[m[32m<head>[m
[32m+[m[32m...[m
[32m+[m[32m<style type="text/css">@import url("css/calendar-estilo.css");</style>[m
[32m+[m[32m<script type="text/javascript" src="js/calendar.js" />[m
[32m+[m[32m<script type="text/javascript" src="js/calendar-es.js" />[m
[32m+[m[32m<script type="text/javascript" src="js/calendar-setup.js" />[m
[32m+[m[32m...[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32mEl calendario incluye traducciones a mÃ¡s de 40 idiomas, entre los que se encuentra el[m
[32m+[m[32mespaÃ±ol. Para mostrar el calendario en un determinado idioma, tan solo es necesario[m
[32m+[m[32menlazar el archivo del idioma correspondiente. Las traducciones se encuentran en el[m
[32m+[m[32mdirectorio lang y su formato es calendar-XX.js, donde XX es el cÃ³digo del idioma.[m
[32m+[m
[32m+[m[32m2) AÃ±adir el cÃ³digo XHTML necesario para el elemento que va a mostrar el calendario:[m
[32m+[m
[32m+[m[32m<p>Introduce la fecha pulsando sobre la imagen del calendario</p>[m
[32m+[m[32m<input type="text" name="date" id="fecha" readonly="readonly" />[m
[32m+[m[32m<img src="calendario.png" id="selector" />[m
[32m+[m
[32m+[m[32mEn este caso, el calendario estÃ¡ formado por dos elementos:[m
[32m+[m
[32m+[m[32mâ–ª Un cuadro de texto llamado fecha y que almacena el valor introducido por el[m
[32m+[m[32m   usuario. Como se le ha asignado un atributo readonly="readonly", el usuario no[m
[32m+[m[32m   puede modificar su valor.[m
[32m+[m
[32m+[m[32mâ–ª Una pequeÃ±a imagen o icono que se utiliza para activar el calendario. Cuando el[m
[32m+[m[32m   usuario pincha con el ratÃ³n sobre la imagen, se muestra el calendario de[m
[32m+[m[32m   JavaScript.[m
[32m+[m
[32m+[m[32m3) Configurar el calendario:[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m
[32m+[m[32mwindow.onload = function() {[m
[32m+[m
[32m+[m[32m   Calendar.setup({[m
[32m+[m
[32m+[m[32m   inputField: "fecha",[m
[32m+[m
[32m+[m[32m   ifFormat: "%d / %m / %Y",[m
[32m+[m
[32m+[m[32m   button:        "selector"[m
[32m+[m
[32m+[m[32m   });[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32mUna vez enlazados los archivos del calendario y preparado el cÃ³digo XHTML, es[m
[32m+[m[32mnecesario inicializar y configurar el calendario. La configuraciÃ³n del calendario consiste[m
[32m+[m[32men establecer el valor de alguna de sus propiedades. Las propiedades bÃ¡sicas[m
[32m+[m[32mimprescindibles son:[m
[32m+[m
[32m+[m[32mâ–ª inputField: se trata del atributo id del elemento en el que se mostrarÃ¡ la fecha[m
[32m+[m[32m   seleccionada, en este ejemplo serÃ­a fecha.[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                        102[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m    â–ª ifFormat: formato en el que se mostrarÃ¡ la fecha una vez seleccionada (en este[m
[32m+[m[32m       caso se ha optado por el formato dd / mm / aaaa).[m
[32m+[m
[32m+[m[32m    â–ª button: atributo id del elemento que se pulsa (botÃ³n, imagen, enlace) para[m
[32m+[m[32m       mostrar el calendario de selecciÃ³n de fecha. En este ejemplo, el id de la imagen es[m
[32m+[m[32m       selector.[m
[32m+[m
[32m+[m[32mDespuÃ©s de esta configuraciÃ³n bÃ¡sica, el calendario ya puede utilizarse en la aplicaciÃ³n:[m
[32m+[m
[32m+[m[32m1) Aspecto por defecto del selector de calendario:[m
[32m+[m
[32m+[m[32m        Figura 8.2. Elementos XHTML del calendario JavaScript: cuadro de texto e icono[m
[32m+[m[32m2) Al pinchar una vez sobre la imagen del calendario:[m
[32m+[m
[32m+[m[32m      Figura 8.3. Aspecto inicial del calendario JavaScript cuando se abre por primera vez[m
[32m+[m
[32m+[m[32mSe muestra el calendario con el aspecto e idioma establecidos y aparece resaltada la[m
[32m+[m[32mfecha del dÃ­a actual.[m
[32m+[m
[32m+[m[32m3) Se selecciona la fecha deseada:[m
[32m+[m
[32m+[m[32mFigura 8.4. Seleccionando una fecha en el calendario JavaScript[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                        103[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                   CapÃ­tulo 8. Otras utilidades[m
[32m+[m[32m4) DespuÃ©s de pinchar con el ratÃ³n sobre la fecha deseada:[m
[32m+[m
[32m+[m[32m Figura 8.5. El cuadro de texto muestra la fecha establecida por el usuario con el calendario[m
[32m+[m[32m                                                   JavaScript[m
[32m+[m
[32m+[m[32mAl pulsar con el ratÃ³n sobre la fecha deseada, el calendario se cierra automÃ¡ticamente y[m
[32m+[m[32mel cuadro de texto muestra la fecha seleccionada con el formato indicado en la[m
[32m+[m[32mconfiguraciÃ³n del calendario. Si se vuelve a abrir el calendario para seleccionar otra[m
[32m+[m[32mfecha, se mostrarÃ¡ resaltada la fecha del dÃ­a seleccionado y no la fecha del dÃ­a actual.[m
[32m+[m
[32m+[m[32m Ejercicio 18[m
[32m+[m
[32m+[m[32mMejorar el calendario creado aÃ±adiendo las opciones necesarias para que muestre el[m
[32m+[m[32msiguiente aspecto:[m
[32m+[m
[32m+[m[32m                       Figura 8.6. Aspecto mejorado del calendario JavaScript[m
[32m+[m
[32m+[m[32m      1. Que no se muestre el nÃºmero de la semana en el calendario (pista: weekNumbers)[m
[32m+[m[32m      2. Modificar el formato en el que se muestra la fecha seleccionada. El formato original[m
[32m+[m
[32m+[m[32m           es 21 / 08 / 2007 (indicado como %d / %m / %Y). El formato deseado es[m
[32m+[m[32m           Martes, 21 de Agosto de 2007 (pistas: %A, %B)[m
[32m+[m[32m      3. El nuevo formato de fecha es mucho mÃ¡s agradable para los usuarios, pero mÃ¡s[m
[32m+[m[32m           incÃ³modo para los scripts que tienen que manejarlo. Afortunadamente, el[m
[32m+[m[32m           calendario dispone de la posibilidad de guardar dos valores: un valor para mostrar a[m
[32m+[m[32m           los usuarios y otro valor para que lo procesen los scripts. Cuando el usuario[m
[32m+[m[32m           seleccione una fecha, la fecha con el formato original se debe almacenar en un[m
[32m+[m[32m           campo oculto de formulario y el otro formato mÃ¡s largo debe mostrar al usuario en[m
[32m+[m[32m           un elemento de tipo <span> (pistas: displayArea, daFormat)[m
[32m+[m
[32m+[m[32m8.3. Tooltip[m
[32m+[m
[32m+[m[32mLos tooltips son pequeÃ±os recuadros de informaciÃ³n que aparecen al posicionar el ratÃ³n[m
[32m+[m[32msobre un elemento. Normalmente se utilizan para ofrecer informaciÃ³n adicional sobre el[m
[32m+[m[32melemento seleccionado o para mostrar al usuario pequeÃ±os mensajes de ayuda. Los[m
[32m+[m[32mtooltips son habituales en varios elementos de los sistemas operativos:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                            104[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m                  Figura 8.7. Aspecto de un tooltip tÃ­pico en el Sistema Operativo[m
[32m+[m
[32m+[m[32mRealizar un tooltip completo mediante JavaScript es una tarea muy compleja, sobre todo[m
[32m+[m[32mpor la dificultad de mostrar el mensaje correctamente en funciÃ³n de la posiciÃ³n del[m
[32m+[m[32mratÃ³n. Afortunadamente, existen scripts que ya estÃ¡n preparados para generar cualquier[m
[32m+[m[32mtipo de tooltip. La librerÃ­a que se va a utilizar se denomina overLIB, y se puede descargar[m
[32m+[m[32mdesde su pÃ¡gina web principal: http://www.bosrup.com/web/overlib/[m
[32m+[m
[32m+[m[32mLa descarga incluye todos los scripts necesarios para el funcionamiento del sistema de[m
[32m+[m[32mtooltips, pero no su documentaciÃ³n, que se puede consultar en:[m
[32m+[m[32mhttp://www.bosrup.com/web/overlib/?Documentation. La referencia de todos los[m
[32m+[m[32mcomandos disponibles se puede consultar en: http://www.bosrup.com/web/overlib/[m
[32m+[m[32m?Command_Reference[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indican los pasos necesarios para incluir un tooltip bÃ¡sico en cualquier[m
[32m+[m[32mpÃ¡gina web:[m
[32m+[m
[32m+[m[32m1) Enlazar los archivos JavaScript requeridos:[m
[32m+[m
[32m+[m[32m     <script type="text/javascript" src="js/overlib.js"><!-- overLIB (c) Erik Bosrup[m
[32m+[m[32m     --></script>[m
[32m+[m
[32m+[m[32mSe descomprime el archivo descargado, se guarda el archivo JavaScript en el sitio[m
[32m+[m[32madecuado (en este ejemplo se supone que los archivos JavaScript se guardan en el[m
[32m+[m[32mdirectorio js/) y se enlaza directamente desde la cabecera de la pÃ¡gina HTML. Los[m
[32m+[m[32mtooltips sÃ³lo requieren que se enlace un Ãºnico archivo JavaScript (overlib.js). El[m
[32m+[m[32mcomentario que incluye el cÃ³digo XHTML es el aviso de copyright de la librerÃ­a, que es[m
[32m+[m[32mobligatorio incluirlo para poder usarla.[m
[32m+[m
[32m+[m[32m2) Definir el texto que activa el tooltip y su contenido:[m
[32m+[m
[32m+[m[32m     <p>Lorem ipsum dolor sit amet, <a href="#" onmouseover="return overlib('Prueba[m
[32m+[m[32m     de un tooltip bÃ¡sico y muy sencillo.');" onmouseout="return nd();">consectetuer[m
[32m+[m[32m     adipiscing elit</a>. Etiam eget metus. Proin varius auctor tortor. Cras augue[m
[32m+[m[32m     neque, porta vitae, vestibulum nec, pulvinar id, nibh. Fusce in arcu. Duis[m
[32m+[m[32m     vehicula nonummy orci.</p>[m
[32m+[m
[32m+[m[32mLos tooltip se incluyen como enlaces de tipo <a> para los que se definen los eventos[m
[32m+[m[32monmouseover y onmouseout. Cuando el ratÃ³n se pasa por encima del enlace anterior, se[m
[32m+[m[32mmuestra el tooltip con el aspecto por defecto:[m
[32m+[m
[32m+[m[32mFigura 8.8. Aspecto por defecto del tooltip creado con la librerÃ­a overLIB[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                            105[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mLa librerÃ­a overLIB permite configurar completamente el aspecto y comportamiento de[m
[32m+[m[32mcada tooltip. Las opciones se indican en cada tooltip y se incluyen como parÃ¡metros al[m
[32m+[m[32mfinal de la llamada a la funciÃ³n overlib():[m
[32m+[m
[32m+[m[32m     <a href="#" onmouseover="return overlib('Prueba de un tooltip bÃ¡sico y muy[m
[32m+[m[32m     sencillo.', CENTER);" onmouseout="return nd();">consectetuer adipiscing elit</a>[m
[32m+[m
[32m+[m[32mEl parÃ¡metro CENTER indica que el tooltip se debe mostrar centrado respecto de la[m
[32m+[m[32mposiciÃ³n del ratÃ³n:[m
[32m+[m
[32m+[m[32m                 Figura 8.9. Centrando el tooltip respecto de la posiciÃ³n del ratÃ³n[m
[32m+[m
[32m+[m[32mOtra opciÃ³n que se puede controlar es la anchura del tooltip. Por defecto, su anchura es[m
[32m+[m[32mde 200px, pero la opciÃ³n WIDTH permite modificarla:[m
[32m+[m
[32m+[m[32m     <a href="#" onmouseover="return overlib('Prueba de un tooltip bÃ¡sico y muy[m
[32m+[m[32m     sencillo.', CENTER, WIDTH, 120);" onmouseout="return nd();">consectetuer[m
[32m+[m[32m     adipiscing elit</a>[m
[32m+[m
[32m+[m[32mEl valor de la nueva anchura se indica en el parÃ¡metro que va detrÃ¡s de WIDTH. El nuevo[m
[32m+[m[32maspecto del tooltip es el siguiente:[m
[32m+[m
[32m+[m[32m                      Figura 8.10. Definiendo la anchura que muestra el tooltip[m
[32m+[m
[32m+[m[32mEl uso de los parÃ¡metros de configuraciÃ³n en la propia llamada a la funciÃ³n que muestra[m
[32m+[m[32mlos tooltips no es recomendable cuando el nÃºmero de parÃ¡metros empieza a ser muy[m
[32m+[m[32mnumeroso. Afortunadamente, overLIB permite realizar una Ãºnica configuraciÃ³n que se[m
[32m+[m[32mutilizarÃ¡ para todos los tooltips de la pÃ¡gina.[m
[32m+[m
[32m+[m[32mLa configuraciÃ³n global consiste en llamar a la funciÃ³n overlib_pagedefaults() con[m
[32m+[m[32mtodos los parÃ¡metros de configuraciÃ³n deseados. Por tanto, el cÃ³digo JavaScript[m
[32m+[m[32mnecesario para realizar los cambios configurados hasta el momento serÃ­a:[m
[32m+[m
[32m+[m[32m     <script type="text/javascript" src="js/overlib.js"><!-- overLIB (c) Erik Bosrup[m
[32m+[m[32m     --></script>[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     overlib_pagedefaults(CENTER, WIDTH, 120);[m
[32m+[m[32m     </script>[m
[32m+[m
[32m+[m[32m<p>Lorem ipsum dolor sit amet, <a href="#" onmouseover="return overlib('Prueba[m
[32m+[m[32mde un tooltip bÃ¡sico y muy sencillo.');" onmouseout="return nd();">consectetuer[m
[32m+[m[32madipiscing elit</a>. Etiam eget metus. Proin varius auctor tortor. Cras augue[m
[32m+[m[32mneque, porta vitae, vestibulum nec, pulvinar id, nibh. Fusce in arcu. Duis[m
[32m+[m[32mvehicula nonummy orci.</p>[m
[32m+[m
[32m+[m[32mwww.librosweb.es           106[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mUtilizando esta configuraciÃ³n global, se va a modificar por Ãºltimo el aspecto del tooltip[m
[32m+[m[32mpara hacerlo mÃ¡s parecido a los tooltips de los sistemas operativos:[m
[32m+[m
[32m+[m[32m    Figura 8.11. Tooltip creado con la librerÃ­a overLIB y personalizado para que parezca un[m
[32m+[m[32m                                       tooltip de Sistema Operativo[m
[32m+[m
[32m+[m[32mEn el ejemplo anterior se ha modificado el tamaÃ±o y tipo de letra y el color de fondo del[m
[32m+[m[32mtooltip mediante la siguiente configuraciÃ³n:[m
[32m+[m
[32m+[m[32m     overlib_pagedefaults(WIDTH,150,FGCOLOR,'#ffffcc',BGCOLOR,'#666666',TEXTFONT,"Arial,[m
[32m+[m[32m     Helvetica, Verdana",TEXTSIZE,".8em");[m
[32m+[m
[32m+[m[32m Ejercicio 19[m
[32m+[m
[32m+[m[32mMejorar el tooltip propuesto aÃ±adiendo las siguientes caracterÃ­sticas:[m
[32m+[m
[32m+[m[32m      1. Que el tooltip no se muestre instantÃ¡neamente, sino que transcurra un cuarto de[m
[32m+[m[32m           segundo hasta que se muestre (pista: DELAY)[m
[32m+[m
[32m+[m[32m      2. Que exista una separaciÃ³n horizontal de 15 pÃ­xel entre el puntero del ratÃ³n y el[m
[32m+[m[32m           tooltip (pista: OFFSETX)[m
[32m+[m
[32m+[m[32m      3. Que el tooltip se muestre en la parte superior del puntero del ratÃ³n y no en la parte[m
[32m+[m[32m           inferior (pista: ABOVE)[m
[32m+[m
[32m+[m[32mEl nuevo aspecto del tooltip se muestra en la siguiente imagen:[m
[32m+[m
[32m+[m[32m                                 Figura 8.12. Nuevo aspecto del tooltip[m
[32m+[m
[32m+[m[32m8.4. MenÃº desplegable[m
[32m+[m
[32m+[m[32mLa navegaciÃ³n de algunas pÃ¡ginas web se realiza mediante menÃºs desplegables, que[m
[32m+[m[32mdisponen de varios niveles jerÃ¡rquicos que se despliegan a medida que el usuario pasa el[m
[32m+[m[32mpuntero del ratÃ³n por encima de cada elemento. Aunque CSS permite realizar menÃºs[m
[32m+[m[32mdesplegables horizontales y verticales de cualquier nivel de profundidad, los[m
[32m+[m[32mnavegadores de la familia Internet Explorer versiÃ³n 6.0 y anteriores no disponen del[m
[32m+[m[32msuficiente soporte de CSS como para crear este tipo de menÃºs.[m
[32m+[m
[32m+[m[32mDe esta forma, la Ãºnica forma de crear un menÃº desplegable que funcione correctamente[m
[32m+[m[32men cualquier navegador consiste en utilizar JavaScript. A pesar de que realizar un menÃº[m
[32m+[m[32mdesplegable sencillo con JavaScript no es una tarea muy compleja, se va a utilizar un[m
[32m+[m[32mcomponente ya realizado que pertenece a la librerÃ­a de desarrollo web de Yahoo.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           107[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mLa Yahoo UI Library, conocida como YUI, y que se puede traducir como "LibrerÃ­a de[m
[32m+[m[32mcomponentes de interfaz de usuario de Yahoo" es un conjunto de utilidades y controles[m
[32m+[m[32mescritos en JavaScript para el desarrollo rÃ¡pido y sencillo de aplicaciones web complejas.[m
[32m+[m
[32m+[m[32mLa librerÃ­a completa estÃ¡ dividida en mÃ³dulos y componentes relacionados con CSS,[m
[32m+[m[32mDOM, eventos, AJAX, etc. Entre las utilidades disponibles se encuentran calendarios,[m
[32m+[m[32mtooltips, cuadros que autocompletan el texto, Ã¡rboles jerÃ¡rquicos, etc. AdemÃ¡s de esas[m
[32m+[m[32mutilidades, la YUI incluye un completo mÃ³dulo de menÃºs que permite realizar decenas de[m
[32m+[m[32mtipos de menÃºs diferentes: horizontales, verticales, desplegables, estÃ¡ticos, menÃºs[m
[32m+[m[32mcontextuales, menÃºs de aplicaciÃ³n, menÃºs realizados con XHTML o con JavaScript, etc.[m
[32m+[m
[32m+[m[32mLa librerÃ­a YUI se puede descargar gratuitamente en http://developer.yahoo.com/yui/,[m
[32m+[m[32mla informaciÃ³n especÃ­fica sobre los menÃºs se puede encontrar en[m
[32m+[m[32mhttp://developer.yahoo.com/yui/menu/ y se pueden ver decenas de ejemplos de menÃºs[m
[32m+[m[32mya realizados en http://developer.yahoo.com/yui/examples/menu/.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indican los pasos necesarios para incluir un menÃº vertical[m
[32m+[m[32mdesplegable:[m
[32m+[m
[32m+[m[32m1) Enlazar los archivos JavaScript y CSS requeridos:[m
[32m+[m
[32m+[m[32mLa librerÃ­a YUI se puede descargar gratuitamente con todos los archivos necesarios, toda[m
[32m+[m[32mla documentaciÃ³n y cientos de ejemplos (por lo que comprimida ya ocupa mÃ¡s de 11[m
[32m+[m[32mMB). Aunque es posible utilizar los archivos CSS y JavaScript proporcionados por la[m
[32m+[m[32mlibrerÃ­a desde nuestro servidor, Yahoo permite enlazar los archivos CSS y JavaScript[m
[32m+[m[32mdesde sus propios servidores.[m
[32m+[m
[32m+[m[32mDe esta forma, todos los archivos requeridos por las utilidades de Yahoo se pueden[m
[32m+[m[32mservir directamente desde sus servidores, mucho mÃ¡s rÃ¡pidos y fiables que cualquier[m
[32m+[m[32mservidor particular. Como el usuario se descarga los archivos desde los servidores de[m
[32m+[m[32mYahoo, el ahorro de ancho de banda es total y la aplicaciÃ³n carga mucho mÃ¡s rÃ¡pido.[m
[32m+[m
[32m+[m[32mPara crear un menÃº vertical, se deben enlazar los siguientes archivos:[m
[32m+[m
[32m+[m[32m     <!-- Dependencias -->[m
[32m+[m[32m     <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.3.0/[m
[32m+[m[32m     build/menu/assets/skins/sam/menu.css">[m
[32m+[m[32m     <script type="text/javascript" src="http://yui.yahooapis.com/2.3.0/build/[m
[32m+[m[32m     yahoo-dom-event/yahoo-dom-event.js"></script>[m
[32m+[m[32m     <script type="text/javascript" src="http://yui.yahooapis.com/2.3.0/build/[m
[32m+[m[32m     container/container_core-min.js"></script>[m
[32m+[m
[32m+[m[32m     <!-- CÃ³digo para menÃºs -->[m
[32m+[m[32m     <script type="text/javascript" src="http://yui.yahooapis.com/2.3.0/build/menu/[m
[32m+[m[32m     menu-min.js"></script>[m
[32m+[m
[32m+[m[32mSi se opta por servir los archivos desde nuestro propio servidor, es recomendable[m
[32m+[m[32menlazar las versiones comprimidas de cada archivo, que se pueden reconocer porque su[m
[32m+[m[32mnombre termina en -min.js.[m
[32m+[m
[32m+[m[32m2) Definir el cÃ³digo XHTML de los elementos del menÃº:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           108[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m     <div id="menu_vertical" class="yuimenu">[m
[32m+[m[32m     <div class="bd">[m
[32m+[m
[32m+[m[32m         <ul class="first-of-type">[m
[32m+[m[32m         <li class="yuimenuitem"><a href="#">Lorem ipsum</a></li>[m
[32m+[m[32m         <li class="yuimenuitem"><a href="#">Dolor sit amet</a></li>[m
[32m+[m[32m         <li class="yuimenuitem">Consectetuer[m
[32m+[m
[32m+[m[32m            <div id="consectetuer" class="yuimenu">[m
[32m+[m[32m            <div class="bd">[m
[32m+[m
[32m+[m[32m               <ul>[m
[32m+[m[32m                   <li class="yuimenuitem"><a href="#">Donec quis nunc</a></li>[m
[32m+[m[32m                   <li class="yuimenuitem"><a href="#">Fusce eleifend</a></li>[m
[32m+[m[32m                   <li class="yuimenuitem"><a href="#">Donec erat</a></li>[m
[32m+[m[32m                   <li class="yuimenuitem"><a href="#">Faucibus orci</a></li>[m
[32m+[m[32m                   <li class="yuimenuitem"><a href="#">Volutpat quam</a></li>[m
[32m+[m
[32m+[m[32m               </ul>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m         </li>[m
[32m+[m[32m         <li class="yuimenuitem"><a href="#">Adipiscing elit</a></li>[m
[32m+[m[32m         </ul>[m
[32m+[m[32m     </div>[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mLa librerÃ­a YUI dispone de muchos tipos diferentes de menÃºs. AdemÃ¡s, los menÃºs se[m
[32m+[m[32mpueden construir completamente con JavaScript (en la pÃ¡gina XHTML no aparecen los[m
[32m+[m[32melementos del menÃº) o a partir del cÃ³digo XHTML de los elementos del menÃº incluido en[m
[32m+[m[32mla pÃ¡gina.[m
[32m+[m
[32m+[m[32mEste Ãºltimo mÃ©todo, definir el menÃº con XHTML y despuÃ©s aplicarle JavaScript, es la[m
[32m+[m[32mforma recomendada, ya que si el usuario no tiene JavaScript activado, el menÃº se[m
[32m+[m[32mvisualiza correctamente. Por ese motivo, no se va a estudiar el mÃ©todo de construcciÃ³n[m
[32m+[m[32mde un menÃº de YUI exclusivamente con JavaScript.[m
[32m+[m
[32m+[m[32mLos elementos que forman los menÃºs creados con YUI se construyen mediante listas no[m
[32m+[m[32mordenadas con las etiquetas <ul> y <li>. Un pequeÃ±o inconveniente de los menÃºs[m
[32m+[m[32mdefinidos con la librerÃ­a YUI es que cada uno de los menÃºs (el principal y todos los[m
[32m+[m[32mdesplegables) debe encerrarse con dos elementos de tipo <div>. En otras palabras, el[m
[32m+[m[32mesquema de cada menÃº (y submenÃº desplegable) es el siguiente:[m
[32m+[m
[32m+[m[32m     <div id="cualquier_identificador" class="yuimenu">[m
[32m+[m[32m         <div class="bd">[m
[32m+[m[32m            <ul class="first-of-type">[m
[32m+[m[32m               ...[m
[32m+[m[32m            </ul>[m
[32m+[m[32m         </div>[m
[32m+[m
[32m+[m[32m     </div>[m
[32m+[m
[32m+[m[32mLos valores de los atributos class de los elementos <div> anteriores deben mantenerse[m
[32m+[m[32mpara que el menÃº funcione correctamente.[m
[32m+[m
[32m+[m[32m3) Construir el menÃº y mostrarlo en la pÃ¡gina:[m
[32m+[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     YAHOO.util.Event.onContentReady("menu_vertical", function () {[m
[32m+[m
[32m+[m[32mwww.librosweb.es           109[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m         var elMenu = new YAHOO.widget.Menu("menu_vertical", { width: '150px' });[m
[32m+[m[32m         elMenu.render();[m
[32m+[m[32m         elMenu.show();[m
[32m+[m[32m     });[m
[32m+[m[32m     </script>[m
[32m+[m
[32m+[m[32mEl cÃ³digo JavaScript que crea dinÃ¡micamente el menÃº requiere que el Ã¡rbol DOM de la[m
[32m+[m[32mpÃ¡gina se haya construido completamente, por lo que se utiliza la funciÃ³n[m
[32m+[m[32monContentReady() que forma parte de las utilidades para eventos de la librerÃ­a YUI.[m
[32m+[m
[32m+[m[32mPara construir el menÃº se crea un nuevo objeto de tipo YAHOO.widget.Menu y se le pasan[m
[32m+[m[32mlas opciones de inicializaciÃ³n (en este caso, que tenga una anchura de 150 pÃ­xel).:[m
[32m+[m
[32m+[m[32m     var elMenu = new YAHOO.widget.Menu("menu_vertical", { width: '150px' });[m
[32m+[m
[32m+[m[32mUna vez creado el objeto del menÃº, se construye mediante la instrucciÃ³n[m
[32m+[m[32melMenu.render() y se muestra en la pÃ¡gina con la instrucciÃ³n elMenu.show().[m
[32m+[m
[32m+[m[32mEl resultado final es un menÃº vertical desplegable con el siguiente aspecto:[m
[32m+[m
[32m+[m[32m  Figura 8.13. Aspecto final del menÃº vertical desplegable creado con la librerÃ­a Yahoo YUI[m
[32m+[m
[32m+[m[32m8.5. GalerÃ­as de imÃ¡genes (Lightbox)[m
[32m+[m
[32m+[m[32mMuchos sitios web utilizan galerÃ­as de imÃ¡genes para mostrar sus productos y servicios.[m
[32m+[m[32mEste tipo de galerÃ­as muestran una serie de miniaturas de imÃ¡genes que se amplÃ­an al[m
[32m+[m[32mpinchar sobre cada imagen. Hasta hace poco, la tÃ©cnica mÃ¡s utilizada para construir una[m
[32m+[m[32mgalerÃ­a consistÃ­a en incluir las miniaturas en la pÃ¡gina y abrir cada imagen grande en una[m
[32m+[m[32mventana emergente (o pop-up) o en una nueva pÃ¡gina.[m
[32m+[m
[32m+[m[32mEl uso de tÃ©cnicas basadas en JavaScript ha supuesto una revoluciÃ³n en la creaciÃ³n de las[m
[32m+[m[32mgalerÃ­as de imÃ¡genes y ha permitido mejorar la experiencia de navegaciÃ³n del usuario.[m
[32m+[m[32mLa tÃ©cnica se conoce como Lightbox y fue creada originalmente por Lokesh Dhakar.[m
[32m+[m[32mLightbox es una tÃ©cnica muy sencilla de utilizar, funciona correctamente en todos los[m
[32m+[m[32mnavegadores y permite mantener la semÃ¡ntica del documento (no ensucia la pÃ¡gina con[m
[32m+[m[32mcÃ³digo JavaScript).[m
[32m+[m
[32m+[m[32mEl cÃ³digo de la versiÃ³n mÃ¡s reciente se puede descargar gratuitamente en[m
[32m+[m[32mhttp://www.huddletogether.com/projects/lightbox2/, donde tambiÃ©n se puede ver una[m
[32m+[m[32mdemostraciÃ³n de las galerÃ­as de imÃ¡genes construidas con Lightbox.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           110[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mLa descarga incluye el cÃ³digo fuente del script, todos los archivos JavaScript externos[m
[32m+[m[32mnecesarios, archivos CSS e imÃ¡genes de prueba y una breve pero completa[m
[32m+[m[32mdocumentaciÃ³n.[m
[32m+[m
[32m+[m[32mA continuaciÃ³n se indican los pasos necesarios para incluir Lightbox en una pÃ¡gina web:[m
[32m+[m
[32m+[m[32m1) Enlazar los archivos JavaScript y CSS requeridos:[m
[32m+[m
[32m+[m[32m     <!-- Dependencias -->[m
[32m+[m[32m     <link rel="stylesheet" href="css/lightbox.css" type="text/css" media="screen" />[m
[32m+[m[32m     <script type="text/javascript" src="js/prototype.js"></script>[m
[32m+[m[32m     <script type="text/javascript" src="js/[m
[32m+[m[32m     scriptaculous.js?load=effects,builder"></script>[m
[32m+[m
[32m+[m[32m     <!-- CÃ³digo fuente -->[m
[32m+[m[32m     <script type="text/javascript" src="js/lightbox.js"></script>[m
[32m+[m
[32m+[m[32mLightbox utiliza dos de las librerÃ­as mÃ¡s conocidas y utilizadas para realizar aplicaciones[m
[32m+[m[32mJavaScript complejas: Prototype y Scriptaculous. AdemÃ¡s de estos dos archivos[m
[32m+[m[32mJavaScript, tambiÃ©n es necesario enlazar un archivo de tipo CSS que controla el aspecto[m
[32m+[m[32mde Lightbox y enlaza las imÃ¡genes utilizadas.[m
[32m+[m
[32m+[m[32m2) Activar Lightbox:[m
[32m+[m
[32m+[m[32mLa pÃ¡gina XHTML original contiene un enlace simple que abre una nueva pÃ¡gina en la[m
[32m+[m[32mque se puede ver ampliada la imagen original:[m
[32m+[m
[32m+[m[32m     <a href="images/image-1.jpg" title="TÃ­tulo de la imagen 1">Imagen 1</a>[m
[32m+[m
[32m+[m[32mPara activar Lightbox, tan solo es necesario incluir el siguiente atributo rel:[m
[32m+[m
[32m+[m[32m     <a href="images/image-1.jpg" rel="lightbox" title="TÃ­tulo de la imagen[m
[32m+[m[32m     1">Imagen 1</a>[m
[32m+[m
[32m+[m[32mAhora, si el usuario tiene activado JavaScript, al pinchar en el enlace:[m
[32m+[m
[32m+[m[32m                        Figura 8.14. Enlace con el atributo "lightbox" aÃ±adido[m
[32m+[m[32mSe mostrarÃ¡ la imagen ampliada centrada en la misma pÃ¡gina:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                111[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m             Figura 8.15. Imagen ampliada que se muestra al pinchar sobre el enlace[m
[32m+[m
[32m+[m[32mLightbox se activa automÃ¡ticamente para todos los enlaces cuyo atributo rel sea igual a[m
[32m+[m[32mlightbox. AdemÃ¡s, Lightbox muestra como tÃ­tulo de la imagen el valor del atributo[m
[32m+[m[32mtitle del enlace. Si el usuario no tiene activado JavaScript, la imagen se abrirÃ¡ en una[m
[32m+[m[32mpÃ¡gina nueva, como ocurre si no se utiliza Lightbox. La sencillez de uso y el resultado tan[m
[32m+[m[32mespectacular que se consigue son los puntos fuertes de Lightbox.[m
[32m+[m
[32m+[m[32mNormalmente, Lightbox no se utiliza con enlaces de texto sino con imÃ¡genes que[m
[32m+[m[32mcontienen enlaces:[m
[32m+[m
[32m+[m[32m     <a href="images/image-1.jpg" rel="lightbox" title="TÃ­tulo de la imagen 1"><img[m
[32m+[m[32m     src="images/imagen_pequena1.jpg" /></a>[m
[32m+[m
[32m+[m[32mAhora, si el usuario tiene activado JavaScript, al pinchar sobre la imagen pequeÃ±a:[m
[32m+[m
[32m+[m[32m            Figura 8.16. Imagen en miniatura con el enlace preparado para Lightbox[m
[32m+[m[32mSe mostrarÃ¡ la imagen ampliada centrada en la misma pÃ¡gina:[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                    112[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32m    Figura 8.17. Imagen ampliada que se muestra al pinchar sobre la imagen en miniatura[m
[32m+[m
[32m+[m[32mLa imagen ampliada se muestra con una vistosa animaciÃ³n y el fondo de la pÃ¡gina[m
[32m+[m[32mcompleta se oscurece para que el usuario centre toda su atenciÃ³n en la imagen. El[m
[32m+[m[32musuario puede cerrar la imagen ampliada y volver a la pÃ¡gina original pulsando sobre la[m
[32m+[m[32mimagen CLOSE X de la esquina inferior derecha de la imagen.[m
[32m+[m
[32m+[m[32mUtilizar Lightbox aporta muchas ventajas respecto de la experiencia de usuario del sitio[m
[32m+[m[32mweb. AdemÃ¡s, el cÃ³digo XHTML permanece intacto y no se ensucia con llamadas a[m
[32m+[m[32mfunciones JavaScript, ya que lo Ãºnico que hay que aÃ±adir es un atributo rel="lightbox"[m
[32m+[m[32ma las imÃ¡genes y enlaces que vayan a utilizar Lightbox.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, Lightbox permite relacionar varias imÃ¡genes entre sÃ­ para crear una galerÃ­a de[m
[32m+[m[32mimÃ¡genes. AsÃ­, mientras se visualiza una imagen ampliada es posible pasar a la siguiente[m
[32m+[m[32mimagen de la galerÃ­a. Para relacionar varias imÃ¡genes entre sÃ­, tan sÃ³lo es necesario[m
[32m+[m[32maplicar un valor Ãºnico al atributo rel como se muestra a continuaciÃ³n:[m
[32m+[m
[32m+[m[32m     <a href="images/imagen-1.jpg" rel="lightbox[galeria1]">imagen #1</a>[m
[32m+[m[32m     <a href="images/imagen-2.jpg" rel="lightbox[galeria1]">imagen #2</a>[m
[32m+[m[32m     <a href="images/imagen-3.jpg" rel="lightbox[galeria1]">imagen #3</a>[m
[32m+[m
[32m+[m[32mTodas las imÃ¡genes que tengan el mismo valor del atributo rel, automÃ¡ticamente[m
[32m+[m[32mpasarÃ¡n a formar parte de una galerÃ­a de fotos por la que se puede navegar hacia la[m
[32m+[m[32msiguiente o hacia la anterior imagen.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           113[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 8. Otras utilidades[m
[32m+[m
[32m+[m[32mLa tÃ©cnica Lightbox presentada solamente es vÃ¡lida para elementos de tipo imagen. No[m
[32m+[m[32mes posible por tanto mostrar una pÃ¡gina web o cierto cÃ³digo XHTML dentro de una[m
[32m+[m[32mventana de ese tipo.[m
[32m+[m
[32m+[m[32mAfortunadamente, existen otras librerÃ­as basadas en Lightbox y que permiten mostrar[m
[32m+[m[32mcualquier tipo de cÃ³digo XHMTL en el interior de la ventana. La mÃ¡s conocida es la[m
[32m+[m[32mtÃ©cnica creada por ParticleTree y que se puede encontrar en: http://particletree.com/[m
[32m+[m[32mfeatures/lightbox-gone-wild/[m
[32m+[m
[32m+[m[32mwww.librosweb.es           114[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de errores[m
[32m+[m
[32m+[m[32mCapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de[m
[32m+[m
[32m+[m[32merrores[m
[32m+[m
[32m+[m[32mJavaScript es un lenguaje de programaciÃ³n interpretado, lo que significa que no se[m
[32m+[m[32mpueden detectar la mayorÃ­a de errores en el cÃ³digo hasta que se ejecutan los scripts. De[m
[32m+[m[32mesta forma, antes de considerar un script como correcto, es necesario probarlo en todos[m
[32m+[m[32mlos navegadores sobre los que se vaya a utilizar.[m
[32m+[m
[32m+[m[32mCuando se producen errores durante la ejecuciÃ³n de un script, los navegadores[m
[32m+[m[32mproporcionan cierta informaciÃ³n Ãºtil para descubrir el punto exacto en el que se ha[m
[32m+[m[32mproducido el error y su posible soluciÃ³n. Solucionar los errores de un script se denomina[m
[32m+[m[32m"depurar el script" o "debugear el script" (tÃ©rmino que viene de la palabra inglesa[m
[32m+[m[32m"debug", que significa "eliminar los errores de una aplicaciÃ³n").[m
[32m+[m
[32m+[m[32mDesafortunadamente, no todos los navegadores proporcionan la misma informaciÃ³n Ãºtil,[m
[32m+[m[32mlo que complica la soluciÃ³n de los errores para cada tipo de navegador. A continuaciÃ³n[m
[32m+[m[32mse muestran las herramientas que proporciona cada navegador para detectar y corregir[m
[32m+[m[32mlos errores en JavaScript.[m
[32m+[m
[32m+[m[32m9.1. CorrecciÃ³n de errores con Internet Explorer[m
[32m+[m
[32m+[m[32mDependiendo de su configuraciÃ³n, el navegador Internet Explorer puede tener[m
[32m+[m[32mdesactivada la notificaciÃ³n de errores de JavaScript. Por este motivo, en primer lugar[m
[32m+[m[32mpuede ser necesario activar los mensajes de aviso sobre los errores de JavaScript. Para[m
[32m+[m[32mactivar las notificaciones, se accede al menÃº Herramientas > Opciones, pestaÃ±a[m
[32m+[m[32mOpciones Avanzadas y se activa la opciÃ³n Mostrar una notificaciÃ³n sobre cada[m
[32m+[m[32merror de secuencia de comandos, como se muestra en la siguiente imagen:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           115[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de errores[m
[32m+[m
[32m+[m[32m Figura 9.1. Opciones avanzadas en Internet Explorer necesarias para activar la notificaciÃ³n[m
[32m+[m[32m                                          de errores de JavaScript[m
[32m+[m
[32m+[m[32mUna vez activado, se mostrarÃ¡ un mensaje de error cada vez que se produzcan errores[m
[32m+[m[32mde JavaScript en una pÃ¡gina. AdemÃ¡s, en la esquina inferior izquierda se muestra un[m
[32m+[m[32mpequeÃ±o mensaje indicando que la pÃ¡gina contiene errores:[m
[32m+[m
[32m+[m[32m       Figura 9.2. Mensaje de aviso de Internet Explorer sobre los errores de JavaScript[m
[32m+[m
[32m+[m[32mPulsando sobre el botÃ³n Mostrar Detalles >> es posible acceder a cierta informaciÃ³n[m
[32m+[m[32madicional sobre el error producido:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           116[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de errores[m
[32m+[m
[32m+[m[32m Figura 9.3. InformaciÃ³n adicional proporcionada por Internet Explorer sobre los errores de[m
[32m+[m[32m                                                   JavaScript[m
[32m+[m
[32m+[m[32mInternet Explorer es el navegador que menos informaciÃ³n proporciona. AdemÃ¡s, cuando[m
[32m+[m[32mse produce un error no siempre indica correctamente la posiciÃ³n del posible error.[m
[32m+[m
[32m+[m[32mEl tipo de mensajes (muy breves y en ocasiones ambiguos) y la falta de precisiÃ³n sobre[m
[32m+[m[32mel lugar en el que se ha producido realmente el error, hacen que depurar un script en[m
[32m+[m[32mInternet Explorer sea una tarea excesivamente complicada.[m
[32m+[m
[32m+[m[32m9.2. CorrecciÃ³n de errores con Firefox[m
[32m+[m
[32m+[m[32mDepurar scripts utilizando Firefox es una experiencia completamente diferente y mÃ¡s[m
[32m+[m[32msencilla que depurarlos con Internet Explorer. Firefox proporciona herramientas mÃ¡s[m
[32m+[m[32mÃºtiles, activadas por defecto y que muestran mÃ¡s informaciÃ³n y mucho mÃ¡s precisa.[m
[32m+[m
[32m+[m[32mPara depurar un script con Firefox, solamente es necesario acceder a la opciÃ³n Consola[m
[32m+[m[32mde error dentro del menÃº Herramientas:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           117[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de errores[m
[32m+[m
[32m+[m[32m  Figura 9.4. Consola de errores de Firefox donde se muestra toda la informaciÃ³n sobre los[m
[32m+[m[32m                                            errores de JavaScript[m
[32m+[m
[32m+[m[32mLa consola de errores permite diferenciar los mensajes de informaciÃ³n, los mensajes de[m
[32m+[m[32maviso y los mensajes de error. AdemÃ¡s, permite visualizar todos los errores de la pÃ¡gina[m
[32m+[m[32msimultÃ¡neamente. Por cada error detectado se indica la posible soluciÃ³n mediante un[m
[32m+[m[32mmensaje en inglÃ©s y se muestra el trozo de cÃ³digo del script donde se ha producido el[m
[32m+[m[32merror. AdemÃ¡s, pulsando sobre el enlace incluido se accede a la lÃ­nea concreta del[m
[32m+[m[32marchivo concreto donde se ha producido el error.[m
[32m+[m
[32m+[m[32mAdemÃ¡s, Firefox permite instalar pequeÃ±as mejoras y ampliaciones en el navegador, que[m
[32m+[m[32mse conocen con el nombre de extensiones. Una de las extensiones mÃ¡s interesantes para[m
[32m+[m[32mlos desarrolladores de aplicaciones web es Firebug, que se puede descargar[m
[32m+[m[32mgratuitamente desde http://www.getfirebug.com/ El mismo error de JavaScript muestra[m
[32m+[m[32mla siguiente informaciÃ³n en Firebug:[m
[32m+[m
[32m+[m[32m           Figura 9.5. InformaciÃ³n mostrada por Firebug sobre un error de JavaScript[m
[32m+[m
[32m+[m[32mSi se pincha sobre el mensaje de error, Firebug tambiÃ©n redirige a la lÃ­nea concreta del[m
[32m+[m[32mscript en la que se estÃ¡ produciendo el error:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           118[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de errores[m
[32m+[m
[32m+[m[32m  Figura 9.6. Firebug permite ir directamente a la lÃ­nea concreta del script en la que se estÃ¡[m
[32m+[m[32m                                            produciendo el error[m
[32m+[m
[32m+[m[32mFirebug incluye cientos de utilidades y herramientas necesarias para depurar[m
[32m+[m[32maplicaciones web y para diseÃ±ar pÃ¡ginas web. AdemÃ¡s, proporciona informaciÃ³n[m
[32m+[m[32mdetallada sobre XHTML, CSS, DOM y JavaScript. Toda la documentaciÃ³n, tutoriales y[m
[32m+[m[32mpreguntas frecuentes sobre Firebug se pueden encontrar en[m
[32m+[m[32mhttp://www.getfirebug.com/docs.html[m
[32m+[m
[32m+[m[32m9.3. CorrecciÃ³n de errores con Opera[m
[32m+[m
[32m+[m[32mEl navegador Opera tambiÃ©n dispone de una consola de errores muy completa que[m
[32m+[m[32mmuestra toda la informaciÃ³n sobre el error producido. La consola de errores se accede[m
[32m+[m[32mdesde el menÃº Herramientas > Avanzado y la opciÃ³n Consola de error:[m
[32m+[m
[32m+[m[32mwww.librosweb.es           119[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 9. DetecciÃ³n y correcciÃ³n de errores[m
[32m+[m
[32m+[m[32mFigura 9.7. Consola de errores de Opera donde se muestra toda la informaciÃ³n sobre los[m
[32m+[m[32m                                         errores de JavaScript[m
[32m+[m
[32m+[m[32mwww.librosweb.es           120[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 10. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32mCapÃ­tulo 10. Recursos Ãºtiles[m
[32m+[m
[32m+[m[32mEstÃ¡ndares y especificaciones oficiales[m
[32m+[m
[32m+[m[32m    â–ª EspecificaciÃ³n oficial del lenguaje JavaScript: ECMAScript Language Specification[m
[32m+[m[32m       (http://www.ecma-international.org/publications/standards/Ecma-262.htm) (3Âª[m
[32m+[m[32m       ediciÃ³n, Diciembre de 1999)[m
[32m+[m
[32m+[m[32m    â–ª Otros estÃ¡ndares relacionados: ECMAScript Components Specification[m
[32m+[m[32m       (ECMA-290) (http://www.ecma-international.org/publications/standards/[m
[32m+[m[32m       Ecma-290.htm) , ECMAScript 3rd Edition Compact Profile (ECMA-327)[m
[32m+[m[32m       (http://www.ecma-international.org/publications/standards/Ecma-327.htm) ,[m
[32m+[m[32m       ECMAScript for XML (E4X) Specification (ECMA-357)[m
[32m+[m[32m       (http://www.ecma-international.org/publications/standards/Ecma-357.htm)[m
[32m+[m
[32m+[m[32mScripts y utilidades gratuitas[m
[32m+[m
[32m+[m[32m    â–ª Hotscripts (http://www.hotscripts.com/JavaScript/index.html) : sitio web en[m
[32m+[m[32m       inglÃ©s que contiene referencias a miles de scripts y utilidades de JavaScript[m
[32m+[m[32m       gratuitas.[m
[32m+[m
[32m+[m[32m    â–ª Dynamic Drive (http://www.dynamicdrive.com/) : sitio web en inglÃ©s con cientos[m
[32m+[m[32m       de scripts gratuitos de JavaScript con las utilidades mÃ¡s comunes (calendarios,[m
[32m+[m[32m       menÃºs, formularios, animaciones de texto, enlaces, galerÃ­as de imÃ¡genes, etc.)[m
[32m+[m
[32m+[m[32m    â–ª Gamarod JavaScript (http://www.gamarod.com.ar/) : sitio web en espaÃ±ol que[m
[32m+[m[32m       contiene decenas de utilidades JavaScript gratuitas listas para usar.[m
[32m+[m
[32m+[m[32mLibros[m
[32m+[m
[32m+[m[32m    â–ª Professional JavaScript for Web Developers (http://www.wrox.com/WileyCDA/[m
[32m+[m[32m       WroxTitle/productCd-0764579088.html) , Nicholas C. Zakas (ISBN:[m
[32m+[m[32m       978-0-7645-7908-0). Algunos capÃ­tulos son demasiado avanzados para los[m
[32m+[m[32m       principiantes de JavaScript, pero la mayorÃ­a de capÃ­tulos explican conceptos[m
[32m+[m[32m       bÃ¡sicos de forma sencilla y clara.[m
[32m+[m
[32m+[m[32m    â–ª JavaScript: The Definitive Guide (Fifth Edition) (http://www.oreilly.com/catalog/[m
[32m+[m[32m       jscript5/index.html) , David Flanagan (ISBN 13: 9780596101992). Referencia[m
[32m+[m[32m       completa de JavaScript en mÃ¡s de 1.000 pÃ¡ginas que explican con detalle cualquier[m
[32m+[m[32m       aspecto de este lenguaje de programaciÃ³n.[m
[32m+[m
[32m+[m[32mwww.librosweb.es           121[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32mCapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m11.1. Ejercicio 1[m
[32m+[m
[32m+[m[32mPÃ¡gina HTML:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 1 - Archivo externo y varios mensajes</title>[m
[32m+[m[32m     <script type="text/javascript" src="codigo.js"></script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <noscript>Esta pÃ¡gina <strong>requiere</strong> el uso de JavaScript y parece[m
[32m+[m[32m     que estÃ¡ desactivado</noscript>[m
[32m+[m[32m     <p>Esta pÃ¡gina muestra 2 mensajes</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mArchivo codigo.js[m
[32m+[m
[32m+[m[32m     // Al cargarse el archivo JavaScript, se muestra un mensaje[m
[32m+[m[32m     alert("Hola Mundo!");[m
[32m+[m
[32m+[m[32m     // Despues del primer mensaje, se muestra otro mensaje seguido[m
[32m+[m[32m     alert("Soy el primer script");[m
[32m+[m
[32m+[m[32m11.2. Ejercicio 2[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 2 - Mostrar mensajes complejos</title>[m
[32m+[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m         var mensaje = "Hola Mundo! \n QuÃ© facil es incluir \'comillas simples\' \n y[m
[32m+[m
[32m+[m[32m     \"comillas dobles\" ";[m
[32m+[m[32m         alert(mensaje);[m
[32m+[m
[32m+[m[32m     </script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     <p>Esta pÃ¡gina muestra un mensaje complejo</p>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mwww.librosweb.es           122[m
[32m+[m[32mIntroducciÃ³n a JavaScript                             CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m11.3. Ejercicio 3[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 3 - Arrays simples</title>[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     // Array que almacena los 12 meses del aÃ±o[m
[32m+[m[32m     var meses = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio",[m
[32m+[m[32m     "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];[m
[32m+[m
[32m+[m[32m// Se muestra el nombre de cada mes[m
[32m+[m[32malert(meses[0]);[m
[32m+[m[32malert(meses[1]);[m
[32m+[m[32malert(meses[2]);[m
[32m+[m[32malert(meses[3]);[m
[32m+[m[32malert(meses[4]);[m
[32m+[m[32malert(meses[5]);[m
[32m+[m[32malert(meses[6]);[m
[32m+[m[32malert(meses[7]);[m
[32m+[m[32malert(meses[8]);[m
[32m+[m[32malert(meses[9]);[m
[32m+[m[32malert(meses[10]);[m
[32m+[m[32malert(meses[11]);[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<p>Esta pÃ¡gina muestra los 12 meses del aÃ±o</p>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.4. Ejercicio 4[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 4 - Operadores</title>[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     var valores = [true, 5, false, "hola", "adios", 2];[m
[32m+[m
[32m+[m[32m// Cual de los 2 elementos de texto es mayor[m
[32m+[m[32m// Si el resultado es true, el primer texto es mayor[m
[32m+[m[32mvar resultado = valores[3] > valores[4];[m
[32m+[m[32malert(resultado);[m
[32m+[m
[32m+[m[32m// Combinar valores booleanos[m
[32m+[m[32mvar valor1 = valores[0];[m
[32m+[m[32mvar valor2 = valores[2];[m
[32m+[m
[32m+[m[32m// Obtener un resultado TRUE[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                   123[m
[32m+[m[32mIntroducciÃ³n a JavaScript                            CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32mvar resultado = valor1 || valor2;[m
[32m+[m[32malert(resultado);[m
[32m+[m
[32m+[m[32m// Obtener un resultado FALSE[m
[32m+[m[32mresultado = valor1 && valor2;[m
[32m+[m[32malert(resultado);[m
[32m+[m
[32m+[m[32m// Operaciones matemÃ¡ticas[m
[32m+[m[32mvar num1 = valores[1];[m
[32m+[m[32mvar num2 = valores[5];[m
[32m+[m
[32m+[m[32mvar suma = num1 + num2;[m
[32m+[m[32malert(suma);[m
[32m+[m
[32m+[m[32mvar resta = num1 - num2;[m
[32m+[m[32malert(resta);[m
[32m+[m
[32m+[m[32mvar multiplicacion = num1 * num2;[m
[32m+[m[32malert(multiplicacion);[m
[32m+[m
[32m+[m[32mvar division = num1 / num2;[m
[32m+[m[32malert(division);[m
[32m+[m
[32m+[m[32mvar modulo = num1 % num2;[m
[32m+[m[32malert(modulo);[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<p>Esta pÃ¡gina muestra el uso bÃ¡sico de los operadores</p>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.5. Ejercicio 5[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 5 - Estructuras de control, IF</title>[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     var numero1 = 5;[m
[32m+[m[32m     var numero2 = 8;[m
[32m+[m
[32m+[m[32mif(numero1 <= numero2) {[m
[32m+[m[32m   alert("numero1 no es mayor que numero2");[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32mif(numero2 >= 0) {[m
[32m+[m
[32m+[m[32m   alert("numero2 es positivo");[m
[32m+[m[32m}[m
[32m+[m[32mif(numero1 < 0 || numero1 != 0) {[m
[32m+[m
[32m+[m[32m   alert("numero1 es negativo o distinto de cero");[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 124[m
[32m+[m[32mIntroducciÃ³n a JavaScript                    CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32mif(++numero1 < numero2) {[m
[32m+[m[32m   alert("Incrementar en 1 unidad el valor de numero1 no lo hace mayor o igual[m
[32m+[m
[32m+[m[32mque numero2");[m
[32m+[m[32m}[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<p>Esta pÃ¡gina muestra el uso bÃ¡sico de la estructura de control IF</p>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.6. Ejercicio 6[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 6 - Calculo de la letra del DNI</title>[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     var letras = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N',[m
[32m+[m[32m     'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E', 'T'];[m
[32m+[m
[32m+[m[32mvar numero = prompt("Introduce tu nÃºmero de DNI (sin la letra)");[m
[32m+[m[32mvar letra = prompt("Introduce la letra de tu DNI (en mayÃºsculas)");[m
[32m+[m[32mletra = letra.toUpperCase();[m
[32m+[m
[32m+[m[32mif(numero < 0 || numero > 99999999) {[m
[32m+[m[32m   alert("El nÃºmero proporcionado no es vÃ¡lido");[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32melse {[m
[32m+[m
[32m+[m[32m   var letraCalculada = letras[numero % 23];[m
[32m+[m[32m   if(letraCalculada != letra) {[m
[32m+[m
[32m+[m[32m      alert("La letra o el nÃºmero proporcionados no son correctos");[m
[32m+[m[32m   }[m
[32m+[m[32m   else {[m
[32m+[m
[32m+[m[32m      alert("El nÃºmero de DNI y su letra son correctos");[m
[32m+[m[32m   }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<p>Esta pÃ¡gina calcula la letra del DNI</p>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.7. Ejercicio 7[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                         125[m
[32m+[m[32mIntroducciÃ³n a JavaScript                           CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m<title>Ejercicio 7 - Factorial de un nÃºmero entero</title>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mvar numero = prompt("Introduce un nÃºmero y se mostrarÃ¡ su factorial");[m
[32m+[m[32mvar resultado = 1;[m
[32m+[m
[32m+[m[32mfor(var i=1; i<=numero; i++) {[m
[32m+[m[32m   resultado *= i;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32malert(resultado);[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.8. Ejercicio 8[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 8 - Funciones bÃ¡sicas</title>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mvar numero = prompt("Introduce un nÃºmero entero");[m
[32m+[m
[32m+[m[32mvar resultado = parImpar(numero);[m
[32m+[m[32malert("El nÃºmero "+numero+" es "+resultado);[m
[32m+[m
[32m+[m[32mfunction parImpar(numero) {[m
[32m+[m[32m   if(numero % 2 == 0) {[m
[32m+[m[32m      return "par";[m
[32m+[m[32m   }[m
[32m+[m[32m   else {[m
[32m+[m[32m      return "impar";[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.9. Ejercicio 9[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 126[m
[32m+[m[32mIntroducciÃ³n a JavaScript                               CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m<title>Ejercicio 9 - InformaciÃ³n sobre cadenas</title>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mfunction info(cadena) {[m
[32m+[m
[32m+[m[32mvar resultado = "La cadena \""+cadena+"\" ";[m
[32m+[m
[32m+[m[32m// Comprobar mayÃºsculas y minÃºsculas[m
[32m+[m[32mif(cadena == cadena.toUpperCase()) {[m
[32m+[m
[32m+[m[32m   resultado += " estÃ¡ formada sÃ³lo por mayÃºsculas";[m
[32m+[m[32m}[m
[32m+[m[32melse if(cadena == cadena.toLowerCase()) {[m
[32m+[m
[32m+[m[32m   resultado += " estÃ¡ formada sÃ³lo por minÃºsculas";[m
[32m+[m[32m}[m
[32m+[m[32melse {[m
[32m+[m
[32m+[m[32m   resultado += " estÃ¡ formada por mayÃºsculas y minÃºsculas";[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m   return resultado;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32malert(info("OVNI = OBJETO VOLADOR NO IDENTIFICADO"));[m
[32m+[m[32malert(info("En un lugar de la mancha..."));[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.10. Ejercicio 10[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 10 - DetecciÃ³n de palÃ­ndromos</title>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mfunction palindromo(cadena) {[m
[32m+[m
[32m+[m[32mvar resultado = "La cadena \""+cadena+"\" \n";[m
[32m+[m
[32m+[m[32m// Pasar a minusculas la cadena[m
[32m+[m[32mvar cadenaOriginal = cadena.toLowerCase();[m
[32m+[m
[32m+[m[32m// Convertir la cadena en un array[m
[32m+[m[32mvar letrasEspacios = cadenaOriginal.split("");[m
[32m+[m
[32m+[m[32m   // Eliminar los espacios en blanco (este paso es demasiado largo ya que no se[m
[32m+[m[32mutiliza la funcion "replace")[m
[32m+[m
[32m+[m[32m   var cadenaSinEspacios = "";[m
[32m+[m[32m   for(i in letrasEspacios) {[m
[32m+[m
[32m+[m[32m      if(letrasEspacios[i] != " ") {[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 127[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m               cadenaSinEspacios += letrasEspacios[i];[m
[32m+[m[32m            }[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         var letras = cadenaSinEspacios.split("");[m
[32m+[m[32m         var letrasReves = cadenaSinEspacios.split("").reverse();[m
[32m+[m
[32m+[m[32m         // Este paso tambien es muy largo porque no se utiliza la sentencia "break"[m
[32m+[m[32m         var iguales = true;[m
[32m+[m[32m         for(i in letras) {[m
[32m+[m
[32m+[m[32m            if(letras[i] == letrasReves[i]) {[m
[32m+[m[32m               // Todo bien[m
[32m+[m
[32m+[m[32m            }[m
[32m+[m[32m            else {[m
[32m+[m
[32m+[m[32m               // Alguna letra es distinta, por lo que ya no es un palindromo[m
[32m+[m[32m               iguales = false;[m
[32m+[m[32m            }[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         if(iguales) {[m
[32m+[m[32m            resultado += " es un palÃ­ndromo";[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m         else {[m
[32m+[m
[32m+[m[32m            resultado += " no es un palÃ­ndromo";[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         return resultado;[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     alert(palindromo("La ruta nos aporto otro paso natural"));[m
[32m+[m[32m     alert(palindromo("Esta frase no se parece a ningun palindromo"));[m
[32m+[m[32m     </script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32m11.11. Ejercicio 11[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 11 - DOM bÃ¡sico</title>[m
[32m+[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     window.onload = function() {[m
[32m+[m
[32m+[m[32m         var info = document.getElementById("informacion");[m
[32m+[m
[32m+[m[32m         // Numero de enlaces de la pagina[m
[32m+[m[32m         var enlaces = document.getElementsByTagName("a");[m
[32m+[m[32m         info.innerHTML = "Numero de enlaces = "+enlaces.length;[m
[32m+[m
[32m+[m[32mwww.librosweb.es           128[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   // Direccion del penultimo enlace[m
[32m+[m[32m   var mensaje = "El penultimo enlace apunta a: "+enlaces[enlaces.length-2].href;[m
[32m+[m[32m   info.innerHTML = info.innerHTML + "<br/>" + mensaje;[m
[32m+[m
[32m+[m[32m   // Numero de enlaces que apuntan a http://prueba[m
[32m+[m[32m   var contador = 0;[m
[32m+[m[32m   for(var i=0; i<enlaces.length; i++) {[m
[32m+[m
[32m+[m[32m      // Es necesario comprobar los enlaces http://prueba y[m
[32m+[m[32m      // http://prueba/ por las diferencias entre navegadores[m
[32m+[m[32m      if(enlaces[i].href == "http://prueba" || enlaces[i].href ==[m
[32m+[m[32m"http://prueba/") {[m
[32m+[m
[32m+[m[32m         contador++;[m
[32m+[m[32m      }[m
[32m+[m[32m   }[m
[32m+[m[32m   info.innerHTML = info.innerHTML + "<br/>" + contador + " enlaces apuntan a[m
[32m+[m[32mhttp://prueba"[m
[32m+[m
[32m+[m[32m   // Numero de enlaces del tercer pÃ¡rrafo[m
[32m+[m[32m   var parrafos = document.getElementsByTagName("p");[m
[32m+[m[32m   enlaces = parrafos[2].getElementsByTagName("a");[m
[32m+[m[32m   info.innerHTML = info.innerHTML + "<br/>" + "Numero de enlaces del tercer[m
[32m+[m[32mpÃ¡rrafo = "+enlaces.length;[m
[32m+[m[32m}[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m[32m<div id="informacion" style="border:thin solid silver; padding:.5em"></div>[m
[32m+[m[32m<p>Lorem ipsum dolor sit amet, <a href="http://prueba">consectetuer adipiscing[m
[32m+[m[32melit</a>. Sed mattis enim vitae orci. Phasellus libero. Maecenas nisl arcu,[m
[32m+[m[32mconsequat congue, commodo nec, commodo ultricies, turpis. Quisque sapien nunc,[m
[32m+[m[32mposuere vitae, rutrum et, luctus at, pede. Pellentesque massa ante, ornare id,[m
[32m+[m[32maliquam vitae, ultrices porttitor, pede. Nullam sit amet nisl elementum elit[m
[32m+[m[32mconvallis malesuada. Phasellus magna sem, semper quis, faucibus ut, rhoncus[m
[32m+[m[32mnon, mi. <a href="http://prueba2">Fusce porta</a>. Duis pellentesque, felis eu[m
[32m+[m[32madipiscing ullamcorper, odio urna consequat arcu, at posuere ante quam non[m
[32m+[m[32mdolor. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Duis[m
[32m+[m[32mscelerisque. Donec lacus neque, vehicula in, eleifend vitae, venenatis ac,[m
[32m+[m[32mfelis. Donec arcu. Nam sed tortor nec ipsum aliquam ullamcorper. Duis accumsan[m
[32m+[m[32mmetus eu urna. Aenean vitae enim. Integer lacus. Vestibulum venenatis erat eu[m
[32m+[m[32modio. Praesent id metus.</p>[m
[32m+[m
[32m+[m[32m<p>Aenean at nisl. Maecenas egestas dapibus odio. Vestibulum ante ipsum primis[m
[32m+[m[32min faucibus orci luctus et ultrices posuere cubilia Curae; Proin consequat[m
[32m+[m[32mauctor diam. <a href="http://prueba">Ut bibendum blandit est</a>. Curabitur[m
[32m+[m[32mvestibulum. Nunc malesuada porttitor sapien. Aenean a lacus et metus venenatis[m
[32m+[m[32mporta. Suspendisse cursus, sem non dapibus tincidunt, lorem magna porttitor[m
[32m+[m[32mfelis, id sodales dolor dolor sed urna. Sed rutrum nulla vitae tellus. Sed quis[m
[32m+[m[32meros nec lectus tempor lacinia. Aliquam nec lectus nec neque aliquet dictum.[m
[32m+[m[32mEtiam <a href="http://prueba3">consequat sem quis massa</a>. Donec aliquam[m
[32m+[m[32meuismod diam. In magna massa, mattis id, pellentesque sit amet, porta sit amet,[m
[32m+[m[32mlectus. Curabitur posuere. Aliquam in elit. Fusce condimentum, arcu in[m
[32m+[m[32mscelerisque lobortis, ante arcu scelerisque mi, at cursus mi risus sed[m
[32m+[m[32mtellus.</p>[m
[32m+[m
[32m+[m[32mwww.librosweb.es           129[m
[32m+[m[32mIntroducciÃ³n a JavaScript                                CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m<p>Donec sagittis, nibh nec ullamcorper tristique, pede velit feugiat massa, at[m
[32m+[m[32msollicitudin justo tellus vitae justo. Vestibulum aliquet, nulla sit amet[m
[32m+[m[32mimperdiet suscipit, nunc erat laoreet est, a <a href="http://prueba">aliquam[m
[32m+[m[32mleo odio sed sem</a>. Quisque eget eros vehicula diam euismod tristique. Ut[m
[32m+[m[32mdui. Donec in metus sed risus laoreet sollicitudin. Proin et nisi non arcu[m
[32m+[m[32msodales hendrerit. In sem. Cras id augue eu lorem dictum interdum. Donec[m
[32m+[m[32mpretium. Proin <a href="http://prueba4">egestas</a> adipiscing ligula. Duis[m
[32m+[m[32miaculis laoreet turpis. Mauris mollis est sit amet diam. Curabitur hendrerit,[m
[32m+[m[32meros quis malesuada tristique, ipsum odio euismod tortor, a vestibulum nisl mi[m
[32m+[m[32mat odio. <a href="http://prueba5">Sed non lectus non est pellentesque</a>[m
[32m+[m[32mauctor.</p>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.12. Ejercicio 12[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 12 - DOM bÃ¡sico y atributos XHTML</title>[m
[32m+[m
[32m+[m[32m<style type="text/css">[m
[32m+[m[32m.oculto { display: none; }[m
[32m+[m[32m.visible { display: inline; }[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mfunction muestra() {[m
[32m+[m
[32m+[m[32m   var elemento = document.getElementById("adicional");[m
[32m+[m[32m   elemento.className = "visible";[m
[32m+[m
[32m+[m[32m   var enlace = document.getElementById("enlace");[m
[32m+[m[32m   enlace.className = "oculto";[m
[32m+[m[32m}[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m
[32m+[m[32m<p id="texto">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed[m
[32m+[m[32mmattis enim vitae orci. Phasellus libero. Maecenas nisl arcu, consequat congue,[m
[32m+[m[32mcommodo nec, commodo ultricies, turpis. Quisque sapien nunc, posuere vitae,[m
[32m+[m[32mrutrum et, luctus at, pede. Pellentesque massa ante, ornare id, aliquam vitae,[m
[32m+[m[32multrices porttitor, pede. <span id="adicional" class="oculto">Nullam sit amet[m
[32m+[m[32mnisl elementum elit convallis malesuada. Phasellus magna sem, semper quis,[m
[32m+[m[32mfaucibus ut, rhoncus non, mi. Duis pellentesque, felis eu adipiscing[m
[32m+[m[32mullamcorper, odio urna consequat arcu, at posuere ante quam non dolor. Lorem[m
[32m+[m[32mipsum dolor sit amet, consectetuer adipiscing elit. Duis scelerisque. Donec[m
[32m+[m[32mlacus neque, vehicula in, eleifend vitae, venenatis ac, felis. Donec arcu. Nam[m
[32m+[m[32msed tortor nec ipsum aliquam ullamcorper. Duis accumsan metus eu urna. Aenean[m
[32m+[m[32mvitae enim. Integer lacus. Vestibulum venenatis erat eu odio. Praesent id[m
[32m+[m[32mmetus.</span></p>[m
[32m+[m[32m<a id="enlace" href="#" onclick="muestra(); return false;">Seguir leyendo</a>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 130[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32m11.13. Ejercicio 13[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 13 - DOM bÃ¡sico y atributos XHTML</title>[m
[32m+[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     function anade() {[m
[32m+[m
[32m+[m[32m         var elemento = document.createElement("li");[m
[32m+[m[32m         var texto = document.createTextNode("Elemento de prueba");[m
[32m+[m[32m         elemento.appendChild(texto);[m
[32m+[m
[32m+[m[32m         var lista = document.getElementById("lista");[m
[32m+[m[32m         lista.appendChild(elemento);[m
[32m+[m
[32m+[m[32m         var nuevoElemento = "<li>Texto de prueba</li>";[m
[32m+[m[32m         lista.innerHTML = lista.innerHTML + nuevoElemento;[m
[32m+[m[32m     }[m
[32m+[m[32m     </script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m
[32m+[m[32m     <ul id="lista">[m
[32m+[m[32m         <li>Lorem ipsum dolor sit amet</li>[m
[32m+[m[32m         <li>Consectetuer adipiscing elit</li>[m
[32m+[m[32m         <li>Sed mattis enim vitae orci</li>[m
[32m+[m[32m         <li>Phasellus libero</li>[m
[32m+[m[32m         <li>Maecenas nisl arcu</li>[m
[32m+[m
[32m+[m[32m     </ul>[m
[32m+[m
[32m+[m[32m     <input type="button" value="AÃ±adir elemento" onclick="anade();">[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32m11.14. Ejercicio 14[m
[32m+[m
[32m+[m[32mSi se utilizan manejadores de eventos como atributos de XHTML, la soluciÃ³n podrÃ­a ser[m
[32m+[m[32mla siguiente:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 14 - DOM bÃ¡sico y atributos XHTML</title>[m
[32m+[m
[32m+[m[32mwww.librosweb.es           131[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mfunction muestraOculta(id) {[m
[32m+[m
[32m+[m[32m   var elemento = document.getElementById('contenidos_'+id);[m
[32m+[m[32m   var enlace = document.getElementById('enlace_'+id);[m
[32m+[m
[32m+[m[32m   if(elemento.style.display == "" || elemento.style.display == "block") {[m
[32m+[m[32m      elemento.style.display = "none";[m
[32m+[m[32m      enlace.innerHTML = 'Mostrar contenidos';[m
[32m+[m
[32m+[m[32m   }[m
[32m+[m[32m   else {[m
[32m+[m
[32m+[m[32m      elemento.style.display = "block";[m
[32m+[m[32m      enlace.innerHTML = 'Ocultar contenidos';[m
[32m+[m[32m   }[m
[32m+[m[32m}[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m
[32m+[m[32m<p id="contenidos_1">[1] Lorem ipsum dolor sit amet, consectetuer adipiscing[m
[32m+[m[32melit. Sed mattis enim vitae orci. Phasellus libero. Maecenas nisl arcu,[m
[32m+[m[32mconsequat congue, commodo nec, commodo ultricies, turpis. Quisque sapien nunc,[m
[32m+[m[32mposuere vitae, rutrum et, luctus at, pede. Pellentesque massa ante, ornare id,[m
[32m+[m[32maliquam vitae, ultrices porttitor, pede. Nullam sit amet nisl elementum elit[m
[32m+[m[32mconvallis malesuada. Phasellus magna sem, semper quis, faucibus ut, rhoncus[m
[32m+[m[32mnon, mi. Duis pellentesque, felis eu adipiscing ullamcorper, odio urna[m
[32m+[m[32mconsequat arcu, at posuere ante quam non dolor. Lorem ipsum dolor sit amet,[m
[32m+[m[32mconsectetuer adipiscing elit. Duis scelerisque.</p>[m
[32m+[m[32m<a id="enlace_1" href="#" onclick="muestraOculta('1'); return false;">Ocultar[m
[32m+[m[32mcontenidos</a>[m
[32m+[m
[32m+[m[32m<br/>[m
[32m+[m
[32m+[m[32m<p id="contenidos_2">[2] Lorem ipsum dolor sit amet, consectetuer adipiscing[m
[32m+[m[32melit. Sed mattis enim vitae orci. Phasellus libero. Maecenas nisl arcu,[m
[32m+[m[32mconsequat congue, commodo nec, commodo ultricies, turpis. Quisque sapien nunc,[m
[32m+[m[32mposuere vitae, rutrum et, luctus at, pede. Pellentesque massa ante, ornare id,[m
[32m+[m[32maliquam vitae, ultrices porttitor, pede. Nullam sit amet nisl elementum elit[m
[32m+[m[32mconvallis malesuada. Phasellus magna sem, semper quis, faucibus ut, rhoncus[m
[32m+[m[32mnon, mi. Duis pellentesque, felis eu adipiscing ullamcorper, odio urna[m
[32m+[m[32mconsequat arcu, at posuere ante quam non dolor. Lorem ipsum dolor sit amet,[m
[32m+[m[32mconsectetuer adipiscing elit. Duis scelerisque.</p>[m
[32m+[m[32m<a id="enlace_2" href="#" onclick="muestraOculta('2'); return false;">Ocultar[m
[32m+[m[32mcontenidos</a>[m
[32m+[m
[32m+[m[32m<br/>[m
[32m+[m[32m<p id="contenidos_3">[3] Lorem ipsum dolor sit amet, consectetuer adipiscing[m
[32m+[m[32melit. Sed mattis enim vitae orci. Phasellus libero. Maecenas nisl arcu,[m
[32m+[m[32mconsequat congue, commodo nec, commodo ultricies, turpis. Quisque sapien nunc,[m
[32m+[m[32mposuere vitae, rutrum et, luctus at, pede. Pellentesque massa ante, ornare id,[m
[32m+[m[32maliquam vitae, ultrices porttitor, pede. Nullam sit amet nisl elementum elit[m
[32m+[m[32mconvallis malesuada. Phasellus magna sem, semper quis, faucibus ut, rhoncus[m
[32m+[m[32mnon, mi. Duis pellentesque, felis eu adipiscing ullamcorper, odio urna[m
[32m+[m[32mconsequat arcu, at posuere ante quam non dolor. Lorem ipsum dolor sit amet,[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                            132[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     consectetuer adipiscing elit. Duis scelerisque.</p>[m
[32m+[m[32m     <a id="enlace_3" href="#" onclick="muestraOculta('3'); return false;">Ocultar[m
[32m+[m[32m     contenidos</a>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32mTambiÃ©n es posible solucionar el ejercicio utilizando manejadores de eventos[m
[32m+[m[32msemÃ¡nticos:[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 14 - DOM bÃ¡sico y atributos XHTML</title>[m
[32m+[m
[32m+[m[32m     <script type="text/javascript">[m
[32m+[m[32m     window.onload = function() {[m
[32m+[m
[32m+[m[32m         var enlaces = document.getElementsByTagName('a');[m
[32m+[m[32m         for(i in enlaces) {[m
[32m+[m
[32m+[m[32m            enlaces[i].onclick = muestraOculta;[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     function muestraOculta() {[m
[32m+[m[32m         var idEnlace = this.id;[m
[32m+[m[32m         var trozos = idEnlace.split('_');[m
[32m+[m[32m         var numero = trozos[1];[m
[32m+[m[32m         var parrafo = document.getElementById('contenidos_' + numero);[m
[32m+[m
[32m+[m[32m         switch(parrafo.style.display) {[m
[32m+[m[32m            case 'none':[m
[32m+[m[32m               parrafo.style.display = 'block';[m
[32m+[m[32m               this.innerHTML = 'Ocultar contenidos';[m
[32m+[m[32m               break;[m
[32m+[m[32m            case 'block':[m
[32m+[m[32m            case '':[m
[32m+[m[32m               parrafo.style.display = 'none';[m
[32m+[m[32m               this.innerHTML = 'Mostrar contenidos';[m
[32m+[m[32m               break;[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m[32m     </script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m
[32m+[m[32m     <p id="contenidos_1">[1] Lorem ipsum dolor sit amet, consectetuer adipiscing[m
[32m+[m[32m     elit. Sed mattis enim vitae orci. Phasellus libero. Maecenas nisl arcu,[m
[32m+[m[32m     consequat congue, commodo nec, commodo ultricies, turpis. Quisque sapien nunc,[m
[32m+[m[32m     posuere vitae, rutrum et, luctus at, pede. Pellentesque massa ante, ornare id,[m
[32m+[m[32m     aliquam vitae, ultrices porttitor, pede. Nullam sit amet nisl elementum elit[m
[32m+[m[32m     convallis malesuada. Phasellus magna sem, semper quis, faucibus ut, rhoncus[m
[32m+[m[32m     non, mi. Duis pellentesque, felis eu adipiscing ullamcorper, odio urna[m
[32m+[m
[32m+[m[32mwww.librosweb.es           133[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32mconsequat arcu, at posuere ante quam non dolor. Lorem ipsum dolor sit amet,[m
[32m+[m[32mconsectetuer adipiscing elit. Duis scelerisque.</p>[m
[32m+[m[32m<a id="enlace_1" href="#">Ocultar contenidos</a>[m
[32m+[m
[32m+[m[32m<br/>[m
[32m+[m
[32m+[m[32m<p id="contenidos_2">[2] Lorem ipsum dolor sit amet, consectetuer adipiscing[m
[32m+[m[32melit. Sed mattis enim vitae orci. Phasellus libero. Maecenas nisl arcu,[m
[32m+[m[32mconsequat congue, commodo nec, commodo ultricies, turpis. Quisque sapien nunc,[m
[32m+[m[32mposuere vitae, rutrum et, luctus at, pede. Pellentesque massa ante, ornare id,[m
[32m+[m[32maliquam vitae, ultrices porttitor, pede. Nullam sit amet nisl elementum elit[m
[32m+[m[32mconvallis malesuada. Phasellus magna sem, semper quis, faucibus ut, rhoncus[m
[32m+[m[32mnon, mi. Duis pellentesque, felis eu adipiscing ullamcorper, odio urna[m
[32m+[m[32mconsequat arcu, at posuere ante quam non dolor. Lorem ipsum dolor sit amet,[m
[32m+[m[32mconsectetuer adipiscing elit. Duis scelerisque.</p>[m
[32m+[m[32m<a id="enlace_2" href="#">Ocultar contenidos</a>[m
[32m+[m
[32m+[m[32m<br/>[m
[32m+[m[32m<p id="contenidos_3">[3] Lorem ipsum dolor sit amet, consectetuer adipiscing[m
[32m+[m[32melit. Sed mattis enim vitae orci. Phasellus libero. Maecenas nisl arcu,[m
[32m+[m[32mconsequat congue, commodo nec, commodo ultricies, turpis. Quisque sapien nunc,[m
[32m+[m[32mposuere vitae, rutrum et, luctus at, pede. Pellentesque massa ante, ornare id,[m
[32m+[m[32maliquam vitae, ultrices porttitor, pede. Nullam sit amet nisl elementum elit[m
[32m+[m[32mconvallis malesuada. Phasellus magna sem, semper quis, faucibus ut, rhoncus[m
[32m+[m[32mnon, mi. Duis pellentesque, felis eu adipiscing ullamcorper, odio urna[m
[32m+[m[32mconsequat arcu, at posuere ante quam non dolor. Lorem ipsum dolor sit amet,[m
[32m+[m[32mconsectetuer adipiscing elit. Duis scelerisque.</p>[m
[32m+[m[32m<a id="enlace_3" href="#">Ocultar contenidos</a>[m
[32m+[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.15. Ejercicio 15[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 15 - InformaciÃ³n sobre eventos</title>[m
[32m+[m
[32m+[m[32m<style type="text/css">[m
[32m+[m[32mbody {font-family: arial, helvetica;}[m
[32m+[m[32m#info {width:160px; border:thin solid silver; padding:.5em; position:fixed;}[m
[32m+[m[32m#info h1 {margin: 0;}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mfunction informacion(elEvento) {[m
[32m+[m
[32m+[m[32m   var evento = elEvento || window.event;[m
[32m+[m[32m   switch(evento.type) {[m
[32m+[m
[32m+[m[32m      case 'mousemove':[m
[32m+[m[32m         document.getElementById('info').style.backgroundColor = '#FFFFFF';[m
[32m+[m[32m         var ie = navigator.userAgent.toLowerCase().indexOf('msie')!=-1;[m
[32m+[m[32m         var coordenadaXrelativa, coordenadaYrelativa, coordenadaXabsoluta,[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 134[m
[32m+[m[32mIntroducciÃ³n a JavaScript            CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32mcoordenadaYabsoluta;[m
[32m+[m[32m         if(ie) {[m
[32m+[m[32m             if(document.documentElement && document.documentElement.scrollTop){[m
[32m+[m[32m                coordenadaXabsoluta = evento.clientX +[m
[32m+[m
[32m+[m[32mdocument.documentElement.scrollLeft;[m
[32m+[m[32m                coordenadaYabsoluta = evento.clientY +[m
[32m+[m
[32m+[m[32mdocument.documentElement.scrollTop;[m
[32m+[m[32m             }[m
[32m+[m[32m             else {[m
[32m+[m[32m                coordenadaXabsoluta = evento.clientX + document.body.scrollLeft;[m
[32m+[m[32m                coordenadaYabsoluta = evento.clientY + document.body.scrollTop;[m
[32m+[m[32m             }[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m         else {[m
[32m+[m
[32m+[m[32m             coordenadaXabsoluta = evento.pageX;[m
[32m+[m[32m             coordenadaYabsoluta = evento.pageY;[m
[32m+[m[32m         }[m
[32m+[m[32m         coordenadaXrelativa = evento.clientX;[m
[32m+[m[32m         coordenadaYrelativa = evento.clientY;[m
[32m+[m[32m         muestraInformacion(['RatÃ³n', 'Navegador ['+coordenadaXrelativa+',[m
[32m+[m[32m'+coordenadaYrelativa+']', 'Pagina ['+coordenadaXabsoluta+',[m
[32m+[m[32m'+coordenadaYabsoluta+']']);[m
[32m+[m[32m         break;[m
[32m+[m[32m      case 'keypress':[m
[32m+[m[32m         document.getElementById('info').style.backgroundColor = '#CCE6FF';[m
[32m+[m[32m         var caracter = evento.charCode || evento.keyCode;[m
[32m+[m[32m         var letra = String.fromCharCode(caracter);[m
[32m+[m[32m         var codigo = letra.charCodeAt(0);[m
[32m+[m[32m         muestraInformacion(['Teclado', 'CarÃ¡cter ['+letra+']', 'CÃ³digo[m
[32m+[m[32m['+codigo+']']);[m
[32m+[m[32m         break;[m
[32m+[m[32m      case 'click':[m
[32m+[m[32m         document.getElementById('info').style.backgroundColor = '#FFFFCC';[m
[32m+[m[32m         break;[m
[32m+[m[32m   }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction muestraInformacion(mensaje) {[m
[32m+[m[32m   document.getElementById("info").innerHTML = '<h1>'+mensaje[0]+'</h1>';[m
[32m+[m[32m   for(var i=1; i<mensaje.length; i++) {[m
[32m+[m[32m      document.getElementById("info").innerHTML += '<p>'+mensaje[i]+'</p>';[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdocument.onmousemove = informacion;[m
[32m+[m[32mdocument.onkeypress = informacion;[m
[32m+[m
[32m+[m[32mdocument.onclick = informacion;[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m
[32m+[m[32m<div id="info"></div>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                  135[m
[32m+[m[32mIntroducciÃ³n a JavaScript                    CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/ >[m
[32m+[m[32m<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/ >[m
[32m+[m[32m<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/ >[m
[32m+[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.16. Ejercicio 16[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 16 - InformaciÃ³n sobre eventos</title>[m
[32m+[m
[32m+[m[32m<style type="text/css">[m
[32m+[m[32mbody {font-family: arial, helvetica;}[m
[32m+[m[32m#info {width:160px; border:thin solid silver; padding:.5em; position:fixed;}[m
[32m+[m[32m#info h1 {margin: 0;}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mfunction informacion(elEvento) {[m
[32m+[m
[32m+[m[32m   var evento = elEvento || window.event;[m
[32m+[m
[32m+[m[32mvar coordenadaX = evento.clientX;[m
[32m+[m[32mvar coordenadaY = evento.clientY;[m
[32m+[m
[32m+[m[32mvar dimensiones = tamanoVentanaNavegador();[m
[32m+[m[32mvar tamanoX = dimensiones[0];[m
[32m+[m[32mvar tamanoY = dimensiones[1];[m
[32m+[m
[32m+[m[32mvar posicionHorizontal = "";[m
[32m+[m[32mvar posicionVertical = "";[m
[32m+[m
[32m+[m[32mif(coordenadaX > tamanoX/2) {[m
[32m+[m[32m   posicionHorizontal = "derecha";[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32melse {[m
[32m+[m
[32m+[m[32m   posicionHorizontal = "izquierda";[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mif(coordenadaY > tamanoY/2) {[m
[32m+[m[32m   posicionVertical = "abajo";[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32melse {[m
[32m+[m
[32m+[m[32m   posicionVertical = "arriba";[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m   muestraInformacion(['Posicion', posicionHorizontal, posicionVertical]);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction muestraInformacion(mensaje) {[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 136[m
[32m+[m[32mIntroducciÃ³n a JavaScript              CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m   document.getElementById("info").innerHTML = '<h1>'+mensaje[0]+'</h1>';[m
[32m+[m[32m   for(var i=1; i<mensaje.length; i++) {[m
[32m+[m
[32m+[m[32m      document.getElementById("info").innerHTML += '<p>'+mensaje[i]+'</p>';[m
[32m+[m[32m   }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction tamanoVentanaNavegador(){[m
[32m+[m[32m   // Adaptada de http://www.howtocreate.co.uk/tutorials/javascript/browserwindow[m
[32m+[m[32m   var dimensiones = [];[m
[32m+[m
[32m+[m[32m   if(typeof(window.innerWidth) == 'number') {[m
[32m+[m[32m      // No es IE[m
[32m+[m[32m      dimensiones = [window.innerWidth, window.innerHeight];[m
[32m+[m
[32m+[m[32m   } else if(document.documentElement && (document.documentElement.clientWidth[m
[32m+[m[32m|| document.documentElement.clientHeight)) {[m
[32m+[m
[32m+[m[32m      //IE 6 en modo estandar (no quirks)[m
[32m+[m[32m      dimensiones = [document.documentElement.clientWidth,[m
[32m+[m[32mdocument.documentElement.clientHeight];[m
[32m+[m[32m   } else if(document.body && (document.body.clientWidth ||[m
[32m+[m[32mdocument.body.clientHeight)) {[m
[32m+[m[32m      //IE en modo quirks[m
[32m+[m[32m      dimensiones = [document.body.clientWidth, document.body.clientHeight];[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   return dimensiones;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdocument.onclick = informacion;[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m
[32m+[m[32m<div id="info"></div>[m
[32m+[m
[32m+[m[32m<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/ >[m
[32m+[m[32m<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/ >[m
[32m+[m[32m<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/ >[m
[32m+[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.17. Ejercicio 17[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 17 - Limitar nÃºmero de caracteres en textarea</title>[m
[32m+[m
[32m+[m[32m<style type="text/css">[m
[32m+[m[32mbody {font-family: arial, helvetica;}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 137[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m     <script type="text/javascript">                                        138[m
[32m+[m[32m     function limita(elEvento, maximoCaracteres) {[m
[32m+[m
[32m+[m[32m         var elemento = document.getElementById("texto");[m
[32m+[m
[32m+[m[32m         // Obtener la tecla pulsada[m
[32m+[m[32m         var evento = elEvento || window.event;[m
[32m+[m[32m         var codigoCaracter = evento.charCode || evento.keyCode;[m
[32m+[m[32m         // Permitir utilizar las teclas con flecha horizontal[m
[32m+[m[32m         if(codigoCaracter == 37 || codigoCaracter == 39) {[m
[32m+[m
[32m+[m[32m            return true;[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m         // Permitir borrar con la tecla Backspace y con la tecla Supr.[m
[32m+[m[32m         if(codigoCaracter == 8 || codigoCaracter == 46) {[m
[32m+[m
[32m+[m[32m            return true;[m
[32m+[m[32m         }[m
[32m+[m[32m         else if(elemento.value.length >= maximoCaracteres ) {[m
[32m+[m
[32m+[m[32m            return false;[m
[32m+[m[32m         }[m
[32m+[m[32m         else {[m
[32m+[m
[32m+[m[32m            return true;[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     function actualizaInfo(maximoCaracteres) {[m
[32m+[m[32m         var elemento = document.getElementById("texto");[m
[32m+[m[32m         var info = document.getElementById("info");[m
[32m+[m
[32m+[m[32m         if(elemento.value.length >= maximoCaracteres ) {[m
[32m+[m[32m            info.innerHTML = "MÃ¡ximo "+maximoCaracteres+" caracteres";[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m         else {[m
[32m+[m
[32m+[m[32m            info.innerHTML = "Puedes escribir hasta[m
[32m+[m[32m     "+(maximoCaracteres-elemento.value.length)+" caracteres adicionales";[m
[32m+[m
[32m+[m[32m         }[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m     </script>[m
[32m+[m[32m     </head>[m
[32m+[m
[32m+[m[32m     <body>[m
[32m+[m
[32m+[m[32m     <div id="info">MÃ¡ximo 100 caracteres</div>[m
[32m+[m[32m     <textarea id="texto" onkeypress="return limita(event, 100);"[m
[32m+[m[32m     onkeyup="actualizaInfo(100)" rows="6" cols="30"></textarea>[m
[32m+[m
[32m+[m[32m     </body>[m
[32m+[m[32m     </html>[m
[32m+[m
[32m+[m[32m11.18. Ejercicio 18[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m
[32m+[m[32mwww.librosweb.es[m
[32m+[m[32mIntroducciÃ³n a JavaScript          CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m<head>[m
[32m+[m[32m<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m<title>Ejercicio 18 - Utilidades, Calendario</title>[m
[32m+[m
[32m+[m[32m<link rel="stylesheet" type="text/css" media="all" href="css/[m
[32m+[m[32mcalendar-estilo.css" />[m
[32m+[m
[32m+[m[32m<script type="text/javascript" src="js/calendar.js"></script>[m
[32m+[m[32m<script type="text/javascript" src="js/calendar-es.js"></script>[m
[32m+[m[32m<script type="text/javascript" src="js/calendar-setup.js"></script>[m
[32m+[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m
[32m+[m[32m<p></p>[m
[32m+[m[32m<input type="hidden" name="fecha" id="fecha" />[m
[32m+[m[32m<span style="background-color: #ffc; cursor:default; padding:.3em; border:thin[m
[32m+[m[32msolid #ff0; text-decoration:underline; color: blue;"[m
[32m+[m[32monmouseover="this.style.cursor='pointer'; this.style.cursor='hand';[m
[32m+[m[32mthis.style.backgroundColor='#ff8'; this.style.textDecoration='none';"[m
[32m+[m[32monmouseout="this.style.backgroundColor='#ffc';[m
[32m+[m[32mthis.style.textDecoration='underline';"[m
[32m+[m[32mid="fecha_usuario">[m
[32m+[m[32mPincha aquÃ­ para seleccionar la fecha[m
[32m+[m[32m</span>[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mCalendar.setup({[m
[32m+[m
[32m+[m[32m   inputField: "fecha",[m
[32m+[m[32m   ifFormat: "%d/%m/%Y",[m
[32m+[m[32m   weekNumbers: false,[m
[32m+[m[32m   displayArea: "fecha_usuario",[m
[32m+[m[32m   daFormat: "%A, %d de %B de %Y"[m
[32m+[m[32m});[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32m11.19. Ejercicio 19[m
[32m+[m
[32m+[m[32m     <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"[m
[32m+[m[32m     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[m
[32m+[m[32m     <html xmlns="http://www.w3.org/1999/xhtml">[m
[32m+[m[32m     <head>[m
[32m+[m[32m     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />[m
[32m+[m[32m     <title>Ejercicio 19 - Utilidades, Tooltip</title>[m
[32m+[m
[32m+[m[32m<script type="text/javascript" src="js/overlib.js"><!-- overLIB (c) Erik Bosrup[m
[32m+[m[32m--></script>[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32moverlib_pagedefaults(WIDTH,150,FGCOLOR,'#ffffcc',BGCOLOR,'#666666',TEXTFONT,"Arial,[m
[32m+[m[32mHelvetica, Verdana",TEXTSIZE,".8em",DELAY,250,OFFSETX,15,ABOVE);[m
[32m+[m
[32m+[m[32mwww.librosweb.es                                                                 139[m
[32m+[m[32mIntroducciÃ³n a JavaScript  CapÃ­tulo 11. Ejercicios resueltos[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body>[m
[32m+[m
[32m+[m[32m<p>Lorem ipsum dolor sit amet, <a href="#" onmouseover="return overlib('Prueba[m
[32m+[m[32mde un tooltip bÃ¡sico y muy sencillo.');" onmouseout="return nd();">consectetuer[m
[32m+[m[32madipiscing elit</a>. Etiam eget metus. Proin varius auctor tortor. Cras augue[m
[32m+[m[32mneque, porta vitae, vestibulum nec, pulvinar id, nibh. Fusce in arcu. Duis[m
[32m+[m[32mvehicula nonummy orci.</p>[m
[32m+[m
[32m+[m[32m<p>Quisque facilisis, lacus vel adipiscing tempor, neque quam tincidunt ante,[m
[32m+[m[32msed bibendum velit urna quis ipsum. Aliquam convallis justo at turpis. Sed[m
[32m+[m[32miaculis dictum neque. Praesent varius augue quis ligula. Suspendisse[m
[32m+[m[32mpotenti.</p>[m
[32m+[m
[32m+[m[32m<p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames[m
[32m+[m[32mac turpis egestas. Duis non nunc at augue ultrices viverra. Pellentesque[m
[32m+[m[32mtempus. Duis nisi ipsum, condimentum vel, accumsan non, sodales hendrerit,[m
[32m+[m[32mnisi. Aenean vel velit. Proin at massa.</p>[m
[32m+[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[32m+[m
[32m+[m[32mwww.librosweb.es           140[m
[32m+[m[32m[m
[1mdiff --git a/media-edades-familia.html b/media-edades-familia.html[m
[1mnew file mode 100644[m
[1mindex 0000000..cebd2db[m
[1m--- /dev/null[m
[1m+++ b/media-edades-familia.html[m
[36m@@ -0,0 +1,43 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>MEDIA EDADES.</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m	[32m//var  victoria = parseInt (prompt ("Informe la cantidad de victorias:"));[m
[32m+[m
[32m+[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar  miembros = parseInt (prompt ("NÃºmero de miembros: "));[m
[32m+[m	[32mvar contador = 1; //inicializador[m
[32m+[m	[32mvar totaledades = 0;[m
[32m+[m
[32m+[m	[32m while(contador <= miembros){[m
[32m+[m
[32m+[m[41m	 	[m
[32m+[m	[41m [m	[32medad = parseInt(prompt("Ingrese la edad del familiar:"));[m
[32m+[m	[41m [m	[32mtotaledades = totaledades + edad;[m
[32m+[m	[41m [m	[32mcontador++; //incremento[m
[32m+[m
[32m+[m
[32m+[m	[32m }[m
[32m+[m	[32m imprimir("La media de las edades de la familia es: " + totaledades / miembros);[m
[32m+[m	[32m imprimir("fin");[m
[32m+[m	[32m</script>[m
[32m+[m
[1mdiff --git a/num_pares.html b/num_pares.html[m
[1mnew file mode 100644[m
[1mindex 0000000..e2108d1[m
[1m--- /dev/null[m
[1m+++ b/num_pares.html[m
[36m@@ -0,0 +1,42 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>Numeros pares.</h3>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m	[32m//var  victoria = parseInt (prompt ("Informe la cantidad de victorias:"));[m
[32m+[m
[32m+[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m[41m	[m
[32m+[m	[32mvar contador = 2; //inicializador[m
[32m+[m[41m	[m
[32m+[m
[32m+[m	[32m while(contador <= 100){//condiciÃ³n[m
[32m+[m
[32m+[m	[41m [m	[32mimprimir(contador);[m
[32m+[m	[41m [m	[32mcontador = contador+2; //incremento[m
[32m+[m[41m		[m
[32m+[m[41m	[m
[32m+[m	[32m }[m
[32m+[m
[32m+[m	[32m imprimir("fin");[m
[32m+[m
[32m+[m	[32m</script>[m
[32m+[m
[1mdiff --git a/primer_test.html b/primer_test.html[m
[1mnew file mode 100644[m
[1mindex 0000000..827381f[m
[1m--- /dev/null[m
[1m+++ b/primer_test.html[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h1>Â¡mi primer programa HTML!</h1>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32mÂ¿SerÃ¡ esto realmente un programa? <a href="https://www.youtube.com/"> aqui<a/>[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32mingresa <a href="https://www.youtube.com/"> aqui<a/> para ver verdadero lenguaje de programaciÃ³n[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m[32m<script>[m[41m [m
[32m+[m[32malert("Esto si es lenguaje de programaciÃ³n.");[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/programa.html b/programa.html[m
[1mnew file mode 100644[m
[1mindex 0000000..7a017bd[m
[1m--- /dev/null[m
[1m+++ b/programa.html[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<h3>Â¿Alcohol o gasolina?</h3>[m
[32m+[m
[32m+[m[32m<br>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mfunction saltarlinea()	{[m
[32m+[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m		[32mdocument.write("<br>");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m//crear funcion imprimir que reemplaza document.write[m
[32m+[m	[32mfunction imprimir(frase){[m
[32m+[m[41m		[m
[32m+[m		[32mdocument.write(frase)[m
[32m+[m		[32msaltarlinea();[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar tanque = 40[m
[32m+[m	[32mvar gas = 480[m
[32m+[m	[32mvar kmxlt = gas/tanque[m
[32m+[m
[32m+[m		[32mimprimir("Hola mundo.");[m
[32m+[m
[32m+[m		[32mimprimir("El carro recorre " + kmxlt + " km/lt de gasolina.");[m
[32m+[m
[32m+[m	[32mvar alcohol = 300[m
[32m+[m	[32mkmxlt = alcohol/tanque[m
[32m+[m
[32m+[m		[32mimprimir("El carro recorre " + kmxlt + " km/lt de alcohol.");[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/programa2.1.html b/programa2.1.html[m
[1mnew file mode 100644[m
[1mindex 0000000..e440002[m
[1m--- /dev/null[m
[1m+++ b/programa2.1.html[m
[36m@@ -0,0 +1,59 @@[m
[32m+[m
[32m+[m[32m<canvas width="600" height="400">[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</canvas>[m
[32m+[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mfunction dibujarCuadrado(x,y,color){[m
[32m+[m
[32m+[m		[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m		[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m
[32m+[m		[32mpincel.fillStyle = color;[m
[32m+[m		[32mpincel.fillRect(x,y,50,50);[m
[32m+[m		[32mpincel.strokeStyle ="black";[m
[32m+[m		[32mpincel.strokeRect(x,y,50,50);[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m/*[m
[32m+[m
[32m+[m	[32mvar x = 0;[m
[32m+[m
[32m+[m	[32mwhile(x<600){[m
[32m+[m
[32m+[m		[32mdibujarCuadrado(x,0,"green");[m
[32m+[m		[32mdibujarCuadrado(x,50,"yellow");[m
[32m+[m		[32mdibujarCuadrado(x,100,"red");[m
[32m+[m
[32m+[m		[32mx=x+50;[m
[32m+[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m	[32m*/[m
[32m+[m
[32m+[m	[32mfor (var x = 0; x < 600; x = x + 50) {[m
[32m+[m
[32m+[m		[32mdibujarCuadrado(x,0,"green");[m
[32m+[m		[32mdibujarCuadrado(x,50,"yellow");[m
[32m+[m		[32mdibujarCuadrado(x,100,"red");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32m/*[m
[32m+[m	[32mdibujarCuadrado(0,0,"green");[m
[32m+[m	[32mdibujarCuadrado(50,0,"green");[m
[32m+[m	[32mdibujarCuadrado	(100,0,"green");[m
[32m+[m[41m	[m
[32m+[m	[32mdibujarCuadrado(0,50,"red");[m
[32m+[m	[32mdibujarCuadrado(50,50,"red");[m
[32m+[m	[32mdibujarCuadrado	(100,50,"red");[m
[32m+[m	[32m*/[m
[32m+[m[41m	[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/programa2.html b/programa2.html[m
[1mnew file mode 100644[m
[1mindex 0000000..6be1e4c[m
[1m--- /dev/null[m
[1m+++ b/programa2.html[m
[36m@@ -0,0 +1,39 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m[32m<canvas width="600" height="400">[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</canvas>[m
[32m+[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m	[m
[32m+[m	[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m	[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "lightgrey";[m
[32m+[m	[32mpincel.fillRect(0,0,600,400);[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "green";[m
[32m+[m	[32mpincel.fillRect(0,0,200,400);[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "red";[m
[32m+[m	[32mpincel.fillRect(400,0,200,400);[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "yellow";[m
[32m+[m	[32mpincel.beginPath();[m
[32m+[m	[32mpincel.moveTo(300,200);[m
[32m+[m	[32mpincel.lineTo(200,400);[m
[32m+[m	[32mpincel.lineTo(400,400);[m
[32m+[m	[32mpincel.fill();[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "blue";[m
[32m+[m	[32mpincel.beginPath();[m
[32m+[m	[32mpincel.arc(300,200,50,0,2*3.14);[m
[32m+[m	[32mpincel.fill();[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/programa3.html b/programa3.html[m
[1mnew file mode 100644[m
[1mindex 0000000..39722b9[m
[1m--- /dev/null[m
[1m+++ b/programa3.html[m
[36m@@ -0,0 +1,64 @@[m
[32m+[m[32m<canvas width="600" height="400">[m
[32m+[m[41m	[m
[32m+[m[32m</canvas>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m	[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "grey";[m
[32m+[m	[32mpincel.fillRect(0,0,600,400);[m
[32m+[m
[32m+[m	[32mvar colores = ["blue", "red", "yellow"];[m
[32m+[m	[32mvar indiceColorActual = 0;[m
[32m+[m[41m	[m
[32m+[m	[32mfunction exibirAlerta(evento){[m
[32m+[m
[32m+[m		[32mvar x = evento.pageX - pantalla.offsetLeft;[m
[32m+[m		[32mvar y = evento.pageY - pantalla.offsetTop;[m
[32m+[m		[32mconsole.log(evento);[m
[32m+[m		[32malert(x + "," + y);[m
[32m+[m
[32m+[m		[32m//alert("Usted hizo un clic");[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mfunction dibujarCirculo(evento){[m
[32m+[m
[32m+[m		[32mvar x = evento.pageX - pantalla.offsetLeft;[m
[32m+[m		[32mvar y = evento.pageY - pantalla.offsetTop;[m
[32m+[m
[32m+[m		[32mpincel.fillStyle = colores[indiceColorActual];[m
[32m+[m		[32mpincel.beginPath();[m
[32m+[m		[32mpincel.arc(x,y,10,0,2*3.14);[m
[32m+[m		[32mpincel.fill();[m
[32m+[m		[32mconsole.log(x + "," + y);[m
[32m+[m[41m		[m
[32m+[m	[32m}[m
[32m+[m	[32mpantalla.onclick = dibujarCirculo;[m
[32m+[m[41m	[m
[32m+[m
[32m+[m	[32mfunction alterarColor(){[m
[32m+[m
[32m+[m		[32mindiceColorActual++;[m
[32m+[m		[32mif (indiceColorActual>=colores.length) {[m
[32m+[m
[32m+[m			[32mindiceColorActual = 0;[m
[32m+[m		[32m}[m
[32m+[m		[32m//alert(indiceColorActual);[m
[32m+[m		[32mreturn false;[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m[41m	[m
[32m+[m
[32m+[m
[32m+[m	[32mpantalla.oncontextmenu = alterarColor;[m
[32m+[m
[32m+[m	[32m//pantalla.onclick = exibirAlerta;[m
[32m+[m[41m	[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[41m		[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/programa4.html b/programa4.html[m
[1mnew file mode 100644[m
[1mindex 0000000..8152124[m
[1m--- /dev/null[m
[1m+++ b/programa4.html[m
[36m@@ -0,0 +1,52 @@[m
[32m+[m[32m<canvas width="600" height="400">[m
[32m+[m[41m	[m
[32m+[m[32m</canvas>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m	[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "lightgrey";[m
[32m+[m	[32mpincel.fillRect(0,0,600,400);[m
[32m+[m
[32m+[m	[32mfunction dibujarCircunferencia(x, y, radio){[m
[32m+[m
[32m+[m		[32mpincel.fillStyle = "blue";[m
[32m+[m		[32mpincel.beginPath();[m
[32m+[m		[32mpincel.arc(x, y, radio, 0, 2*Math.PI);[m
[32m+[m		[32mpincel.fill();[m
[32m+[m
[32m+[m
[32m+[m	[32m}[m[41m	[m
[32m+[m
[32m+[m	[32mfunction limpiarPantalla(){[m
[32m+[m
[32m+[m		[32mpincel.clearRect(0,0,600,400);[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar x = 0;[m
[32m+[m	[32mvar sentido = 1;[m
[32m+[m
[32m+[m	[32mfunction actualizarPantalla(){[m
[32m+[m
[32m+[m[41m		[m
[32m+[m		[32mlimpiarPantalla();[m
[32m+[m		[32mif(x > 600){[m
[32m+[m
[32m+[m			[32msentido = -1;[m
[32m+[m		[32m}else if (x<0) {[m
[32m+[m			[32msentido = 1;[m
[32m+[m		[32m}[m
[32m+[m		[32mdibujarCircunferencia(x,20,10);[m
[32m+[m		[32mx = x + sentido;[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m
[32m+[m	[32msetInterval(actualizarPantalla,10);[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/programa5.html b/programa5.html[m
[1mnew file mode 100644[m
[1mindex 0000000..e8c93ef[m
[1m--- /dev/null[m
[1m+++ b/programa5.html[m
[36m@@ -0,0 +1,81 @@[m
[32m+[m[32m<canvas width="600" height="400">[m
[32m+[m[41m	[m
[32m+[m[32m</canvas>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mvar pantalla = document.querySelector("canvas");[m
[32m+[m	[32mvar pincel = pantalla.getContext("2d");[m
[32m+[m	[32mvar radio = 10;[m
[32m+[m	[32mvar xAleatorio;[m
[32m+[m	[32mvar yAleatorio;[m
[32m+[m
[32m+[m	[32mpincel.fillStyle = "lightgrey";[m
[32m+[m	[32mpincel.fillRect(0,0,600,400);[m
[32m+[m
[32m+[m	[32mfunction dibujarCircunferencia(x, y, radio, color){[m
[32m+[m
[32m+[m		[32mpincel.fillStyle = color;[m
[32m+[m		[32mpincel.beginPath();[m
[32m+[m		[32mpincel.arc(x, y, radio, 0, 2*Math.PI);[m
[32m+[m		[32mpincel.fill();[m
[32m+[m
[32m+[m
[32m+[m	[32m}[m[41m	[m
[32m+[m
[32m+[m	[32mfunction limpiarPantalla(){[m
[32m+[m
[32m+[m		[32mpincel.clearRect(0,0,600,400);[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mvar x = 0;[m
[32m+[m	[32m//var sentido = 1;[m
[32m+[m
[32m+[m[41m	[m
[32m+[m	[32mfunction disenarobjetivo(x,y){[m
[32m+[m
[32m+[m		[32mdibujarCircunferencia(x, y,radio + 20, "red");[m
[32m+[m		[32mdibujarCircunferencia(x, y,radio + 10, "white");[m
[32m+[m		[32mdibujarCircunferencia(x, y,radio, "red");[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mfunction sortearPosicion(maximo){[m
[32m+[m
[32m+[m		[32mreturn Math.floor(Math.random()*maximo);[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mfunction actualizarPantalla(){[m
[32m+[m
[32m+[m		[32mlimpiarPantalla();[m
[32m+[m		[32mvar xAleatorio = sortearPosicion (600);[m
[32m+[m		[32myAleatorio = sortearPosicion (400);[m
[32m+[m		[32mdisenarobjetivo(xAleatorio,yAleatorio);[m
[32m+[m		[32mx++;[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m
[32m+[m	[32msetInterval(actualizarPantalla,1000);[m
[32m+[m
[32m+[m	[32mfunction disparar(evento){[m
[32m+[m
[32m+[m		[32mvar x = evento.pageX - pantalla.offsetLeft;[m
[32m+[m		[32mvar y = evento.pageY - pantalla.offsetTop;[m
[32m+[m
[32m+[m		[32mif ((x < xAleatorio + radio)&&[m
[32m+[m			[32m(x > xAleatorio - radio)&&[m
[32m+[m			[32m(y < yAleatorio + radio)&&[m
[32m+[m			[32m(y > yAleatorio - radio)) {[m
[32m+[m
[32m+[m			[32malert("Tiro Certero");[m
[32m+[m		[32m}[m
[32m+[m
[32m+[m[41m		[m
[32m+[m	[32m}[m
[32m+[m
[32m+[m	[32mpantalla.onclick = disparar;[m
[32m+[m
[32m+[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
[1mdiff --git a/type.html b/type.html[m
[1mnew file mode 100644[m
[1mindex 0000000..dbaa5e9[m
[1m--- /dev/null[m
[1m+++ b/type.html[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32m<meta charset="utf-8">[m
[32m+[m
[32m+[m[32m<input/>[m
[32m+[m[32m<button> Mostrar texto escrito </button>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m
[32m+[m	[32mvar input = document.querySelector("input");[m
[32m+[m
[32m+[m
[32m+[m	[32mfuntion mostrarTexto(){[m
[32m+[m
[32m+[m		[32malert(input.value);[m
[32m+[m
[32m+[m	[32m}[m
[32m+[m[41m	[m
[32m+[m	[32mvar button = document.querySelector("button");[m
[32m+[m	[32mbutton.onclick = mostrarTexto;[m
[32m+[m[32m</script>[m
